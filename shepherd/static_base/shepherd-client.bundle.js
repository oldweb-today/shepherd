(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: InitBrowserDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitBrowserDefault", function() { return InitBrowserDefault; });
/* harmony import */ var _src_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/browser */ "./src/browser.js");


function InitBrowserDefault(reqid, opts) {
  document.addEventListener("readystatechange", function() {
    if (document.readyState != "complete") {
      return;
    }

    opts = opts || {};

    // if in iframe, notify parent of reqid
    if (window != window.parent && !opts.noNotifyParent) {
      window.parent.postMessage({"type": "reqid", "reqid": reqid}, "*");
    }

    if (!opts.on_countdown) {
      opts.on_countdown = function(seconds, countdown_text) {
        var text = document.getElementById("countdown");
        if (text) {
          text.innerText = countdown_text;
        }
      }
    }

    if (!opts.on_event) {
      opts.on_event = function(type, data) {
        if (type == "fail" || type == "expire") {
          window.location.reload();
        }
      }
    }

    if (opts.proxy_ws === undefined) {
      if (!window.location.port) {
        opts.proxy_ws = "_websockify?port=";
      }
    }

    if (opts.audio === undefined) {
      opts.audio = true;
    }

    if (opts.fill_window === undefined) {
      opts.fill_window = true;
    }

    if (opts.inactiveSecs === undefined) {
      opts.inactiveSecs = 10;
    }

    var id = opts.id || "#browser";

    return new _src_browser__WEBPACK_IMPORTED_MODULE_0__["default"](reqid, id, opts);
  });
}





/***/ }),

/***/ "./node_modules/@novnc/novnc/core/base64.js":
/*!**************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/base64.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// From: http://hg.mozilla.org/mozilla-central/raw-file/ec10630b1a54/js/src/devtools/jint/sunspider/string-base64.js



/* harmony default export */ __webpack_exports__["default"] = ({
    /* Convert data (an array of integers) to a Base64 string. */
    toBase64Table: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),
    base64Pad: '=',

    encode(data) {
        "use strict";
        let result = '';
        const length = data.length;
        const lengthpad = (length % 3);
        // Convert every three bytes to 4 ascii characters.

        for (let i = 0; i < (length - 2); i += 3) {
            result += this.toBase64Table[data[i] >> 2];
            result += this.toBase64Table[((data[i] & 0x03) << 4) + (data[i + 1] >> 4)];
            result += this.toBase64Table[((data[i + 1] & 0x0f) << 2) + (data[i + 2] >> 6)];
            result += this.toBase64Table[data[i + 2] & 0x3f];
        }

        // Convert the remaining 1 or 2 bytes, pad out to 4 characters.
        const j = length - lengthpad;
        if (lengthpad === 2) {
            result += this.toBase64Table[data[j] >> 2];
            result += this.toBase64Table[((data[j] & 0x03) << 4) + (data[j + 1] >> 4)];
            result += this.toBase64Table[(data[j + 1] & 0x0f) << 2];
            result += this.toBase64Table[64];
        } else if (lengthpad === 1) {
            result += this.toBase64Table[data[j] >> 2];
            result += this.toBase64Table[(data[j] & 0x03) << 4];
            result += this.toBase64Table[64];
            result += this.toBase64Table[64];
        }

        return result;
    },

    /* Convert Base64 data to a string */
    /* eslint-disable comma-spacing */
    toBinaryTable: [
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,62, -1,-1,-1,63,
        52,53,54,55, 56,57,58,59, 60,61,-1,-1, -1, 0,-1,-1,
        -1, 0, 1, 2,  3, 4, 5, 6,  7, 8, 9,10, 11,12,13,14,
        15,16,17,18, 19,20,21,22, 23,24,25,-1, -1,-1,-1,-1,
        -1,26,27,28, 29,30,31,32, 33,34,35,36, 37,38,39,40,
        41,42,43,44, 45,46,47,48, 49,50,51,-1, -1,-1,-1,-1
    ],
    /* eslint-enable comma-spacing */

    decode(data, offset = 0) {
        let data_length = data.indexOf('=') - offset;
        if (data_length < 0) { data_length = data.length - offset; }

        /* Every four characters is 3 resulting numbers */
        const result_length = (data_length >> 2) * 3 + Math.floor((data_length % 4) / 1.5);
        const result = new Array(result_length);

        // Convert one by one.

        let leftbits = 0; // number of bits decoded, but yet to be appended
        let leftdata = 0; // bits decoded, but yet to be appended
        for (let idx = 0, i = offset; i < data.length; i++) {
            const c = this.toBinaryTable[data.charCodeAt(i) & 0x7f];
            const padding = (data.charAt(i) === this.base64Pad);
            // Skip illegal characters and whitespace
            if (c === -1) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Illegal character code " + data.charCodeAt(i) + " at position " + i);
                continue;
            }

            // Collect data into leftdata, update bitcount
            leftdata = (leftdata << 6) | c;
            leftbits += 6;

            // If we have 8 or more bits, append 8 bits to the result
            if (leftbits >= 8) {
                leftbits -= 8;
                // Append if not padding.
                if (!padding) {
                    result[idx++] = (leftdata >> leftbits) & 0xff;
                }
                leftdata &= (1 << leftbits) - 1;
            }
        }

        // If there are any bits left, the base64 string was corrupted
        if (leftbits) {
            const err = new Error('Corrupted base64 string');
            err.name = 'Base64-Error';
            throw err;
        }

        return result;
    }
}); /* End of Base64 namespace */


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/copyrect.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/copyrect.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CopyRectDecoder; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */

class CopyRectDecoder {
    decodeRect(x, y, width, height, sock, display, depth) {
        if (sock.rQwait("COPYRECT", 4)) {
            return false;
        }

        let deltaX = sock.rQshift16();
        let deltaY = sock.rQshift16();
        display.copyImage(deltaX, deltaY, x, y, width, height);

        return true;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/hextile.js":
/*!************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/hextile.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return HextileDecoder; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */



class HextileDecoder {
    constructor() {
        this._tiles = 0;
        this._lastsubencoding = 0;
    }

    decodeRect(x, y, width, height, sock, display, depth) {
        if (this._tiles === 0) {
            this._tiles_x = Math.ceil(width / 16);
            this._tiles_y = Math.ceil(height / 16);
            this._total_tiles = this._tiles_x * this._tiles_y;
            this._tiles = this._total_tiles;
        }

        while (this._tiles > 0) {
            let bytes = 1;

            if (sock.rQwait("HEXTILE", bytes)) {
                return false;
            }

            let rQ = sock.rQ;
            let rQi = sock.rQi;

            let subencoding = rQ[rQi];  // Peek
            if (subencoding > 30) {  // Raw
                throw new Error("Illegal hextile subencoding (subencoding: " +
                            subencoding + ")");
            }

            const curr_tile = this._total_tiles - this._tiles;
            const tile_x = curr_tile % this._tiles_x;
            const tile_y = Math.floor(curr_tile / this._tiles_x);
            const tx = x + tile_x * 16;
            const ty = y + tile_y * 16;
            const tw = Math.min(16, (x + width) - tx);
            const th = Math.min(16, (y + height) - ty);

            // Figure out how much we are expecting
            if (subencoding & 0x01) {  // Raw
                bytes += tw * th * 4;
            } else {
                if (subencoding & 0x02) {  // Background
                    bytes += 4;
                }
                if (subencoding & 0x04) {  // Foreground
                    bytes += 4;
                }
                if (subencoding & 0x08) {  // AnySubrects
                    bytes++;  // Since we aren't shifting it off

                    if (sock.rQwait("HEXTILE", bytes)) {
                        return false;
                    }

                    let subrects = rQ[rQi + bytes - 1];  // Peek
                    if (subencoding & 0x10) {  // SubrectsColoured
                        bytes += subrects * (4 + 2);
                    } else {
                        bytes += subrects * 2;
                    }
                }
            }

            if (sock.rQwait("HEXTILE", bytes)) {
                return false;
            }

            // We know the encoding and have a whole tile
            rQi++;
            if (subencoding === 0) {
                if (this._lastsubencoding & 0x01) {
                    // Weird: ignore blanks are RAW
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("     Ignoring blank after RAW");
                } else {
                    display.fillRect(tx, ty, tw, th, this._background);
                }
            } else if (subencoding & 0x01) {  // Raw
                display.blitImage(tx, ty, tw, th, rQ, rQi);
                rQi += bytes - 1;
            } else {
                if (subencoding & 0x02) {  // Background
                    this._background = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }
                if (subencoding & 0x04) {  // Foreground
                    this._foreground = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }

                display.startTile(tx, ty, tw, th, this._background);
                if (subencoding & 0x08) {  // AnySubrects
                    let subrects = rQ[rQi];
                    rQi++;

                    for (let s = 0; s < subrects; s++) {
                        let color;
                        if (subencoding & 0x10) {  // SubrectsColoured
                            color = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                            rQi += 4;
                        } else {
                            color = this._foreground;
                        }
                        const xy = rQ[rQi];
                        rQi++;
                        const sx = (xy >> 4);
                        const sy = (xy & 0x0f);

                        const wh = rQ[rQi];
                        rQi++;
                        const sw = (wh >> 4) + 1;
                        const sh = (wh & 0x0f) + 1;

                        display.subTile(sx, sy, sw, sh, color);
                    }
                }
                display.finishTile();
            }
            sock.rQi = rQi;
            this._lastsubencoding = subencoding;
            this._tiles--;
        }

        return true;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/raw.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/raw.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RawDecoder; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */

class RawDecoder {
    constructor() {
        this._lines = 0;
    }

    decodeRect(x, y, width, height, sock, display, depth) {
        if (this._lines === 0) {
            this._lines = height;
        }

        const pixelSize = depth == 8 ? 1 : 4;
        const bytesPerLine = width * pixelSize;

        if (sock.rQwait("RAW", bytesPerLine)) {
            return false;
        }

        const cur_y = y + (height - this._lines);
        const curr_height = Math.min(this._lines,
                                     Math.floor(sock.rQlen / bytesPerLine));
        let data = sock.rQ;
        let index = sock.rQi;

        // Convert data if needed
        if (depth == 8) {
            const pixels = width * curr_height;
            const newdata = new Uint8Array(pixels * 4);
            for (let i = 0; i < pixels; i++) {
                newdata[i * 4 + 0] = ((data[index + i] >> 0) & 0x3) * 255 / 3;
                newdata[i * 4 + 1] = ((data[index + i] >> 2) & 0x3) * 255 / 3;
                newdata[i * 4 + 2] = ((data[index + i] >> 4) & 0x3) * 255 / 3;
                newdata[i * 4 + 4] = 0;
            }
            data = newdata;
            index = 0;
        }

        display.blitImage(x, cur_y, width, curr_height, data, index);
        sock.rQskipBytes(curr_height * bytesPerLine);
        this._lines -= curr_height;
        if (this._lines > 0) {
            return false;
        }

        return true;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/rre.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/rre.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RREDecoder; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */

class RREDecoder {
    constructor() {
        this._subrects = 0;
    }

    decodeRect(x, y, width, height, sock, display, depth) {
        if (this._subrects === 0) {
            if (sock.rQwait("RRE", 4 + 4)) {
                return false;
            }

            this._subrects = sock.rQshift32();

            let color = sock.rQshiftBytes(4);  // Background
            display.fillRect(x, y, width, height, color);
        }

        while (this._subrects > 0) {
            if (sock.rQwait("RRE", 4 + 8)) {
                return false;
            }

            let color = sock.rQshiftBytes(4);
            let sx = sock.rQshift16();
            let sy = sock.rQshift16();
            let swidth = sock.rQshift16();
            let sheight = sock.rQshift16();
            display.fillRect(x + sx, y + sy, swidth, sheight, color);

            this._subrects--;
        }

        return true;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/tight.js":
/*!**********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/tight.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TightDecoder; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _inflator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../inflator.js */ "./node_modules/@novnc/novnc/core/inflator.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * (c) 2012 Michael Tinglof, Joe Balaz, Les Piech (Mercuri.ca)
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */




class TightDecoder {
    constructor() {
        this._ctl = null;
        this._filter = null;
        this._numColors = 0;
        this._palette = new Uint8Array(1024);  // 256 * 4 (max palette size * max bytes-per-pixel)
        this._len = 0;

        this._zlibs = [];
        for (let i = 0; i < 4; i++) {
            this._zlibs[i] = new _inflator_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
        }
    }

    decodeRect(x, y, width, height, sock, display, depth) {
        if (this._ctl === null) {
            if (sock.rQwait("TIGHT compression-control", 1)) {
                return false;
            }

            this._ctl = sock.rQshift8();

            // Reset streams if the server requests it
            for (let i = 0; i < 4; i++) {
                if ((this._ctl >> i) & 1) {
                    this._zlibs[i].reset();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Reset zlib stream " + i);
                }
            }

            // Figure out filter
            this._ctl = this._ctl >> 4;
        }

        let ret;

        if (this._ctl === 0x08) {
            ret = this._fillRect(x, y, width, height,
                                 sock, display, depth);
        } else if (this._ctl === 0x09) {
            ret = this._jpegRect(x, y, width, height,
                                 sock, display, depth);
        } else if (this._ctl === 0x0A) {
            ret = this._pngRect(x, y, width, height,
                                sock, display, depth);
        } else if ((this._ctl & 0x80) == 0) {
            ret = this._basicRect(this._ctl, x, y, width, height,
                                  sock, display, depth);
        } else {
            throw new Error("Illegal tight compression received (ctl: " +
                                   this._ctl + ")");
        }

        if (ret) {
            this._ctl = null;
        }

        return ret;
    }

    _fillRect(x, y, width, height, sock, display, depth) {
        if (sock.rQwait("TIGHT", 3)) {
            return false;
        }

        const rQi = sock.rQi;
        const rQ = sock.rQ;

        display.fillRect(x, y, width, height,
                         [rQ[rQi + 2], rQ[rQi + 1], rQ[rQi]], false);
        sock.rQskipBytes(3);

        return true;
    }

    _jpegRect(x, y, width, height, sock, display, depth) {
        let data = this._readData(sock);
        if (data === null) {
            return false;
        }

        display.imageRect(x, y, "image/jpeg", data);

        return true;
    }

    _pngRect(x, y, width, height, sock, display, depth) {
        throw new Error("PNG received in standard Tight rect");
    }

    _basicRect(ctl, x, y, width, height, sock, display, depth) {
        if (this._filter === null) {
            if (ctl & 0x4) {
                if (sock.rQwait("TIGHT", 1)) {
                    return false;
                }

                this._filter = sock.rQshift8();
            } else {
                // Implicit CopyFilter
                this._filter = 0;
            }
        }

        let streamId = ctl & 0x3;

        let ret;

        switch (this._filter) {
            case 0: // CopyFilter
                ret = this._copyFilter(streamId, x, y, width, height,
                                       sock, display, depth);
                break;
            case 1: // PaletteFilter
                ret = this._paletteFilter(streamId, x, y, width, height,
                                          sock, display, depth);
                break;
            case 2: // GradientFilter
                ret = this._gradientFilter(streamId, x, y, width, height,
                                           sock, display, depth);
                break;
            default:
                throw new Error("Illegal tight filter received (ctl: " +
                                       this._filter + ")");
        }

        if (ret) {
            this._filter = null;
        }

        return ret;
    }

    _copyFilter(streamId, x, y, width, height, sock, display, depth) {
        const uncompressedSize = width * height * 3;
        let data;

        if (uncompressedSize < 12) {
            if (sock.rQwait("TIGHT", uncompressedSize)) {
                return false;
            }

            data = sock.rQshiftBytes(uncompressedSize);
        } else {
            data = this._readData(sock);
            if (data === null) {
                return false;
            }

            data = this._zlibs[streamId].inflate(data, true, uncompressedSize);
            if (data.length != uncompressedSize) {
                throw new Error("Incomplete zlib block");
            }
        }

        display.blitRgbImage(x, y, width, height, data, 0, false);

        return true;
    }

    _paletteFilter(streamId, x, y, width, height, sock, display, depth) {
        if (this._numColors === 0) {
            if (sock.rQwait("TIGHT palette", 1)) {
                return false;
            }

            const numColors = sock.rQpeek8() + 1;
            const paletteSize = numColors * 3;

            if (sock.rQwait("TIGHT palette", 1 + paletteSize)) {
                return false;
            }

            this._numColors = numColors;
            sock.rQskipBytes(1);

            sock.rQshiftTo(this._palette, paletteSize);
        }

        const bpp = (this._numColors <= 2) ? 1 : 8;
        const rowSize = Math.floor((width * bpp + 7) / 8);
        const uncompressedSize = rowSize * height;

        let data;

        if (uncompressedSize < 12) {
            if (sock.rQwait("TIGHT", uncompressedSize)) {
                return false;
            }

            data = sock.rQshiftBytes(uncompressedSize);
        } else {
            data = this._readData(sock);
            if (data === null) {
                return false;
            }

            data = this._zlibs[streamId].inflate(data, true, uncompressedSize);
            if (data.length != uncompressedSize) {
                throw new Error("Incomplete zlib block");
            }
        }

        // Convert indexed (palette based) image data to RGB
        if (this._numColors == 2) {
            this._monoRect(x, y, width, height, data, this._palette, display);
        } else {
            this._paletteRect(x, y, width, height, data, this._palette, display);
        }

        this._numColors = 0;

        return true;
    }

    _monoRect(x, y, width, height, data, palette, display) {
        // Convert indexed (palette based) image data to RGB
        // TODO: reduce number of calculations inside loop
        const dest = this._getScratchBuffer(width * height * 4);
        const w = Math.floor((width + 7) / 8);
        const w1 = Math.floor(width / 8);

        for (let y = 0; y < height; y++) {
            let dp, sp, x;
            for (x = 0; x < w1; x++) {
                for (let b = 7; b >= 0; b--) {
                    dp = (y * width + x * 8 + 7 - b) * 4;
                    sp = (data[y * w + x] >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                    dest[dp + 3] = 255;
                }
            }

            for (let b = 7; b >= 8 - width % 8; b--) {
                dp = (y * width + x * 8 + 7 - b) * 4;
                sp = (data[y * w + x] >> b & 1) * 3;
                dest[dp] = palette[sp];
                dest[dp + 1] = palette[sp + 1];
                dest[dp + 2] = palette[sp + 2];
                dest[dp + 3] = 255;
            }
        }

        display.blitRgbxImage(x, y, width, height, dest, 0, false);
    }

    _paletteRect(x, y, width, height, data, palette, display) {
        // Convert indexed (palette based) image data to RGB
        const dest = this._getScratchBuffer(width * height * 4);
        const total = width * height * 4;
        for (let i = 0, j = 0; i < total; i += 4, j++) {
            const sp = data[j] * 3;
            dest[i] = palette[sp];
            dest[i + 1] = palette[sp + 1];
            dest[i + 2] = palette[sp + 2];
            dest[i + 3] = 255;
        }

        display.blitRgbxImage(x, y, width, height, dest, 0, false);
    }

    _gradientFilter(streamId, x, y, width, height, sock, display, depth) {
        throw new Error("Gradient filter not implemented");
    }

    _readData(sock) {
        if (this._len === 0) {
            if (sock.rQwait("TIGHT", 3)) {
                return null;
            }

            let byte;

            byte = sock.rQshift8();
            this._len = byte & 0x7f;
            if (byte & 0x80) {
                byte = sock.rQshift8();
                this._len |= (byte & 0x7f) << 7;
                if (byte & 0x80) {
                    byte = sock.rQshift8();
                    this._len |= byte << 14;
                }
            }
        }

        if (sock.rQwait("TIGHT", this._len)) {
            return null;
        }

        let data = sock.rQshiftBytes(this._len);
        this._len = 0;

        return data;
    }

    _getScratchBuffer(size) {
        if (!this._scratchBuffer || (this._scratchBuffer.length < size)) {
            this._scratchBuffer = new Uint8Array(size);
        }
        return this._scratchBuffer;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/decoders/tightpng.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/decoders/tightpng.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TightPNGDecoder; });
/* harmony import */ var _tight_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tight.js */ "./node_modules/@novnc/novnc/core/decoders/tight.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2018 Samuel Mannehed for Cendio AB
 * Copyright (C) 2018 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */



class TightPNGDecoder extends _tight_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    _pngRect(x, y, width, height, sock, display, depth) {
        let data = this._readData(sock);
        if (data === null) {
            return false;
        }

        display.imageRect(x, y, "image/png", data);

        return true;
    }

    _basicRect(ctl, x, y, width, height, sock, display, depth) {
        throw new Error("BasicCompression received in TightPNG rect");
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/des.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/des.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DES; });
/*
 * Ported from Flashlight VNC ActionScript implementation:
 *     http://www.wizhelp.com/flashlight-vnc/
 *
 * Full attribution follows:
 *
 * -------------------------------------------------------------------------
 *
 * This DES class has been extracted from package Acme.Crypto for use in VNC.
 * The unnecessary odd parity code has been removed.
 *
 * These changes are:
 *  Copyright (C) 1999 AT&T Laboratories Cambridge.  All Rights Reserved.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *

 * DesCipher - the DES encryption method
 *
 * The meat of this code is by Dave Zimmerman <dzimm@widget.com>, and is:
 *
 * Copyright (c) 1996 Widget Workshop, Inc. All Rights Reserved.
 *
 * Permission to use, copy, modify, and distribute this software
 * and its documentation for NON-COMMERCIAL or COMMERCIAL purposes and
 * without fee is hereby granted, provided that this copyright notice is kept
 * intact.
 *
 * WIDGET WORKSHOP MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY
 * OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 * TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WIDGET WORKSHOP SHALL NOT BE LIABLE
 * FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR
 * DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.
 *
 * THIS SOFTWARE IS NOT DESIGNED OR INTENDED FOR USE OR RESALE AS ON-LINE
 * CONTROL EQUIPMENT IN HAZARDOUS ENVIRONMENTS REQUIRING FAIL-SAFE
 * PERFORMANCE, SUCH AS IN THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT
 * NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, DIRECT LIFE
 * SUPPORT MACHINES, OR WEAPONS SYSTEMS, IN WHICH THE FAILURE OF THE
 * SOFTWARE COULD LEAD DIRECTLY TO DEATH, PERSONAL INJURY, OR SEVERE
 * PHYSICAL OR ENVIRONMENTAL DAMAGE ("HIGH RISK ACTIVITIES").  WIDGET WORKSHOP
 * SPECIFICALLY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY OF FITNESS FOR
 * HIGH RISK ACTIVITIES.
 *
 *
 * The rest is:
 *
 * Copyright (C) 1996 by Jef Poskanzer <jef@acme.com>.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * Visit the ACME Labs Java page for up-to-date versions of this and other
 * fine Java utilities: http://www.acme.com/java/
 */

/* eslint-disable comma-spacing */

// Tables, permutations, S-boxes, etc.
const PC2 = [13,16,10,23, 0, 4, 2,27,14, 5,20, 9,22,18,11, 3,
             25, 7,15, 6,26,19,12, 1,40,51,30,36,46,54,29,39,
             50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31 ],
    totrot = [ 1, 2, 4, 6, 8,10,12,14,15,17,19,21,23,25,27,28];

const z = 0x0;
let a,b,c,d,e,f;
a=1<<16; b=1<<24; c=a|b; d=1<<2; e=1<<10; f=d|e;
const SP1 = [c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,
             z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,
             a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,
             c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];
a=1<<20; b=1<<31; c=a|b; d=1<<5; e=1<<15; f=d|e;
const SP2 = [c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,
             a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,b|d,z|z,a|e,z|f,c|e,c|z,z|f,
             z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,
             z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];
a=1<<17; b=1<<27; c=a|b; d=1<<3; e=1<<9; f=d|e;
const SP3 = [z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,
             b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,
             c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,
             b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];
a=1<<13; b=1<<23; c=a|b; d=1<<0; e=1<<7; f=d|e;
const SP4 = [c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,
             z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,
             b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,
             c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];
a=1<<25; b=1<<30; c=a|b; d=1<<8; e=1<<19; f=d|e;
const SP5 = [z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,
             a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,
             z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|f,z|d,a|z,c|e,
             c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];
a=1<<22; b=1<<29; c=a|b; d=1<<4; e=1<<14; f=d|e;
const SP6 = [b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,
             z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,
             b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,
             a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];
a=1<<21; b=1<<26; c=a|b; d=1<<1; e=1<<11; f=d|e;
const SP7 = [a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|f,
             b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,
             b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,
             z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];
a=1<<18; b=1<<28; c=a|b; d=1<<6; e=1<<12; f=d|e;
const SP8 = [b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,
             c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,
             a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,
             z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|e];

/* eslint-enable comma-spacing */

class DES {
    constructor(password) {
        this.keys = [];

        // Set the key.
        const pc1m = [], pcr = [], kn = [];

        for (let j = 0, l = 56; j < 56; ++j, l -= 8) {
            l += l < -5 ? 65 : l < -3 ? 31 : l < -1 ? 63 : l === 27 ? 35 : 0; // PC1
            const m = l & 0x7;
            pc1m[j] = ((password[l >>> 3] & (1<<m)) !== 0) ? 1: 0;
        }

        for (let i = 0; i < 16; ++i) {
            const m = i << 1;
            const n = m + 1;
            kn[m] = kn[n] = 0;
            for (let o = 28; o < 59; o += 28) {
                for (let j = o - 28; j < o; ++j) {
                    const l = j + totrot[i];
                    pcr[j] = l < o ? pc1m[l] : pc1m[l - 28];
                }
            }
            for (let j = 0; j < 24; ++j) {
                if (pcr[PC2[j]] !== 0) {
                    kn[m] |= 1 << (23 - j);
                }
                if (pcr[PC2[j + 24]] !== 0) {
                    kn[n] |= 1 << (23 - j);
                }
            }
        }

        // cookey
        for (let i = 0, rawi = 0, KnLi = 0; i < 16; ++i) {
            const raw0 = kn[rawi++];
            const raw1 = kn[rawi++];
            this.keys[KnLi] = (raw0 & 0x00fc0000) << 6;
            this.keys[KnLi] |= (raw0 & 0x00000fc0) << 10;
            this.keys[KnLi] |= (raw1 & 0x00fc0000) >>> 10;
            this.keys[KnLi] |= (raw1 & 0x00000fc0) >>> 6;
            ++KnLi;
            this.keys[KnLi] = (raw0 & 0x0003f000) << 12;
            this.keys[KnLi] |= (raw0 & 0x0000003f) << 16;
            this.keys[KnLi] |= (raw1 & 0x0003f000) >>> 4;
            this.keys[KnLi] |= (raw1 & 0x0000003f);
            ++KnLi;
        }
    }

    // Encrypt 8 bytes of text
    enc8(text) {
        const b = text.slice();
        let i = 0, l, r, x; // left, right, accumulator

        // Squash 8 bytes to 2 ints
        l = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];
        r = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];

        x = ((l >>> 4) ^ r) & 0x0f0f0f0f;
        r ^= x;
        l ^= (x << 4);
        x = ((l >>> 16) ^ r) & 0x0000ffff;
        r ^= x;
        l ^= (x << 16);
        x = ((r >>> 2) ^ l) & 0x33333333;
        l ^= x;
        r ^= (x << 2);
        x = ((r >>> 8) ^ l) & 0x00ff00ff;
        l ^= x;
        r ^= (x << 8);
        r = (r << 1) | ((r >>> 31) & 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 1) | ((l >>> 31) & 1);

        for (let i = 0, keysi = 0; i < 8; ++i) {
            x = (r << 28) | (r >>> 4);
            x ^= this.keys[keysi++];
            let fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = r ^ this.keys[keysi++];
            fval |= SP8[x & 0x3f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            l ^= fval;
            x = (l << 28) | (l >>> 4);
            x ^= this.keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = l ^ this.keys[keysi++];
            fval |= SP8[x & 0x0000003f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            r ^= fval;
        }

        r = (r << 31) | (r >>> 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 31) | (l >>> 1);
        x = ((l >>> 8) ^ r) & 0x00ff00ff;
        r ^= x;
        l ^= (x << 8);
        x = ((l >>> 2) ^ r) & 0x33333333;
        r ^= x;
        l ^= (x << 2);
        x = ((r >>> 16) ^ l) & 0x0000ffff;
        l ^= x;
        r ^= (x << 16);
        x = ((r >>> 4) ^ l) & 0x0f0f0f0f;
        l ^= x;
        r ^= (x << 4);

        // Spread ints to bytes
        x = [r, l];
        for (i = 0; i < 8; i++) {
            b[i] = (x[i>>>2] >>> (8 * (3 - (i % 4)))) % 256;
            if (b[i] < 0) { b[i] += 256; } // unsigned
        }
        return b;
    }

    // Encrypt 16 bytes of text using passwd as key
    encrypt(t) {
        return this.enc8(t.slice(0, 8)).concat(this.enc8(t.slice(8, 16)));
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/display.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/display.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Display; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64.js */ "./node_modules/@novnc/novnc/core/base64.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */





class Display {
    constructor(target) {
        this._drawCtx = null;
        this._c_forceCanvas = false;

        this._renderQ = [];  // queue drawing actions for in-oder rendering
        this._flushing = false;

        // the full frame buffer (logical canvas) size
        this._fb_width = 0;
        this._fb_height = 0;

        this._prevDrawStyle = "";
        this._tile = null;
        this._tile16x16 = null;
        this._tile_x = 0;
        this._tile_y = 0;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Display.constructor");

        // The visible canvas
        this._target = target;

        if (!this._target) {
            throw new Error("Target must be set");
        }

        if (typeof this._target === 'string') {
            throw new Error('target must be a DOM element');
        }

        if (!this._target.getContext) {
            throw new Error("no getContext method");
        }

        this._targetCtx = this._target.getContext('2d');

        // the visible canvas viewport (i.e. what actually gets seen)
        this._viewportLoc = { 'x': 0, 'y': 0, 'w': this._target.width, 'h': this._target.height };

        // The hidden canvas, where we do the actual rendering
        this._backbuffer = document.createElement('canvas');
        this._drawCtx = this._backbuffer.getContext('2d');

        this._damageBounds = { left: 0, top: 0,
                               right: this._backbuffer.width,
                               bottom: this._backbuffer.height };

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("User Agent: " + navigator.userAgent);

        this.clear();

        // Check canvas features
        if (!('createImageData' in this._drawCtx)) {
            throw new Error("Canvas does not support createImageData");
        }

        this._tile16x16 = this._drawCtx.createImageData(16, 16);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Display.constructor");

        // ===== PROPERTIES =====

        this._scale = 1.0;
        this._clipViewport = false;
        this.logo = null;

        // ===== EVENT HANDLERS =====

        this.onflush = () => {}; // A flush request has finished
    }

    // ===== PROPERTIES =====

    get scale() { return this._scale; }
    set scale(scale) {
        this._rescale(scale);
    }

    get clipViewport() { return this._clipViewport; }
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        // May need to readjust the viewport dimensions
        const vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    }

    get width() {
        return this._fb_width;
    }

    get height() {
        return this._fb_height;
    }

    // ===== PUBLIC METHODS =====

    viewportChangePos(deltaX, deltaY) {
        const vp = this._viewportLoc;
        deltaX = Math.floor(deltaX);
        deltaY = Math.floor(deltaY);

        if (!this._clipViewport) {
            deltaX = -vp.w;  // clamped later of out of bounds
            deltaY = -vp.h;
        }

        const vx2 = vp.x + vp.w - 1;
        const vy2 = vp.y + vp.h - 1;

        // Position change

        if (deltaX < 0 && vp.x + deltaX < 0) {
            deltaX = -vp.x;
        }
        if (vx2 + deltaX >= this._fb_width) {
            deltaX -= vx2 + deltaX - this._fb_width + 1;
        }

        if (vp.y + deltaY < 0) {
            deltaY = -vp.y;
        }
        if (vy2 + deltaY >= this._fb_height) {
            deltaY -= (vy2 + deltaY - this._fb_height + 1);
        }

        if (deltaX === 0 && deltaY === 0) {
            return;
        }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("viewportChange deltaX: " + deltaX + ", deltaY: " + deltaY);

        vp.x += deltaX;
        vp.y += deltaY;

        this._damage(vp.x, vp.y, vp.w, vp.h);

        this.flip();
    }

    viewportChangeSize(width, height) {

        if (!this._clipViewport ||
            typeof(width) === "undefined" ||
            typeof(height) === "undefined") {

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Setting viewport to full display region");
            width = this._fb_width;
            height = this._fb_height;
        }

        width = Math.floor(width);
        height = Math.floor(height);

        if (width > this._fb_width) {
            width = this._fb_width;
        }
        if (height > this._fb_height) {
            height = this._fb_height;
        }

        const vp = this._viewportLoc;
        if (vp.w !== width || vp.h !== height) {
            vp.w = width;
            vp.h = height;

            const canvas = this._target;
            canvas.width = width;
            canvas.height = height;

            // The position might need to be updated if we've grown
            this.viewportChangePos(0, 0);

            this._damage(vp.x, vp.y, vp.w, vp.h);
            this.flip();

            // Update the visible size of the target canvas
            this._rescale(this._scale);
        }
    }

    absX(x) {
        if (this._scale === 0) {
            return 0;
        }
        return x / this._scale + this._viewportLoc.x;
    }

    absY(y) {
        if (this._scale === 0) {
            return 0;
        }
        return y / this._scale + this._viewportLoc.y;
    }

    resize(width, height) {
        this._prevDrawStyle = "";

        this._fb_width = width;
        this._fb_height = height;

        const canvas = this._backbuffer;
        if (canvas.width !== width || canvas.height !== height) {

            // We have to save the canvas data since changing the size will clear it
            let saveImg = null;
            if (canvas.width > 0 && canvas.height > 0) {
                saveImg = this._drawCtx.getImageData(0, 0, canvas.width, canvas.height);
            }

            if (canvas.width !== width) {
                canvas.width = width;
            }
            if (canvas.height !== height) {
                canvas.height = height;
            }

            if (saveImg) {
                this._drawCtx.putImageData(saveImg, 0, 0);
            }
        }

        // Readjust the viewport as it may be incorrectly sized
        // and positioned
        const vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    }

    // Track what parts of the visible canvas that need updating
    _damage(x, y, w, h) {
        if (x < this._damageBounds.left) {
            this._damageBounds.left = x;
        }
        if (y < this._damageBounds.top) {
            this._damageBounds.top = y;
        }
        if ((x + w) > this._damageBounds.right) {
            this._damageBounds.right = x + w;
        }
        if ((y + h) > this._damageBounds.bottom) {
            this._damageBounds.bottom = y + h;
        }
    }

    // Update the visible canvas with the contents of the
    // rendering canvas
    flip(from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'flip'
            });
        } else {
            let x = this._damageBounds.left;
            let y = this._damageBounds.top;
            let w = this._damageBounds.right - x;
            let h = this._damageBounds.bottom - y;

            let vx = x - this._viewportLoc.x;
            let vy = y - this._viewportLoc.y;

            if (vx < 0) {
                w += vx;
                x -= vx;
                vx = 0;
            }
            if (vy < 0) {
                h += vy;
                y -= vy;
                vy = 0;
            }

            if ((vx + w) > this._viewportLoc.w) {
                w = this._viewportLoc.w - vx;
            }
            if ((vy + h) > this._viewportLoc.h) {
                h = this._viewportLoc.h - vy;
            }

            if ((w > 0) && (h > 0)) {
                // FIXME: We may need to disable image smoothing here
                //        as well (see copyImage()), but we haven't
                //        noticed any problem yet.
                this._targetCtx.drawImage(this._backbuffer,
                                          x, y, w, h,
                                          vx, vy, w, h);
            }

            this._damageBounds.left = this._damageBounds.top = 65535;
            this._damageBounds.right = this._damageBounds.bottom = 0;
        }
    }

    clear() {
        if (this._logo) {
            this.resize(this._logo.width, this._logo.height);
            this.imageRect(0, 0, this._logo.type, this._logo.data);
        } else {
            this.resize(240, 20);
            this._drawCtx.clearRect(0, 0, this._fb_width, this._fb_height);
        }
        this.flip();
    }

    pending() {
        return this._renderQ.length > 0;
    }

    flush() {
        if (this._renderQ.length === 0) {
            this.onflush();
        } else {
            this._flushing = true;
        }
    }

    fillRect(x, y, width, height, color, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'fill',
                'x': x,
                'y': y,
                'width': width,
                'height': height,
                'color': color
            });
        } else {
            this._setFillColor(color);
            this._drawCtx.fillRect(x, y, width, height);
            this._damage(x, y, width, height);
        }
    }

    copyImage(old_x, old_y, new_x, new_y, w, h, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'copy',
                'old_x': old_x,
                'old_y': old_y,
                'x': new_x,
                'y': new_y,
                'width': w,
                'height': h,
            });
        } else {
            // Due to this bug among others [1] we need to disable the image-smoothing to
            // avoid getting a blur effect when copying data.
            //
            // 1. https://bugzilla.mozilla.org/show_bug.cgi?id=1194719
            //
            // We need to set these every time since all properties are reset
            // when the the size is changed
            this._drawCtx.mozImageSmoothingEnabled = false;
            this._drawCtx.webkitImageSmoothingEnabled = false;
            this._drawCtx.msImageSmoothingEnabled = false;
            this._drawCtx.imageSmoothingEnabled = false;

            this._drawCtx.drawImage(this._backbuffer,
                                    old_x, old_y, w, h,
                                    new_x, new_y, w, h);
            this._damage(new_x, new_y, w, h);
        }
    }

    imageRect(x, y, mime, arr) {
        const img = new Image();
        img.src = "data: " + mime + ";base64," + _base64_js__WEBPACK_IMPORTED_MODULE_1__["default"].encode(arr);
        this._renderQ_push({
            'type': 'img',
            'img': img,
            'x': x,
            'y': y
        });
    }

    // start updating a tile
    startTile(x, y, width, height, color) {
        this._tile_x = x;
        this._tile_y = y;
        if (width === 16 && height === 16) {
            this._tile = this._tile16x16;
        } else {
            this._tile = this._drawCtx.createImageData(width, height);
        }

        const red = color[2];
        const green = color[1];
        const blue = color[0];

        const data = this._tile.data;
        for (let i = 0; i < width * height * 4; i += 4) {
            data[i] = red;
            data[i + 1] = green;
            data[i + 2] = blue;
            data[i + 3] = 255;
        }
    }

    // update sub-rectangle of the current tile
    subTile(x, y, w, h, color) {
        const red = color[2];
        const green = color[1];
        const blue = color[0];
        const xend = x + w;
        const yend = y + h;

        const data = this._tile.data;
        const width = this._tile.width;
        for (let j = y; j < yend; j++) {
            for (let i = x; i < xend; i++) {
                const p = (i + (j * width)) * 4;
                data[p] = red;
                data[p + 1] = green;
                data[p + 2] = blue;
                data[p + 3] = 255;
            }
        }
    }

    // draw the current tile to the screen
    finishTile() {
        this._drawCtx.putImageData(this._tile, this._tile_x, this._tile_y);
        this._damage(this._tile_x, this._tile_y,
                     this._tile.width, this._tile.height);
    }

    blitImage(x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            const new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blit',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._bgrxImageData(x, y, width, height, arr, offset);
        }
    }

    blitRgbImage(x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            const new_arr = new Uint8Array(width * height * 3);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgb',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbImageData(x, y, width, height, arr, offset);
        }
    }

    blitRgbxImage(x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            const new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgbx',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbxImageData(x, y, width, height, arr, offset);
        }
    }

    drawImage(img, x, y) {
        this._drawCtx.drawImage(img, x, y);
        this._damage(x, y, img.width, img.height);
    }

    autoscale(containerWidth, containerHeight) {
        let scaleRatio;

        if (containerWidth === 0 || containerHeight === 0) {
            scaleRatio = 0;

        } else {

            const vp = this._viewportLoc;
            const targetAspectRatio = containerWidth / containerHeight;
            const fbAspectRatio = vp.w / vp.h;

            if (fbAspectRatio >= targetAspectRatio) {
                scaleRatio = containerWidth / vp.w;
            } else {
                scaleRatio = containerHeight / vp.h;
            }
        }

        this._rescale(scaleRatio);
    }

    // ===== PRIVATE METHODS =====

    _rescale(factor) {
        this._scale = factor;
        const vp = this._viewportLoc;

        // NB(directxman12): If you set the width directly, or set the
        //                   style width to a number, the canvas is cleared.
        //                   However, if you set the style width to a string
        //                   ('NNNpx'), the canvas is scaled without clearing.
        const width = factor * vp.w + 'px';
        const height = factor * vp.h + 'px';

        if ((this._target.style.width !== width) ||
            (this._target.style.height !== height)) {
            this._target.style.width = width;
            this._target.style.height = height;
        }
    }

    _setFillColor(color) {
        const newStyle = 'rgb(' + color[2] + ',' + color[1] + ',' + color[0] + ')';
        if (newStyle !== this._prevDrawStyle) {
            this._drawCtx.fillStyle = newStyle;
            this._prevDrawStyle = newStyle;
        }
    }

    _rgbImageData(x, y, width, height, arr, offset) {
        const img = this._drawCtx.createImageData(width, height);
        const data = img.data;
        for (let i = 0, j = offset; i < width * height * 4; i += 4, j += 3) {
            data[i]     = arr[j];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j + 2];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    }

    _bgrxImageData(x, y, width, height, arr, offset) {
        const img = this._drawCtx.createImageData(width, height);
        const data = img.data;
        for (let i = 0, j = offset; i < width * height * 4; i += 4, j += 4) {
            data[i]     = arr[j + 2];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    }

    _rgbxImageData(x, y, width, height, arr, offset) {
        // NB(directxman12): arr must be an Type Array view
        let img;
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["supportsImageMetadata"]) {
            img = new ImageData(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4), width, height);
        } else {
            img = this._drawCtx.createImageData(width, height);
            img.data.set(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4));
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    }

    _renderQ_push(action) {
        this._renderQ.push(action);
        if (this._renderQ.length === 1) {
            // If this can be rendered immediately it will be, otherwise
            // the scanner will wait for the relevant event
            this._scan_renderQ();
        }
    }

    _resume_renderQ() {
        // "this" is the object that is ready, not the
        // display object
        this.removeEventListener('load', this._noVNC_display._resume_renderQ);
        this._noVNC_display._scan_renderQ();
    }

    _scan_renderQ() {
        let ready = true;
        while (ready && this._renderQ.length > 0) {
            const a = this._renderQ[0];
            switch (a.type) {
                case 'flip':
                    this.flip(true);
                    break;
                case 'copy':
                    this.copyImage(a.old_x, a.old_y, a.x, a.y, a.width, a.height, true);
                    break;
                case 'fill':
                    this.fillRect(a.x, a.y, a.width, a.height, a.color, true);
                    break;
                case 'blit':
                    this.blitImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgb':
                    this.blitRgbImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgbx':
                    this.blitRgbxImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'img':
                    if (a.img.complete) {
                        this.drawImage(a.img, a.x, a.y);
                    } else {
                        a.img._noVNC_display = this;
                        a.img.addEventListener('load', this._resume_renderQ);
                        // We need to wait for this image to 'load'
                        // to keep things in-order
                        ready = false;
                    }
                    break;
            }

            if (ready) {
                this._renderQ.shift();
            }
        }

        if (this._renderQ.length === 0 && this._flushing) {
            this._flushing = false;
            this.onflush();
        }
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/encodings.js":
/*!*****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/encodings.js ***!
  \*****************************************************/
/*! exports provided: encodings, encodingName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodings", function() { return encodings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodingName", function() { return encodingName; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

const encodings = {
    encodingRaw: 0,
    encodingCopyRect: 1,
    encodingRRE: 2,
    encodingHextile: 5,
    encodingTight: 7,
    encodingTightPNG: -260,

    pseudoEncodingQualityLevel9: -23,
    pseudoEncodingQualityLevel0: -32,
    pseudoEncodingDesktopSize: -223,
    pseudoEncodingLastRect: -224,
    pseudoEncodingCursor: -239,
    pseudoEncodingQEMUExtendedKeyEvent: -258,
    pseudoEncodingExtendedDesktopSize: -308,
    pseudoEncodingXvp: -309,
    pseudoEncodingFence: -312,
    pseudoEncodingContinuousUpdates: -313,
    pseudoEncodingCompressLevel9: -247,
    pseudoEncodingCompressLevel0: -256,
};

function encodingName(num) {
    switch (num) {
        case encodings.encodingRaw:      return "Raw";
        case encodings.encodingCopyRect: return "CopyRect";
        case encodings.encodingRRE:      return "RRE";
        case encodings.encodingHextile:  return "Hextile";
        case encodings.encodingTight:    return "Tight";
        case encodings.encodingTightPNG: return "TightPNG";
        default:                         return "[unknown encoding " + num + "]";
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/inflator.js":
/*!****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/inflator.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Inflate; });
/* harmony import */ var _vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/inflate.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js");
/* harmony import */ var _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/zstream.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js");



class Inflate {
    constructor() {
        this.strm = new _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.chunkSize = 1024 * 10 * 10;
        this.strm.output = new Uint8Array(this.chunkSize);
        this.windowBits = 5;

        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateInit"])(this.strm, this.windowBits);
    }

    inflate(data, flush, expected) {
        this.strm.input = data;
        this.strm.avail_in = this.strm.input.length;
        this.strm.next_in = 0;
        this.strm.next_out = 0;

        // resize our output buffer if it's too small
        // (we could just use multiple chunks, but that would cause an extra
        // allocation each time to flatten the chunks)
        if (expected > this.chunkSize) {
            this.chunkSize = expected;
            this.strm.output = new Uint8Array(this.chunkSize);
        }

        this.strm.avail_out = this.chunkSize;

        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflate"])(this.strm, flush);

        return new Uint8Array(this.strm.output.buffer, 0, this.strm.next_out);
    }

    reset() {
        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateReset"])(this.strm);
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/domkeytable.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/domkeytable.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */



/*
 * Mapping between HTML key values and VNC/X11 keysyms for "special"
 * keys that cannot be handled via their Unicode codepoint.
 *
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

const DOMKeyTable = {};

function addStandard(key, standard) {
    if (standard === undefined) throw new Error("Undefined keysym for key \"" + key + "\"");
    if (key in DOMKeyTable) throw new Error("Duplicate entry for key \"" + key + "\"");
    DOMKeyTable[key] = [standard, standard, standard, standard];
}

function addLeftRight(key, left, right) {
    if (left === undefined) throw new Error("Undefined keysym for key \"" + key + "\"");
    if (right === undefined) throw new Error("Undefined keysym for key \"" + key + "\"");
    if (key in DOMKeyTable) throw new Error("Duplicate entry for key \"" + key + "\"");
    DOMKeyTable[key] = [left, left, right, left];
}

function addNumpad(key, standard, numpad) {
    if (standard === undefined) throw new Error("Undefined keysym for key \"" + key + "\"");
    if (numpad === undefined) throw new Error("Undefined keysym for key \"" + key + "\"");
    if (key in DOMKeyTable) throw new Error("Duplicate entry for key \"" + key + "\"");
    DOMKeyTable[key] = [standard, standard, standard, numpad];
}

// 2.2. Modifier Keys

addLeftRight("Alt", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_R);
addStandard("AltGraph", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Level3_Shift);
addStandard("CapsLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Caps_Lock);
addLeftRight("Control", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_R);
// - Fn
// - FnLock
addLeftRight("Hyper", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addLeftRight("Meta", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addStandard("NumLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Num_Lock);
addStandard("ScrollLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Scroll_Lock);
addLeftRight("Shift", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_R);
addLeftRight("Super", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
// - Symbol
// - SymbolLock

// 2.3. Whitespace Keys

addNumpad("Enter", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Return, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Enter);
addStandard("Tab", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Tab);
addNumpad(" ", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_space, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Space);

// 2.4. Navigation Keys

addNumpad("ArrowDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Down, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Down);
addNumpad("ArrowUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Up, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Up);
addNumpad("ArrowLeft", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Left, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Left);
addNumpad("ArrowRight", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Right, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Right);
addNumpad("End", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_End, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_End);
addNumpad("Home", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Home, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Home);
addNumpad("PageDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Next, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Next);
addNumpad("PageUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Prior, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Prior);

// 2.5. Editing Keys

addStandard("Backspace", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_BackSpace);
addNumpad("Clear", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Clear, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Begin);
addStandard("Copy", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Copy);
// - CrSel
addStandard("Cut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Cut);
addNumpad("Delete", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Delete, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Delete);
// - EraseEof
// - ExSel
addNumpad("Insert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Insert, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Insert);
addStandard("Paste", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Paste);
addStandard("Redo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Redo);
addStandard("Undo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Undo);

// 2.6. UI Keys

// - Accept
// - Again (could just be XK_Redo)
// - Attn
addStandard("Cancel", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Cancel);
addStandard("ContextMenu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Menu);
addStandard("Escape", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Escape);
addStandard("Execute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Execute);
addStandard("Find", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Find);
addStandard("Help", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Help);
addStandard("Pause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Pause);
// - Play
// - Props
addStandard("Select", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Select);
addStandard("ZoomIn", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomIn);
addStandard("ZoomOut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomOut);

// 2.7. Device Keys

addStandard("BrightnessDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessDown);
addStandard("BrightnessUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessUp);
addStandard("Eject", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Eject);
addStandard("LogOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_LogOff);
addStandard("Power", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerOff);
addStandard("PowerOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerDown);
addStandard("PrintScreen", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Hibernate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Hibernate);
addStandard("Standby", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Standby);
addStandard("WakeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WakeUp);

// 2.8. IME and Composition Keys

addStandard("AllCandidates", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_MultipleCandidate);
addStandard("Alphanumeric", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_Shift); // could also be _Eisu_Toggle
addStandard("CodeInput", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Codeinput);
addStandard("Compose", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Multi_key);
addStandard("Convert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Henkan);
// - Dead
// - FinalMode
addStandard("GroupFirst", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_First_Group);
addStandard("GroupLast", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Last_Group);
addStandard("GroupNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Next_Group);
addStandard("GroupPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Prev_Group);
// - ModeChange (XK_Mode_switch is often used for AltGr)
// - NextCandidate
addStandard("NonConvert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Muhenkan);
addStandard("PreviousCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_PreviousCandidate);
// - Process
addStandard("SingleCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_SingleCandidate);
addStandard("HangulMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul);
addStandard("HanjaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Hanja);
addStandard("JunjuaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Jeonja);
addStandard("Eisu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_toggle);
addStandard("Hankaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hankaku);
addStandard("Hiragana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana);
addStandard("HiraganaKatakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana_Katakana);
addStandard("KanaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kana_Shift); // could also be _Kana_Lock
addStandard("KanjiMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kanji);
addStandard("Katakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Katakana);
addStandard("Romaji", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Romaji);
addStandard("Zenkaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku);
addStandard("ZenkakuHanaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku_Hankaku);

// 2.9. General-Purpose Function Keys

addStandard("F1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F1);
addStandard("F2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F2);
addStandard("F3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F3);
addStandard("F4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F4);
addStandard("F5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F5);
addStandard("F6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F6);
addStandard("F7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F7);
addStandard("F8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F8);
addStandard("F9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F9);
addStandard("F10", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F10);
addStandard("F11", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F11);
addStandard("F12", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F12);
addStandard("F13", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F13);
addStandard("F14", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F14);
addStandard("F15", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F15);
addStandard("F16", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F16);
addStandard("F17", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F17);
addStandard("F18", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F18);
addStandard("F19", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F19);
addStandard("F20", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F20);
addStandard("F21", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F21);
addStandard("F22", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F22);
addStandard("F23", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F23);
addStandard("F24", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F24);
addStandard("F25", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F25);
addStandard("F26", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F26);
addStandard("F27", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F27);
addStandard("F28", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F28);
addStandard("F29", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F29);
addStandard("F30", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F30);
addStandard("F31", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F31);
addStandard("F32", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F32);
addStandard("F33", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F33);
addStandard("F34", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F34);
addStandard("F35", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F35);
// - Soft1...

// 2.10. Multimedia Keys

// - ChannelDown
// - ChannelUp
addStandard("Close", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Close);
addStandard("MailForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MailForward);
addStandard("MailReply", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Reply);
addStandard("MainSend", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Send);
addStandard("MediaFastForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioForward);
addStandard("MediaPause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPause);
addStandard("MediaPlay", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPlay);
addStandard("MediaRecord", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRecord);
addStandard("MediaRewind", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRewind);
addStandard("MediaStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioStop);
addStandard("MediaTrackNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioNext);
addStandard("MediaTrackPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPrev);
addStandard("New", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_New);
addStandard("Open", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Open);
addStandard("Print", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Save", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Save);
addStandard("SpellCheck", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Spell);

// 2.11. Multimedia Numpad Keys

// - Key11
// - Key12

// 2.12. Audio Keys

// - AudioBalanceLeft
// - AudioBalanceRight
// - AudioBassDown
// - AudioBassBoostDown
// - AudioBassBoostToggle
// - AudioBassBoostUp
// - AudioBassUp
// - AudioFaderFront
// - AudioFaderRear
// - AudioSurroundModeNext
// - AudioTrebleDown
// - AudioTrebleUp
addStandard("AudioVolumeDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioLowerVolume);
addStandard("AudioVolumeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRaiseVolume);
addStandard("AudioVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMute);
// - MicrophoneToggle
// - MicrophoneVolumeDown
// - MicrophoneVolumeUp
addStandard("MicrophoneVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMicMute);

// 2.13. Speech Keys

// - SpeechCorrectionList
// - SpeechInputToggle

// 2.14. Application Keys

addStandard("LaunchCalculator", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calculator);
addStandard("LaunchCalendar", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calendar);
addStandard("LaunchMail", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Mail);
addStandard("LaunchMediaPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMedia);
addStandard("LaunchMusicPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Music);
addStandard("LaunchMyComputer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MyComputer);
addStandard("LaunchPhone", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Phone);
addStandard("LaunchScreenSaver", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ScreenSaver);
addStandard("LaunchSpreadsheet", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Excel);
addStandard("LaunchWebBrowser", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WWW);
addStandard("LaunchWebCam", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WebCam);
addStandard("LaunchWordProcessor", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Word);

// 2.15. Browser Keys

addStandard("BrowserBack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Back);
addStandard("BrowserFavorites", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Favorites);
addStandard("BrowserForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Forward);
addStandard("BrowserHome", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_HomePage);
addStandard("BrowserRefresh", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Refresh);
addStandard("BrowserSearch", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Search);
addStandard("BrowserStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Stop);

// 2.16. Mobile Phone Keys

// - A whole bunch...

// 2.17. TV Keys

// - A whole bunch...

// 2.18. Media Controller Keys

// - A whole bunch...
addStandard("Dimmer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_BrightnessAdjust);
addStandard("MediaAudioTrack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioCycleTrack);
addStandard("RandomToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRandomPlay);
addStandard("SplitScreenToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_SplitScreen);
addStandard("Subtitle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Subtitle);
addStandard("VideoModeNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Next_VMode);

// Extra: Numpad

addNumpad("=", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_equal, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Equal);
addNumpad("+", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_plus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Add);
addNumpad("-", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_minus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Subtract);
addNumpad("*", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_asterisk, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Multiply);
addNumpad("/", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_slash, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Divide);
addNumpad(".", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_period, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Decimal);
addNumpad(",", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_comma, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Separator);
addNumpad("0", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_0, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_0);
addNumpad("1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_1, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_1);
addNumpad("2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_2, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_2);
addNumpad("3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_3, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_3);
addNumpad("4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_4, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_4);
addNumpad("5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_5, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_5);
addNumpad("6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_6, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_6);
addNumpad("7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_7, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_7);
addNumpad("8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_8, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_8);
addNumpad("9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_9, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_9);

/* harmony default export */ __webpack_exports__["default"] = (DOMKeyTable);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/fixedkeys.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/fixedkeys.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Fallback mapping between HTML key codes (physical keys) and
 * HTML key values. This only works for keys that don't vary
 * between layouts. We also omit those who manage fine by mapping the
 * Unicode representation.
 *
 * See https://www.w3.org/TR/uievents-code/ for possible codes.
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

/* eslint-disable key-spacing */

/* harmony default export */ __webpack_exports__["default"] = ({

// 3.1.1.1. Writing System Keys

    'Backspace':        'Backspace',

// 3.1.1.2. Functional Keys

    'AltLeft':          'Alt',
    'AltRight':         'Alt', // This could also be 'AltGraph'
    'CapsLock':         'CapsLock',
    'ContextMenu':      'ContextMenu',
    'ControlLeft':      'Control',
    'ControlRight':     'Control',
    'Enter':            'Enter',
    'MetaLeft':         'Meta',
    'MetaRight':        'Meta',
    'ShiftLeft':        'Shift',
    'ShiftRight':       'Shift',
    'Tab':              'Tab',
    // FIXME: Japanese/Korean keys

// 3.1.2. Control Pad Section

    'Delete':           'Delete',
    'End':              'End',
    'Help':             'Help',
    'Home':             'Home',
    'Insert':           'Insert',
    'PageDown':         'PageDown',
    'PageUp':           'PageUp',

// 3.1.3. Arrow Pad Section

    'ArrowDown':        'ArrowDown',
    'ArrowLeft':        'ArrowLeft',
    'ArrowRight':       'ArrowRight',
    'ArrowUp':          'ArrowUp',

// 3.1.4. Numpad Section

    'NumLock':          'NumLock',
    'NumpadBackspace':  'Backspace',
    'NumpadClear':      'Clear',

// 3.1.5. Function Section

    'Escape':           'Escape',
    'F1':               'F1',
    'F2':               'F2',
    'F3':               'F3',
    'F4':               'F4',
    'F5':               'F5',
    'F6':               'F6',
    'F7':               'F7',
    'F8':               'F8',
    'F9':               'F9',
    'F10':              'F10',
    'F11':              'F11',
    'F12':              'F12',
    'F13':              'F13',
    'F14':              'F14',
    'F15':              'F15',
    'F16':              'F16',
    'F17':              'F17',
    'F18':              'F18',
    'F19':              'F19',
    'F20':              'F20',
    'F21':              'F21',
    'F22':              'F22',
    'F23':              'F23',
    'F24':              'F24',
    'F25':              'F25',
    'F26':              'F26',
    'F27':              'F27',
    'F28':              'F28',
    'F29':              'F29',
    'F30':              'F30',
    'F31':              'F31',
    'F32':              'F32',
    'F33':              'F33',
    'F34':              'F34',
    'F35':              'F35',
    'PrintScreen':      'PrintScreen',
    'ScrollLock':       'ScrollLock',
    'Pause':            'Pause',

// 3.1.6. Media Keys

    'BrowserBack':      'BrowserBack',
    'BrowserFavorites': 'BrowserFavorites',
    'BrowserForward':   'BrowserForward',
    'BrowserHome':      'BrowserHome',
    'BrowserRefresh':   'BrowserRefresh',
    'BrowserSearch':    'BrowserSearch',
    'BrowserStop':      'BrowserStop',
    'Eject':            'Eject',
    'LaunchApp1':       'LaunchMyComputer',
    'LaunchApp2':       'LaunchCalendar',
    'LaunchMail':       'LaunchMail',
    'MediaPlayPause':   'MediaPlay',
    'MediaStop':        'MediaStop',
    'MediaTrackNext':   'MediaTrackNext',
    'MediaTrackPrevious': 'MediaTrackPrevious',
    'Power':            'Power',
    'Sleep':            'Sleep',
    'AudioVolumeDown':  'AudioVolumeDown',
    'AudioVolumeMute':  'AudioVolumeMute',
    'AudioVolumeUp':    'AudioVolumeUp',
    'WakeUp':           'WakeUp',
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keyboard.js":
/*!**********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keyboard.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Keyboard; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ "./node_modules/@novnc/novnc/core/input/util.js");
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */







//
// Keyboard event handler
//

class Keyboard {
    constructor(target) {
        this._target = target || null;

        this._keyDownList = {};         // List of depressed keys
                                        // (even if they are happy)
        this._pendingKey = null;        // Key waiting for keypress
        this._altGrArmed = false;       // Windows AltGr detection

        // keep these here so we can refer to them later
        this._eventHandlers = {
            'keyup': this._handleKeyUp.bind(this),
            'keydown': this._handleKeyDown.bind(this),
            'keypress': this._handleKeyPress.bind(this),
            'blur': this._allKeysUp.bind(this),
            'checkalt': this._checkAlt.bind(this),
        };

        // ===== EVENT HANDLERS =====

        this.onkeyevent = () => {}; // Handler for key press/release
    }

    // ===== PRIVATE METHODS =====

    _sendKeyEvent(keysym, code, down) {
        if (down) {
            this._keyDownList[code] = keysym;
        } else {
            // Do we really think this key is down?
            if (!(code in this._keyDownList)) {
                return;
            }
            delete this._keyDownList[code];
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onkeyevent " + (down ? "down" : "up") +
                  ", keysym: " + keysym, ", code: " + code);
        this.onkeyevent(keysym, code, down);
    }

    _getKeyCode(e) {
        const code = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeycode"](e);
        if (code !== 'Unidentified') {
            return code;
        }

        // Unstable, but we don't have anything else to go on
        // (don't use it for 'keypress' events thought since
        // WebKit sets it to the same as charCode)
        if (e.keyCode && (e.type !== 'keypress')) {
            // 229 is used for composition events
            if (e.keyCode !== 229) {
                return 'Platform' + e.keyCode;
            }
        }

        // A precursor to the final DOM3 standard. Unfortunately it
        // is not layout independent, so it is as bad as using keyCode
        if (e.keyIdentifier) {
            // Non-character key?
            if (e.keyIdentifier.substr(0, 2) !== 'U+') {
                return e.keyIdentifier;
            }

            const codepoint = parseInt(e.keyIdentifier.substr(2), 16);
            const char = String.fromCharCode(codepoint).toUpperCase();

            return 'Platform' + char.charCodeAt();
        }

        return 'Unidentified';
    }

    _handleKeyDown(e) {
        const code = this._getKeyCode(e);
        let keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // Windows doesn't have a proper AltGr, but handles it using
        // fake Ctrl+Alt. However the remote end might not be Windows,
        // so we need to merge those in to a single AltGr event. We
        // detect this case by seeing the two key events directly after
        // each other with a very short time between them (<50ms).
        if (this._altGrArmed) {
            this._altGrArmed = false;
            clearTimeout(this._altGrTimeout);

            if ((code === "AltRight") &&
                ((e.timeStamp - this._altGrCtrlTime) < 50)) {
                // FIXME: We fail to detect this if either Ctrl key is
                //        first manually pressed as Windows then no
                //        longer sends the fake Ctrl down event. It
                //        does however happily send real Ctrl events
                //        even when AltGr is already down. Some
                //        browsers detect this for us though and set the
                //        key to "AltGraph".
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_ISO_Level3_Shift;
            } else {
                this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Control_L, "ControlLeft", true);
            }
        }

        // We cannot handle keys we cannot track, but we also need
        // to deal with virtual keyboards which omit key info
        // (iOS omits tracking info on keyup events, which forces us to
        // special treat that platform here)
        if ((code === 'Unidentified') || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIOS"]()) {
            if (keysym) {
                // If it's a virtual keyboard then it should be
                // sufficient to just send press and release right
                // after each other
                this._sendKeyEvent(keysym, code, true);
                this._sendKeyEvent(keysym, code, false);
            }

            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // Alt behaves more like AltGraph on macOS, so shuffle the
        // keys around a bit to make things more sane for the remote
        // server. This method is used by RealVNC and TigerVNC (and
        // possibly others).
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]()) {
            switch (keysym) {
                case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L:
                    keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L;
                    break;
                case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_R:
                    keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L;
                    break;
                case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L:
                    keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Mode_switch;
                    break;
                case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_R:
                    keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_ISO_Level3_Shift;
                    break;
            }
        }

        // Is this key already pressed? If so, then we must use the
        // same keysym or we'll confuse the server
        if (code in this._keyDownList) {
            keysym = this._keyDownList[code];
        }

        // macOS doesn't send proper key events for modifiers, only
        // state change events. That gets extra confusing for CapsLock
        // which toggles on each press, but not on release. So pretend
        // it was a quick press and release of the button.
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // If this is a legacy browser then we'll need to wait for
        // a keypress event as well
        // (IE and Edge has a broken KeyboardEvent.key, so we can't
        // just check for the presence of that field)
        if (!keysym && (!e.key || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIE"]() || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isEdge"]())) {
            this._pendingKey = code;
            // However we might not get a keypress event if the key
            // is non-printable, which needs some special fallback
            // handling
            setTimeout(this._handleKeyPressTimeout.bind(this), 10, e);
            return;
        }

        this._pendingKey = null;
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        // Possible start of AltGr sequence? (see above)
        if ((code === "ControlLeft") && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]() &&
            !("ControlLeft" in this._keyDownList)) {
            this._altGrArmed = true;
            this._altGrTimeout = setTimeout(this._handleAltGrTimeout.bind(this), 100);
            this._altGrCtrlTime = e.timeStamp;
            return;
        }

        this._sendKeyEvent(keysym, code, true);
    }

    // Legacy event for browsers without code/key
    _handleKeyPress(e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        // Are we expecting a keypress?
        if (this._pendingKey === null) {
            return;
        }

        let code = this._getKeyCode(e);
        const keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // The key we were waiting for?
        if ((code !== 'Unidentified') && (code != this._pendingKey)) {
            return;
        }

        code = this._pendingKey;
        this._pendingKey = null;

        if (!keysym) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]('keypress with no keysym:', e);
            return;
        }

        this._sendKeyEvent(keysym, code, true);
    }

    _handleKeyPressTimeout(e) {
        // Did someone manage to sort out the key already?
        if (this._pendingKey === null) {
            return;
        }

        let keysym;

        const code = this._pendingKey;
        this._pendingKey = null;

        // We have no way of knowing the proper keysym with the
        // information given, but the following are true for most
        // layouts
        if ((e.keyCode >= 0x30) && (e.keyCode <= 0x39)) {
            // Digit
            keysym = e.keyCode;
        } else if ((e.keyCode >= 0x41) && (e.keyCode <= 0x5a)) {
            // Character (A-Z)
            let char = String.fromCharCode(e.keyCode);
            // A feeble attempt at the correct case
            if (e.shiftKey) {
                char = char.toUpperCase();
            } else {
                char = char.toLowerCase();
            }
            keysym = char.charCodeAt();
        } else {
            // Unknown, give up
            keysym = 0;
        }

        this._sendKeyEvent(keysym, code, true);
    }

    _handleKeyUp(e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        const code = this._getKeyCode(e);

        // We can't get a release in the middle of an AltGr sequence, so
        // abort that detection
        if (this._altGrArmed) {
            this._altGrArmed = false;
            clearTimeout(this._altGrTimeout);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Control_L, "ControlLeft", true);
        }

        // See comment in _handleKeyDown()
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            return;
        }

        this._sendKeyEvent(this._keyDownList[code], code, false);
    }

    _handleAltGrTimeout() {
        this._altGrArmed = false;
        clearTimeout(this._altGrTimeout);
        this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Control_L, "ControlLeft", true);
    }

    _allKeysUp() {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Keyboard.allKeysUp");
        for (let code in this._keyDownList) {
            this._sendKeyEvent(this._keyDownList[code], code, false);
        }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Keyboard.allKeysUp");
    }

    // Firefox Alt workaround, see below
    _checkAlt(e) {
        if (e.altKey) {
            return;
        }

        const target = this._target;
        const downList = this._keyDownList;
        ['AltLeft', 'AltRight'].forEach((code) => {
            if (!(code in downList)) {
                return;
            }

            const event = new KeyboardEvent('keyup',
                                            { key: downList[code],
                                              code: code });
            target.dispatchEvent(event);
        });
    }

    // ===== PUBLIC METHODS =====

    grab() {
        //Log.Debug(">> Keyboard.grab");

        this._target.addEventListener('keydown', this._eventHandlers.keydown);
        this._target.addEventListener('keyup', this._eventHandlers.keyup);
        this._target.addEventListener('keypress', this._eventHandlers.keypress);

        // Release (key up) if window loses focus
        window.addEventListener('blur', this._eventHandlers.blur);

        // Firefox has broken handling of Alt, so we need to poll as
        // best we can for releases (still doesn't prevent the menu
        // from popping up though as we can't call preventDefault())
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]() && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isFirefox"]()) {
            const handler = this._eventHandlers.checkalt;
            ['mousedown', 'mouseup', 'mousemove', 'wheel',
             'touchstart', 'touchend', 'touchmove',
             'keydown', 'keyup'].forEach(type =>
                document.addEventListener(type, handler,
                                          { capture: true,
                                            passive: true }));
        }

        //Log.Debug("<< Keyboard.grab");
    }

    ungrab() {
        //Log.Debug(">> Keyboard.ungrab");

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]() && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isFirefox"]()) {
            const handler = this._eventHandlers.checkalt;
            ['mousedown', 'mouseup', 'mousemove', 'wheel',
             'touchstart', 'touchend', 'touchmove',
             'keydown', 'keyup'].forEach(type => document.removeEventListener(type, handler));
        }

        this._target.removeEventListener('keydown', this._eventHandlers.keydown);
        this._target.removeEventListener('keyup', this._eventHandlers.keyup);
        this._target.removeEventListener('keypress', this._eventHandlers.keypress);
        window.removeEventListener('blur', this._eventHandlers.blur);

        // Release (key up) all keys that are in a down state
        this._allKeysUp();

        //Log.Debug(">> Keyboard.ungrab");
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysym.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysym.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* eslint-disable key-spacing */

/* harmony default export */ __webpack_exports__["default"] = ({
    XK_VoidSymbol:                  0xffffff, /* Void symbol */

    XK_BackSpace:                   0xff08, /* Back space, back char */
    XK_Tab:                         0xff09,
    XK_Linefeed:                    0xff0a, /* Linefeed, LF */
    XK_Clear:                       0xff0b,
    XK_Return:                      0xff0d, /* Return, enter */
    XK_Pause:                       0xff13, /* Pause, hold */
    XK_Scroll_Lock:                 0xff14,
    XK_Sys_Req:                     0xff15,
    XK_Escape:                      0xff1b,
    XK_Delete:                      0xffff, /* Delete, rubout */

    /* International & multi-key character composition */

    XK_Multi_key:                   0xff20, /* Multi-key character compose */
    XK_Codeinput:                   0xff37,
    XK_SingleCandidate:             0xff3c,
    XK_MultipleCandidate:           0xff3d,
    XK_PreviousCandidate:           0xff3e,

    /* Japanese keyboard support */

    XK_Kanji:                       0xff21, /* Kanji, Kanji convert */
    XK_Muhenkan:                    0xff22, /* Cancel Conversion */
    XK_Henkan_Mode:                 0xff23, /* Start/Stop Conversion */
    XK_Henkan:                      0xff23, /* Alias for Henkan_Mode */
    XK_Romaji:                      0xff24, /* to Romaji */
    XK_Hiragana:                    0xff25, /* to Hiragana */
    XK_Katakana:                    0xff26, /* to Katakana */
    XK_Hiragana_Katakana:           0xff27, /* Hiragana/Katakana toggle */
    XK_Zenkaku:                     0xff28, /* to Zenkaku */
    XK_Hankaku:                     0xff29, /* to Hankaku */
    XK_Zenkaku_Hankaku:             0xff2a, /* Zenkaku/Hankaku toggle */
    XK_Touroku:                     0xff2b, /* Add to Dictionary */
    XK_Massyo:                      0xff2c, /* Delete from Dictionary */
    XK_Kana_Lock:                   0xff2d, /* Kana Lock */
    XK_Kana_Shift:                  0xff2e, /* Kana Shift */
    XK_Eisu_Shift:                  0xff2f, /* Alphanumeric Shift */
    XK_Eisu_toggle:                 0xff30, /* Alphanumeric toggle */
    XK_Kanji_Bangou:                0xff37, /* Codeinput */
    XK_Zen_Koho:                    0xff3d, /* Multiple/All Candidate(s) */
    XK_Mae_Koho:                    0xff3e, /* Previous Candidate */

    /* Cursor control & motion */

    XK_Home:                        0xff50,
    XK_Left:                        0xff51, /* Move left, left arrow */
    XK_Up:                          0xff52, /* Move up, up arrow */
    XK_Right:                       0xff53, /* Move right, right arrow */
    XK_Down:                        0xff54, /* Move down, down arrow */
    XK_Prior:                       0xff55, /* Prior, previous */
    XK_Page_Up:                     0xff55,
    XK_Next:                        0xff56, /* Next */
    XK_Page_Down:                   0xff56,
    XK_End:                         0xff57, /* EOL */
    XK_Begin:                       0xff58, /* BOL */


    /* Misc functions */

    XK_Select:                      0xff60, /* Select, mark */
    XK_Print:                       0xff61,
    XK_Execute:                     0xff62, /* Execute, run, do */
    XK_Insert:                      0xff63, /* Insert, insert here */
    XK_Undo:                        0xff65,
    XK_Redo:                        0xff66, /* Redo, again */
    XK_Menu:                        0xff67,
    XK_Find:                        0xff68, /* Find, search */
    XK_Cancel:                      0xff69, /* Cancel, stop, abort, exit */
    XK_Help:                        0xff6a, /* Help */
    XK_Break:                       0xff6b,
    XK_Mode_switch:                 0xff7e, /* Character set switch */
    XK_script_switch:               0xff7e, /* Alias for mode_switch */
    XK_Num_Lock:                    0xff7f,

    /* Keypad functions, keypad numbers cleverly chosen to map to ASCII */

    XK_KP_Space:                    0xff80, /* Space */
    XK_KP_Tab:                      0xff89,
    XK_KP_Enter:                    0xff8d, /* Enter */
    XK_KP_F1:                       0xff91, /* PF1, KP_A, ... */
    XK_KP_F2:                       0xff92,
    XK_KP_F3:                       0xff93,
    XK_KP_F4:                       0xff94,
    XK_KP_Home:                     0xff95,
    XK_KP_Left:                     0xff96,
    XK_KP_Up:                       0xff97,
    XK_KP_Right:                    0xff98,
    XK_KP_Down:                     0xff99,
    XK_KP_Prior:                    0xff9a,
    XK_KP_Page_Up:                  0xff9a,
    XK_KP_Next:                     0xff9b,
    XK_KP_Page_Down:                0xff9b,
    XK_KP_End:                      0xff9c,
    XK_KP_Begin:                    0xff9d,
    XK_KP_Insert:                   0xff9e,
    XK_KP_Delete:                   0xff9f,
    XK_KP_Equal:                    0xffbd, /* Equals */
    XK_KP_Multiply:                 0xffaa,
    XK_KP_Add:                      0xffab,
    XK_KP_Separator:                0xffac, /* Separator, often comma */
    XK_KP_Subtract:                 0xffad,
    XK_KP_Decimal:                  0xffae,
    XK_KP_Divide:                   0xffaf,

    XK_KP_0:                        0xffb0,
    XK_KP_1:                        0xffb1,
    XK_KP_2:                        0xffb2,
    XK_KP_3:                        0xffb3,
    XK_KP_4:                        0xffb4,
    XK_KP_5:                        0xffb5,
    XK_KP_6:                        0xffb6,
    XK_KP_7:                        0xffb7,
    XK_KP_8:                        0xffb8,
    XK_KP_9:                        0xffb9,

    /*
     * Auxiliary functions; note the duplicate definitions for left and right
     * function keys;  Sun keyboards and a few other manufacturers have such
     * function key groups on the left and/or right sides of the keyboard.
     * We've not found a keyboard with more than 35 function keys total.
     */

    XK_F1:                          0xffbe,
    XK_F2:                          0xffbf,
    XK_F3:                          0xffc0,
    XK_F4:                          0xffc1,
    XK_F5:                          0xffc2,
    XK_F6:                          0xffc3,
    XK_F7:                          0xffc4,
    XK_F8:                          0xffc5,
    XK_F9:                          0xffc6,
    XK_F10:                         0xffc7,
    XK_F11:                         0xffc8,
    XK_L1:                          0xffc8,
    XK_F12:                         0xffc9,
    XK_L2:                          0xffc9,
    XK_F13:                         0xffca,
    XK_L3:                          0xffca,
    XK_F14:                         0xffcb,
    XK_L4:                          0xffcb,
    XK_F15:                         0xffcc,
    XK_L5:                          0xffcc,
    XK_F16:                         0xffcd,
    XK_L6:                          0xffcd,
    XK_F17:                         0xffce,
    XK_L7:                          0xffce,
    XK_F18:                         0xffcf,
    XK_L8:                          0xffcf,
    XK_F19:                         0xffd0,
    XK_L9:                          0xffd0,
    XK_F20:                         0xffd1,
    XK_L10:                         0xffd1,
    XK_F21:                         0xffd2,
    XK_R1:                          0xffd2,
    XK_F22:                         0xffd3,
    XK_R2:                          0xffd3,
    XK_F23:                         0xffd4,
    XK_R3:                          0xffd4,
    XK_F24:                         0xffd5,
    XK_R4:                          0xffd5,
    XK_F25:                         0xffd6,
    XK_R5:                          0xffd6,
    XK_F26:                         0xffd7,
    XK_R6:                          0xffd7,
    XK_F27:                         0xffd8,
    XK_R7:                          0xffd8,
    XK_F28:                         0xffd9,
    XK_R8:                          0xffd9,
    XK_F29:                         0xffda,
    XK_R9:                          0xffda,
    XK_F30:                         0xffdb,
    XK_R10:                         0xffdb,
    XK_F31:                         0xffdc,
    XK_R11:                         0xffdc,
    XK_F32:                         0xffdd,
    XK_R12:                         0xffdd,
    XK_F33:                         0xffde,
    XK_R13:                         0xffde,
    XK_F34:                         0xffdf,
    XK_R14:                         0xffdf,
    XK_F35:                         0xffe0,
    XK_R15:                         0xffe0,

    /* Modifiers */

    XK_Shift_L:                     0xffe1, /* Left shift */
    XK_Shift_R:                     0xffe2, /* Right shift */
    XK_Control_L:                   0xffe3, /* Left control */
    XK_Control_R:                   0xffe4, /* Right control */
    XK_Caps_Lock:                   0xffe5, /* Caps lock */
    XK_Shift_Lock:                  0xffe6, /* Shift lock */

    XK_Meta_L:                      0xffe7, /* Left meta */
    XK_Meta_R:                      0xffe8, /* Right meta */
    XK_Alt_L:                       0xffe9, /* Left alt */
    XK_Alt_R:                       0xffea, /* Right alt */
    XK_Super_L:                     0xffeb, /* Left super */
    XK_Super_R:                     0xffec, /* Right super */
    XK_Hyper_L:                     0xffed, /* Left hyper */
    XK_Hyper_R:                     0xffee, /* Right hyper */

    /*
     * Keyboard (XKB) Extension function and modifier keys
     * (from Appendix C of "The X Keyboard Extension: Protocol Specification")
     * Byte 3 = 0xfe
     */

    XK_ISO_Level3_Shift:            0xfe03, /* AltGr */
    XK_ISO_Next_Group:              0xfe08,
    XK_ISO_Prev_Group:              0xfe0a,
    XK_ISO_First_Group:             0xfe0c,
    XK_ISO_Last_Group:              0xfe0e,

    /*
     * Latin 1
     * (ISO/IEC 8859-1: Unicode U+0020..U+00FF)
     * Byte 3: 0
     */

    XK_space:                       0x0020, /* U+0020 SPACE */
    XK_exclam:                      0x0021, /* U+0021 EXCLAMATION MARK */
    XK_quotedbl:                    0x0022, /* U+0022 QUOTATION MARK */
    XK_numbersign:                  0x0023, /* U+0023 NUMBER SIGN */
    XK_dollar:                      0x0024, /* U+0024 DOLLAR SIGN */
    XK_percent:                     0x0025, /* U+0025 PERCENT SIGN */
    XK_ampersand:                   0x0026, /* U+0026 AMPERSAND */
    XK_apostrophe:                  0x0027, /* U+0027 APOSTROPHE */
    XK_quoteright:                  0x0027, /* deprecated */
    XK_parenleft:                   0x0028, /* U+0028 LEFT PARENTHESIS */
    XK_parenright:                  0x0029, /* U+0029 RIGHT PARENTHESIS */
    XK_asterisk:                    0x002a, /* U+002A ASTERISK */
    XK_plus:                        0x002b, /* U+002B PLUS SIGN */
    XK_comma:                       0x002c, /* U+002C COMMA */
    XK_minus:                       0x002d, /* U+002D HYPHEN-MINUS */
    XK_period:                      0x002e, /* U+002E FULL STOP */
    XK_slash:                       0x002f, /* U+002F SOLIDUS */
    XK_0:                           0x0030, /* U+0030 DIGIT ZERO */
    XK_1:                           0x0031, /* U+0031 DIGIT ONE */
    XK_2:                           0x0032, /* U+0032 DIGIT TWO */
    XK_3:                           0x0033, /* U+0033 DIGIT THREE */
    XK_4:                           0x0034, /* U+0034 DIGIT FOUR */
    XK_5:                           0x0035, /* U+0035 DIGIT FIVE */
    XK_6:                           0x0036, /* U+0036 DIGIT SIX */
    XK_7:                           0x0037, /* U+0037 DIGIT SEVEN */
    XK_8:                           0x0038, /* U+0038 DIGIT EIGHT */
    XK_9:                           0x0039, /* U+0039 DIGIT NINE */
    XK_colon:                       0x003a, /* U+003A COLON */
    XK_semicolon:                   0x003b, /* U+003B SEMICOLON */
    XK_less:                        0x003c, /* U+003C LESS-THAN SIGN */
    XK_equal:                       0x003d, /* U+003D EQUALS SIGN */
    XK_greater:                     0x003e, /* U+003E GREATER-THAN SIGN */
    XK_question:                    0x003f, /* U+003F QUESTION MARK */
    XK_at:                          0x0040, /* U+0040 COMMERCIAL AT */
    XK_A:                           0x0041, /* U+0041 LATIN CAPITAL LETTER A */
    XK_B:                           0x0042, /* U+0042 LATIN CAPITAL LETTER B */
    XK_C:                           0x0043, /* U+0043 LATIN CAPITAL LETTER C */
    XK_D:                           0x0044, /* U+0044 LATIN CAPITAL LETTER D */
    XK_E:                           0x0045, /* U+0045 LATIN CAPITAL LETTER E */
    XK_F:                           0x0046, /* U+0046 LATIN CAPITAL LETTER F */
    XK_G:                           0x0047, /* U+0047 LATIN CAPITAL LETTER G */
    XK_H:                           0x0048, /* U+0048 LATIN CAPITAL LETTER H */
    XK_I:                           0x0049, /* U+0049 LATIN CAPITAL LETTER I */
    XK_J:                           0x004a, /* U+004A LATIN CAPITAL LETTER J */
    XK_K:                           0x004b, /* U+004B LATIN CAPITAL LETTER K */
    XK_L:                           0x004c, /* U+004C LATIN CAPITAL LETTER L */
    XK_M:                           0x004d, /* U+004D LATIN CAPITAL LETTER M */
    XK_N:                           0x004e, /* U+004E LATIN CAPITAL LETTER N */
    XK_O:                           0x004f, /* U+004F LATIN CAPITAL LETTER O */
    XK_P:                           0x0050, /* U+0050 LATIN CAPITAL LETTER P */
    XK_Q:                           0x0051, /* U+0051 LATIN CAPITAL LETTER Q */
    XK_R:                           0x0052, /* U+0052 LATIN CAPITAL LETTER R */
    XK_S:                           0x0053, /* U+0053 LATIN CAPITAL LETTER S */
    XK_T:                           0x0054, /* U+0054 LATIN CAPITAL LETTER T */
    XK_U:                           0x0055, /* U+0055 LATIN CAPITAL LETTER U */
    XK_V:                           0x0056, /* U+0056 LATIN CAPITAL LETTER V */
    XK_W:                           0x0057, /* U+0057 LATIN CAPITAL LETTER W */
    XK_X:                           0x0058, /* U+0058 LATIN CAPITAL LETTER X */
    XK_Y:                           0x0059, /* U+0059 LATIN CAPITAL LETTER Y */
    XK_Z:                           0x005a, /* U+005A LATIN CAPITAL LETTER Z */
    XK_bracketleft:                 0x005b, /* U+005B LEFT SQUARE BRACKET */
    XK_backslash:                   0x005c, /* U+005C REVERSE SOLIDUS */
    XK_bracketright:                0x005d, /* U+005D RIGHT SQUARE BRACKET */
    XK_asciicircum:                 0x005e, /* U+005E CIRCUMFLEX ACCENT */
    XK_underscore:                  0x005f, /* U+005F LOW LINE */
    XK_grave:                       0x0060, /* U+0060 GRAVE ACCENT */
    XK_quoteleft:                   0x0060, /* deprecated */
    XK_a:                           0x0061, /* U+0061 LATIN SMALL LETTER A */
    XK_b:                           0x0062, /* U+0062 LATIN SMALL LETTER B */
    XK_c:                           0x0063, /* U+0063 LATIN SMALL LETTER C */
    XK_d:                           0x0064, /* U+0064 LATIN SMALL LETTER D */
    XK_e:                           0x0065, /* U+0065 LATIN SMALL LETTER E */
    XK_f:                           0x0066, /* U+0066 LATIN SMALL LETTER F */
    XK_g:                           0x0067, /* U+0067 LATIN SMALL LETTER G */
    XK_h:                           0x0068, /* U+0068 LATIN SMALL LETTER H */
    XK_i:                           0x0069, /* U+0069 LATIN SMALL LETTER I */
    XK_j:                           0x006a, /* U+006A LATIN SMALL LETTER J */
    XK_k:                           0x006b, /* U+006B LATIN SMALL LETTER K */
    XK_l:                           0x006c, /* U+006C LATIN SMALL LETTER L */
    XK_m:                           0x006d, /* U+006D LATIN SMALL LETTER M */
    XK_n:                           0x006e, /* U+006E LATIN SMALL LETTER N */
    XK_o:                           0x006f, /* U+006F LATIN SMALL LETTER O */
    XK_p:                           0x0070, /* U+0070 LATIN SMALL LETTER P */
    XK_q:                           0x0071, /* U+0071 LATIN SMALL LETTER Q */
    XK_r:                           0x0072, /* U+0072 LATIN SMALL LETTER R */
    XK_s:                           0x0073, /* U+0073 LATIN SMALL LETTER S */
    XK_t:                           0x0074, /* U+0074 LATIN SMALL LETTER T */
    XK_u:                           0x0075, /* U+0075 LATIN SMALL LETTER U */
    XK_v:                           0x0076, /* U+0076 LATIN SMALL LETTER V */
    XK_w:                           0x0077, /* U+0077 LATIN SMALL LETTER W */
    XK_x:                           0x0078, /* U+0078 LATIN SMALL LETTER X */
    XK_y:                           0x0079, /* U+0079 LATIN SMALL LETTER Y */
    XK_z:                           0x007a, /* U+007A LATIN SMALL LETTER Z */
    XK_braceleft:                   0x007b, /* U+007B LEFT CURLY BRACKET */
    XK_bar:                         0x007c, /* U+007C VERTICAL LINE */
    XK_braceright:                  0x007d, /* U+007D RIGHT CURLY BRACKET */
    XK_asciitilde:                  0x007e, /* U+007E TILDE */

    XK_nobreakspace:                0x00a0, /* U+00A0 NO-BREAK SPACE */
    XK_exclamdown:                  0x00a1, /* U+00A1 INVERTED EXCLAMATION MARK */
    XK_cent:                        0x00a2, /* U+00A2 CENT SIGN */
    XK_sterling:                    0x00a3, /* U+00A3 POUND SIGN */
    XK_currency:                    0x00a4, /* U+00A4 CURRENCY SIGN */
    XK_yen:                         0x00a5, /* U+00A5 YEN SIGN */
    XK_brokenbar:                   0x00a6, /* U+00A6 BROKEN BAR */
    XK_section:                     0x00a7, /* U+00A7 SECTION SIGN */
    XK_diaeresis:                   0x00a8, /* U+00A8 DIAERESIS */
    XK_copyright:                   0x00a9, /* U+00A9 COPYRIGHT SIGN */
    XK_ordfeminine:                 0x00aa, /* U+00AA FEMININE ORDINAL INDICATOR */
    XK_guillemotleft:               0x00ab, /* U+00AB LEFT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_notsign:                     0x00ac, /* U+00AC NOT SIGN */
    XK_hyphen:                      0x00ad, /* U+00AD SOFT HYPHEN */
    XK_registered:                  0x00ae, /* U+00AE REGISTERED SIGN */
    XK_macron:                      0x00af, /* U+00AF MACRON */
    XK_degree:                      0x00b0, /* U+00B0 DEGREE SIGN */
    XK_plusminus:                   0x00b1, /* U+00B1 PLUS-MINUS SIGN */
    XK_twosuperior:                 0x00b2, /* U+00B2 SUPERSCRIPT TWO */
    XK_threesuperior:               0x00b3, /* U+00B3 SUPERSCRIPT THREE */
    XK_acute:                       0x00b4, /* U+00B4 ACUTE ACCENT */
    XK_mu:                          0x00b5, /* U+00B5 MICRO SIGN */
    XK_paragraph:                   0x00b6, /* U+00B6 PILCROW SIGN */
    XK_periodcentered:              0x00b7, /* U+00B7 MIDDLE DOT */
    XK_cedilla:                     0x00b8, /* U+00B8 CEDILLA */
    XK_onesuperior:                 0x00b9, /* U+00B9 SUPERSCRIPT ONE */
    XK_masculine:                   0x00ba, /* U+00BA MASCULINE ORDINAL INDICATOR */
    XK_guillemotright:              0x00bb, /* U+00BB RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_onequarter:                  0x00bc, /* U+00BC VULGAR FRACTION ONE QUARTER */
    XK_onehalf:                     0x00bd, /* U+00BD VULGAR FRACTION ONE HALF */
    XK_threequarters:               0x00be, /* U+00BE VULGAR FRACTION THREE QUARTERS */
    XK_questiondown:                0x00bf, /* U+00BF INVERTED QUESTION MARK */
    XK_Agrave:                      0x00c0, /* U+00C0 LATIN CAPITAL LETTER A WITH GRAVE */
    XK_Aacute:                      0x00c1, /* U+00C1 LATIN CAPITAL LETTER A WITH ACUTE */
    XK_Acircumflex:                 0x00c2, /* U+00C2 LATIN CAPITAL LETTER A WITH CIRCUMFLEX */
    XK_Atilde:                      0x00c3, /* U+00C3 LATIN CAPITAL LETTER A WITH TILDE */
    XK_Adiaeresis:                  0x00c4, /* U+00C4 LATIN CAPITAL LETTER A WITH DIAERESIS */
    XK_Aring:                       0x00c5, /* U+00C5 LATIN CAPITAL LETTER A WITH RING ABOVE */
    XK_AE:                          0x00c6, /* U+00C6 LATIN CAPITAL LETTER AE */
    XK_Ccedilla:                    0x00c7, /* U+00C7 LATIN CAPITAL LETTER C WITH CEDILLA */
    XK_Egrave:                      0x00c8, /* U+00C8 LATIN CAPITAL LETTER E WITH GRAVE */
    XK_Eacute:                      0x00c9, /* U+00C9 LATIN CAPITAL LETTER E WITH ACUTE */
    XK_Ecircumflex:                 0x00ca, /* U+00CA LATIN CAPITAL LETTER E WITH CIRCUMFLEX */
    XK_Ediaeresis:                  0x00cb, /* U+00CB LATIN CAPITAL LETTER E WITH DIAERESIS */
    XK_Igrave:                      0x00cc, /* U+00CC LATIN CAPITAL LETTER I WITH GRAVE */
    XK_Iacute:                      0x00cd, /* U+00CD LATIN CAPITAL LETTER I WITH ACUTE */
    XK_Icircumflex:                 0x00ce, /* U+00CE LATIN CAPITAL LETTER I WITH CIRCUMFLEX */
    XK_Idiaeresis:                  0x00cf, /* U+00CF LATIN CAPITAL LETTER I WITH DIAERESIS */
    XK_ETH:                         0x00d0, /* U+00D0 LATIN CAPITAL LETTER ETH */
    XK_Eth:                         0x00d0, /* deprecated */
    XK_Ntilde:                      0x00d1, /* U+00D1 LATIN CAPITAL LETTER N WITH TILDE */
    XK_Ograve:                      0x00d2, /* U+00D2 LATIN CAPITAL LETTER O WITH GRAVE */
    XK_Oacute:                      0x00d3, /* U+00D3 LATIN CAPITAL LETTER O WITH ACUTE */
    XK_Ocircumflex:                 0x00d4, /* U+00D4 LATIN CAPITAL LETTER O WITH CIRCUMFLEX */
    XK_Otilde:                      0x00d5, /* U+00D5 LATIN CAPITAL LETTER O WITH TILDE */
    XK_Odiaeresis:                  0x00d6, /* U+00D6 LATIN CAPITAL LETTER O WITH DIAERESIS */
    XK_multiply:                    0x00d7, /* U+00D7 MULTIPLICATION SIGN */
    XK_Oslash:                      0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ooblique:                    0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ugrave:                      0x00d9, /* U+00D9 LATIN CAPITAL LETTER U WITH GRAVE */
    XK_Uacute:                      0x00da, /* U+00DA LATIN CAPITAL LETTER U WITH ACUTE */
    XK_Ucircumflex:                 0x00db, /* U+00DB LATIN CAPITAL LETTER U WITH CIRCUMFLEX */
    XK_Udiaeresis:                  0x00dc, /* U+00DC LATIN CAPITAL LETTER U WITH DIAERESIS */
    XK_Yacute:                      0x00dd, /* U+00DD LATIN CAPITAL LETTER Y WITH ACUTE */
    XK_THORN:                       0x00de, /* U+00DE LATIN CAPITAL LETTER THORN */
    XK_Thorn:                       0x00de, /* deprecated */
    XK_ssharp:                      0x00df, /* U+00DF LATIN SMALL LETTER SHARP S */
    XK_agrave:                      0x00e0, /* U+00E0 LATIN SMALL LETTER A WITH GRAVE */
    XK_aacute:                      0x00e1, /* U+00E1 LATIN SMALL LETTER A WITH ACUTE */
    XK_acircumflex:                 0x00e2, /* U+00E2 LATIN SMALL LETTER A WITH CIRCUMFLEX */
    XK_atilde:                      0x00e3, /* U+00E3 LATIN SMALL LETTER A WITH TILDE */
    XK_adiaeresis:                  0x00e4, /* U+00E4 LATIN SMALL LETTER A WITH DIAERESIS */
    XK_aring:                       0x00e5, /* U+00E5 LATIN SMALL LETTER A WITH RING ABOVE */
    XK_ae:                          0x00e6, /* U+00E6 LATIN SMALL LETTER AE */
    XK_ccedilla:                    0x00e7, /* U+00E7 LATIN SMALL LETTER C WITH CEDILLA */
    XK_egrave:                      0x00e8, /* U+00E8 LATIN SMALL LETTER E WITH GRAVE */
    XK_eacute:                      0x00e9, /* U+00E9 LATIN SMALL LETTER E WITH ACUTE */
    XK_ecircumflex:                 0x00ea, /* U+00EA LATIN SMALL LETTER E WITH CIRCUMFLEX */
    XK_ediaeresis:                  0x00eb, /* U+00EB LATIN SMALL LETTER E WITH DIAERESIS */
    XK_igrave:                      0x00ec, /* U+00EC LATIN SMALL LETTER I WITH GRAVE */
    XK_iacute:                      0x00ed, /* U+00ED LATIN SMALL LETTER I WITH ACUTE */
    XK_icircumflex:                 0x00ee, /* U+00EE LATIN SMALL LETTER I WITH CIRCUMFLEX */
    XK_idiaeresis:                  0x00ef, /* U+00EF LATIN SMALL LETTER I WITH DIAERESIS */
    XK_eth:                         0x00f0, /* U+00F0 LATIN SMALL LETTER ETH */
    XK_ntilde:                      0x00f1, /* U+00F1 LATIN SMALL LETTER N WITH TILDE */
    XK_ograve:                      0x00f2, /* U+00F2 LATIN SMALL LETTER O WITH GRAVE */
    XK_oacute:                      0x00f3, /* U+00F3 LATIN SMALL LETTER O WITH ACUTE */
    XK_ocircumflex:                 0x00f4, /* U+00F4 LATIN SMALL LETTER O WITH CIRCUMFLEX */
    XK_otilde:                      0x00f5, /* U+00F5 LATIN SMALL LETTER O WITH TILDE */
    XK_odiaeresis:                  0x00f6, /* U+00F6 LATIN SMALL LETTER O WITH DIAERESIS */
    XK_division:                    0x00f7, /* U+00F7 DIVISION SIGN */
    XK_oslash:                      0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ooblique:                    0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ugrave:                      0x00f9, /* U+00F9 LATIN SMALL LETTER U WITH GRAVE */
    XK_uacute:                      0x00fa, /* U+00FA LATIN SMALL LETTER U WITH ACUTE */
    XK_ucircumflex:                 0x00fb, /* U+00FB LATIN SMALL LETTER U WITH CIRCUMFLEX */
    XK_udiaeresis:                  0x00fc, /* U+00FC LATIN SMALL LETTER U WITH DIAERESIS */
    XK_yacute:                      0x00fd, /* U+00FD LATIN SMALL LETTER Y WITH ACUTE */
    XK_thorn:                       0x00fe, /* U+00FE LATIN SMALL LETTER THORN */
    XK_ydiaeresis:                  0x00ff, /* U+00FF LATIN SMALL LETTER Y WITH DIAERESIS */

    /*
     * Korean
     * Byte 3 = 0x0e
     */

    XK_Hangul:                      0xff31, /* Hangul start/stop(toggle) */
    XK_Hangul_Hanja:                0xff34, /* Start Hangul->Hanja Conversion */
    XK_Hangul_Jeonja:               0xff38, /* Jeonja mode */

    /*
     * XFree86 vendor specific keysyms.
     *
     * The XFree86 keysym range is 0x10080001 - 0x1008FFFF.
     */

    XF86XK_ModeLock:                0x1008FF01,
    XF86XK_MonBrightnessUp:         0x1008FF02,
    XF86XK_MonBrightnessDown:       0x1008FF03,
    XF86XK_KbdLightOnOff:           0x1008FF04,
    XF86XK_KbdBrightnessUp:         0x1008FF05,
    XF86XK_KbdBrightnessDown:       0x1008FF06,
    XF86XK_Standby:                 0x1008FF10,
    XF86XK_AudioLowerVolume:        0x1008FF11,
    XF86XK_AudioMute:               0x1008FF12,
    XF86XK_AudioRaiseVolume:        0x1008FF13,
    XF86XK_AudioPlay:               0x1008FF14,
    XF86XK_AudioStop:               0x1008FF15,
    XF86XK_AudioPrev:               0x1008FF16,
    XF86XK_AudioNext:               0x1008FF17,
    XF86XK_HomePage:                0x1008FF18,
    XF86XK_Mail:                    0x1008FF19,
    XF86XK_Start:                   0x1008FF1A,
    XF86XK_Search:                  0x1008FF1B,
    XF86XK_AudioRecord:             0x1008FF1C,
    XF86XK_Calculator:              0x1008FF1D,
    XF86XK_Memo:                    0x1008FF1E,
    XF86XK_ToDoList:                0x1008FF1F,
    XF86XK_Calendar:                0x1008FF20,
    XF86XK_PowerDown:               0x1008FF21,
    XF86XK_ContrastAdjust:          0x1008FF22,
    XF86XK_RockerUp:                0x1008FF23,
    XF86XK_RockerDown:              0x1008FF24,
    XF86XK_RockerEnter:             0x1008FF25,
    XF86XK_Back:                    0x1008FF26,
    XF86XK_Forward:                 0x1008FF27,
    XF86XK_Stop:                    0x1008FF28,
    XF86XK_Refresh:                 0x1008FF29,
    XF86XK_PowerOff:                0x1008FF2A,
    XF86XK_WakeUp:                  0x1008FF2B,
    XF86XK_Eject:                   0x1008FF2C,
    XF86XK_ScreenSaver:             0x1008FF2D,
    XF86XK_WWW:                     0x1008FF2E,
    XF86XK_Sleep:                   0x1008FF2F,
    XF86XK_Favorites:               0x1008FF30,
    XF86XK_AudioPause:              0x1008FF31,
    XF86XK_AudioMedia:              0x1008FF32,
    XF86XK_MyComputer:              0x1008FF33,
    XF86XK_VendorHome:              0x1008FF34,
    XF86XK_LightBulb:               0x1008FF35,
    XF86XK_Shop:                    0x1008FF36,
    XF86XK_History:                 0x1008FF37,
    XF86XK_OpenURL:                 0x1008FF38,
    XF86XK_AddFavorite:             0x1008FF39,
    XF86XK_HotLinks:                0x1008FF3A,
    XF86XK_BrightnessAdjust:        0x1008FF3B,
    XF86XK_Finance:                 0x1008FF3C,
    XF86XK_Community:               0x1008FF3D,
    XF86XK_AudioRewind:             0x1008FF3E,
    XF86XK_BackForward:             0x1008FF3F,
    XF86XK_Launch0:                 0x1008FF40,
    XF86XK_Launch1:                 0x1008FF41,
    XF86XK_Launch2:                 0x1008FF42,
    XF86XK_Launch3:                 0x1008FF43,
    XF86XK_Launch4:                 0x1008FF44,
    XF86XK_Launch5:                 0x1008FF45,
    XF86XK_Launch6:                 0x1008FF46,
    XF86XK_Launch7:                 0x1008FF47,
    XF86XK_Launch8:                 0x1008FF48,
    XF86XK_Launch9:                 0x1008FF49,
    XF86XK_LaunchA:                 0x1008FF4A,
    XF86XK_LaunchB:                 0x1008FF4B,
    XF86XK_LaunchC:                 0x1008FF4C,
    XF86XK_LaunchD:                 0x1008FF4D,
    XF86XK_LaunchE:                 0x1008FF4E,
    XF86XK_LaunchF:                 0x1008FF4F,
    XF86XK_ApplicationLeft:         0x1008FF50,
    XF86XK_ApplicationRight:        0x1008FF51,
    XF86XK_Book:                    0x1008FF52,
    XF86XK_CD:                      0x1008FF53,
    XF86XK_Calculater:              0x1008FF54,
    XF86XK_Clear:                   0x1008FF55,
    XF86XK_Close:                   0x1008FF56,
    XF86XK_Copy:                    0x1008FF57,
    XF86XK_Cut:                     0x1008FF58,
    XF86XK_Display:                 0x1008FF59,
    XF86XK_DOS:                     0x1008FF5A,
    XF86XK_Documents:               0x1008FF5B,
    XF86XK_Excel:                   0x1008FF5C,
    XF86XK_Explorer:                0x1008FF5D,
    XF86XK_Game:                    0x1008FF5E,
    XF86XK_Go:                      0x1008FF5F,
    XF86XK_iTouch:                  0x1008FF60,
    XF86XK_LogOff:                  0x1008FF61,
    XF86XK_Market:                  0x1008FF62,
    XF86XK_Meeting:                 0x1008FF63,
    XF86XK_MenuKB:                  0x1008FF65,
    XF86XK_MenuPB:                  0x1008FF66,
    XF86XK_MySites:                 0x1008FF67,
    XF86XK_New:                     0x1008FF68,
    XF86XK_News:                    0x1008FF69,
    XF86XK_OfficeHome:              0x1008FF6A,
    XF86XK_Open:                    0x1008FF6B,
    XF86XK_Option:                  0x1008FF6C,
    XF86XK_Paste:                   0x1008FF6D,
    XF86XK_Phone:                   0x1008FF6E,
    XF86XK_Q:                       0x1008FF70,
    XF86XK_Reply:                   0x1008FF72,
    XF86XK_Reload:                  0x1008FF73,
    XF86XK_RotateWindows:           0x1008FF74,
    XF86XK_RotationPB:              0x1008FF75,
    XF86XK_RotationKB:              0x1008FF76,
    XF86XK_Save:                    0x1008FF77,
    XF86XK_ScrollUp:                0x1008FF78,
    XF86XK_ScrollDown:              0x1008FF79,
    XF86XK_ScrollClick:             0x1008FF7A,
    XF86XK_Send:                    0x1008FF7B,
    XF86XK_Spell:                   0x1008FF7C,
    XF86XK_SplitScreen:             0x1008FF7D,
    XF86XK_Support:                 0x1008FF7E,
    XF86XK_TaskPane:                0x1008FF7F,
    XF86XK_Terminal:                0x1008FF80,
    XF86XK_Tools:                   0x1008FF81,
    XF86XK_Travel:                  0x1008FF82,
    XF86XK_UserPB:                  0x1008FF84,
    XF86XK_User1KB:                 0x1008FF85,
    XF86XK_User2KB:                 0x1008FF86,
    XF86XK_Video:                   0x1008FF87,
    XF86XK_WheelButton:             0x1008FF88,
    XF86XK_Word:                    0x1008FF89,
    XF86XK_Xfer:                    0x1008FF8A,
    XF86XK_ZoomIn:                  0x1008FF8B,
    XF86XK_ZoomOut:                 0x1008FF8C,
    XF86XK_Away:                    0x1008FF8D,
    XF86XK_Messenger:               0x1008FF8E,
    XF86XK_WebCam:                  0x1008FF8F,
    XF86XK_MailForward:             0x1008FF90,
    XF86XK_Pictures:                0x1008FF91,
    XF86XK_Music:                   0x1008FF92,
    XF86XK_Battery:                 0x1008FF93,
    XF86XK_Bluetooth:               0x1008FF94,
    XF86XK_WLAN:                    0x1008FF95,
    XF86XK_UWB:                     0x1008FF96,
    XF86XK_AudioForward:            0x1008FF97,
    XF86XK_AudioRepeat:             0x1008FF98,
    XF86XK_AudioRandomPlay:         0x1008FF99,
    XF86XK_Subtitle:                0x1008FF9A,
    XF86XK_AudioCycleTrack:         0x1008FF9B,
    XF86XK_CycleAngle:              0x1008FF9C,
    XF86XK_FrameBack:               0x1008FF9D,
    XF86XK_FrameForward:            0x1008FF9E,
    XF86XK_Time:                    0x1008FF9F,
    XF86XK_Select:                  0x1008FFA0,
    XF86XK_View:                    0x1008FFA1,
    XF86XK_TopMenu:                 0x1008FFA2,
    XF86XK_Red:                     0x1008FFA3,
    XF86XK_Green:                   0x1008FFA4,
    XF86XK_Yellow:                  0x1008FFA5,
    XF86XK_Blue:                    0x1008FFA6,
    XF86XK_Suspend:                 0x1008FFA7,
    XF86XK_Hibernate:               0x1008FFA8,
    XF86XK_TouchpadToggle:          0x1008FFA9,
    XF86XK_TouchpadOn:              0x1008FFB0,
    XF86XK_TouchpadOff:             0x1008FFB1,
    XF86XK_AudioMicMute:            0x1008FFB2,
    XF86XK_Switch_VT_1:             0x1008FE01,
    XF86XK_Switch_VT_2:             0x1008FE02,
    XF86XK_Switch_VT_3:             0x1008FE03,
    XF86XK_Switch_VT_4:             0x1008FE04,
    XF86XK_Switch_VT_5:             0x1008FE05,
    XF86XK_Switch_VT_6:             0x1008FE06,
    XF86XK_Switch_VT_7:             0x1008FE07,
    XF86XK_Switch_VT_8:             0x1008FE08,
    XF86XK_Switch_VT_9:             0x1008FE09,
    XF86XK_Switch_VT_10:            0x1008FE0A,
    XF86XK_Switch_VT_11:            0x1008FE0B,
    XF86XK_Switch_VT_12:            0x1008FE0C,
    XF86XK_Ungrab:                  0x1008FE20,
    XF86XK_ClearGrab:               0x1008FE21,
    XF86XK_Next_VMode:              0x1008FE22,
    XF86XK_Prev_VMode:              0x1008FE23,
    XF86XK_LogWindowTree:           0x1008FE24,
    XF86XK_LogGrabInfo:             0x1008FE25,
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysymdef.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysymdef.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Mapping from Unicode codepoints to X11/RFB keysyms
 *
 * This file was automatically generated from keysymdef.h
 * DO NOT EDIT!
 */

/* Functions at the bottom */

const codepoints = {
    0x0100: 0x03c0, // XK_Amacron
    0x0101: 0x03e0, // XK_amacron
    0x0102: 0x01c3, // XK_Abreve
    0x0103: 0x01e3, // XK_abreve
    0x0104: 0x01a1, // XK_Aogonek
    0x0105: 0x01b1, // XK_aogonek
    0x0106: 0x01c6, // XK_Cacute
    0x0107: 0x01e6, // XK_cacute
    0x0108: 0x02c6, // XK_Ccircumflex
    0x0109: 0x02e6, // XK_ccircumflex
    0x010a: 0x02c5, // XK_Cabovedot
    0x010b: 0x02e5, // XK_cabovedot
    0x010c: 0x01c8, // XK_Ccaron
    0x010d: 0x01e8, // XK_ccaron
    0x010e: 0x01cf, // XK_Dcaron
    0x010f: 0x01ef, // XK_dcaron
    0x0110: 0x01d0, // XK_Dstroke
    0x0111: 0x01f0, // XK_dstroke
    0x0112: 0x03aa, // XK_Emacron
    0x0113: 0x03ba, // XK_emacron
    0x0116: 0x03cc, // XK_Eabovedot
    0x0117: 0x03ec, // XK_eabovedot
    0x0118: 0x01ca, // XK_Eogonek
    0x0119: 0x01ea, // XK_eogonek
    0x011a: 0x01cc, // XK_Ecaron
    0x011b: 0x01ec, // XK_ecaron
    0x011c: 0x02d8, // XK_Gcircumflex
    0x011d: 0x02f8, // XK_gcircumflex
    0x011e: 0x02ab, // XK_Gbreve
    0x011f: 0x02bb, // XK_gbreve
    0x0120: 0x02d5, // XK_Gabovedot
    0x0121: 0x02f5, // XK_gabovedot
    0x0122: 0x03ab, // XK_Gcedilla
    0x0123: 0x03bb, // XK_gcedilla
    0x0124: 0x02a6, // XK_Hcircumflex
    0x0125: 0x02b6, // XK_hcircumflex
    0x0126: 0x02a1, // XK_Hstroke
    0x0127: 0x02b1, // XK_hstroke
    0x0128: 0x03a5, // XK_Itilde
    0x0129: 0x03b5, // XK_itilde
    0x012a: 0x03cf, // XK_Imacron
    0x012b: 0x03ef, // XK_imacron
    0x012e: 0x03c7, // XK_Iogonek
    0x012f: 0x03e7, // XK_iogonek
    0x0130: 0x02a9, // XK_Iabovedot
    0x0131: 0x02b9, // XK_idotless
    0x0134: 0x02ac, // XK_Jcircumflex
    0x0135: 0x02bc, // XK_jcircumflex
    0x0136: 0x03d3, // XK_Kcedilla
    0x0137: 0x03f3, // XK_kcedilla
    0x0138: 0x03a2, // XK_kra
    0x0139: 0x01c5, // XK_Lacute
    0x013a: 0x01e5, // XK_lacute
    0x013b: 0x03a6, // XK_Lcedilla
    0x013c: 0x03b6, // XK_lcedilla
    0x013d: 0x01a5, // XK_Lcaron
    0x013e: 0x01b5, // XK_lcaron
    0x0141: 0x01a3, // XK_Lstroke
    0x0142: 0x01b3, // XK_lstroke
    0x0143: 0x01d1, // XK_Nacute
    0x0144: 0x01f1, // XK_nacute
    0x0145: 0x03d1, // XK_Ncedilla
    0x0146: 0x03f1, // XK_ncedilla
    0x0147: 0x01d2, // XK_Ncaron
    0x0148: 0x01f2, // XK_ncaron
    0x014a: 0x03bd, // XK_ENG
    0x014b: 0x03bf, // XK_eng
    0x014c: 0x03d2, // XK_Omacron
    0x014d: 0x03f2, // XK_omacron
    0x0150: 0x01d5, // XK_Odoubleacute
    0x0151: 0x01f5, // XK_odoubleacute
    0x0152: 0x13bc, // XK_OE
    0x0153: 0x13bd, // XK_oe
    0x0154: 0x01c0, // XK_Racute
    0x0155: 0x01e0, // XK_racute
    0x0156: 0x03a3, // XK_Rcedilla
    0x0157: 0x03b3, // XK_rcedilla
    0x0158: 0x01d8, // XK_Rcaron
    0x0159: 0x01f8, // XK_rcaron
    0x015a: 0x01a6, // XK_Sacute
    0x015b: 0x01b6, // XK_sacute
    0x015c: 0x02de, // XK_Scircumflex
    0x015d: 0x02fe, // XK_scircumflex
    0x015e: 0x01aa, // XK_Scedilla
    0x015f: 0x01ba, // XK_scedilla
    0x0160: 0x01a9, // XK_Scaron
    0x0161: 0x01b9, // XK_scaron
    0x0162: 0x01de, // XK_Tcedilla
    0x0163: 0x01fe, // XK_tcedilla
    0x0164: 0x01ab, // XK_Tcaron
    0x0165: 0x01bb, // XK_tcaron
    0x0166: 0x03ac, // XK_Tslash
    0x0167: 0x03bc, // XK_tslash
    0x0168: 0x03dd, // XK_Utilde
    0x0169: 0x03fd, // XK_utilde
    0x016a: 0x03de, // XK_Umacron
    0x016b: 0x03fe, // XK_umacron
    0x016c: 0x02dd, // XK_Ubreve
    0x016d: 0x02fd, // XK_ubreve
    0x016e: 0x01d9, // XK_Uring
    0x016f: 0x01f9, // XK_uring
    0x0170: 0x01db, // XK_Udoubleacute
    0x0171: 0x01fb, // XK_udoubleacute
    0x0172: 0x03d9, // XK_Uogonek
    0x0173: 0x03f9, // XK_uogonek
    0x0178: 0x13be, // XK_Ydiaeresis
    0x0179: 0x01ac, // XK_Zacute
    0x017a: 0x01bc, // XK_zacute
    0x017b: 0x01af, // XK_Zabovedot
    0x017c: 0x01bf, // XK_zabovedot
    0x017d: 0x01ae, // XK_Zcaron
    0x017e: 0x01be, // XK_zcaron
    0x0192: 0x08f6, // XK_function
    0x01d2: 0x10001d1, // XK_Ocaron
    0x02c7: 0x01b7, // XK_caron
    0x02d8: 0x01a2, // XK_breve
    0x02d9: 0x01ff, // XK_abovedot
    0x02db: 0x01b2, // XK_ogonek
    0x02dd: 0x01bd, // XK_doubleacute
    0x0385: 0x07ae, // XK_Greek_accentdieresis
    0x0386: 0x07a1, // XK_Greek_ALPHAaccent
    0x0388: 0x07a2, // XK_Greek_EPSILONaccent
    0x0389: 0x07a3, // XK_Greek_ETAaccent
    0x038a: 0x07a4, // XK_Greek_IOTAaccent
    0x038c: 0x07a7, // XK_Greek_OMICRONaccent
    0x038e: 0x07a8, // XK_Greek_UPSILONaccent
    0x038f: 0x07ab, // XK_Greek_OMEGAaccent
    0x0390: 0x07b6, // XK_Greek_iotaaccentdieresis
    0x0391: 0x07c1, // XK_Greek_ALPHA
    0x0392: 0x07c2, // XK_Greek_BETA
    0x0393: 0x07c3, // XK_Greek_GAMMA
    0x0394: 0x07c4, // XK_Greek_DELTA
    0x0395: 0x07c5, // XK_Greek_EPSILON
    0x0396: 0x07c6, // XK_Greek_ZETA
    0x0397: 0x07c7, // XK_Greek_ETA
    0x0398: 0x07c8, // XK_Greek_THETA
    0x0399: 0x07c9, // XK_Greek_IOTA
    0x039a: 0x07ca, // XK_Greek_KAPPA
    0x039b: 0x07cb, // XK_Greek_LAMDA
    0x039c: 0x07cc, // XK_Greek_MU
    0x039d: 0x07cd, // XK_Greek_NU
    0x039e: 0x07ce, // XK_Greek_XI
    0x039f: 0x07cf, // XK_Greek_OMICRON
    0x03a0: 0x07d0, // XK_Greek_PI
    0x03a1: 0x07d1, // XK_Greek_RHO
    0x03a3: 0x07d2, // XK_Greek_SIGMA
    0x03a4: 0x07d4, // XK_Greek_TAU
    0x03a5: 0x07d5, // XK_Greek_UPSILON
    0x03a6: 0x07d6, // XK_Greek_PHI
    0x03a7: 0x07d7, // XK_Greek_CHI
    0x03a8: 0x07d8, // XK_Greek_PSI
    0x03a9: 0x07d9, // XK_Greek_OMEGA
    0x03aa: 0x07a5, // XK_Greek_IOTAdieresis
    0x03ab: 0x07a9, // XK_Greek_UPSILONdieresis
    0x03ac: 0x07b1, // XK_Greek_alphaaccent
    0x03ad: 0x07b2, // XK_Greek_epsilonaccent
    0x03ae: 0x07b3, // XK_Greek_etaaccent
    0x03af: 0x07b4, // XK_Greek_iotaaccent
    0x03b0: 0x07ba, // XK_Greek_upsilonaccentdieresis
    0x03b1: 0x07e1, // XK_Greek_alpha
    0x03b2: 0x07e2, // XK_Greek_beta
    0x03b3: 0x07e3, // XK_Greek_gamma
    0x03b4: 0x07e4, // XK_Greek_delta
    0x03b5: 0x07e5, // XK_Greek_epsilon
    0x03b6: 0x07e6, // XK_Greek_zeta
    0x03b7: 0x07e7, // XK_Greek_eta
    0x03b8: 0x07e8, // XK_Greek_theta
    0x03b9: 0x07e9, // XK_Greek_iota
    0x03ba: 0x07ea, // XK_Greek_kappa
    0x03bb: 0x07eb, // XK_Greek_lamda
    0x03bc: 0x07ec, // XK_Greek_mu
    0x03bd: 0x07ed, // XK_Greek_nu
    0x03be: 0x07ee, // XK_Greek_xi
    0x03bf: 0x07ef, // XK_Greek_omicron
    0x03c0: 0x07f0, // XK_Greek_pi
    0x03c1: 0x07f1, // XK_Greek_rho
    0x03c2: 0x07f3, // XK_Greek_finalsmallsigma
    0x03c3: 0x07f2, // XK_Greek_sigma
    0x03c4: 0x07f4, // XK_Greek_tau
    0x03c5: 0x07f5, // XK_Greek_upsilon
    0x03c6: 0x07f6, // XK_Greek_phi
    0x03c7: 0x07f7, // XK_Greek_chi
    0x03c8: 0x07f8, // XK_Greek_psi
    0x03c9: 0x07f9, // XK_Greek_omega
    0x03ca: 0x07b5, // XK_Greek_iotadieresis
    0x03cb: 0x07b9, // XK_Greek_upsilondieresis
    0x03cc: 0x07b7, // XK_Greek_omicronaccent
    0x03cd: 0x07b8, // XK_Greek_upsilonaccent
    0x03ce: 0x07bb, // XK_Greek_omegaaccent
    0x0401: 0x06b3, // XK_Cyrillic_IO
    0x0402: 0x06b1, // XK_Serbian_DJE
    0x0403: 0x06b2, // XK_Macedonia_GJE
    0x0404: 0x06b4, // XK_Ukrainian_IE
    0x0405: 0x06b5, // XK_Macedonia_DSE
    0x0406: 0x06b6, // XK_Ukrainian_I
    0x0407: 0x06b7, // XK_Ukrainian_YI
    0x0408: 0x06b8, // XK_Cyrillic_JE
    0x0409: 0x06b9, // XK_Cyrillic_LJE
    0x040a: 0x06ba, // XK_Cyrillic_NJE
    0x040b: 0x06bb, // XK_Serbian_TSHE
    0x040c: 0x06bc, // XK_Macedonia_KJE
    0x040e: 0x06be, // XK_Byelorussian_SHORTU
    0x040f: 0x06bf, // XK_Cyrillic_DZHE
    0x0410: 0x06e1, // XK_Cyrillic_A
    0x0411: 0x06e2, // XK_Cyrillic_BE
    0x0412: 0x06f7, // XK_Cyrillic_VE
    0x0413: 0x06e7, // XK_Cyrillic_GHE
    0x0414: 0x06e4, // XK_Cyrillic_DE
    0x0415: 0x06e5, // XK_Cyrillic_IE
    0x0416: 0x06f6, // XK_Cyrillic_ZHE
    0x0417: 0x06fa, // XK_Cyrillic_ZE
    0x0418: 0x06e9, // XK_Cyrillic_I
    0x0419: 0x06ea, // XK_Cyrillic_SHORTI
    0x041a: 0x06eb, // XK_Cyrillic_KA
    0x041b: 0x06ec, // XK_Cyrillic_EL
    0x041c: 0x06ed, // XK_Cyrillic_EM
    0x041d: 0x06ee, // XK_Cyrillic_EN
    0x041e: 0x06ef, // XK_Cyrillic_O
    0x041f: 0x06f0, // XK_Cyrillic_PE
    0x0420: 0x06f2, // XK_Cyrillic_ER
    0x0421: 0x06f3, // XK_Cyrillic_ES
    0x0422: 0x06f4, // XK_Cyrillic_TE
    0x0423: 0x06f5, // XK_Cyrillic_U
    0x0424: 0x06e6, // XK_Cyrillic_EF
    0x0425: 0x06e8, // XK_Cyrillic_HA
    0x0426: 0x06e3, // XK_Cyrillic_TSE
    0x0427: 0x06fe, // XK_Cyrillic_CHE
    0x0428: 0x06fb, // XK_Cyrillic_SHA
    0x0429: 0x06fd, // XK_Cyrillic_SHCHA
    0x042a: 0x06ff, // XK_Cyrillic_HARDSIGN
    0x042b: 0x06f9, // XK_Cyrillic_YERU
    0x042c: 0x06f8, // XK_Cyrillic_SOFTSIGN
    0x042d: 0x06fc, // XK_Cyrillic_E
    0x042e: 0x06e0, // XK_Cyrillic_YU
    0x042f: 0x06f1, // XK_Cyrillic_YA
    0x0430: 0x06c1, // XK_Cyrillic_a
    0x0431: 0x06c2, // XK_Cyrillic_be
    0x0432: 0x06d7, // XK_Cyrillic_ve
    0x0433: 0x06c7, // XK_Cyrillic_ghe
    0x0434: 0x06c4, // XK_Cyrillic_de
    0x0435: 0x06c5, // XK_Cyrillic_ie
    0x0436: 0x06d6, // XK_Cyrillic_zhe
    0x0437: 0x06da, // XK_Cyrillic_ze
    0x0438: 0x06c9, // XK_Cyrillic_i
    0x0439: 0x06ca, // XK_Cyrillic_shorti
    0x043a: 0x06cb, // XK_Cyrillic_ka
    0x043b: 0x06cc, // XK_Cyrillic_el
    0x043c: 0x06cd, // XK_Cyrillic_em
    0x043d: 0x06ce, // XK_Cyrillic_en
    0x043e: 0x06cf, // XK_Cyrillic_o
    0x043f: 0x06d0, // XK_Cyrillic_pe
    0x0440: 0x06d2, // XK_Cyrillic_er
    0x0441: 0x06d3, // XK_Cyrillic_es
    0x0442: 0x06d4, // XK_Cyrillic_te
    0x0443: 0x06d5, // XK_Cyrillic_u
    0x0444: 0x06c6, // XK_Cyrillic_ef
    0x0445: 0x06c8, // XK_Cyrillic_ha
    0x0446: 0x06c3, // XK_Cyrillic_tse
    0x0447: 0x06de, // XK_Cyrillic_che
    0x0448: 0x06db, // XK_Cyrillic_sha
    0x0449: 0x06dd, // XK_Cyrillic_shcha
    0x044a: 0x06df, // XK_Cyrillic_hardsign
    0x044b: 0x06d9, // XK_Cyrillic_yeru
    0x044c: 0x06d8, // XK_Cyrillic_softsign
    0x044d: 0x06dc, // XK_Cyrillic_e
    0x044e: 0x06c0, // XK_Cyrillic_yu
    0x044f: 0x06d1, // XK_Cyrillic_ya
    0x0451: 0x06a3, // XK_Cyrillic_io
    0x0452: 0x06a1, // XK_Serbian_dje
    0x0453: 0x06a2, // XK_Macedonia_gje
    0x0454: 0x06a4, // XK_Ukrainian_ie
    0x0455: 0x06a5, // XK_Macedonia_dse
    0x0456: 0x06a6, // XK_Ukrainian_i
    0x0457: 0x06a7, // XK_Ukrainian_yi
    0x0458: 0x06a8, // XK_Cyrillic_je
    0x0459: 0x06a9, // XK_Cyrillic_lje
    0x045a: 0x06aa, // XK_Cyrillic_nje
    0x045b: 0x06ab, // XK_Serbian_tshe
    0x045c: 0x06ac, // XK_Macedonia_kje
    0x045e: 0x06ae, // XK_Byelorussian_shortu
    0x045f: 0x06af, // XK_Cyrillic_dzhe
    0x0490: 0x06bd, // XK_Ukrainian_GHE_WITH_UPTURN
    0x0491: 0x06ad, // XK_Ukrainian_ghe_with_upturn
    0x05d0: 0x0ce0, // XK_hebrew_aleph
    0x05d1: 0x0ce1, // XK_hebrew_bet
    0x05d2: 0x0ce2, // XK_hebrew_gimel
    0x05d3: 0x0ce3, // XK_hebrew_dalet
    0x05d4: 0x0ce4, // XK_hebrew_he
    0x05d5: 0x0ce5, // XK_hebrew_waw
    0x05d6: 0x0ce6, // XK_hebrew_zain
    0x05d7: 0x0ce7, // XK_hebrew_chet
    0x05d8: 0x0ce8, // XK_hebrew_tet
    0x05d9: 0x0ce9, // XK_hebrew_yod
    0x05da: 0x0cea, // XK_hebrew_finalkaph
    0x05db: 0x0ceb, // XK_hebrew_kaph
    0x05dc: 0x0cec, // XK_hebrew_lamed
    0x05dd: 0x0ced, // XK_hebrew_finalmem
    0x05de: 0x0cee, // XK_hebrew_mem
    0x05df: 0x0cef, // XK_hebrew_finalnun
    0x05e0: 0x0cf0, // XK_hebrew_nun
    0x05e1: 0x0cf1, // XK_hebrew_samech
    0x05e2: 0x0cf2, // XK_hebrew_ayin
    0x05e3: 0x0cf3, // XK_hebrew_finalpe
    0x05e4: 0x0cf4, // XK_hebrew_pe
    0x05e5: 0x0cf5, // XK_hebrew_finalzade
    0x05e6: 0x0cf6, // XK_hebrew_zade
    0x05e7: 0x0cf7, // XK_hebrew_qoph
    0x05e8: 0x0cf8, // XK_hebrew_resh
    0x05e9: 0x0cf9, // XK_hebrew_shin
    0x05ea: 0x0cfa, // XK_hebrew_taw
    0x060c: 0x05ac, // XK_Arabic_comma
    0x061b: 0x05bb, // XK_Arabic_semicolon
    0x061f: 0x05bf, // XK_Arabic_question_mark
    0x0621: 0x05c1, // XK_Arabic_hamza
    0x0622: 0x05c2, // XK_Arabic_maddaonalef
    0x0623: 0x05c3, // XK_Arabic_hamzaonalef
    0x0624: 0x05c4, // XK_Arabic_hamzaonwaw
    0x0625: 0x05c5, // XK_Arabic_hamzaunderalef
    0x0626: 0x05c6, // XK_Arabic_hamzaonyeh
    0x0627: 0x05c7, // XK_Arabic_alef
    0x0628: 0x05c8, // XK_Arabic_beh
    0x0629: 0x05c9, // XK_Arabic_tehmarbuta
    0x062a: 0x05ca, // XK_Arabic_teh
    0x062b: 0x05cb, // XK_Arabic_theh
    0x062c: 0x05cc, // XK_Arabic_jeem
    0x062d: 0x05cd, // XK_Arabic_hah
    0x062e: 0x05ce, // XK_Arabic_khah
    0x062f: 0x05cf, // XK_Arabic_dal
    0x0630: 0x05d0, // XK_Arabic_thal
    0x0631: 0x05d1, // XK_Arabic_ra
    0x0632: 0x05d2, // XK_Arabic_zain
    0x0633: 0x05d3, // XK_Arabic_seen
    0x0634: 0x05d4, // XK_Arabic_sheen
    0x0635: 0x05d5, // XK_Arabic_sad
    0x0636: 0x05d6, // XK_Arabic_dad
    0x0637: 0x05d7, // XK_Arabic_tah
    0x0638: 0x05d8, // XK_Arabic_zah
    0x0639: 0x05d9, // XK_Arabic_ain
    0x063a: 0x05da, // XK_Arabic_ghain
    0x0640: 0x05e0, // XK_Arabic_tatweel
    0x0641: 0x05e1, // XK_Arabic_feh
    0x0642: 0x05e2, // XK_Arabic_qaf
    0x0643: 0x05e3, // XK_Arabic_kaf
    0x0644: 0x05e4, // XK_Arabic_lam
    0x0645: 0x05e5, // XK_Arabic_meem
    0x0646: 0x05e6, // XK_Arabic_noon
    0x0647: 0x05e7, // XK_Arabic_ha
    0x0648: 0x05e8, // XK_Arabic_waw
    0x0649: 0x05e9, // XK_Arabic_alefmaksura
    0x064a: 0x05ea, // XK_Arabic_yeh
    0x064b: 0x05eb, // XK_Arabic_fathatan
    0x064c: 0x05ec, // XK_Arabic_dammatan
    0x064d: 0x05ed, // XK_Arabic_kasratan
    0x064e: 0x05ee, // XK_Arabic_fatha
    0x064f: 0x05ef, // XK_Arabic_damma
    0x0650: 0x05f0, // XK_Arabic_kasra
    0x0651: 0x05f1, // XK_Arabic_shadda
    0x0652: 0x05f2, // XK_Arabic_sukun
    0x0e01: 0x0da1, // XK_Thai_kokai
    0x0e02: 0x0da2, // XK_Thai_khokhai
    0x0e03: 0x0da3, // XK_Thai_khokhuat
    0x0e04: 0x0da4, // XK_Thai_khokhwai
    0x0e05: 0x0da5, // XK_Thai_khokhon
    0x0e06: 0x0da6, // XK_Thai_khorakhang
    0x0e07: 0x0da7, // XK_Thai_ngongu
    0x0e08: 0x0da8, // XK_Thai_chochan
    0x0e09: 0x0da9, // XK_Thai_choching
    0x0e0a: 0x0daa, // XK_Thai_chochang
    0x0e0b: 0x0dab, // XK_Thai_soso
    0x0e0c: 0x0dac, // XK_Thai_chochoe
    0x0e0d: 0x0dad, // XK_Thai_yoying
    0x0e0e: 0x0dae, // XK_Thai_dochada
    0x0e0f: 0x0daf, // XK_Thai_topatak
    0x0e10: 0x0db0, // XK_Thai_thothan
    0x0e11: 0x0db1, // XK_Thai_thonangmontho
    0x0e12: 0x0db2, // XK_Thai_thophuthao
    0x0e13: 0x0db3, // XK_Thai_nonen
    0x0e14: 0x0db4, // XK_Thai_dodek
    0x0e15: 0x0db5, // XK_Thai_totao
    0x0e16: 0x0db6, // XK_Thai_thothung
    0x0e17: 0x0db7, // XK_Thai_thothahan
    0x0e18: 0x0db8, // XK_Thai_thothong
    0x0e19: 0x0db9, // XK_Thai_nonu
    0x0e1a: 0x0dba, // XK_Thai_bobaimai
    0x0e1b: 0x0dbb, // XK_Thai_popla
    0x0e1c: 0x0dbc, // XK_Thai_phophung
    0x0e1d: 0x0dbd, // XK_Thai_fofa
    0x0e1e: 0x0dbe, // XK_Thai_phophan
    0x0e1f: 0x0dbf, // XK_Thai_fofan
    0x0e20: 0x0dc0, // XK_Thai_phosamphao
    0x0e21: 0x0dc1, // XK_Thai_moma
    0x0e22: 0x0dc2, // XK_Thai_yoyak
    0x0e23: 0x0dc3, // XK_Thai_rorua
    0x0e24: 0x0dc4, // XK_Thai_ru
    0x0e25: 0x0dc5, // XK_Thai_loling
    0x0e26: 0x0dc6, // XK_Thai_lu
    0x0e27: 0x0dc7, // XK_Thai_wowaen
    0x0e28: 0x0dc8, // XK_Thai_sosala
    0x0e29: 0x0dc9, // XK_Thai_sorusi
    0x0e2a: 0x0dca, // XK_Thai_sosua
    0x0e2b: 0x0dcb, // XK_Thai_hohip
    0x0e2c: 0x0dcc, // XK_Thai_lochula
    0x0e2d: 0x0dcd, // XK_Thai_oang
    0x0e2e: 0x0dce, // XK_Thai_honokhuk
    0x0e2f: 0x0dcf, // XK_Thai_paiyannoi
    0x0e30: 0x0dd0, // XK_Thai_saraa
    0x0e31: 0x0dd1, // XK_Thai_maihanakat
    0x0e32: 0x0dd2, // XK_Thai_saraaa
    0x0e33: 0x0dd3, // XK_Thai_saraam
    0x0e34: 0x0dd4, // XK_Thai_sarai
    0x0e35: 0x0dd5, // XK_Thai_saraii
    0x0e36: 0x0dd6, // XK_Thai_saraue
    0x0e37: 0x0dd7, // XK_Thai_sarauee
    0x0e38: 0x0dd8, // XK_Thai_sarau
    0x0e39: 0x0dd9, // XK_Thai_sarauu
    0x0e3a: 0x0dda, // XK_Thai_phinthu
    0x0e3f: 0x0ddf, // XK_Thai_baht
    0x0e40: 0x0de0, // XK_Thai_sarae
    0x0e41: 0x0de1, // XK_Thai_saraae
    0x0e42: 0x0de2, // XK_Thai_sarao
    0x0e43: 0x0de3, // XK_Thai_saraaimaimuan
    0x0e44: 0x0de4, // XK_Thai_saraaimaimalai
    0x0e45: 0x0de5, // XK_Thai_lakkhangyao
    0x0e46: 0x0de6, // XK_Thai_maiyamok
    0x0e47: 0x0de7, // XK_Thai_maitaikhu
    0x0e48: 0x0de8, // XK_Thai_maiek
    0x0e49: 0x0de9, // XK_Thai_maitho
    0x0e4a: 0x0dea, // XK_Thai_maitri
    0x0e4b: 0x0deb, // XK_Thai_maichattawa
    0x0e4c: 0x0dec, // XK_Thai_thanthakhat
    0x0e4d: 0x0ded, // XK_Thai_nikhahit
    0x0e50: 0x0df0, // XK_Thai_leksun
    0x0e51: 0x0df1, // XK_Thai_leknung
    0x0e52: 0x0df2, // XK_Thai_leksong
    0x0e53: 0x0df3, // XK_Thai_leksam
    0x0e54: 0x0df4, // XK_Thai_leksi
    0x0e55: 0x0df5, // XK_Thai_lekha
    0x0e56: 0x0df6, // XK_Thai_lekhok
    0x0e57: 0x0df7, // XK_Thai_lekchet
    0x0e58: 0x0df8, // XK_Thai_lekpaet
    0x0e59: 0x0df9, // XK_Thai_lekkao
    0x2002: 0x0aa2, // XK_enspace
    0x2003: 0x0aa1, // XK_emspace
    0x2004: 0x0aa3, // XK_em3space
    0x2005: 0x0aa4, // XK_em4space
    0x2007: 0x0aa5, // XK_digitspace
    0x2008: 0x0aa6, // XK_punctspace
    0x2009: 0x0aa7, // XK_thinspace
    0x200a: 0x0aa8, // XK_hairspace
    0x2012: 0x0abb, // XK_figdash
    0x2013: 0x0aaa, // XK_endash
    0x2014: 0x0aa9, // XK_emdash
    0x2015: 0x07af, // XK_Greek_horizbar
    0x2017: 0x0cdf, // XK_hebrew_doublelowline
    0x2018: 0x0ad0, // XK_leftsinglequotemark
    0x2019: 0x0ad1, // XK_rightsinglequotemark
    0x201a: 0x0afd, // XK_singlelowquotemark
    0x201c: 0x0ad2, // XK_leftdoublequotemark
    0x201d: 0x0ad3, // XK_rightdoublequotemark
    0x201e: 0x0afe, // XK_doublelowquotemark
    0x2020: 0x0af1, // XK_dagger
    0x2021: 0x0af2, // XK_doubledagger
    0x2022: 0x0ae6, // XK_enfilledcircbullet
    0x2025: 0x0aaf, // XK_doubbaselinedot
    0x2026: 0x0aae, // XK_ellipsis
    0x2030: 0x0ad5, // XK_permille
    0x2032: 0x0ad6, // XK_minutes
    0x2033: 0x0ad7, // XK_seconds
    0x2038: 0x0afc, // XK_caret
    0x203e: 0x047e, // XK_overline
    0x20a9: 0x0eff, // XK_Korean_Won
    0x20ac: 0x20ac, // XK_EuroSign
    0x2105: 0x0ab8, // XK_careof
    0x2116: 0x06b0, // XK_numerosign
    0x2117: 0x0afb, // XK_phonographcopyright
    0x211e: 0x0ad4, // XK_prescription
    0x2122: 0x0ac9, // XK_trademark
    0x2153: 0x0ab0, // XK_onethird
    0x2154: 0x0ab1, // XK_twothirds
    0x2155: 0x0ab2, // XK_onefifth
    0x2156: 0x0ab3, // XK_twofifths
    0x2157: 0x0ab4, // XK_threefifths
    0x2158: 0x0ab5, // XK_fourfifths
    0x2159: 0x0ab6, // XK_onesixth
    0x215a: 0x0ab7, // XK_fivesixths
    0x215b: 0x0ac3, // XK_oneeighth
    0x215c: 0x0ac4, // XK_threeeighths
    0x215d: 0x0ac5, // XK_fiveeighths
    0x215e: 0x0ac6, // XK_seveneighths
    0x2190: 0x08fb, // XK_leftarrow
    0x2191: 0x08fc, // XK_uparrow
    0x2192: 0x08fd, // XK_rightarrow
    0x2193: 0x08fe, // XK_downarrow
    0x21d2: 0x08ce, // XK_implies
    0x21d4: 0x08cd, // XK_ifonlyif
    0x2202: 0x08ef, // XK_partialderivative
    0x2207: 0x08c5, // XK_nabla
    0x2218: 0x0bca, // XK_jot
    0x221a: 0x08d6, // XK_radical
    0x221d: 0x08c1, // XK_variation
    0x221e: 0x08c2, // XK_infinity
    0x2227: 0x08de, // XK_logicaland
    0x2228: 0x08df, // XK_logicalor
    0x2229: 0x08dc, // XK_intersection
    0x222a: 0x08dd, // XK_union
    0x222b: 0x08bf, // XK_integral
    0x2234: 0x08c0, // XK_therefore
    0x223c: 0x08c8, // XK_approximate
    0x2243: 0x08c9, // XK_similarequal
    0x2245: 0x1002248, // XK_approxeq
    0x2260: 0x08bd, // XK_notequal
    0x2261: 0x08cf, // XK_identical
    0x2264: 0x08bc, // XK_lessthanequal
    0x2265: 0x08be, // XK_greaterthanequal
    0x2282: 0x08da, // XK_includedin
    0x2283: 0x08db, // XK_includes
    0x22a2: 0x0bfc, // XK_righttack
    0x22a3: 0x0bdc, // XK_lefttack
    0x22a4: 0x0bc2, // XK_downtack
    0x22a5: 0x0bce, // XK_uptack
    0x2308: 0x0bd3, // XK_upstile
    0x230a: 0x0bc4, // XK_downstile
    0x2315: 0x0afa, // XK_telephonerecorder
    0x2320: 0x08a4, // XK_topintegral
    0x2321: 0x08a5, // XK_botintegral
    0x2395: 0x0bcc, // XK_quad
    0x239b: 0x08ab, // XK_topleftparens
    0x239d: 0x08ac, // XK_botleftparens
    0x239e: 0x08ad, // XK_toprightparens
    0x23a0: 0x08ae, // XK_botrightparens
    0x23a1: 0x08a7, // XK_topleftsqbracket
    0x23a3: 0x08a8, // XK_botleftsqbracket
    0x23a4: 0x08a9, // XK_toprightsqbracket
    0x23a6: 0x08aa, // XK_botrightsqbracket
    0x23a8: 0x08af, // XK_leftmiddlecurlybrace
    0x23ac: 0x08b0, // XK_rightmiddlecurlybrace
    0x23b7: 0x08a1, // XK_leftradical
    0x23ba: 0x09ef, // XK_horizlinescan1
    0x23bb: 0x09f0, // XK_horizlinescan3
    0x23bc: 0x09f2, // XK_horizlinescan7
    0x23bd: 0x09f3, // XK_horizlinescan9
    0x2409: 0x09e2, // XK_ht
    0x240a: 0x09e5, // XK_lf
    0x240b: 0x09e9, // XK_vt
    0x240c: 0x09e3, // XK_ff
    0x240d: 0x09e4, // XK_cr
    0x2423: 0x0aac, // XK_signifblank
    0x2424: 0x09e8, // XK_nl
    0x2500: 0x08a3, // XK_horizconnector
    0x2502: 0x08a6, // XK_vertconnector
    0x250c: 0x08a2, // XK_topleftradical
    0x2510: 0x09eb, // XK_uprightcorner
    0x2514: 0x09ed, // XK_lowleftcorner
    0x2518: 0x09ea, // XK_lowrightcorner
    0x251c: 0x09f4, // XK_leftt
    0x2524: 0x09f5, // XK_rightt
    0x252c: 0x09f7, // XK_topt
    0x2534: 0x09f6, // XK_bott
    0x253c: 0x09ee, // XK_crossinglines
    0x2592: 0x09e1, // XK_checkerboard
    0x25aa: 0x0ae7, // XK_enfilledsqbullet
    0x25ab: 0x0ae1, // XK_enopensquarebullet
    0x25ac: 0x0adb, // XK_filledrectbullet
    0x25ad: 0x0ae2, // XK_openrectbullet
    0x25ae: 0x0adf, // XK_emfilledrect
    0x25af: 0x0acf, // XK_emopenrectangle
    0x25b2: 0x0ae8, // XK_filledtribulletup
    0x25b3: 0x0ae3, // XK_opentribulletup
    0x25b6: 0x0add, // XK_filledrighttribullet
    0x25b7: 0x0acd, // XK_rightopentriangle
    0x25bc: 0x0ae9, // XK_filledtribulletdown
    0x25bd: 0x0ae4, // XK_opentribulletdown
    0x25c0: 0x0adc, // XK_filledlefttribullet
    0x25c1: 0x0acc, // XK_leftopentriangle
    0x25c6: 0x09e0, // XK_soliddiamond
    0x25cb: 0x0ace, // XK_emopencircle
    0x25cf: 0x0ade, // XK_emfilledcircle
    0x25e6: 0x0ae0, // XK_enopencircbullet
    0x2606: 0x0ae5, // XK_openstar
    0x260e: 0x0af9, // XK_telephone
    0x2613: 0x0aca, // XK_signaturemark
    0x261c: 0x0aea, // XK_leftpointer
    0x261e: 0x0aeb, // XK_rightpointer
    0x2640: 0x0af8, // XK_femalesymbol
    0x2642: 0x0af7, // XK_malesymbol
    0x2663: 0x0aec, // XK_club
    0x2665: 0x0aee, // XK_heart
    0x2666: 0x0aed, // XK_diamond
    0x266d: 0x0af6, // XK_musicalflat
    0x266f: 0x0af5, // XK_musicalsharp
    0x2713: 0x0af3, // XK_checkmark
    0x2717: 0x0af4, // XK_ballotcross
    0x271d: 0x0ad9, // XK_latincross
    0x2720: 0x0af0, // XK_maltesecross
    0x27e8: 0x0abc, // XK_leftanglebracket
    0x27e9: 0x0abe, // XK_rightanglebracket
    0x3001: 0x04a4, // XK_kana_comma
    0x3002: 0x04a1, // XK_kana_fullstop
    0x300c: 0x04a2, // XK_kana_openingbracket
    0x300d: 0x04a3, // XK_kana_closingbracket
    0x309b: 0x04de, // XK_voicedsound
    0x309c: 0x04df, // XK_semivoicedsound
    0x30a1: 0x04a7, // XK_kana_a
    0x30a2: 0x04b1, // XK_kana_A
    0x30a3: 0x04a8, // XK_kana_i
    0x30a4: 0x04b2, // XK_kana_I
    0x30a5: 0x04a9, // XK_kana_u
    0x30a6: 0x04b3, // XK_kana_U
    0x30a7: 0x04aa, // XK_kana_e
    0x30a8: 0x04b4, // XK_kana_E
    0x30a9: 0x04ab, // XK_kana_o
    0x30aa: 0x04b5, // XK_kana_O
    0x30ab: 0x04b6, // XK_kana_KA
    0x30ad: 0x04b7, // XK_kana_KI
    0x30af: 0x04b8, // XK_kana_KU
    0x30b1: 0x04b9, // XK_kana_KE
    0x30b3: 0x04ba, // XK_kana_KO
    0x30b5: 0x04bb, // XK_kana_SA
    0x30b7: 0x04bc, // XK_kana_SHI
    0x30b9: 0x04bd, // XK_kana_SU
    0x30bb: 0x04be, // XK_kana_SE
    0x30bd: 0x04bf, // XK_kana_SO
    0x30bf: 0x04c0, // XK_kana_TA
    0x30c1: 0x04c1, // XK_kana_CHI
    0x30c3: 0x04af, // XK_kana_tsu
    0x30c4: 0x04c2, // XK_kana_TSU
    0x30c6: 0x04c3, // XK_kana_TE
    0x30c8: 0x04c4, // XK_kana_TO
    0x30ca: 0x04c5, // XK_kana_NA
    0x30cb: 0x04c6, // XK_kana_NI
    0x30cc: 0x04c7, // XK_kana_NU
    0x30cd: 0x04c8, // XK_kana_NE
    0x30ce: 0x04c9, // XK_kana_NO
    0x30cf: 0x04ca, // XK_kana_HA
    0x30d2: 0x04cb, // XK_kana_HI
    0x30d5: 0x04cc, // XK_kana_FU
    0x30d8: 0x04cd, // XK_kana_HE
    0x30db: 0x04ce, // XK_kana_HO
    0x30de: 0x04cf, // XK_kana_MA
    0x30df: 0x04d0, // XK_kana_MI
    0x30e0: 0x04d1, // XK_kana_MU
    0x30e1: 0x04d2, // XK_kana_ME
    0x30e2: 0x04d3, // XK_kana_MO
    0x30e3: 0x04ac, // XK_kana_ya
    0x30e4: 0x04d4, // XK_kana_YA
    0x30e5: 0x04ad, // XK_kana_yu
    0x30e6: 0x04d5, // XK_kana_YU
    0x30e7: 0x04ae, // XK_kana_yo
    0x30e8: 0x04d6, // XK_kana_YO
    0x30e9: 0x04d7, // XK_kana_RA
    0x30ea: 0x04d8, // XK_kana_RI
    0x30eb: 0x04d9, // XK_kana_RU
    0x30ec: 0x04da, // XK_kana_RE
    0x30ed: 0x04db, // XK_kana_RO
    0x30ef: 0x04dc, // XK_kana_WA
    0x30f2: 0x04a6, // XK_kana_WO
    0x30f3: 0x04dd, // XK_kana_N
    0x30fb: 0x04a5, // XK_kana_conjunctive
    0x30fc: 0x04b0, // XK_prolongedsound
};

/* harmony default export */ __webpack_exports__["default"] = ({
    lookup(u) {
        // Latin-1 is one-to-one mapping
        if ((u >= 0x20) && (u <= 0xff)) {
            return u;
        }

        // Lookup table (fairly random)
        const keysym = codepoints[u];
        if (keysym !== undefined) {
            return keysym;
        }

        // General mapping as final fallback
        return 0x01000000 | u;
    },
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/mouse.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/mouse.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Mouse; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */





const WHEEL_STEP = 10; // Delta threshold for a mouse wheel step
const WHEEL_STEP_TIMEOUT = 50; // ms
const WHEEL_LINE_HEIGHT = 19;

class Mouse {
    constructor(target) {
        this._target = target || document;

        this._doubleClickTimer = null;
        this._lastTouchPos = null;

        this._pos = null;
        this._wheelStepXTimer = null;
        this._wheelStepYTimer = null;
        this._accumulatedWheelDeltaX = 0;
        this._accumulatedWheelDeltaY = 0;

        this._eventHandlers = {
            'mousedown': this._handleMouseDown.bind(this),
            'mouseup': this._handleMouseUp.bind(this),
            'mousemove': this._handleMouseMove.bind(this),
            'mousewheel': this._handleMouseWheel.bind(this),
            'mousedisable': this._handleMouseDisable.bind(this)
        };

        // ===== PROPERTIES =====

        this.touchButton = 1;                 // Button mask (1, 2, 4) for touch devices (0 means ignore clicks)

        // ===== EVENT HANDLERS =====

        this.onmousebutton = () => {}; // Handler for mouse button click/release
        this.onmousemove = () => {}; // Handler for mouse movement
    }

    // ===== PRIVATE METHODS =====

    _resetDoubleClickTimer() {
        this._doubleClickTimer = null;
    }

    _handleMouseButton(e, down) {
        this._updateMousePosition(e);
        let pos = this._pos;

        let bmask;
        if (e.touches || e.changedTouches) {
            // Touch device

            // When two touches occur within 500 ms of each other and are
            // close enough together a double click is triggered.
            if (down == 1) {
                if (this._doubleClickTimer === null) {
                    this._lastTouchPos = pos;
                } else {
                    clearTimeout(this._doubleClickTimer);

                    // When the distance between the two touches is small enough
                    // force the position of the latter touch to the position of
                    // the first.

                    const xs = this._lastTouchPos.x - pos.x;
                    const ys = this._lastTouchPos.y - pos.y;
                    const d = Math.sqrt((xs * xs) + (ys * ys));

                    // The goal is to trigger on a certain physical width, the
                    // devicePixelRatio brings us a bit closer but is not optimal.
                    const threshold = 20 * (window.devicePixelRatio || 1);
                    if (d < threshold) {
                        pos = this._lastTouchPos;
                    }
                }
                this._doubleClickTimer = setTimeout(this._resetDoubleClickTimer.bind(this), 500);
            }
            bmask = this.touchButton;
            // If bmask is set
        } else if (e.which) {
            /* everything except IE */
            bmask = 1 << e.button;
        } else {
            /* IE including 9 */
            bmask = (e.button & 0x1) +      // Left
                    (e.button & 0x2) * 2 +  // Right
                    (e.button & 0x4) / 2;   // Middle
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onmousebutton " + (down ? "down" : "up") +
                  ", x: " + pos.x + ", y: " + pos.y + ", bmask: " + bmask);
        this.onmousebutton(pos.x, pos.y, down, bmask);

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    }

    _handleMouseDown(e) {
        // Touch events have implicit capture
        if (e.type === "mousedown") {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["setCapture"])(this._target);
        }

        this._handleMouseButton(e, 1);
    }

    _handleMouseUp(e) {
        this._handleMouseButton(e, 0);
    }

    // Mouse wheel events are sent in steps over VNC. This means that the VNC
    // protocol can't handle a wheel event with specific distance or speed.
    // Therefor, if we get a lot of small mouse wheel events we combine them.
    _generateWheelStepX() {

        if (this._accumulatedWheelDeltaX < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 5);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 5);
        } else if (this._accumulatedWheelDeltaX > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 6);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 6);
        }

        this._accumulatedWheelDeltaX = 0;
    }

    _generateWheelStepY() {

        if (this._accumulatedWheelDeltaY < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 3);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 3);
        } else if (this._accumulatedWheelDeltaY > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 4);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 4);
        }

        this._accumulatedWheelDeltaY = 0;
    }

    _resetWheelStepTimers() {
        window.clearTimeout(this._wheelStepXTimer);
        window.clearTimeout(this._wheelStepYTimer);
        this._wheelStepXTimer = null;
        this._wheelStepYTimer = null;
    }

    _handleMouseWheel(e) {
        this._resetWheelStepTimers();

        this._updateMousePosition(e);

        let dX = e.deltaX;
        let dY = e.deltaY;

        // Pixel units unless it's non-zero.
        // Note that if deltamode is line or page won't matter since we aren't
        // sending the mouse wheel delta to the server anyway.
        // The difference between pixel and line can be important however since
        // we have a threshold that can be smaller than the line height.
        if (e.deltaMode !== 0) {
            dX *= WHEEL_LINE_HEIGHT;
            dY *= WHEEL_LINE_HEIGHT;
        }

        this._accumulatedWheelDeltaX += dX;
        this._accumulatedWheelDeltaY += dY;

        // Generate a mouse wheel step event when the accumulated delta
        // for one of the axes is large enough.
        // Small delta events that do not pass the threshold get sent
        // after a timeout.
        if (Math.abs(this._accumulatedWheelDeltaX) > WHEEL_STEP) {
            this._generateWheelStepX();
        } else {
            this._wheelStepXTimer =
                window.setTimeout(this._generateWheelStepX.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }
        if (Math.abs(this._accumulatedWheelDeltaY) > WHEEL_STEP) {
            this._generateWheelStepY();
        } else {
            this._wheelStepYTimer =
                window.setTimeout(this._generateWheelStepY.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    }

    _handleMouseMove(e) {
        this._updateMousePosition(e);
        this.onmousemove(this._pos.x, this._pos.y);
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    }

    _handleMouseDisable(e) {
        /*
         * Stop propagation if inside canvas area
         * Note: This is only needed for the 'click' event as it fails
         *       to fire properly for the target element so we have
         *       to listen on the document element instead.
         */
        if (e.target == this._target) {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
        }
    }

    // Update coordinates relative to target
    _updateMousePosition(e) {
        e = Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["getPointerEvent"])(e);
        const bounds = this._target.getBoundingClientRect();
        let x;
        let y;
        // Clip to target bounds
        if (e.clientX < bounds.left) {
            x = 0;
        } else if (e.clientX >= bounds.right) {
            x = bounds.width - 1;
        } else {
            x = e.clientX - bounds.left;
        }
        if (e.clientY < bounds.top) {
            y = 0;
        } else if (e.clientY >= bounds.bottom) {
            y = bounds.height - 1;
        } else {
            y = e.clientY - bounds.top;
        }
        this._pos = {x: x, y: y};
    }

    // ===== PUBLIC METHODS =====

    grab() {
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            this._target.addEventListener('touchstart', this._eventHandlers.mousedown);
            this._target.addEventListener('touchend', this._eventHandlers.mouseup);
            this._target.addEventListener('touchmove', this._eventHandlers.mousemove);
        }
        this._target.addEventListener('mousedown', this._eventHandlers.mousedown);
        this._target.addEventListener('mouseup', this._eventHandlers.mouseup);
        this._target.addEventListener('mousemove', this._eventHandlers.mousemove);
        this._target.addEventListener('wheel', this._eventHandlers.mousewheel);

        /* Prevent middle-click pasting (see above for why we bind to document) */
        document.addEventListener('click', this._eventHandlers.mousedisable);

        /* preventDefault() on mousedown doesn't stop this event for some
           reason so we have to explicitly block it */
        this._target.addEventListener('contextmenu', this._eventHandlers.mousedisable);
    }

    ungrab() {
        this._resetWheelStepTimers();

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            this._target.removeEventListener('touchstart', this._eventHandlers.mousedown);
            this._target.removeEventListener('touchend', this._eventHandlers.mouseup);
            this._target.removeEventListener('touchmove', this._eventHandlers.mousemove);
        }
        this._target.removeEventListener('mousedown', this._eventHandlers.mousedown);
        this._target.removeEventListener('mouseup', this._eventHandlers.mouseup);
        this._target.removeEventListener('mousemove', this._eventHandlers.mousemove);
        this._target.removeEventListener('wheel', this._eventHandlers.mousewheel);

        document.removeEventListener('click', this._eventHandlers.mousedisable);

        this._target.removeEventListener('contextmenu', this._eventHandlers.mousedisable);
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/util.js":
/*!******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/util.js ***!
  \******************************************************/
/*! exports provided: getKeycode, getKey, getKeysym */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeycode", function() { return getKeycode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKey", function() { return getKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeysym", function() { return getKeysym; });
/* harmony import */ var _keysymdef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysymdef.js */ "./node_modules/@novnc/novnc/core/input/keysymdef.js");
/* harmony import */ var _vkeys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vkeys.js */ "./node_modules/@novnc/novnc/core/input/vkeys.js");
/* harmony import */ var _fixedkeys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fixedkeys.js */ "./node_modules/@novnc/novnc/core/input/fixedkeys.js");
/* harmony import */ var _domkeytable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./domkeytable.js */ "./node_modules/@novnc/novnc/core/input/domkeytable.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");






// Get 'KeyboardEvent.code', handling legacy browsers
function getKeycode(evt) {
    // Are we getting proper key identifiers?
    // (unfortunately Firefox and Chrome are crappy here and gives
    // us an empty string on some platforms, rather than leaving it
    // undefined)
    if (evt.code) {
        // Mozilla isn't fully in sync with the spec yet
        switch (evt.code) {
            case 'OSLeft': return 'MetaLeft';
            case 'OSRight': return 'MetaRight';
        }

        return evt.code;
    }

    // The de-facto standard is to use Windows Virtual-Key codes
    // in the 'keyCode' field for non-printable characters. However
    // Webkit sets it to the same as charCode in 'keypress' events.
    if ((evt.type !== 'keypress') && (evt.keyCode in _vkeys_js__WEBPACK_IMPORTED_MODULE_1__["default"])) {
        let code = _vkeys_js__WEBPACK_IMPORTED_MODULE_1__["default"][evt.keyCode];

        // macOS has messed up this code for some reason
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'ContextMenu')) {
            code = 'MetaRight';
        }

        // The keyCode doesn't distinguish between left and right
        // for the standard modifiers
        if (evt.location === 2) {
            switch (code) {
                case 'ShiftLeft': return 'ShiftRight';
                case 'ControlLeft': return 'ControlRight';
                case 'AltLeft': return 'AltRight';
            }
        }

        // Nor a bunch of the numpad keys
        if (evt.location === 3) {
            switch (code) {
                case 'Delete': return 'NumpadDecimal';
                case 'Insert': return 'Numpad0';
                case 'End': return 'Numpad1';
                case 'ArrowDown': return 'Numpad2';
                case 'PageDown': return 'Numpad3';
                case 'ArrowLeft': return 'Numpad4';
                case 'ArrowRight': return 'Numpad6';
                case 'Home': return 'Numpad7';
                case 'ArrowUp': return 'Numpad8';
                case 'PageUp': return 'Numpad9';
                case 'Enter': return 'NumpadEnter';
            }
        }

        return code;
    }

    return 'Unidentified';
}

// Get 'KeyboardEvent.key', handling legacy browsers
function getKey(evt) {
    // Are we getting a proper key value?
    if (evt.key !== undefined) {
        // IE and Edge use some ancient version of the spec
        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/
        switch (evt.key) {
            case 'Spacebar': return ' ';
            case 'Esc': return 'Escape';
            case 'Scroll': return 'ScrollLock';
            case 'Win': return 'Meta';
            case 'Apps': return 'ContextMenu';
            case 'Up': return 'ArrowUp';
            case 'Left': return 'ArrowLeft';
            case 'Right': return 'ArrowRight';
            case 'Down': return 'ArrowDown';
            case 'Del': return 'Delete';
            case 'Divide': return '/';
            case 'Multiply': return '*';
            case 'Subtract': return '-';
            case 'Add': return '+';
            case 'Decimal': return evt.char;
        }

        // Mozilla isn't fully in sync with the spec yet
        switch (evt.key) {
            case 'OS': return 'Meta';
        }

        // iOS leaks some OS names
        switch (evt.key) {
            case 'UIKeyInputUpArrow': return 'ArrowUp';
            case 'UIKeyInputDownArrow': return 'ArrowDown';
            case 'UIKeyInputLeftArrow': return 'ArrowLeft';
            case 'UIKeyInputRightArrow': return 'ArrowRight';
            case 'UIKeyInputEscape': return 'Escape';
        }

        // IE and Edge have broken handling of AltGraph so we cannot
        // trust them for printable characters
        if ((evt.key.length !== 1) || (!_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIE"]() && !_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isEdge"]())) {
            return evt.key;
        }
    }

    // Try to deduce it based on the physical key
    const code = getKeycode(evt);
    if (code in _fixedkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"]) {
        return _fixedkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"][code];
    }

    // If that failed, then see if we have a printable character
    if (evt.charCode) {
        return String.fromCharCode(evt.charCode);
    }

    // At this point we have nothing left to go on
    return 'Unidentified';
}

// Get the most reliable keysym value we can get from a key event
function getKeysym(evt) {
    const key = getKey(evt);

    if (key === 'Unidentified') {
        return null;
    }

    // First look up special keys
    if (key in _domkeytable_js__WEBPACK_IMPORTED_MODULE_3__["default"]) {
        let location = evt.location;

        // Safari screws up location for the right cmd key
        if ((key === 'Meta') && (location === 0)) {
            location = 2;
        }

        if ((location === undefined) || (location > 3)) {
            location = 0;
        }

        return _domkeytable_js__WEBPACK_IMPORTED_MODULE_3__["default"][key][location];
    }

    // Now we need to look at the Unicode symbol instead

    // Special key? (FIXME: Should have been caught earlier)
    if (key.length !== 1) {
        return null;
    }

    const codepoint = key.charCodeAt();
    if (codepoint) {
        return _keysymdef_js__WEBPACK_IMPORTED_MODULE_0__["default"].lookup(codepoint);
    }

    return null;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/vkeys.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/vkeys.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Mapping between Microsoft Windows Virtual-Key codes and
 * HTML key codes.
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    0x08: 'Backspace',
    0x09: 'Tab',
    0x0a: 'NumpadClear',
    0x0c: 'Numpad5', // IE11 sends evt.keyCode: 12 when numlock is off
    0x0d: 'Enter',
    0x10: 'ShiftLeft',
    0x11: 'ControlLeft',
    0x12: 'AltLeft',
    0x13: 'Pause',
    0x14: 'CapsLock',
    0x15: 'Lang1',
    0x19: 'Lang2',
    0x1b: 'Escape',
    0x1c: 'Convert',
    0x1d: 'NonConvert',
    0x20: 'Space',
    0x21: 'PageUp',
    0x22: 'PageDown',
    0x23: 'End',
    0x24: 'Home',
    0x25: 'ArrowLeft',
    0x26: 'ArrowUp',
    0x27: 'ArrowRight',
    0x28: 'ArrowDown',
    0x29: 'Select',
    0x2c: 'PrintScreen',
    0x2d: 'Insert',
    0x2e: 'Delete',
    0x2f: 'Help',
    0x30: 'Digit0',
    0x31: 'Digit1',
    0x32: 'Digit2',
    0x33: 'Digit3',
    0x34: 'Digit4',
    0x35: 'Digit5',
    0x36: 'Digit6',
    0x37: 'Digit7',
    0x38: 'Digit8',
    0x39: 'Digit9',
    0x5b: 'MetaLeft',
    0x5c: 'MetaRight',
    0x5d: 'ContextMenu',
    0x5f: 'Sleep',
    0x60: 'Numpad0',
    0x61: 'Numpad1',
    0x62: 'Numpad2',
    0x63: 'Numpad3',
    0x64: 'Numpad4',
    0x65: 'Numpad5',
    0x66: 'Numpad6',
    0x67: 'Numpad7',
    0x68: 'Numpad8',
    0x69: 'Numpad9',
    0x6a: 'NumpadMultiply',
    0x6b: 'NumpadAdd',
    0x6c: 'NumpadDecimal',
    0x6d: 'NumpadSubtract',
    0x6e: 'NumpadDecimal', // Duplicate, because buggy on Windows
    0x6f: 'NumpadDivide',
    0x70: 'F1',
    0x71: 'F2',
    0x72: 'F3',
    0x73: 'F4',
    0x74: 'F5',
    0x75: 'F6',
    0x76: 'F7',
    0x77: 'F8',
    0x78: 'F9',
    0x79: 'F10',
    0x7a: 'F11',
    0x7b: 'F12',
    0x7c: 'F13',
    0x7d: 'F14',
    0x7e: 'F15',
    0x7f: 'F16',
    0x80: 'F17',
    0x81: 'F18',
    0x82: 'F19',
    0x83: 'F20',
    0x84: 'F21',
    0x85: 'F22',
    0x86: 'F23',
    0x87: 'F24',
    0x90: 'NumLock',
    0x91: 'ScrollLock',
    0xa6: 'BrowserBack',
    0xa7: 'BrowserForward',
    0xa8: 'BrowserRefresh',
    0xa9: 'BrowserStop',
    0xaa: 'BrowserSearch',
    0xab: 'BrowserFavorites',
    0xac: 'BrowserHome',
    0xad: 'AudioVolumeMute',
    0xae: 'AudioVolumeDown',
    0xaf: 'AudioVolumeUp',
    0xb0: 'MediaTrackNext',
    0xb1: 'MediaTrackPrevious',
    0xb2: 'MediaStop',
    0xb3: 'MediaPlayPause',
    0xb4: 'LaunchMail',
    0xb5: 'MediaSelect',
    0xb6: 'LaunchApp1',
    0xb7: 'LaunchApp2',
    0xe1: 'AltRight', // Only when it is AltGraph
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/xtscancodes.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/xtscancodes.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * This file is auto-generated from keymaps.csv on 2017-05-31 16:20
 * Database checksum sha256(92fd165507f2a3b8c5b3fa56e425d45788dbcb98cf067a307527d91ce22cab94)
 * To re-generate, run:
 *   keymap-gen --lang=js code-map keymaps.csv html atset1
*/
/* harmony default export */ __webpack_exports__["default"] = ({
  "Again": 0xe005, /* html:Again (Again) -> linux:129 (KEY_AGAIN) -> atset1:57349 */
  "AltLeft": 0x38, /* html:AltLeft (AltLeft) -> linux:56 (KEY_LEFTALT) -> atset1:56 */
  "AltRight": 0xe038, /* html:AltRight (AltRight) -> linux:100 (KEY_RIGHTALT) -> atset1:57400 */
  "ArrowDown": 0xe050, /* html:ArrowDown (ArrowDown) -> linux:108 (KEY_DOWN) -> atset1:57424 */
  "ArrowLeft": 0xe04b, /* html:ArrowLeft (ArrowLeft) -> linux:105 (KEY_LEFT) -> atset1:57419 */
  "ArrowRight": 0xe04d, /* html:ArrowRight (ArrowRight) -> linux:106 (KEY_RIGHT) -> atset1:57421 */
  "ArrowUp": 0xe048, /* html:ArrowUp (ArrowUp) -> linux:103 (KEY_UP) -> atset1:57416 */
  "AudioVolumeDown": 0xe02e, /* html:AudioVolumeDown (AudioVolumeDown) -> linux:114 (KEY_VOLUMEDOWN) -> atset1:57390 */
  "AudioVolumeMute": 0xe020, /* html:AudioVolumeMute (AudioVolumeMute) -> linux:113 (KEY_MUTE) -> atset1:57376 */
  "AudioVolumeUp": 0xe030, /* html:AudioVolumeUp (AudioVolumeUp) -> linux:115 (KEY_VOLUMEUP) -> atset1:57392 */
  "Backquote": 0x29, /* html:Backquote (Backquote) -> linux:41 (KEY_GRAVE) -> atset1:41 */
  "Backslash": 0x2b, /* html:Backslash (Backslash) -> linux:43 (KEY_BACKSLASH) -> atset1:43 */
  "Backspace": 0xe, /* html:Backspace (Backspace) -> linux:14 (KEY_BACKSPACE) -> atset1:14 */
  "BracketLeft": 0x1a, /* html:BracketLeft (BracketLeft) -> linux:26 (KEY_LEFTBRACE) -> atset1:26 */
  "BracketRight": 0x1b, /* html:BracketRight (BracketRight) -> linux:27 (KEY_RIGHTBRACE) -> atset1:27 */
  "BrowserBack": 0xe06a, /* html:BrowserBack (BrowserBack) -> linux:158 (KEY_BACK) -> atset1:57450 */
  "BrowserFavorites": 0xe066, /* html:BrowserFavorites (BrowserFavorites) -> linux:156 (KEY_BOOKMARKS) -> atset1:57446 */
  "BrowserForward": 0xe069, /* html:BrowserForward (BrowserForward) -> linux:159 (KEY_FORWARD) -> atset1:57449 */
  "BrowserHome": 0xe032, /* html:BrowserHome (BrowserHome) -> linux:172 (KEY_HOMEPAGE) -> atset1:57394 */
  "BrowserRefresh": 0xe067, /* html:BrowserRefresh (BrowserRefresh) -> linux:173 (KEY_REFRESH) -> atset1:57447 */
  "BrowserSearch": 0xe065, /* html:BrowserSearch (BrowserSearch) -> linux:217 (KEY_SEARCH) -> atset1:57445 */
  "BrowserStop": 0xe068, /* html:BrowserStop (BrowserStop) -> linux:128 (KEY_STOP) -> atset1:57448 */
  "CapsLock": 0x3a, /* html:CapsLock (CapsLock) -> linux:58 (KEY_CAPSLOCK) -> atset1:58 */
  "Comma": 0x33, /* html:Comma (Comma) -> linux:51 (KEY_COMMA) -> atset1:51 */
  "ContextMenu": 0xe05d, /* html:ContextMenu (ContextMenu) -> linux:127 (KEY_COMPOSE) -> atset1:57437 */
  "ControlLeft": 0x1d, /* html:ControlLeft (ControlLeft) -> linux:29 (KEY_LEFTCTRL) -> atset1:29 */
  "ControlRight": 0xe01d, /* html:ControlRight (ControlRight) -> linux:97 (KEY_RIGHTCTRL) -> atset1:57373 */
  "Convert": 0x79, /* html:Convert (Convert) -> linux:92 (KEY_HENKAN) -> atset1:121 */
  "Copy": 0xe078, /* html:Copy (Copy) -> linux:133 (KEY_COPY) -> atset1:57464 */
  "Cut": 0xe03c, /* html:Cut (Cut) -> linux:137 (KEY_CUT) -> atset1:57404 */
  "Delete": 0xe053, /* html:Delete (Delete) -> linux:111 (KEY_DELETE) -> atset1:57427 */
  "Digit0": 0xb, /* html:Digit0 (Digit0) -> linux:11 (KEY_0) -> atset1:11 */
  "Digit1": 0x2, /* html:Digit1 (Digit1) -> linux:2 (KEY_1) -> atset1:2 */
  "Digit2": 0x3, /* html:Digit2 (Digit2) -> linux:3 (KEY_2) -> atset1:3 */
  "Digit3": 0x4, /* html:Digit3 (Digit3) -> linux:4 (KEY_3) -> atset1:4 */
  "Digit4": 0x5, /* html:Digit4 (Digit4) -> linux:5 (KEY_4) -> atset1:5 */
  "Digit5": 0x6, /* html:Digit5 (Digit5) -> linux:6 (KEY_5) -> atset1:6 */
  "Digit6": 0x7, /* html:Digit6 (Digit6) -> linux:7 (KEY_6) -> atset1:7 */
  "Digit7": 0x8, /* html:Digit7 (Digit7) -> linux:8 (KEY_7) -> atset1:8 */
  "Digit8": 0x9, /* html:Digit8 (Digit8) -> linux:9 (KEY_8) -> atset1:9 */
  "Digit9": 0xa, /* html:Digit9 (Digit9) -> linux:10 (KEY_9) -> atset1:10 */
  "Eject": 0xe07d, /* html:Eject (Eject) -> linux:162 (KEY_EJECTCLOSECD) -> atset1:57469 */
  "End": 0xe04f, /* html:End (End) -> linux:107 (KEY_END) -> atset1:57423 */
  "Enter": 0x1c, /* html:Enter (Enter) -> linux:28 (KEY_ENTER) -> atset1:28 */
  "Equal": 0xd, /* html:Equal (Equal) -> linux:13 (KEY_EQUAL) -> atset1:13 */
  "Escape": 0x1, /* html:Escape (Escape) -> linux:1 (KEY_ESC) -> atset1:1 */
  "F1": 0x3b, /* html:F1 (F1) -> linux:59 (KEY_F1) -> atset1:59 */
  "F10": 0x44, /* html:F10 (F10) -> linux:68 (KEY_F10) -> atset1:68 */
  "F11": 0x57, /* html:F11 (F11) -> linux:87 (KEY_F11) -> atset1:87 */
  "F12": 0x58, /* html:F12 (F12) -> linux:88 (KEY_F12) -> atset1:88 */
  "F13": 0x5d, /* html:F13 (F13) -> linux:183 (KEY_F13) -> atset1:93 */
  "F14": 0x5e, /* html:F14 (F14) -> linux:184 (KEY_F14) -> atset1:94 */
  "F15": 0x5f, /* html:F15 (F15) -> linux:185 (KEY_F15) -> atset1:95 */
  "F16": 0x55, /* html:F16 (F16) -> linux:186 (KEY_F16) -> atset1:85 */
  "F17": 0xe003, /* html:F17 (F17) -> linux:187 (KEY_F17) -> atset1:57347 */
  "F18": 0xe077, /* html:F18 (F18) -> linux:188 (KEY_F18) -> atset1:57463 */
  "F19": 0xe004, /* html:F19 (F19) -> linux:189 (KEY_F19) -> atset1:57348 */
  "F2": 0x3c, /* html:F2 (F2) -> linux:60 (KEY_F2) -> atset1:60 */
  "F20": 0x5a, /* html:F20 (F20) -> linux:190 (KEY_F20) -> atset1:90 */
  "F21": 0x74, /* html:F21 (F21) -> linux:191 (KEY_F21) -> atset1:116 */
  "F22": 0xe079, /* html:F22 (F22) -> linux:192 (KEY_F22) -> atset1:57465 */
  "F23": 0x6d, /* html:F23 (F23) -> linux:193 (KEY_F23) -> atset1:109 */
  "F24": 0x6f, /* html:F24 (F24) -> linux:194 (KEY_F24) -> atset1:111 */
  "F3": 0x3d, /* html:F3 (F3) -> linux:61 (KEY_F3) -> atset1:61 */
  "F4": 0x3e, /* html:F4 (F4) -> linux:62 (KEY_F4) -> atset1:62 */
  "F5": 0x3f, /* html:F5 (F5) -> linux:63 (KEY_F5) -> atset1:63 */
  "F6": 0x40, /* html:F6 (F6) -> linux:64 (KEY_F6) -> atset1:64 */
  "F7": 0x41, /* html:F7 (F7) -> linux:65 (KEY_F7) -> atset1:65 */
  "F8": 0x42, /* html:F8 (F8) -> linux:66 (KEY_F8) -> atset1:66 */
  "F9": 0x43, /* html:F9 (F9) -> linux:67 (KEY_F9) -> atset1:67 */
  "Find": 0xe041, /* html:Find (Find) -> linux:136 (KEY_FIND) -> atset1:57409 */
  "Help": 0xe075, /* html:Help (Help) -> linux:138 (KEY_HELP) -> atset1:57461 */
  "Hiragana": 0x77, /* html:Hiragana (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Home": 0xe047, /* html:Home (Home) -> linux:102 (KEY_HOME) -> atset1:57415 */
  "Insert": 0xe052, /* html:Insert (Insert) -> linux:110 (KEY_INSERT) -> atset1:57426 */
  "IntlBackslash": 0x56, /* html:IntlBackslash (IntlBackslash) -> linux:86 (KEY_102ND) -> atset1:86 */
  "IntlRo": 0x73, /* html:IntlRo (IntlRo) -> linux:89 (KEY_RO) -> atset1:115 */
  "IntlYen": 0x7d, /* html:IntlYen (IntlYen) -> linux:124 (KEY_YEN) -> atset1:125 */
  "KanaMode": 0x70, /* html:KanaMode (KanaMode) -> linux:93 (KEY_KATAKANAHIRAGANA) -> atset1:112 */
  "Katakana": 0x78, /* html:Katakana (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "KeyA": 0x1e, /* html:KeyA (KeyA) -> linux:30 (KEY_A) -> atset1:30 */
  "KeyB": 0x30, /* html:KeyB (KeyB) -> linux:48 (KEY_B) -> atset1:48 */
  "KeyC": 0x2e, /* html:KeyC (KeyC) -> linux:46 (KEY_C) -> atset1:46 */
  "KeyD": 0x20, /* html:KeyD (KeyD) -> linux:32 (KEY_D) -> atset1:32 */
  "KeyE": 0x12, /* html:KeyE (KeyE) -> linux:18 (KEY_E) -> atset1:18 */
  "KeyF": 0x21, /* html:KeyF (KeyF) -> linux:33 (KEY_F) -> atset1:33 */
  "KeyG": 0x22, /* html:KeyG (KeyG) -> linux:34 (KEY_G) -> atset1:34 */
  "KeyH": 0x23, /* html:KeyH (KeyH) -> linux:35 (KEY_H) -> atset1:35 */
  "KeyI": 0x17, /* html:KeyI (KeyI) -> linux:23 (KEY_I) -> atset1:23 */
  "KeyJ": 0x24, /* html:KeyJ (KeyJ) -> linux:36 (KEY_J) -> atset1:36 */
  "KeyK": 0x25, /* html:KeyK (KeyK) -> linux:37 (KEY_K) -> atset1:37 */
  "KeyL": 0x26, /* html:KeyL (KeyL) -> linux:38 (KEY_L) -> atset1:38 */
  "KeyM": 0x32, /* html:KeyM (KeyM) -> linux:50 (KEY_M) -> atset1:50 */
  "KeyN": 0x31, /* html:KeyN (KeyN) -> linux:49 (KEY_N) -> atset1:49 */
  "KeyO": 0x18, /* html:KeyO (KeyO) -> linux:24 (KEY_O) -> atset1:24 */
  "KeyP": 0x19, /* html:KeyP (KeyP) -> linux:25 (KEY_P) -> atset1:25 */
  "KeyQ": 0x10, /* html:KeyQ (KeyQ) -> linux:16 (KEY_Q) -> atset1:16 */
  "KeyR": 0x13, /* html:KeyR (KeyR) -> linux:19 (KEY_R) -> atset1:19 */
  "KeyS": 0x1f, /* html:KeyS (KeyS) -> linux:31 (KEY_S) -> atset1:31 */
  "KeyT": 0x14, /* html:KeyT (KeyT) -> linux:20 (KEY_T) -> atset1:20 */
  "KeyU": 0x16, /* html:KeyU (KeyU) -> linux:22 (KEY_U) -> atset1:22 */
  "KeyV": 0x2f, /* html:KeyV (KeyV) -> linux:47 (KEY_V) -> atset1:47 */
  "KeyW": 0x11, /* html:KeyW (KeyW) -> linux:17 (KEY_W) -> atset1:17 */
  "KeyX": 0x2d, /* html:KeyX (KeyX) -> linux:45 (KEY_X) -> atset1:45 */
  "KeyY": 0x15, /* html:KeyY (KeyY) -> linux:21 (KEY_Y) -> atset1:21 */
  "KeyZ": 0x2c, /* html:KeyZ (KeyZ) -> linux:44 (KEY_Z) -> atset1:44 */
  "Lang3": 0x78, /* html:Lang3 (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "Lang4": 0x77, /* html:Lang4 (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Lang5": 0x76, /* html:Lang5 (Lang5) -> linux:85 (KEY_ZENKAKUHANKAKU) -> atset1:118 */
  "LaunchApp1": 0xe06b, /* html:LaunchApp1 (LaunchApp1) -> linux:157 (KEY_COMPUTER) -> atset1:57451 */
  "LaunchApp2": 0xe021, /* html:LaunchApp2 (LaunchApp2) -> linux:140 (KEY_CALC) -> atset1:57377 */
  "LaunchMail": 0xe06c, /* html:LaunchMail (LaunchMail) -> linux:155 (KEY_MAIL) -> atset1:57452 */
  "MediaPlayPause": 0xe022, /* html:MediaPlayPause (MediaPlayPause) -> linux:164 (KEY_PLAYPAUSE) -> atset1:57378 */
  "MediaSelect": 0xe06d, /* html:MediaSelect (MediaSelect) -> linux:226 (KEY_MEDIA) -> atset1:57453 */
  "MediaStop": 0xe024, /* html:MediaStop (MediaStop) -> linux:166 (KEY_STOPCD) -> atset1:57380 */
  "MediaTrackNext": 0xe019, /* html:MediaTrackNext (MediaTrackNext) -> linux:163 (KEY_NEXTSONG) -> atset1:57369 */
  "MediaTrackPrevious": 0xe010, /* html:MediaTrackPrevious (MediaTrackPrevious) -> linux:165 (KEY_PREVIOUSSONG) -> atset1:57360 */
  "MetaLeft": 0xe05b, /* html:MetaLeft (MetaLeft) -> linux:125 (KEY_LEFTMETA) -> atset1:57435 */
  "MetaRight": 0xe05c, /* html:MetaRight (MetaRight) -> linux:126 (KEY_RIGHTMETA) -> atset1:57436 */
  "Minus": 0xc, /* html:Minus (Minus) -> linux:12 (KEY_MINUS) -> atset1:12 */
  "NonConvert": 0x7b, /* html:NonConvert (NonConvert) -> linux:94 (KEY_MUHENKAN) -> atset1:123 */
  "NumLock": 0x45, /* html:NumLock (NumLock) -> linux:69 (KEY_NUMLOCK) -> atset1:69 */
  "Numpad0": 0x52, /* html:Numpad0 (Numpad0) -> linux:82 (KEY_KP0) -> atset1:82 */
  "Numpad1": 0x4f, /* html:Numpad1 (Numpad1) -> linux:79 (KEY_KP1) -> atset1:79 */
  "Numpad2": 0x50, /* html:Numpad2 (Numpad2) -> linux:80 (KEY_KP2) -> atset1:80 */
  "Numpad3": 0x51, /* html:Numpad3 (Numpad3) -> linux:81 (KEY_KP3) -> atset1:81 */
  "Numpad4": 0x4b, /* html:Numpad4 (Numpad4) -> linux:75 (KEY_KP4) -> atset1:75 */
  "Numpad5": 0x4c, /* html:Numpad5 (Numpad5) -> linux:76 (KEY_KP5) -> atset1:76 */
  "Numpad6": 0x4d, /* html:Numpad6 (Numpad6) -> linux:77 (KEY_KP6) -> atset1:77 */
  "Numpad7": 0x47, /* html:Numpad7 (Numpad7) -> linux:71 (KEY_KP7) -> atset1:71 */
  "Numpad8": 0x48, /* html:Numpad8 (Numpad8) -> linux:72 (KEY_KP8) -> atset1:72 */
  "Numpad9": 0x49, /* html:Numpad9 (Numpad9) -> linux:73 (KEY_KP9) -> atset1:73 */
  "NumpadAdd": 0x4e, /* html:NumpadAdd (NumpadAdd) -> linux:78 (KEY_KPPLUS) -> atset1:78 */
  "NumpadComma": 0x7e, /* html:NumpadComma (NumpadComma) -> linux:121 (KEY_KPCOMMA) -> atset1:126 */
  "NumpadDecimal": 0x53, /* html:NumpadDecimal (NumpadDecimal) -> linux:83 (KEY_KPDOT) -> atset1:83 */
  "NumpadDivide": 0xe035, /* html:NumpadDivide (NumpadDivide) -> linux:98 (KEY_KPSLASH) -> atset1:57397 */
  "NumpadEnter": 0xe01c, /* html:NumpadEnter (NumpadEnter) -> linux:96 (KEY_KPENTER) -> atset1:57372 */
  "NumpadEqual": 0x59, /* html:NumpadEqual (NumpadEqual) -> linux:117 (KEY_KPEQUAL) -> atset1:89 */
  "NumpadMultiply": 0x37, /* html:NumpadMultiply (NumpadMultiply) -> linux:55 (KEY_KPASTERISK) -> atset1:55 */
  "NumpadParenLeft": 0xe076, /* html:NumpadParenLeft (NumpadParenLeft) -> linux:179 (KEY_KPLEFTPAREN) -> atset1:57462 */
  "NumpadParenRight": 0xe07b, /* html:NumpadParenRight (NumpadParenRight) -> linux:180 (KEY_KPRIGHTPAREN) -> atset1:57467 */
  "NumpadSubtract": 0x4a, /* html:NumpadSubtract (NumpadSubtract) -> linux:74 (KEY_KPMINUS) -> atset1:74 */
  "Open": 0x64, /* html:Open (Open) -> linux:134 (KEY_OPEN) -> atset1:100 */
  "PageDown": 0xe051, /* html:PageDown (PageDown) -> linux:109 (KEY_PAGEDOWN) -> atset1:57425 */
  "PageUp": 0xe049, /* html:PageUp (PageUp) -> linux:104 (KEY_PAGEUP) -> atset1:57417 */
  "Paste": 0x65, /* html:Paste (Paste) -> linux:135 (KEY_PASTE) -> atset1:101 */
  "Pause": 0xe046, /* html:Pause (Pause) -> linux:119 (KEY_PAUSE) -> atset1:57414 */
  "Period": 0x34, /* html:Period (Period) -> linux:52 (KEY_DOT) -> atset1:52 */
  "Power": 0xe05e, /* html:Power (Power) -> linux:116 (KEY_POWER) -> atset1:57438 */
  "PrintScreen": 0x54, /* html:PrintScreen (PrintScreen) -> linux:99 (KEY_SYSRQ) -> atset1:84 */
  "Props": 0xe006, /* html:Props (Props) -> linux:130 (KEY_PROPS) -> atset1:57350 */
  "Quote": 0x28, /* html:Quote (Quote) -> linux:40 (KEY_APOSTROPHE) -> atset1:40 */
  "ScrollLock": 0x46, /* html:ScrollLock (ScrollLock) -> linux:70 (KEY_SCROLLLOCK) -> atset1:70 */
  "Semicolon": 0x27, /* html:Semicolon (Semicolon) -> linux:39 (KEY_SEMICOLON) -> atset1:39 */
  "ShiftLeft": 0x2a, /* html:ShiftLeft (ShiftLeft) -> linux:42 (KEY_LEFTSHIFT) -> atset1:42 */
  "ShiftRight": 0x36, /* html:ShiftRight (ShiftRight) -> linux:54 (KEY_RIGHTSHIFT) -> atset1:54 */
  "Slash": 0x35, /* html:Slash (Slash) -> linux:53 (KEY_SLASH) -> atset1:53 */
  "Sleep": 0xe05f, /* html:Sleep (Sleep) -> linux:142 (KEY_SLEEP) -> atset1:57439 */
  "Space": 0x39, /* html:Space (Space) -> linux:57 (KEY_SPACE) -> atset1:57 */
  "Suspend": 0xe025, /* html:Suspend (Suspend) -> linux:205 (KEY_SUSPEND) -> atset1:57381 */
  "Tab": 0xf, /* html:Tab (Tab) -> linux:15 (KEY_TAB) -> atset1:15 */
  "Undo": 0xe007, /* html:Undo (Undo) -> linux:131 (KEY_UNDO) -> atset1:57351 */
  "WakeUp": 0xe063, /* html:WakeUp (WakeUp) -> linux:143 (KEY_WAKEUP) -> atset1:57443 */
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/rfb.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/rfb.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RFB; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/strings.js */ "./node_modules/@novnc/novnc/core/util/strings.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventtarget.js */ "./node_modules/@novnc/novnc/core/util/eventtarget.js");
/* harmony import */ var _display_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./display.js */ "./node_modules/@novnc/novnc/core/display.js");
/* harmony import */ var _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/keyboard.js */ "./node_modules/@novnc/novnc/core/input/keyboard.js");
/* harmony import */ var _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./input/mouse.js */ "./node_modules/@novnc/novnc/core/input/mouse.js");
/* harmony import */ var _util_cursor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/cursor.js */ "./node_modules/@novnc/novnc/core/util/cursor.js");
/* harmony import */ var _websock_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./websock.js */ "./node_modules/@novnc/novnc/core/websock.js");
/* harmony import */ var _des_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./des.js */ "./node_modules/@novnc/novnc/core/des.js");
/* harmony import */ var _input_keysym_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./input/keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./input/xtscancodes.js */ "./node_modules/@novnc/novnc/core/input/xtscancodes.js");
/* harmony import */ var _encodings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./encodings.js */ "./node_modules/@novnc/novnc/core/encodings.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/polyfill.js */ "./node_modules/@novnc/novnc/core/util/polyfill.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _decoders_raw_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./decoders/raw.js */ "./node_modules/@novnc/novnc/core/decoders/raw.js");
/* harmony import */ var _decoders_copyrect_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./decoders/copyrect.js */ "./node_modules/@novnc/novnc/core/decoders/copyrect.js");
/* harmony import */ var _decoders_rre_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./decoders/rre.js */ "./node_modules/@novnc/novnc/core/decoders/rre.js");
/* harmony import */ var _decoders_hextile_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./decoders/hextile.js */ "./node_modules/@novnc/novnc/core/decoders/hextile.js");
/* harmony import */ var _decoders_tight_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./decoders/tight.js */ "./node_modules/@novnc/novnc/core/decoders/tight.js");
/* harmony import */ var _decoders_tightpng_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./decoders/tightpng.js */ "./node_modules/@novnc/novnc/core/decoders/tightpng.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 */























// How many seconds to wait for a disconnect to finish
const DISCONNECT_TIMEOUT = 3;
const DEFAULT_BACKGROUND = 'rgb(40, 40, 40)';

class RFB extends _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(target, url, options) {
        if (!target) {
            throw new Error("Must specify target");
        }
        if (!url) {
            throw new Error("Must specify URL");
        }

        super();

        this._target = target;
        this._url = url;

        // Connection details
        options = options || {};
        this._rfb_credentials = options.credentials || {};
        this._shared = 'shared' in options ? !!options.shared : true;
        this._repeaterID = options.repeaterID || '';
        this._showDotCursor = options.showDotCursor || false;

        // Internal state
        this._rfb_connection_state = '';
        this._rfb_init_state = '';
        this._rfb_auth_scheme = -1;
        this._rfb_clean_disconnect = true;

        // Server capabilities
        this._rfb_version = 0;
        this._rfb_max_version = 3.8;
        this._rfb_tightvnc = false;
        this._rfb_xvp_ver = 0;

        this._fb_width = 0;
        this._fb_height = 0;

        this._fb_name = "";

        this._capabilities = { power: false };

        this._supportsFence = false;

        this._supportsContinuousUpdates = false;
        this._enabledContinuousUpdates = false;

        this._supportsSetDesktopSize = false;
        this._screen_id = 0;
        this._screen_flags = 0;

        this._qemuExtKeyEventSupported = false;

        // Internal objects
        this._sock = null;              // Websock object
        this._display = null;           // Display object
        this._flushing = false;         // Display flushing state
        this._keyboard = null;          // Keyboard input handler object
        this._mouse = null;             // Mouse input handler object

        // Timers
        this._disconnTimer = null;      // disconnection timer
        this._resizeTimeout = null;     // resize rate limiting

        // Decoder states
        this._decoders = {};

        this._FBU = {
            rects: 0,
            x: 0,
            y: 0,
            width: 0,
            height: 0,
            encoding: null,
        };

        // Mouse state
        this._mouse_buttonMask = 0;
        this._mouse_arr = [];
        this._viewportDragging = false;
        this._viewportDragPos = {};
        this._viewportHasMoved = false;

        // Bound event handlers
        this._eventHandlers = {
            focusCanvas: this._focusCanvas.bind(this),
            windowResize: this._windowResize.bind(this),
        };

        // main setup
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.constructor");

        // Create DOM elements
        this._screen = document.createElement('div');
        this._screen.style.display = 'flex';
        this._screen.style.width = '100%';
        this._screen.style.height = '100%';
        this._screen.style.overflow = 'auto';
        this._screen.style.background = DEFAULT_BACKGROUND;
        this._canvas = document.createElement('canvas');
        this._canvas.style.margin = 'auto';
        // Some browsers add an outline on focus
        this._canvas.style.outline = 'none';
        // IE miscalculates width without this :(
        this._canvas.style.flexShrink = '0';
        this._canvas.width = 0;
        this._canvas.height = 0;
        this._canvas.tabIndex = -1;
        this._screen.appendChild(this._canvas);

        // Cursor
        this._cursor = new _util_cursor_js__WEBPACK_IMPORTED_MODULE_7__["default"]();

        // XXX: TightVNC 2.8.11 sends no cursor at all until Windows changes
        // it. Result: no cursor at all until a window border or an edit field
        // is hit blindly. But there are also VNC servers that draw the cursor
        // in the framebuffer and don't send the empty local cursor. There is
        // no way to satisfy both sides.
        //
        // The spec is unclear on this "initial cursor" issue. Many other
        // viewers (TigerVNC, RealVNC, Remmina) display an arrow as the
        // initial cursor instead.
        this._cursorImage = RFB.cursors.none;

        // populate decoder array with objects
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw] = new _decoders_raw_js__WEBPACK_IMPORTED_MODULE_14__["default"]();
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect] = new _decoders_copyrect_js__WEBPACK_IMPORTED_MODULE_15__["default"]();
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE] = new _decoders_rre_js__WEBPACK_IMPORTED_MODULE_16__["default"]();
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile] = new _decoders_hextile_js__WEBPACK_IMPORTED_MODULE_17__["default"]();
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight] = new _decoders_tight_js__WEBPACK_IMPORTED_MODULE_18__["default"]();
        this._decoders[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTightPNG] = new _decoders_tightpng_js__WEBPACK_IMPORTED_MODULE_19__["default"]();

        // NB: nothing that needs explicit teardown should be done
        // before this point, since this can throw an exception
        try {
            this._display = new _display_js__WEBPACK_IMPORTED_MODULE_4__["default"](this._canvas);
        } catch (exc) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Display exception: " + exc);
            throw exc;
        }
        this._display.onflush = this._onFlush.bind(this);
        this._display.clear();

        this._keyboard = new _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__["default"](this._canvas);
        this._keyboard.onkeyevent = this._handleKeyEvent.bind(this);

        this._mouse = new _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__["default"](this._canvas);
        this._mouse.onmousebutton = this._handleMouseButton.bind(this);
        this._mouse.onmousemove = this._handleMouseMove.bind(this);

        this._sock = new _websock_js__WEBPACK_IMPORTED_MODULE_8__["default"]();
        this._sock.on('message', () => {
            this._handle_message();
        });
        this._sock.on('open', () => {
            if ((this._rfb_connection_state === 'connecting') &&
                (this._rfb_init_state === '')) {
                this._rfb_init_state = 'ProtocolVersion';
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Starting VNC handshake");
            } else {
                this._fail("Unexpected server connection while " +
                           this._rfb_connection_state);
            }
        });
        this._sock.on('close', (e) => {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("WebSocket on-close event");
            let msg = "";
            if (e.code) {
                msg = "(code: " + e.code;
                if (e.reason) {
                    msg += ", reason: " + e.reason;
                }
                msg += ")";
            }
            switch (this._rfb_connection_state) {
                case 'connecting':
                    this._fail("Connection closed " + msg);
                    break;
                case 'connected':
                    // Handle disconnects that were initiated server-side
                    this._updateConnectionState('disconnecting');
                    this._updateConnectionState('disconnected');
                    break;
                case 'disconnecting':
                    // Normal disconnection path
                    this._updateConnectionState('disconnected');
                    break;
                case 'disconnected':
                    this._fail("Unexpected server disconnect " +
                               "when already disconnected " + msg);
                    break;
                default:
                    this._fail("Unexpected server disconnect before connecting " +
                               msg);
                    break;
            }
            this._sock.off('close');
        });
        this._sock.on('error', e => _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("WebSocket on-error event"));

        // Slight delay of the actual connection so that the caller has
        // time to set up callbacks
        setTimeout(this._updateConnectionState.bind(this, 'connecting'));

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.constructor");

        // ===== PROPERTIES =====

        this.dragViewport = false;
        this.focusOnClick = true;

        this._viewOnly = false;
        this._clipViewport = false;
        this._scaleViewport = false;
        this._resizeSession = false;
    }

    // ===== PROPERTIES =====

    get viewOnly() { return this._viewOnly; }
    set viewOnly(viewOnly) {
        this._viewOnly = viewOnly;

        if (this._rfb_connection_state === "connecting" ||
            this._rfb_connection_state === "connected") {
            if (viewOnly) {
                this._keyboard.ungrab();
                this._mouse.ungrab();
            } else {
                this._keyboard.grab();
                this._mouse.grab();
            }
        }
    }

    get capabilities() { return this._capabilities; }

    get touchButton() { return this._mouse.touchButton; }
    set touchButton(button) { this._mouse.touchButton = button; }

    get clipViewport() { return this._clipViewport; }
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        this._updateClip();
    }

    get scaleViewport() { return this._scaleViewport; }
    set scaleViewport(scale) {
        this._scaleViewport = scale;
        // Scaling trumps clipping, so we may need to adjust
        // clipping when enabling or disabling scaling
        if (scale && this._clipViewport) {
            this._updateClip();
        }
        this._updateScale();
        if (!scale && this._clipViewport) {
            this._updateClip();
        }
    }

    get resizeSession() { return this._resizeSession; }
    set resizeSession(resize) {
        this._resizeSession = resize;
        if (resize) {
            this._requestRemoteResize();
        }
    }

    get showDotCursor() { return this._showDotCursor; }
    set showDotCursor(show) {
        this._showDotCursor = show;
        this._refreshCursor();
    }

    get background() { return this._screen.style.background; }
    set background(cssValue) { this._screen.style.background = cssValue; }

    // ===== PUBLIC METHODS =====

    disconnect() {
        this._updateConnectionState('disconnecting');
        this._sock.off('error');
        this._sock.off('message');
        this._sock.off('open');
    }

    sendCredentials(creds) {
        this._rfb_credentials = creds;
        setTimeout(this._init_msg.bind(this), 0);
    }

    sendCtrlAltDel() {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending Ctrl-Alt-Del");

        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Control_L, "ControlLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Alt_L, "AltLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Delete, "Delete", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Delete, "Delete", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Alt_L, "AltLeft", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_10__["default"].XK_Control_L, "ControlLeft", false);
    }

    machineShutdown() {
        this._xvpOp(1, 2);
    }

    machineReboot() {
        this._xvpOp(1, 3);
    }

    machineReset() {
        this._xvpOp(1, 4);
    }

    // Send a key press. If 'down' is not specified then send a down key
    // followed by an up key.
    sendKey(keysym, code, down) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }

        if (down === undefined) {
            this.sendKey(keysym, code, true);
            this.sendKey(keysym, code, false);
            return;
        }

        const scancode = _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_11__["default"][code];

        if (this._qemuExtKeyEventSupported && scancode) {
            // 0 is NoSymbol
            keysym = keysym || 0;

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending key (" + (down ? "down" : "up") + "): keysym " + keysym + ", scancode " + scancode);

            RFB.messages.QEMUExtendedKeyEvent(this._sock, keysym, down, scancode);
        } else {
            if (!keysym) {
                return;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending keysym (" + (down ? "down" : "up") + "): " + keysym);
            RFB.messages.keyEvent(this._sock, keysym, down ? 1 : 0);
        }
    }

    focus() {
        this._canvas.focus();
    }

    blur() {
        this._canvas.blur();
    }

    clipboardPasteFrom(text) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        RFB.messages.clientCutText(this._sock, text);
    }

    // ===== PRIVATE METHODS =====

    _connect() {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.connect");

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("connecting to " + this._url);

        try {
            // WebSocket.onopen transitions to the RFB init states
            this._sock.open(this._url, ['binary']);
        } catch (e) {
            if (e.name === 'SyntaxError') {
                this._fail("Invalid host or port (" + e + ")");
            } else {
                this._fail("Error when opening socket (" + e + ")");
            }
        }

        // Make our elements part of the page
        this._target.appendChild(this._screen);

        this._cursor.attach(this._canvas);
        this._refreshCursor();

        // Monitor size changes of the screen
        // FIXME: Use ResizeObserver, or hidden overflow
        window.addEventListener('resize', this._eventHandlers.windowResize);

        // Always grab focus on some kind of click event
        this._canvas.addEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.addEventListener("touchstart", this._eventHandlers.focusCanvas);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.connect");
    }

    _disconnect() {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.disconnect");
        this._cursor.detach();
        this._canvas.removeEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.removeEventListener("touchstart", this._eventHandlers.focusCanvas);
        window.removeEventListener('resize', this._eventHandlers.windowResize);
        this._keyboard.ungrab();
        this._mouse.ungrab();
        this._sock.close();
        try {
            this._target.removeChild(this._screen);
        } catch (e) {
            if (e.name === 'NotFoundError') {
                // Some cases where the initial connection fails
                // can disconnect before the _screen is created
            } else {
                throw e;
            }
        }
        clearTimeout(this._resizeTimeout);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.disconnect");
    }

    _focusCanvas(event) {
        // Respect earlier handlers' request to not do side-effects
        if (event.defaultPrevented) {
            return;
        }

        if (!this.focusOnClick) {
            return;
        }

        this.focus();
    }

    _windowResize(event) {
        // If the window resized then our screen element might have
        // as well. Update the viewport dimensions.
        window.requestAnimationFrame(() => {
            this._updateClip();
            this._updateScale();
        });

        if (this._resizeSession) {
            // Request changing the resolution of the remote display to
            // the size of the local browser viewport.

            // In order to not send multiple requests before the browser-resize
            // is finished we wait 0.5 seconds before sending the request.
            clearTimeout(this._resizeTimeout);
            this._resizeTimeout = setTimeout(this._requestRemoteResize.bind(this), 500);
        }
    }

    // Update state of clipping in Display object, and make sure the
    // configured viewport matches the current screen size
    _updateClip() {
        const cur_clip = this._display.clipViewport;
        let new_clip = this._clipViewport;

        if (this._scaleViewport) {
            // Disable viewport clipping if we are scaling
            new_clip = false;
        }

        if (cur_clip !== new_clip) {
            this._display.clipViewport = new_clip;
        }

        if (new_clip) {
            // When clipping is enabled, the screen is limited to
            // the size of the container.
            const size = this._screenSize();
            this._display.viewportChangeSize(size.w, size.h);
            this._fixScrollbars();
        }
    }

    _updateScale() {
        if (!this._scaleViewport) {
            this._display.scale = 1.0;
        } else {
            const size = this._screenSize();
            this._display.autoscale(size.w, size.h);
        }
        this._fixScrollbars();
    }

    // Requests a change of remote desktop size. This message is an extension
    // and may only be sent if we have received an ExtendedDesktopSize message
    _requestRemoteResize() {
        clearTimeout(this._resizeTimeout);
        this._resizeTimeout = null;

        if (!this._resizeSession || this._viewOnly ||
            !this._supportsSetDesktopSize) {
            return;
        }

        const size = this._screenSize();
        RFB.messages.setDesktopSize(this._sock,
                                    Math.floor(size.w), Math.floor(size.h),
                                    this._screen_id, this._screen_flags);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Requested new desktop size: ' +
                   size.w + 'x' + size.h);
    }

    // Gets the the size of the available screen
    _screenSize() {
        let r = this._screen.getBoundingClientRect();
        return { w: r.width, h: r.height };
    }

    _fixScrollbars() {
        // This is a hack because Chrome screws up the calculation
        // for when scrollbars are needed. So to fix it we temporarily
        // toggle them off and on.
        const orig = this._screen.style.overflow;
        this._screen.style.overflow = 'hidden';
        // Force Chrome to recalculate the layout by asking for
        // an element's dimensions
        this._screen.getBoundingClientRect();
        this._screen.style.overflow = orig;
    }

    /*
     * Connection states:
     *   connecting
     *   connected
     *   disconnecting
     *   disconnected - permanent state
     */
    _updateConnectionState(state) {
        const oldstate = this._rfb_connection_state;

        if (state === oldstate) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Already in state '" + state + "', ignoring");
            return;
        }

        // The 'disconnected' state is permanent for each RFB object
        if (oldstate === 'disconnected') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Tried changing state of a disconnected RFB object");
            return;
        }

        // Ensure proper transitions before doing anything
        switch (state) {
            case 'connected':
                if (oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnected':
                if (oldstate !== 'disconnecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'connecting':
                if (oldstate !== '') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnecting':
                if (oldstate !== 'connected' && oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Unknown connection state: " + state);
                return;
        }

        // State change actions

        this._rfb_connection_state = state;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("New state '" + state + "', was '" + oldstate + "'.");

        if (this._disconnTimer && state !== 'disconnecting') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Clearing disconnect timer");
            clearTimeout(this._disconnTimer);
            this._disconnTimer = null;

            // make sure we don't get a double event
            this._sock.off('close');
        }

        switch (state) {
            case 'connecting':
                this._connect();
                break;

            case 'connected':
                this.dispatchEvent(new CustomEvent("connect", { detail: {} }));
                break;

            case 'disconnecting':
                this._disconnect();

                this._disconnTimer = setTimeout(() => {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Disconnection timed out.");
                    this._updateConnectionState('disconnected');
                }, DISCONNECT_TIMEOUT * 1000);
                break;

            case 'disconnected':
                this.dispatchEvent(new CustomEvent(
                    "disconnect", { detail:
                                    { clean: this._rfb_clean_disconnect } }));
                break;
        }
    }

    /* Print errors and disconnect
     *
     * The parameter 'details' is used for information that
     * should be logged but not sent to the user interface.
     */
    _fail(details) {
        switch (this._rfb_connection_state) {
            case 'disconnecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when disconnecting: " + details);
                break;
            case 'connected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed while connected: " + details);
                break;
            case 'connecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when connecting: " + details);
                break;
            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("RFB failure: " + details);
                break;
        }
        this._rfb_clean_disconnect = false; //This is sent to the UI

        // Transition to disconnected without waiting for socket to close
        this._updateConnectionState('disconnecting');
        this._updateConnectionState('disconnected');

        return false;
    }

    _setCapability(cap, val) {
        this._capabilities[cap] = val;
        this.dispatchEvent(new CustomEvent("capabilities",
                                           { detail: { capabilities: this._capabilities } }));
    }

    _handle_message() {
        if (this._sock.rQlen === 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("handle_message called on an empty receive queue");
            return;
        }

        switch (this._rfb_connection_state) {
            case 'disconnected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Got data while disconnected");
                break;
            case 'connected':
                while (true) {
                    if (this._flushing) {
                        break;
                    }
                    if (!this._normal_msg()) {
                        break;
                    }
                    if (this._sock.rQlen === 0) {
                        break;
                    }
                }
                break;
            default:
                this._init_msg();
                break;
        }
    }

    _handleKeyEvent(keysym, code, down) {
        this.sendKey(keysym, code, down);
    }

    _handleMouseButton(x, y, down, bmask) {
        if (down) {
            this._mouse_buttonMask |= bmask;
        } else {
            this._mouse_buttonMask &= ~bmask;
        }

        if (this.dragViewport) {
            if (down && !this._viewportDragging) {
                this._viewportDragging = true;
                this._viewportDragPos = {'x': x, 'y': y};
                this._viewportHasMoved = false;

                // Skip sending mouse events
                return;
            } else {
                this._viewportDragging = false;

                // If we actually performed a drag then we are done
                // here and should not send any mouse events
                if (this._viewportHasMoved) {
                    return;
                }

                // Otherwise we treat this as a mouse click event.
                // Send the button down event here, as the button up
                // event is sent at the end of this function.
                RFB.messages.pointerEvent(this._sock,
                                          this._display.absX(x),
                                          this._display.absY(y),
                                          bmask);
            }
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    }

    _handleMouseMove(x, y) {
        if (this._viewportDragging) {
            const deltaX = this._viewportDragPos.x - x;
            const deltaY = this._viewportDragPos.y - y;

            if (this._viewportHasMoved || (Math.abs(deltaX) > _util_browser_js__WEBPACK_IMPORTED_MODULE_2__["dragThreshold"] ||
                                           Math.abs(deltaY) > _util_browser_js__WEBPACK_IMPORTED_MODULE_2__["dragThreshold"])) {
                this._viewportHasMoved = true;

                this._viewportDragPos = {'x': x, 'y': y};
                this._display.viewportChangePos(deltaX, deltaY);
            }

            // Skip sending mouse events
            return;
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    }

    // Message Handlers

    _negotiate_protocol_version() {
        if (this._sock.rQwait("version", 12)) {
            return false;
        }

        const sversion = this._sock.rQshiftStr(12).substr(4, 7);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server ProtocolVersion: " + sversion);
        let is_repeater = 0;
        switch (sversion) {
            case "000.000":  // UltraVNC repeater
                is_repeater = 1;
                break;
            case "003.003":
            case "003.006":  // UltraVNC
            case "003.889":  // Apple Remote Desktop
                this._rfb_version = 3.3;
                break;
            case "003.007":
                this._rfb_version = 3.7;
                break;
            case "003.008":
            case "004.000":  // Intel AMT KVM
            case "004.001":  // RealVNC 4.6
            case "005.000":  // RealVNC 5.3
                this._rfb_version = 3.8;
                break;
            default:
                return this._fail("Invalid server version " + sversion);
        }

        if (is_repeater) {
            let repeaterID = "ID:" + this._repeaterID;
            while (repeaterID.length < 250) {
                repeaterID += "\0";
            }
            this._sock.send_string(repeaterID);
            return true;
        }

        if (this._rfb_version > this._rfb_max_version) {
            this._rfb_version = this._rfb_max_version;
        }

        const cversion = "00" + parseInt(this._rfb_version, 10) +
                       ".00" + ((this._rfb_version * 10) % 10);
        this._sock.send_string("RFB " + cversion + "\n");
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Sent ProtocolVersion: ' + cversion);

        this._rfb_init_state = 'Security';
    }

    _negotiate_security() {
        // Polyfill since IE and PhantomJS doesn't have
        // TypedArray.includes()
        function includes(item, array) {
            for (let i = 0; i < array.length; i++) {
                if (array[i] === item) {
                    return true;
                }
            }
            return false;
        }

        if (this._rfb_version >= 3.7) {
            // Server sends supported list, client decides
            const num_types = this._sock.rQshift8();
            if (this._sock.rQwait("security type", num_types, 1)) { return false; }

            if (num_types === 0) {
                this._rfb_init_state = "SecurityReason";
                this._security_context = "no security types";
                this._security_status = 1;
                return this._init_msg();
            }

            const types = this._sock.rQshiftBytes(num_types);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server security types: " + types);

            // Look for each auth in preferred order
            if (includes(1, types)) {
                this._rfb_auth_scheme = 1; // None
            } else if (includes(22, types)) {
                this._rfb_auth_scheme = 22; // XVP
            } else if (includes(16, types)) {
                this._rfb_auth_scheme = 16; // Tight
            } else if (includes(2, types)) {
                this._rfb_auth_scheme = 2; // VNC Auth
            } else {
                return this._fail("Unsupported security types (types: " + types + ")");
            }

            this._sock.send([this._rfb_auth_scheme]);
        } else {
            // Server decides
            if (this._sock.rQwait("security scheme", 4)) { return false; }
            this._rfb_auth_scheme = this._sock.rQshift32();

            if (this._rfb_auth_scheme == 0) {
                this._rfb_init_state = "SecurityReason";
                this._security_context = "authentication scheme";
                this._security_status = 1;
                return this._init_msg();
            }
        }

        this._rfb_init_state = 'Authentication';
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authenticating using scheme: ' + this._rfb_auth_scheme);

        return this._init_msg(); // jump to authentication
    }

    _handle_security_reason() {
        if (this._sock.rQwait("reason length", 4)) {
            return false;
        }
        const strlen = this._sock.rQshift32();
        let reason = "";

        if (strlen > 0) {
            if (this._sock.rQwait("reason", strlen, 4)) { return false; }
            reason = this._sock.rQshiftStr(strlen);
        }

        if (reason !== "") {
            this.dispatchEvent(new CustomEvent(
                "securityfailure",
                { detail: { status: this._security_status,
                            reason: reason } }));

            return this._fail("Security negotiation failed on " +
                              this._security_context +
                              " (reason: " + reason + ")");
        } else {
            this.dispatchEvent(new CustomEvent(
                "securityfailure",
                { detail: { status: this._security_status } }));

            return this._fail("Security negotiation failed on " +
                              this._security_context);
        }
    }

    // authentication
    _negotiate_xvp_auth() {
        if (!this._rfb_credentials.username ||
            !this._rfb_credentials.password ||
            !this._rfb_credentials.target) {
            this.dispatchEvent(new CustomEvent(
                "credentialsrequired",
                { detail: { types: ["username", "password", "target"] } }));
            return false;
        }

        const xvp_auth_str = String.fromCharCode(this._rfb_credentials.username.length) +
                           String.fromCharCode(this._rfb_credentials.target.length) +
                           this._rfb_credentials.username +
                           this._rfb_credentials.target;
        this._sock.send_string(xvp_auth_str);
        this._rfb_auth_scheme = 2;
        return this._negotiate_authentication();
    }

    _negotiate_std_vnc_auth() {
        if (this._sock.rQwait("auth challenge", 16)) { return false; }

        if (!this._rfb_credentials.password) {
            this.dispatchEvent(new CustomEvent(
                "credentialsrequired",
                { detail: { types: ["password"] } }));
            return false;
        }

        // TODO(directxman12): make genDES not require an Array
        const challenge = Array.prototype.slice.call(this._sock.rQshiftBytes(16));
        const response = RFB.genDES(this._rfb_credentials.password, challenge);
        this._sock.send(response);
        this._rfb_init_state = "SecurityResult";
        return true;
    }

    _negotiate_tight_tunnels(numTunnels) {
        const clientSupportedTunnelTypes = {
            0: { vendor: 'TGHT', signature: 'NOTUNNEL' }
        };
        const serverSupportedTunnelTypes = {};
        // receive tunnel capabilities
        for (let i = 0; i < numTunnels; i++) {
            const cap_code = this._sock.rQshift32();
            const cap_vendor = this._sock.rQshiftStr(4);
            const cap_signature = this._sock.rQshiftStr(8);
            serverSupportedTunnelTypes[cap_code] = { vendor: cap_vendor, signature: cap_signature };
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server Tight tunnel types: " + serverSupportedTunnelTypes);

        // Siemens touch panels have a VNC server that supports NOTUNNEL,
        // but forgets to advertise it. Try to detect such servers by
        // looking for their custom tunnel type.
        if (serverSupportedTunnelTypes[1] &&
            (serverSupportedTunnelTypes[1].vendor === "SICR") &&
            (serverSupportedTunnelTypes[1].signature === "SCHANNEL")) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Detected Siemens server. Assuming NOTUNNEL support.");
            serverSupportedTunnelTypes[0] = { vendor: 'TGHT', signature: 'NOTUNNEL' };
        }

        // choose the notunnel type
        if (serverSupportedTunnelTypes[0]) {
            if (serverSupportedTunnelTypes[0].vendor != clientSupportedTunnelTypes[0].vendor ||
                serverSupportedTunnelTypes[0].signature != clientSupportedTunnelTypes[0].signature) {
                return this._fail("Client's tunnel type had the incorrect " +
                                  "vendor or signature");
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Selected tunnel type: " + clientSupportedTunnelTypes[0]);
            this._sock.send([0, 0, 0, 0]);  // use NOTUNNEL
            return false; // wait until we receive the sub auth count to continue
        } else {
            return this._fail("Server wanted tunnels, but doesn't support " +
                              "the notunnel type");
        }
    }

    _negotiate_tight_auth() {
        if (!this._rfb_tightvnc) {  // first pass, do the tunnel negotiation
            if (this._sock.rQwait("num tunnels", 4)) { return false; }
            const numTunnels = this._sock.rQshift32();
            if (numTunnels > 0 && this._sock.rQwait("tunnel capabilities", 16 * numTunnels, 4)) { return false; }

            this._rfb_tightvnc = true;

            if (numTunnels > 0) {
                this._negotiate_tight_tunnels(numTunnels);
                return false;  // wait until we receive the sub auth to continue
            }
        }

        // second pass, do the sub-auth negotiation
        if (this._sock.rQwait("sub auth count", 4)) { return false; }
        const subAuthCount = this._sock.rQshift32();
        if (subAuthCount === 0) {  // empty sub-auth list received means 'no auth' subtype selected
            this._rfb_init_state = 'SecurityResult';
            return true;
        }

        if (this._sock.rQwait("sub auth capabilities", 16 * subAuthCount, 4)) { return false; }

        const clientSupportedTypes = {
            'STDVNOAUTH__': 1,
            'STDVVNCAUTH_': 2
        };

        const serverSupportedTypes = [];

        for (let i = 0; i < subAuthCount; i++) {
            this._sock.rQshift32(); // capNum
            const capabilities = this._sock.rQshiftStr(12);
            serverSupportedTypes.push(capabilities);
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server Tight authentication types: " + serverSupportedTypes);

        for (let authType in clientSupportedTypes) {
            if (serverSupportedTypes.indexOf(authType) != -1) {
                this._sock.send([0, 0, 0, clientSupportedTypes[authType]]);
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Selected authentication type: " + authType);

                switch (authType) {
                    case 'STDVNOAUTH__':  // no auth
                        this._rfb_init_state = 'SecurityResult';
                        return true;
                    case 'STDVVNCAUTH_': // VNC auth
                        this._rfb_auth_scheme = 2;
                        return this._init_msg();
                    default:
                        return this._fail("Unsupported tiny auth scheme " +
                                          "(scheme: " + authType + ")");
                }
            }
        }

        return this._fail("No supported sub-auth types!");
    }

    _negotiate_authentication() {
        switch (this._rfb_auth_scheme) {
            case 1:  // no auth
                if (this._rfb_version >= 3.8) {
                    this._rfb_init_state = 'SecurityResult';
                    return true;
                }
                this._rfb_init_state = 'ClientInitialisation';
                return this._init_msg();

            case 22:  // XVP auth
                return this._negotiate_xvp_auth();

            case 2:  // VNC authentication
                return this._negotiate_std_vnc_auth();

            case 16:  // TightVNC Security Type
                return this._negotiate_tight_auth();

            default:
                return this._fail("Unsupported auth scheme (scheme: " +
                                  this._rfb_auth_scheme + ")");
        }
    }

    _handle_security_result() {
        if (this._sock.rQwait('VNC auth response ', 4)) { return false; }

        const status = this._sock.rQshift32();

        if (status === 0) { // OK
            this._rfb_init_state = 'ClientInitialisation';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authentication OK');
            return this._init_msg();
        } else {
            if (this._rfb_version >= 3.8) {
                this._rfb_init_state = "SecurityReason";
                this._security_context = "security result";
                this._security_status = status;
                return this._init_msg();
            } else {
                this.dispatchEvent(new CustomEvent(
                    "securityfailure",
                    { detail: { status: status } }));

                return this._fail("Security handshake failed");
            }
        }
    }

    _negotiate_server_init() {
        if (this._sock.rQwait("server initialization", 24)) { return false; }

        /* Screen size */
        const width = this._sock.rQshift16();
        const height = this._sock.rQshift16();

        /* PIXEL_FORMAT */
        const bpp         = this._sock.rQshift8();
        const depth       = this._sock.rQshift8();
        const big_endian  = this._sock.rQshift8();
        const true_color  = this._sock.rQshift8();

        const red_max     = this._sock.rQshift16();
        const green_max   = this._sock.rQshift16();
        const blue_max    = this._sock.rQshift16();
        const red_shift   = this._sock.rQshift8();
        const green_shift = this._sock.rQshift8();
        const blue_shift  = this._sock.rQshift8();
        this._sock.rQskipBytes(3);  // padding

        // NB(directxman12): we don't want to call any callbacks or print messages until
        //                   *after* we're past the point where we could backtrack

        /* Connection name/title */
        const name_length = this._sock.rQshift32();
        if (this._sock.rQwait('server init name', name_length, 24)) { return false; }
        this._fb_name = Object(_util_strings_js__WEBPACK_IMPORTED_MODULE_1__["decodeUTF8"])(this._sock.rQshiftStr(name_length));

        if (this._rfb_tightvnc) {
            if (this._sock.rQwait('TightVNC extended server init header', 8, 24 + name_length)) { return false; }
            // In TightVNC mode, ServerInit message is extended
            const numServerMessages = this._sock.rQshift16();
            const numClientMessages = this._sock.rQshift16();
            const numEncodings = this._sock.rQshift16();
            this._sock.rQskipBytes(2);  // padding

            const totalMessagesLength = (numServerMessages + numClientMessages + numEncodings) * 16;
            if (this._sock.rQwait('TightVNC extended server init header', totalMessagesLength, 32 + name_length)) { return false; }

            // we don't actually do anything with the capability information that TIGHT sends,
            // so we just skip the all of this.

            // TIGHT server message capabilities
            this._sock.rQskipBytes(16 * numServerMessages);

            // TIGHT client message capabilities
            this._sock.rQskipBytes(16 * numClientMessages);

            // TIGHT encoding capabilities
            this._sock.rQskipBytes(16 * numEncodings);
        }

        // NB(directxman12): these are down here so that we don't run them multiple times
        //                   if we backtrack
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Screen: " + width + "x" + height +
                  ", bpp: " + bpp + ", depth: " + depth +
                  ", big_endian: " + big_endian +
                  ", true_color: " + true_color +
                  ", red_max: " + red_max +
                  ", green_max: " + green_max +
                  ", blue_max: " + blue_max +
                  ", red_shift: " + red_shift +
                  ", green_shift: " + green_shift +
                  ", blue_shift: " + blue_shift);

        if (big_endian !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native endian is not little endian");
        }

        if (red_shift !== 16) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native red-shift is not 16");
        }

        if (blue_shift !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native blue-shift is not 0");
        }

        // we're past the point where we could backtrack, so it's safe to call this
        this.dispatchEvent(new CustomEvent(
            "desktopname",
            { detail: { name: this._fb_name } }));

        this._resize(width, height);

        if (!this._viewOnly) { this._keyboard.grab(); }
        if (!this._viewOnly) { this._mouse.grab(); }

        this._fb_depth = 24;

        if (this._fb_name === "Intel(r) AMT KVM") {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Intel AMT KVM only supports 8/16 bit depths. Using low color mode.");
            this._fb_depth = 8;
        }

        RFB.messages.pixelFormat(this._sock, this._fb_depth, true);
        this._sendEncodings();
        RFB.messages.fbUpdateRequest(this._sock, false, 0, 0, this._fb_width, this._fb_height);

        this._updateConnectionState('connected');
        return true;
    }

    _sendEncodings() {
        const encs = [];

        // In preference order
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect);
        // Only supported with full depth support
        if (this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTightPNG);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE);
        }
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw);

        // Psuedo-encoding settings
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQualityLevel0 + 6);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCompressLevel0 + 2);

        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingXvp);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingFence);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingContinuousUpdates);

        if (this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor);
        }

        RFB.messages.clientEncodings(this._sock, encs);
    }

    /* RFB protocol initialization states:
     *   ProtocolVersion
     *   Security
     *   Authentication
     *   SecurityResult
     *   ClientInitialization - not triggered by server message
     *   ServerInitialization
     */
    _init_msg() {
        switch (this._rfb_init_state) {
            case 'ProtocolVersion':
                return this._negotiate_protocol_version();

            case 'Security':
                return this._negotiate_security();

            case 'Authentication':
                return this._negotiate_authentication();

            case 'SecurityResult':
                return this._handle_security_result();

            case 'SecurityReason':
                return this._handle_security_reason();

            case 'ClientInitialisation':
                this._sock.send([this._shared ? 1 : 0]); // ClientInitialisation
                this._rfb_init_state = 'ServerInitialisation';
                return true;

            case 'ServerInitialisation':
                return this._negotiate_server_init();

            default:
                return this._fail("Unknown init state (state: " +
                                  this._rfb_init_state + ")");
        }
    }

    _handle_set_colour_map_msg() {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("SetColorMapEntries");

        return this._fail("Unexpected SetColorMapEntries message");
    }

    _handle_server_cut_text() {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("ServerCutText");

        if (this._sock.rQwait("ServerCutText header", 7, 1)) { return false; }
        this._sock.rQskipBytes(3);  // Padding
        const length = this._sock.rQshift32();
        if (this._sock.rQwait("ServerCutText", length, 8)) { return false; }

        const text = this._sock.rQshiftStr(length);

        if (this._viewOnly) { return true; }

        this.dispatchEvent(new CustomEvent(
            "clipboard",
            { detail: { text: text } }));

        return true;
    }

    _handle_server_fence_msg() {
        if (this._sock.rQwait("ServerFence header", 8, 1)) { return false; }
        this._sock.rQskipBytes(3); // Padding
        let flags = this._sock.rQshift32();
        let length = this._sock.rQshift8();

        if (this._sock.rQwait("ServerFence payload", length, 9)) { return false; }

        if (length > 64) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Bad payload length (" + length + ") in fence response");
            length = 64;
        }

        const payload = this._sock.rQshiftStr(length);

        this._supportsFence = true;

        /*
         * Fence flags
         *
         *  (1<<0)  - BlockBefore
         *  (1<<1)  - BlockAfter
         *  (1<<2)  - SyncNext
         *  (1<<31) - Request
         */

        if (!(flags & (1<<31))) {
            return this._fail("Unexpected fence response");
        }

        // Filter out unsupported flags
        // FIXME: support syncNext
        flags &= (1<<0) | (1<<1);

        // BlockBefore and BlockAfter are automatically handled by
        // the fact that we process each incoming message
        // synchronuosly.
        RFB.messages.clientFence(this._sock, flags, payload);

        return true;
    }

    _handle_xvp_msg() {
        if (this._sock.rQwait("XVP version and message", 3, 1)) { return false; }
        this._sock.rQskipBytes(1);  // Padding
        const xvp_ver = this._sock.rQshift8();
        const xvp_msg = this._sock.rQshift8();

        switch (xvp_msg) {
            case 0:  // XVP_FAIL
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("XVP Operation Failed");
                break;
            case 1:  // XVP_INIT
                this._rfb_xvp_ver = xvp_ver;
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("XVP extensions enabled (version " + this._rfb_xvp_ver + ")");
                this._setCapability("power", true);
                break;
            default:
                this._fail("Illegal server XVP message (msg: " + xvp_msg + ")");
                break;
        }

        return true;
    }

    _normal_msg() {
        let msg_type;
        if (this._FBU.rects > 0) {
            msg_type = 0;
        } else {
            msg_type = this._sock.rQshift8();
        }

        let first, ret;
        switch (msg_type) {
            case 0:  // FramebufferUpdate
                ret = this._framebufferUpdate();
                if (ret && !this._enabledContinuousUpdates) {
                    RFB.messages.fbUpdateRequest(this._sock, true, 0, 0,
                                                 this._fb_width, this._fb_height);
                }
                return ret;

            case 1:  // SetColorMapEntries
                return this._handle_set_colour_map_msg();

            case 2:  // Bell
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Bell");
                this.dispatchEvent(new CustomEvent(
                    "bell",
                    { detail: {} }));
                return true;

            case 3:  // ServerCutText
                return this._handle_server_cut_text();

            case 150: // EndOfContinuousUpdates
                first = !this._supportsContinuousUpdates;
                this._supportsContinuousUpdates = true;
                this._enabledContinuousUpdates = false;
                if (first) {
                    this._enabledContinuousUpdates = true;
                    this._updateContinuousUpdates();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Enabling continuous updates.");
                } else {
                    // FIXME: We need to send a framebufferupdaterequest here
                    // if we add support for turning off continuous updates
                }
                return true;

            case 248: // ServerFence
                return this._handle_server_fence_msg();

            case 250:  // XVP
                return this._handle_xvp_msg();

            default:
                this._fail("Unexpected server message (type " + msg_type + ")");
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("sock.rQslice(0, 30): " + this._sock.rQslice(0, 30));
                return true;
        }
    }

    _onFlush() {
        this._flushing = false;
        // Resume processing
        if (this._sock.rQlen > 0) {
            this._handle_message();
        }
    }

    _framebufferUpdate() {
        if (this._FBU.rects === 0) {
            if (this._sock.rQwait("FBU header", 3, 1)) { return false; }
            this._sock.rQskipBytes(1);  // Padding
            this._FBU.rects = this._sock.rQshift16();

            // Make sure the previous frame is fully rendered first
            // to avoid building up an excessive queue
            if (this._display.pending()) {
                this._flushing = true;
                this._display.flush();
                return false;
            }
        }

        while (this._FBU.rects > 0) {
            if (this._FBU.encoding === null) {
                if (this._sock.rQwait("rect header", 12)) { return false; }
                /* New FramebufferUpdate */

                const hdr = this._sock.rQshiftBytes(12);
                this._FBU.x        = (hdr[0] << 8) + hdr[1];
                this._FBU.y        = (hdr[2] << 8) + hdr[3];
                this._FBU.width    = (hdr[4] << 8) + hdr[5];
                this._FBU.height   = (hdr[6] << 8) + hdr[7];
                this._FBU.encoding = parseInt((hdr[8] << 24) + (hdr[9] << 16) +
                                              (hdr[10] << 8) + hdr[11], 10);
            }

            if (!this._handleRect()) {
                return false;
            }

            this._FBU.rects--;
            this._FBU.encoding = null;
        }

        this._display.flip();

        return true;  // We finished this FBU
    }

    _handleRect() {
        switch (this._FBU.encoding) {
            case _encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect:
                this._FBU.rects = 1; // Will be decreased when we return
                return true;

            case _encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor:
                return this._handleCursor();

            case _encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent:
                // Old Safari doesn't support creating keyboard events
                try {
                    const keyboardEvent = document.createEvent("keyboardEvent");
                    if (keyboardEvent.code !== undefined) {
                        this._qemuExtKeyEventSupported = true;
                    }
                } catch (err) {
                    // Do nothing
                }
                return true;

            case _encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize:
                this._resize(this._FBU.width, this._FBU.height);
                return true;

            case _encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize:
                return this._handleExtendedDesktopSize();

            default:
                return this._handleDataRect();
        }
    }

    _handleCursor() {
        const hotx = this._FBU.x;  // hotspot-x
        const hoty = this._FBU.y;  // hotspot-y
        const w = this._FBU.width;
        const h = this._FBU.height;

        const pixelslength = w * h * 4;
        const masklength = Math.ceil(w / 8) * h;

        let bytes = pixelslength + masklength;
        if (this._sock.rQwait("cursor encoding", bytes)) {
            return false;
        }

        // Decode from BGRX pixels + bit mask to RGBA
        const pixels = this._sock.rQshiftBytes(pixelslength);
        const mask = this._sock.rQshiftBytes(masklength);
        let rgba = new Uint8Array(w * h * 4);

        let pix_idx = 0;
        for (let y = 0; y < h; y++) {
            for (let x = 0; x < w; x++) {
                let mask_idx = y * Math.ceil(w / 8) + Math.floor(x / 8);
                let alpha = (mask[mask_idx] << (x % 8)) & 0x80 ? 255 : 0;
                rgba[pix_idx    ] = pixels[pix_idx + 2];
                rgba[pix_idx + 1] = pixels[pix_idx + 1];
                rgba[pix_idx + 2] = pixels[pix_idx];
                rgba[pix_idx + 3] = alpha;
                pix_idx += 4;
            }
        }

        this._updateCursor(rgba, hotx, hoty, w, h);

        return true;
    }

    _handleExtendedDesktopSize() {
        if (this._sock.rQwait("ExtendedDesktopSize", 4)) {
            return false;
        }

        const number_of_screens = this._sock.rQpeek8();

        let bytes = 4 + (number_of_screens * 16);
        if (this._sock.rQwait("ExtendedDesktopSize", bytes)) {
            return false;
        }

        const firstUpdate = !this._supportsSetDesktopSize;
        this._supportsSetDesktopSize = true;

        // Normally we only apply the current resize mode after a
        // window resize event. However there is no such trigger on the
        // initial connect. And we don't know if the server supports
        // resizing until we've gotten here.
        if (firstUpdate) {
            this._requestRemoteResize();
        }

        this._sock.rQskipBytes(1);  // number-of-screens
        this._sock.rQskipBytes(3);  // padding

        for (let i = 0; i < number_of_screens; i += 1) {
            // Save the id and flags of the first screen
            if (i === 0) {
                this._screen_id = this._sock.rQshiftBytes(4);    // id
                this._sock.rQskipBytes(2);                       // x-position
                this._sock.rQskipBytes(2);                       // y-position
                this._sock.rQskipBytes(2);                       // width
                this._sock.rQskipBytes(2);                       // height
                this._screen_flags = this._sock.rQshiftBytes(4); // flags
            } else {
                this._sock.rQskipBytes(16);
            }
        }

        /*
         * The x-position indicates the reason for the change:
         *
         *  0 - server resized on its own
         *  1 - this client requested the resize
         *  2 - another client requested the resize
         */

        // We need to handle errors when we requested the resize.
        if (this._FBU.x === 1 && this._FBU.y !== 0) {
            let msg = "";
            // The y-position indicates the status code from the server
            switch (this._FBU.y) {
                case 1:
                    msg = "Resize is administratively prohibited";
                    break;
                case 2:
                    msg = "Out of resources";
                    break;
                case 3:
                    msg = "Invalid screen layout";
                    break;
                default:
                    msg = "Unknown reason";
                    break;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server did not accept the resize request: "
                     + msg);
        } else {
            this._resize(this._FBU.width, this._FBU.height);
        }

        return true;
    }

    _handleDataRect() {
        let decoder = this._decoders[this._FBU.encoding];
        if (!decoder) {
            this._fail("Unsupported encoding (encoding: " +
                       this._FBU.encoding + ")");
            return false;
        }

        try {
            return decoder.decodeRect(this._FBU.x, this._FBU.y,
                                      this._FBU.width, this._FBU.height,
                                      this._sock, this._display,
                                      this._fb_depth);
        } catch (err) {
            this._fail("Error decoding rect: " + err);
            return false;
        }
    }

    _updateContinuousUpdates() {
        if (!this._enabledContinuousUpdates) { return; }

        RFB.messages.enableContinuousUpdates(this._sock, true, 0, 0,
                                             this._fb_width, this._fb_height);
    }

    _resize(width, height) {
        this._fb_width = width;
        this._fb_height = height;

        this._display.resize(this._fb_width, this._fb_height);

        // Adjust the visible viewport based on the new dimensions
        this._updateClip();
        this._updateScale();

        this._updateContinuousUpdates();
    }

    _xvpOp(ver, op) {
        if (this._rfb_xvp_ver < ver) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending XVP operation " + op + " (version " + ver + ")");
        RFB.messages.xvpOp(this._sock, ver, op);
    }

    _updateCursor(rgba, hotx, hoty, w, h) {
        this._cursorImage = {
            rgbaPixels: rgba,
            hotx: hotx, hoty: hoty, w: w, h: h,
        };
        this._refreshCursor();
    }

    _shouldShowDotCursor() {
        // Called when this._cursorImage is updated
        if (!this._showDotCursor) {
            // User does not want to see the dot, so...
            return false;
        }

        // The dot should not be shown if the cursor is already visible,
        // i.e. contains at least one not-fully-transparent pixel.
        // So iterate through all alpha bytes in rgba and stop at the
        // first non-zero.
        for (let i = 3; i < this._cursorImage.rgbaPixels.length; i += 4) {
            if (this._cursorImage.rgbaPixels[i]) {
                return false;
            }
        }

        // At this point, we know that the cursor is fully transparent, and
        // the user wants to see the dot instead of this.
        return true;
    }

    _refreshCursor() {
        const image = this._shouldShowDotCursor() ? RFB.cursors.dot : this._cursorImage;
        this._cursor.change(image.rgbaPixels,
                            image.hotx, image.hoty,
                            image.w, image.h
        );
    }

    static genDES(password, challenge) {
        const passwordChars = password.split('').map(c => c.charCodeAt(0));
        return (new _des_js__WEBPACK_IMPORTED_MODULE_9__["default"](passwordChars)).encrypt(challenge);
    }
}

// Class Methods
RFB.messages = {
    keyEvent(sock, keysym, down) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 4;  // msg-type
        buff[offset + 1] = down;

        buff[offset + 2] = 0;
        buff[offset + 3] = 0;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        sock._sQlen += 8;
        sock.flush();
    },

    QEMUExtendedKeyEvent(sock, keysym, down, keycode) {
        function getRFBkeycode(xt_scancode) {
            const upperByte = (keycode >> 8);
            const lowerByte = (keycode & 0x00ff);
            if (upperByte === 0xe0 && lowerByte < 0x7f) {
                return lowerByte | 0x80;
            }
            return xt_scancode;
        }

        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 255; // msg-type
        buff[offset + 1] = 0; // sub msg-type

        buff[offset + 2] = (down >> 8);
        buff[offset + 3] = down;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        const RFBkeycode = getRFBkeycode(keycode);

        buff[offset + 8] = (RFBkeycode >> 24);
        buff[offset + 9] = (RFBkeycode >> 16);
        buff[offset + 10] = (RFBkeycode >> 8);
        buff[offset + 11] = RFBkeycode;

        sock._sQlen += 12;
        sock.flush();
    },

    pointerEvent(sock, x, y, mask) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 5; // msg-type

        buff[offset + 1] = mask;

        buff[offset + 2] = x >> 8;
        buff[offset + 3] = x;

        buff[offset + 4] = y >> 8;
        buff[offset + 5] = y;

        sock._sQlen += 6;
        sock.flush();
    },

    // TODO(directxman12): make this unicode compatible?
    clientCutText(sock, text) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 6; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        let length = text.length;

        buff[offset + 4] = length >> 24;
        buff[offset + 5] = length >> 16;
        buff[offset + 6] = length >> 8;
        buff[offset + 7] = length;

        sock._sQlen += 8;

        // We have to keep track of from where in the text we begin creating the
        // buffer for the flush in the next iteration.
        let textOffset = 0;

        let remaining = length;
        while (remaining > 0) {

            let flushSize = Math.min(remaining, (sock._sQbufferSize - sock._sQlen));
            for (let i = 0; i < flushSize; i++) {
                buff[sock._sQlen + i] =  text.charCodeAt(textOffset + i);
            }

            sock._sQlen += flushSize;
            sock.flush();

            remaining -= flushSize;
            textOffset += flushSize;
        }
    },

    setDesktopSize(sock, width, height, id, flags) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 251;              // msg-type
        buff[offset + 1] = 0;            // padding
        buff[offset + 2] = width >> 8;   // width
        buff[offset + 3] = width;
        buff[offset + 4] = height >> 8;  // height
        buff[offset + 5] = height;

        buff[offset + 6] = 1;            // number-of-screens
        buff[offset + 7] = 0;            // padding

        // screen array
        buff[offset + 8] = id >> 24;     // id
        buff[offset + 9] = id >> 16;
        buff[offset + 10] = id >> 8;
        buff[offset + 11] = id;
        buff[offset + 12] = 0;           // x-position
        buff[offset + 13] = 0;
        buff[offset + 14] = 0;           // y-position
        buff[offset + 15] = 0;
        buff[offset + 16] = width >> 8;  // width
        buff[offset + 17] = width;
        buff[offset + 18] = height >> 8; // height
        buff[offset + 19] = height;
        buff[offset + 20] = flags >> 24; // flags
        buff[offset + 21] = flags >> 16;
        buff[offset + 22] = flags >> 8;
        buff[offset + 23] = flags;

        sock._sQlen += 24;
        sock.flush();
    },

    clientFence(sock, flags, payload) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 248; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = flags >> 24; // flags
        buff[offset + 5] = flags >> 16;
        buff[offset + 6] = flags >> 8;
        buff[offset + 7] = flags;

        const n = payload.length;

        buff[offset + 8] = n; // length

        for (let i = 0; i < n; i++) {
            buff[offset + 9 + i] = payload.charCodeAt(i);
        }

        sock._sQlen += 9 + n;
        sock.flush();
    },

    enableContinuousUpdates(sock, enable, x, y, width, height) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 150;             // msg-type
        buff[offset + 1] = enable;      // enable-flag

        buff[offset + 2] = x >> 8;      // x
        buff[offset + 3] = x;
        buff[offset + 4] = y >> 8;      // y
        buff[offset + 5] = y;
        buff[offset + 6] = width >> 8;  // width
        buff[offset + 7] = width;
        buff[offset + 8] = height >> 8; // height
        buff[offset + 9] = height;

        sock._sQlen += 10;
        sock.flush();
    },

    pixelFormat(sock, depth, true_color) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        let bpp;

        if (depth > 16) {
            bpp = 32;
        } else if (depth > 8) {
            bpp = 16;
        } else {
            bpp = 8;
        }

        const bits = Math.floor(depth/3);

        buff[offset] = 0;  // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = bpp;                 // bits-per-pixel
        buff[offset + 5] = depth;               // depth
        buff[offset + 6] = 0;                   // little-endian
        buff[offset + 7] = true_color ? 1 : 0;  // true-color

        buff[offset + 8] = 0;    // red-max
        buff[offset + 9] = (1 << bits) - 1;  // red-max

        buff[offset + 10] = 0;   // green-max
        buff[offset + 11] = (1 << bits) - 1; // green-max

        buff[offset + 12] = 0;   // blue-max
        buff[offset + 13] = (1 << bits) - 1; // blue-max

        buff[offset + 14] = bits * 2; // red-shift
        buff[offset + 15] = bits * 1; // green-shift
        buff[offset + 16] = bits * 0; // blue-shift

        buff[offset + 17] = 0;   // padding
        buff[offset + 18] = 0;   // padding
        buff[offset + 19] = 0;   // padding

        sock._sQlen += 20;
        sock.flush();
    },

    clientEncodings(sock, encodings) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 2; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = encodings.length >> 8;
        buff[offset + 3] = encodings.length;

        let j = offset + 4;
        for (let i = 0; i < encodings.length; i++) {
            const enc = encodings[i];
            buff[j] = enc >> 24;
            buff[j + 1] = enc >> 16;
            buff[j + 2] = enc >> 8;
            buff[j + 3] = enc;

            j += 4;
        }

        sock._sQlen += j - offset;
        sock.flush();
    },

    fbUpdateRequest(sock, incremental, x, y, w, h) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        if (typeof(x) === "undefined") { x = 0; }
        if (typeof(y) === "undefined") { y = 0; }

        buff[offset] = 3;  // msg-type
        buff[offset + 1] = incremental ? 1 : 0;

        buff[offset + 2] = (x >> 8) & 0xFF;
        buff[offset + 3] = x & 0xFF;

        buff[offset + 4] = (y >> 8) & 0xFF;
        buff[offset + 5] = y & 0xFF;

        buff[offset + 6] = (w >> 8) & 0xFF;
        buff[offset + 7] = w & 0xFF;

        buff[offset + 8] = (h >> 8) & 0xFF;
        buff[offset + 9] = h & 0xFF;

        sock._sQlen += 10;
        sock.flush();
    },

    xvpOp(sock, ver, op) {
        const buff = sock._sQ;
        const offset = sock._sQlen;

        buff[offset] = 250; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = ver;
        buff[offset + 3] = op;

        sock._sQlen += 4;
        sock.flush();
    }
};

RFB.cursors = {
    none: {
        rgbaPixels: new Uint8Array(),
        w: 0, h: 0,
        hotx: 0, hoty: 0,
    },

    dot: {
        /* eslint-disable indent */
        rgbaPixels: new Uint8Array([
            255, 255, 255, 255,   0,   0,   0, 255, 255, 255, 255, 255,
              0,   0,   0, 255,   0,   0,   0,   0,   0,   0,  0,  255,
            255, 255, 255, 255,   0,   0,   0, 255, 255, 255, 255, 255,
        ]),
        /* eslint-enable indent */
        w: 3, h: 3,
        hotx: 1, hoty: 1,
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/browser.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/browser.js ***!
  \********************************************************/
/*! exports provided: isTouchDevice, dragThreshold, supportsCursorURIs, supportsImageMetadata, isMac, isWindows, isIOS, isAndroid, isSafari, isIE, isEdge, isFirefox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouchDevice", function() { return isTouchDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragThreshold", function() { return dragThreshold; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCursorURIs", function() { return supportsCursorURIs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsImageMetadata", function() { return supportsImageMetadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMac", function() { return isMac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindows", function() { return isWindows; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAndroid", function() { return isAndroid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSafari", function() { return isSafari; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIE", function() { return isIE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEdge", function() { return isEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFirefox", function() { return isFirefox; });
/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */



// Touch detection
let isTouchDevice = ('ontouchstart' in document.documentElement) ||
                                 // requried for Chrome debugger
                                 (document.ontouchstart !== undefined) ||
                                 // required for MS Surface
                                 (navigator.maxTouchPoints > 0) ||
                                 (navigator.msMaxTouchPoints > 0);
window.addEventListener('touchstart', function onFirstTouch() {
    isTouchDevice = true;
    window.removeEventListener('touchstart', onFirstTouch, false);
}, false);


// The goal is to find a certain physical width, the devicePixelRatio
// brings us a bit closer but is not optimal.
let dragThreshold = 10 * (window.devicePixelRatio || 1);

let _supportsCursorURIs = false;

try {
    const target = document.createElement('canvas');
    target.style.cursor = 'url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';

    if (target.style.cursor) {
        _logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Data URI scheme cursor supported");
        _supportsCursorURIs = true;
    } else {
        _logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Data URI scheme cursor not supported");
    }
} catch (exc) {
    _logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Data URI scheme cursor test exception: " + exc);
}

const supportsCursorURIs = _supportsCursorURIs;

let _supportsImageMetadata = false;
try {
    new ImageData(new Uint8ClampedArray(4), 1, 1);
    _supportsImageMetadata = true;
} catch (ex) {
    // ignore failure
}
const supportsImageMetadata = _supportsImageMetadata;

function isMac() {
    return navigator && !!(/mac/i).exec(navigator.platform);
}

function isWindows() {
    return navigator && !!(/win/i).exec(navigator.platform);
}

function isIOS() {
    return navigator &&
           (!!(/ipad/i).exec(navigator.platform) ||
            !!(/iphone/i).exec(navigator.platform) ||
            !!(/ipod/i).exec(navigator.platform));
}

function isAndroid() {
    return navigator && !!(/android/i).exec(navigator.userAgent);
}

function isSafari() {
    return navigator && (navigator.userAgent.indexOf('Safari') !== -1 &&
                         navigator.userAgent.indexOf('Chrome') === -1);
}

function isIE() {
    return navigator && !!(/trident/i).exec(navigator.userAgent);
}

function isEdge() {
    return navigator && !!(/edge/i).exec(navigator.userAgent);
}

function isFirefox() {
    return navigator && !!(/firefox/i).exec(navigator.userAgent);
}



/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/cursor.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/cursor.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Cursor; });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */



const useFallback = !_browser_js__WEBPACK_IMPORTED_MODULE_0__["supportsCursorURIs"] || _browser_js__WEBPACK_IMPORTED_MODULE_0__["isTouchDevice"];

class Cursor {
    constructor() {
        this._target = null;

        this._canvas = document.createElement('canvas');

        if (useFallback) {
            this._canvas.style.position = 'fixed';
            this._canvas.style.zIndex = '65535';
            this._canvas.style.pointerEvents = 'none';
            // Can't use "display" because of Firefox bug #1445997
            this._canvas.style.visibility = 'hidden';
            document.body.appendChild(this._canvas);
        }

        this._position = { x: 0, y: 0 };
        this._hotSpot = { x: 0, y: 0 };

        this._eventHandlers = {
            'mouseover': this._handleMouseOver.bind(this),
            'mouseleave': this._handleMouseLeave.bind(this),
            'mousemove': this._handleMouseMove.bind(this),
            'mouseup': this._handleMouseUp.bind(this),
            'touchstart': this._handleTouchStart.bind(this),
            'touchmove': this._handleTouchMove.bind(this),
            'touchend': this._handleTouchEnd.bind(this),
        };
    }

    attach(target) {
        if (this._target) {
            this.detach();
        }

        this._target = target;

        if (useFallback) {
            // FIXME: These don't fire properly except for mouse
            ///       movement in IE. We want to also capture element
            //        movement, size changes, visibility, etc.
            const options = { capture: true, passive: true };
            this._target.addEventListener('mouseover', this._eventHandlers.mouseover, options);
            this._target.addEventListener('mouseleave', this._eventHandlers.mouseleave, options);
            this._target.addEventListener('mousemove', this._eventHandlers.mousemove, options);
            this._target.addEventListener('mouseup', this._eventHandlers.mouseup, options);

            // There is no "touchleave" so we monitor touchstart globally
            window.addEventListener('touchstart', this._eventHandlers.touchstart, options);
            this._target.addEventListener('touchmove', this._eventHandlers.touchmove, options);
            this._target.addEventListener('touchend', this._eventHandlers.touchend, options);
        }

        this.clear();
    }

    detach() {
        if (useFallback) {
            const options = { capture: true, passive: true };
            this._target.removeEventListener('mouseover', this._eventHandlers.mouseover, options);
            this._target.removeEventListener('mouseleave', this._eventHandlers.mouseleave, options);
            this._target.removeEventListener('mousemove', this._eventHandlers.mousemove, options);
            this._target.removeEventListener('mouseup', this._eventHandlers.mouseup, options);

            window.removeEventListener('touchstart', this._eventHandlers.touchstart, options);
            this._target.removeEventListener('touchmove', this._eventHandlers.touchmove, options);
            this._target.removeEventListener('touchend', this._eventHandlers.touchend, options);
        }

        this._target = null;
    }

    change(rgba, hotx, hoty, w, h) {
        if ((w === 0) || (h === 0)) {
            this.clear();
            return;
        }

        this._position.x = this._position.x + this._hotSpot.x - hotx;
        this._position.y = this._position.y + this._hotSpot.y - hoty;
        this._hotSpot.x = hotx;
        this._hotSpot.y = hoty;

        let ctx = this._canvas.getContext('2d');

        this._canvas.width = w;
        this._canvas.height = h;

        let img;
        try {
            // IE doesn't support this
            img = new ImageData(new Uint8ClampedArray(rgba), w, h);
        } catch (ex) {
            img = ctx.createImageData(w, h);
            img.data.set(new Uint8ClampedArray(rgba));
        }
        ctx.clearRect(0, 0, w, h);
        ctx.putImageData(img, 0, 0);

        if (useFallback) {
            this._updatePosition();
        } else {
            let url = this._canvas.toDataURL();
            this._target.style.cursor = 'url(' + url + ')' + hotx + ' ' + hoty + ', default';
        }
    }

    clear() {
        this._target.style.cursor = 'none';
        this._canvas.width = 0;
        this._canvas.height = 0;
        this._position.x = this._position.x + this._hotSpot.x;
        this._position.y = this._position.y + this._hotSpot.y;
        this._hotSpot.x = 0;
        this._hotSpot.y = 0;
    }

    _handleMouseOver(event) {
        // This event could be because we're entering the target, or
        // moving around amongst its sub elements. Let the move handler
        // sort things out.
        this._handleMouseMove(event);
    }

    _handleMouseLeave(event) {
        this._hideCursor();
    }

    _handleMouseMove(event) {
        this._updateVisibility(event.target);

        this._position.x = event.clientX - this._hotSpot.x;
        this._position.y = event.clientY - this._hotSpot.y;

        this._updatePosition();
    }

    _handleMouseUp(event) {
        // We might get this event because of a drag operation that
        // moved outside of the target. Check what's under the cursor
        // now and adjust visibility based on that.
        let target = document.elementFromPoint(event.clientX, event.clientY);
        this._updateVisibility(target);
    }

    _handleTouchStart(event) {
        // Just as for mouseover, we let the move handler deal with it
        this._handleTouchMove(event);
    }

    _handleTouchMove(event) {
        this._updateVisibility(event.target);

        this._position.x = event.changedTouches[0].clientX - this._hotSpot.x;
        this._position.y = event.changedTouches[0].clientY - this._hotSpot.y;

        this._updatePosition();
    }

    _handleTouchEnd(event) {
        // Same principle as for mouseup
        let target = document.elementFromPoint(event.changedTouches[0].clientX,
                                               event.changedTouches[0].clientY);
        this._updateVisibility(target);
    }

    _showCursor() {
        if (this._canvas.style.visibility === 'hidden') {
            this._canvas.style.visibility = '';
        }
    }

    _hideCursor() {
        if (this._canvas.style.visibility !== 'hidden') {
            this._canvas.style.visibility = 'hidden';
        }
    }

    // Should we currently display the cursor?
    // (i.e. are we over the target, or a child of the target without a
    // different cursor set)
    _shouldShowCursor(target) {
        // Easy case
        if (target === this._target) {
            return true;
        }
        // Other part of the DOM?
        if (!this._target.contains(target)) {
            return false;
        }
        // Has the child its own cursor?
        // FIXME: How can we tell that a sub element has an
        //        explicit "cursor: none;"?
        if (window.getComputedStyle(target).cursor !== 'none') {
            return false;
        }
        return true;
    }

    _updateVisibility(target) {
        if (this._shouldShowCursor(target)) {
            this._showCursor();
        } else {
            this._hideCursor();
        }
    }

    _updatePosition() {
        this._canvas.style.left = this._position.x + "px";
        this._canvas.style.top = this._position.y + "px";
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/events.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/events.js ***!
  \*******************************************************/
/*! exports provided: getPointerEvent, stopEvent, setCapture, releaseCapture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPointerEvent", function() { return getPointerEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopEvent", function() { return stopEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCapture", function() { return setCapture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "releaseCapture", function() { return releaseCapture; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Cross-browser event and position routines
 */

function getPointerEvent(e) {
    return e.changedTouches ? e.changedTouches[0] : e.touches ? e.touches[0] : e;
}

function stopEvent(e) {
    e.stopPropagation();
    e.preventDefault();
}

// Emulate Element.setCapture() when not supported
let _captureRecursion = false;
let _captureElem = null;
function _captureProxy(e) {
    // Recursion protection as we'll see our own event
    if (_captureRecursion) return;

    // Clone the event as we cannot dispatch an already dispatched event
    const newEv = new e.constructor(e.type, e);

    _captureRecursion = true;
    _captureElem.dispatchEvent(newEv);
    _captureRecursion = false;

    // Avoid double events
    e.stopPropagation();

    // Respect the wishes of the redirected event handlers
    if (newEv.defaultPrevented) {
        e.preventDefault();
    }

    // Implicitly release the capture on button release
    if (e.type === "mouseup") {
        releaseCapture();
    }
}

// Follow cursor style of target element
function _captureElemChanged() {
    const captureElem = document.getElementById("noVNC_mouse_capture_elem");
    captureElem.style.cursor = window.getComputedStyle(_captureElem).cursor;
}

const _captureObserver = new MutationObserver(_captureElemChanged);

let _captureIndex = 0;

function setCapture(elem) {
    if (elem.setCapture) {

        elem.setCapture();

        // IE releases capture on 'click' events which might not trigger
        elem.addEventListener('mouseup', releaseCapture);

    } else {
        // Release any existing capture in case this method is
        // called multiple times without coordination
        releaseCapture();

        let captureElem = document.getElementById("noVNC_mouse_capture_elem");

        if (captureElem === null) {
            captureElem = document.createElement("div");
            captureElem.id = "noVNC_mouse_capture_elem";
            captureElem.style.position = "fixed";
            captureElem.style.top = "0px";
            captureElem.style.left = "0px";
            captureElem.style.width = "100%";
            captureElem.style.height = "100%";
            captureElem.style.zIndex = 10000;
            captureElem.style.display = "none";
            document.body.appendChild(captureElem);

            // This is to make sure callers don't get confused by having
            // our blocking element as the target
            captureElem.addEventListener('contextmenu', _captureProxy);

            captureElem.addEventListener('mousemove', _captureProxy);
            captureElem.addEventListener('mouseup', _captureProxy);
        }

        _captureElem = elem;
        _captureIndex++;

        // Track cursor and get initial cursor
        _captureObserver.observe(elem, {attributes: true});
        _captureElemChanged();

        captureElem.style.display = "";

        // We listen to events on window in order to keep tracking if it
        // happens to leave the viewport
        window.addEventListener('mousemove', _captureProxy);
        window.addEventListener('mouseup', _captureProxy);
    }
}

function releaseCapture() {
    if (document.releaseCapture) {

        document.releaseCapture();

    } else {
        if (!_captureElem) {
            return;
        }

        // There might be events already queued, so we need to wait for
        // them to flush. E.g. contextmenu in Microsoft Edge
        window.setTimeout((expected) => {
            // Only clear it if it's the expected grab (i.e. no one
            // else has initiated a new grab)
            if (_captureIndex === expected) {
                _captureElem = null;
            }
        }, 0, _captureIndex);

        _captureObserver.disconnect();

        const captureElem = document.getElementById("noVNC_mouse_capture_elem");
        captureElem.style.display = "none";

        window.removeEventListener('mousemove', _captureProxy);
        window.removeEventListener('mouseup', _captureProxy);
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/eventtarget.js":
/*!************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/eventtarget.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EventTargetMixin; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

class EventTargetMixin {
    constructor() {
        this._listeners = new Map();
    }

    addEventListener(type, callback) {
        if (!this._listeners.has(type)) {
            this._listeners.set(type, new Set());
        }
        this._listeners.get(type).add(callback);
    }

    removeEventListener(type, callback) {
        if (this._listeners.has(type)) {
            this._listeners.get(type).delete(callback);
        }
    }

    dispatchEvent(event) {
        if (!this._listeners.has(event.type)) {
            return true;
        }
        this._listeners.get(event.type)
            .forEach(callback => callback.call(this, event));
        return !event.defaultPrevented;
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/logging.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/logging.js ***!
  \********************************************************/
/*! exports provided: init_logging, get_logging, Debug, Info, Warn, Error */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init_logging", function() { return init_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_logging", function() { return get_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Debug", function() { return Debug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Info", function() { return Info; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Warn", function() { return Warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Logging/debug routines
 */

let _log_level = 'warn';

let Debug = () => {};
let Info = () => {};
let Warn = () => {};
let Error = () => {};

function init_logging(level) {
    if (typeof level === 'undefined') {
        level = _log_level;
    } else {
        _log_level = level;
    }

    Debug = Info = Warn = Error = () => {};

    if (typeof window.console !== "undefined") {
        /* eslint-disable no-console, no-fallthrough */
        switch (level) {
            case 'debug':
                Debug = console.debug.bind(window.console);
            case 'info':
                Info  = console.info.bind(window.console);
            case 'warn':
                Warn  = console.warn.bind(window.console);
            case 'error':
                Error = console.error.bind(window.console);
            case 'none':
                break;
            default:
                throw new window.Error("invalid logging type '" + level + "'");
        }
        /* eslint-enable no-console, no-fallthrough */
    }
}

function get_logging() {
    return _log_level;
}



// Initialize logging level
init_logging();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/polyfill.js":
/*!*********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/polyfill.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/* Polyfills to provide new APIs in old browsers */

/* Object.assign() (taken from MDN) */
if (typeof Object.assign != 'function') {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, "assign", {
        value: function assign(target, varArgs) { // .length of function is 2
            'use strict';
            if (target == null) { // TypeError if undefined or null
                throw new TypeError('Cannot convert undefined or null to object');
            }

            const to = Object(target);

            for (let index = 1; index < arguments.length; index++) {
                const nextSource = arguments[index];

                if (nextSource != null) { // Skip over if undefined or null
                    for (let nextKey in nextSource) {
                        // Avoid bugs when hasOwnProperty is shadowed
                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        },
        writable: true,
        configurable: true
    });
}

/* CustomEvent constructor (taken from MDN) */
(() => {
    function CustomEvent(event, params) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        const evt = document.createEvent( 'CustomEvent' );
        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
        return evt;
    }

    CustomEvent.prototype = window.Event.prototype;

    if (typeof window.CustomEvent !== "function") {
        window.CustomEvent = CustomEvent;
    }
})();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/strings.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/strings.js ***!
  \********************************************************/
/*! exports provided: decodeUTF8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decodeUTF8", function() { return decodeUTF8; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Decode from UTF-8
 */
function decodeUTF8(utf8string) {
    return decodeURIComponent(escape(utf8string));
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/websock.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/websock.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Websock; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * Websock: high-performance binary WebSockets
 * Copyright (C) 2018 The noVNC Authors
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * Websock is similar to the standard WebSocket object but with extra
 * buffer handling.
 *
 * Websock has built-in receive queue buffering; the message event
 * does not contain actual data but is simply a notification that
 * there is new data available. Several rQ* methods are available to
 * read binary data off of the receive queue.
 */



// this has performance issues in some versions Chromium, and
// doesn't gain a tremendous amount of performance increase in Firefox
// at the moment.  It may be valuable to turn it on in the future.
const ENABLE_COPYWITHIN = false;
const MAX_RQ_GROW_SIZE = 40 * 1024 * 1024;  // 40 MiB

class Websock {
    constructor() {
        this._websocket = null;  // WebSocket object

        this._rQi = 0;           // Receive queue index
        this._rQlen = 0;         // Next write position in the receive queue
        this._rQbufferSize = 1024 * 1024 * 4; // Receive queue buffer size (4 MiB)
        this._rQmax = this._rQbufferSize / 8;
        // called in init: this._rQ = new Uint8Array(this._rQbufferSize);
        this._rQ = null; // Receive queue

        this._sQbufferSize = 1024 * 10;  // 10 KiB
        // called in init: this._sQ = new Uint8Array(this._sQbufferSize);
        this._sQlen = 0;
        this._sQ = null;  // Send queue

        this._eventHandlers = {
            message: () => {},
            open: () => {},
            close: () => {},
            error: () => {}
        };
    }

    // Getters and Setters
    get sQ() {
        return this._sQ;
    }

    get rQ() {
        return this._rQ;
    }

    get rQi() {
        return this._rQi;
    }

    set rQi(val) {
        this._rQi = val;
    }

    // Receive Queue
    get rQlen() {
        return this._rQlen - this._rQi;
    }

    rQpeek8() {
        return this._rQ[this._rQi];
    }

    rQskipBytes(bytes) {
        this._rQi += bytes;
    }

    rQshift8() {
        return this._rQshift(1);
    }

    rQshift16() {
        return this._rQshift(2);
    }

    rQshift32() {
        return this._rQshift(4);
    }

    // TODO(directxman12): test performance with these vs a DataView
    _rQshift(bytes) {
        let res = 0;
        for (let byte = bytes - 1; byte >= 0; byte--) {
            res += this._rQ[this._rQi++] << (byte * 8);
        }
        return res;
    }

    rQshiftStr(len) {
        if (typeof(len) === 'undefined') { len = this.rQlen; }
        let str = "";
        // Handle large arrays in steps to avoid long strings on the stack
        for (let i = 0; i < len; i += 4096) {
            let part = this.rQshiftBytes(Math.min(4096, len - i));
            str += String.fromCharCode.apply(null, part);
        }
        return str;
    }

    rQshiftBytes(len) {
        if (typeof(len) === 'undefined') { len = this.rQlen; }
        this._rQi += len;
        return new Uint8Array(this._rQ.buffer, this._rQi - len, len);
    }

    rQshiftTo(target, len) {
        if (len === undefined) { len = this.rQlen; }
        // TODO: make this just use set with views when using a ArrayBuffer to store the rQ
        target.set(new Uint8Array(this._rQ.buffer, this._rQi, len));
        this._rQi += len;
    }

    rQslice(start, end = this.rQlen) {
        return new Uint8Array(this._rQ.buffer, this._rQi + start, end - start);
    }

    // Check to see if we must wait for 'num' bytes (default to FBU.bytes)
    // to be available in the receive queue. Return true if we need to
    // wait (and possibly print a debug message), otherwise false.
    rQwait(msg, num, goback) {
        if (this.rQlen < num) {
            if (goback) {
                if (this._rQi < goback) {
                    throw new Error("rQwait cannot backup " + goback + " bytes");
                }
                this._rQi -= goback;
            }
            return true; // true means need more data
        }
        return false;
    }

    // Send Queue

    flush() {
        if (this._sQlen > 0 && this._websocket.readyState === WebSocket.OPEN) {
            this._websocket.send(this._encode_message());
            this._sQlen = 0;
        }
    }

    send(arr) {
        this._sQ.set(arr, this._sQlen);
        this._sQlen += arr.length;
        this.flush();
    }

    send_string(str) {
        this.send(str.split('').map(chr => chr.charCodeAt(0)));
    }

    // Event Handlers
    off(evt) {
        this._eventHandlers[evt] = () => {};
    }

    on(evt, handler) {
        this._eventHandlers[evt] = handler;
    }

    _allocate_buffers() {
        this._rQ = new Uint8Array(this._rQbufferSize);
        this._sQ = new Uint8Array(this._sQbufferSize);
    }

    init() {
        this._allocate_buffers();
        this._rQi = 0;
        this._websocket = null;
    }

    open(uri, protocols) {
        this.init();

        this._websocket = new WebSocket(uri, protocols);
        this._websocket.binaryType = 'arraybuffer';

        this._websocket.onmessage = this._recv_message.bind(this);
        this._websocket.onopen = () => {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('>> WebSock.onopen');
            if (this._websocket.protocol) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server choose sub-protocol: " + this._websocket.protocol);
            }

            this._eventHandlers.open();
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onopen");
        };
        this._websocket.onclose = (e) => {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onclose");
            this._eventHandlers.close(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onclose");
        };
        this._websocket.onerror = (e) => {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onerror: " + e);
            this._eventHandlers.error(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onerror: " + e);
        };
    }

    close() {
        if (this._websocket) {
            if ((this._websocket.readyState === WebSocket.OPEN) ||
                    (this._websocket.readyState === WebSocket.CONNECTING)) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Closing WebSocket connection");
                this._websocket.close();
            }

            this._websocket.onmessage = () => {};
        }
    }

    // private methods
    _encode_message() {
        // Put in a binary arraybuffer
        // according to the spec, you can send ArrayBufferViews with the send method
        return new Uint8Array(this._sQ.buffer, 0, this._sQlen);
    }

    _expand_compact_rQ(min_fit) {
        const resizeNeeded = min_fit || this.rQlen > this._rQbufferSize / 2;
        if (resizeNeeded) {
            if (!min_fit) {
                // just double the size if we need to do compaction
                this._rQbufferSize *= 2;
            } else {
                // otherwise, make sure we satisy rQlen - rQi + min_fit < rQbufferSize / 8
                this._rQbufferSize = (this.rQlen + min_fit) * 8;
            }
        }

        // we don't want to grow unboundedly
        if (this._rQbufferSize > MAX_RQ_GROW_SIZE) {
            this._rQbufferSize = MAX_RQ_GROW_SIZE;
            if (this._rQbufferSize - this.rQlen < min_fit) {
                throw new Error("Receive Queue buffer exceeded " + MAX_RQ_GROW_SIZE + " bytes, and the new message could not fit");
            }
        }

        if (resizeNeeded) {
            const old_rQbuffer = this._rQ.buffer;
            this._rQmax = this._rQbufferSize / 8;
            this._rQ = new Uint8Array(this._rQbufferSize);
            this._rQ.set(new Uint8Array(old_rQbuffer, this._rQi));
        } else {
            if (ENABLE_COPYWITHIN) {
                this._rQ.copyWithin(0, this._rQi);
            } else {
                this._rQ.set(new Uint8Array(this._rQ.buffer, this._rQi));
            }
        }

        this._rQlen = this._rQlen - this._rQi;
        this._rQi = 0;
    }

    _decode_message(data) {
        // push arraybuffer values onto the end
        const u8 = new Uint8Array(data);
        if (u8.length > this._rQbufferSize - this._rQlen) {
            this._expand_compact_rQ(u8.length);
        }
        this._rQ.set(u8, this._rQlen);
        this._rQlen += u8.length;
    }

    _recv_message(e) {
        this._decode_message(e.data);
        if (this.rQlen > 0) {
            this._eventHandlers.message();
            // Compact the receive queue
            if (this._rQlen == this._rQi) {
                this._rQlen = 0;
                this._rQi = 0;
            } else if (this._rQlen > this._rQmax) {
                this._expand_compact_rQ();
            }
        } else {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Ignoring empty message");
        }
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js ***!
  \*******************************************************************/
/*! exports provided: shrinkBuf, arraySet, flattenChunks, Buf8, Buf16, Buf32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shrinkBuf", function() { return shrinkBuf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arraySet", function() { return arraySet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenChunks", function() { return flattenChunks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf8", function() { return Buf8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf16", function() { return Buf16; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf32", function() { return Buf32; });
// reduce buffer size, avoiding mem copy
function shrinkBuf (buf, size) {
  if (buf.length === size) { return buf; }
  if (buf.subarray) { return buf.subarray(0, size); }
  buf.length = size;
  return buf;
};


function arraySet (dest, src, src_offs, len, dest_offs) {
  if (src.subarray && dest.subarray) {
    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
    return;
  }
  // Fallback to ordinary array
  for (var i = 0; i < len; i++) {
    dest[dest_offs + i] = src[src_offs + i];
  }
}

// Join array of chunks to single array.
function flattenChunks (chunks) {
  var i, l, len, pos, chunk, result;

  // calculate data length
  len = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    len += chunks[i].length;
  }

  // join chunks
  result = new Uint8Array(len);
  pos = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    chunk = chunks[i];
    result.set(chunk, pos);
    pos += chunk.length;
  }

  return result;
}

var Buf8  = Uint8Array;
var Buf16 = Uint16Array;
var Buf32 = Int32Array;


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return adler32; });
// Note: adler32 takes 12% for level 0 and 2% for level 6.
// It doesn't worth to make additional optimizationa as in original.
// Small size is preferable.

function adler32(adler, buf, len, pos) {
  var s1 = (adler & 0xffff) |0,
      s2 = ((adler >>> 16) & 0xffff) |0,
      n = 0;

  while (len !== 0) {
    // Set limit ~ twice less than 5552, to keep
    // s2 in 31-bits, because we force signed ints.
    // in other case %= will fail.
    n = len > 2000 ? 2000 : len;
    len -= n;

    do {
      s1 = (s1 + buf[pos++]) |0;
      s2 = (s2 + s1) |0;
    } while (--n);

    s1 %= 65521;
    s2 %= 65521;
  }

  return (s1 | (s2 << 16)) |0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return makeTable; });
// Note: we can't get significant speed boost here.
// So write code to minimize size - no pregenerated tables
// and array tools dependencies.


// Use ordinary array, since untyped makes no boost here
function makeTable() {
  var c, table = [];

  for (var n = 0; n < 256; n++) {
    c = n;
    for (var k = 0; k < 8; k++) {
      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
    }
    table[n] = c;
  }

  return table;
}

// Create table on load. Just 255 signed longs. Not a problem.
var crcTable = makeTable();


function crc32(crc, buf, len, pos) {
  var t = crcTable,
      end = pos + len;

  crc ^= -1;

  for (var i = pos; i < end; i++) {
    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];
  }

  return (crc ^ (-1)); // >>> 0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_fast; });
// See state defs from inflate.js
var BAD = 30;       /* got a data error -- remain here until reset */
var TYPE = 12;      /* i: waiting for type bits, including last-flag bit */

/*
   Decode literal, length, and distance codes and write out the resulting
   literal and match bytes until either not enough input or output is
   available, an end-of-block is encountered, or a data error is encountered.
   When large enough input and output buffers are supplied to inflate(), for
   example, a 16K input buffer and a 64K output buffer, more than 95% of the
   inflate execution time is spent in this routine.

   Entry assumptions:

        state.mode === LEN
        strm.avail_in >= 6
        strm.avail_out >= 258
        start >= strm.avail_out
        state.bits < 8

   On return, state.mode is one of:

        LEN -- ran out of enough output space or enough available input
        TYPE -- reached end of block code, inflate() to interpret next block
        BAD -- error in block data

   Notes:

    - The maximum input bits used by a length/distance pair is 15 bits for the
      length code, 5 bits for the length extra, 15 bits for the distance code,
      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.
      Therefore if strm.avail_in >= 6, then there is enough input to avoid
      checking for available input while decoding.

    - The maximum bytes that a single length/distance pair can output is 258
      bytes, which is the maximum length that can be coded.  inflate_fast()
      requires strm.avail_out >= 258 for each loop to avoid checking for
      output space.
 */
function inflate_fast(strm, start) {
  var state;
  var _in;                    /* local strm.input */
  var last;                   /* have enough input while in < last */
  var _out;                   /* local strm.output */
  var beg;                    /* inflate()'s initial strm.output */
  var end;                    /* while out < end, enough space available */
//#ifdef INFLATE_STRICT
  var dmax;                   /* maximum distance from zlib header */
//#endif
  var wsize;                  /* window size or zero if not using window */
  var whave;                  /* valid bytes in the window */
  var wnext;                  /* window write index */
  // Use `s_window` instead `window`, avoid conflict with instrumentation tools
  var s_window;               /* allocated sliding window, if wsize != 0 */
  var hold;                   /* local strm.hold */
  var bits;                   /* local strm.bits */
  var lcode;                  /* local strm.lencode */
  var dcode;                  /* local strm.distcode */
  var lmask;                  /* mask for first level of length codes */
  var dmask;                  /* mask for first level of distance codes */
  var here;                   /* retrieved table entry */
  var op;                     /* code bits, operation, extra bits, or */
                              /*  window position, window bytes to copy */
  var len;                    /* match length, unused bytes */
  var dist;                   /* match distance */
  var from;                   /* where to copy match from */
  var from_source;


  var input, output; // JS specific, because we have no pointers

  /* copy state to local variables */
  state = strm.state;
  //here = state.here;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
//#ifdef INFLATE_STRICT
  dmax = state.dmax;
//#endif
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;


  /* decode literals and length/distances until end-of-block or not enough
     input data or output space */

  top:
  do {
    if (bits < 15) {
      hold += input[_in++] << bits;
      bits += 8;
      hold += input[_in++] << bits;
      bits += 8;
    }

    here = lcode[hold & lmask];

    dolen:
    for (;;) { // Goto emulation
      op = here >>> 24/*here.bits*/;
      hold >>>= op;
      bits -= op;
      op = (here >>> 16) & 0xff/*here.op*/;
      if (op === 0) {                          /* literal */
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        output[_out++] = here & 0xffff/*here.val*/;
      }
      else if (op & 16) {                     /* length base */
        len = here & 0xffff/*here.val*/;
        op &= 15;                           /* number of extra bits */
        if (op) {
          if (bits < op) {
            hold += input[_in++] << bits;
            bits += 8;
          }
          len += hold & ((1 << op) - 1);
          hold >>>= op;
          bits -= op;
        }
        //Tracevv((stderr, "inflate:         length %u\n", len));
        if (bits < 15) {
          hold += input[_in++] << bits;
          bits += 8;
          hold += input[_in++] << bits;
          bits += 8;
        }
        here = dcode[hold & dmask];

        dodist:
        for (;;) { // goto emulation
          op = here >>> 24/*here.bits*/;
          hold >>>= op;
          bits -= op;
          op = (here >>> 16) & 0xff/*here.op*/;

          if (op & 16) {                      /* distance base */
            dist = here & 0xffff/*here.val*/;
            op &= 15;                       /* number of extra bits */
            if (bits < op) {
              hold += input[_in++] << bits;
              bits += 8;
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
            }
            dist += hold & ((1 << op) - 1);
//#ifdef INFLATE_STRICT
            if (dist > dmax) {
              strm.msg = 'invalid distance too far back';
              state.mode = BAD;
              break top;
            }
//#endif
            hold >>>= op;
            bits -= op;
            //Tracevv((stderr, "inflate:         distance %u\n", dist));
            op = _out - beg;                /* max distance in output */
            if (dist > op) {                /* see if copy from window */
              op = dist - op;               /* distance back in window */
              if (op > whave) {
                if (state.sane) {
                  strm.msg = 'invalid distance too far back';
                  state.mode = BAD;
                  break top;
                }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//                if (len <= op - whave) {
//                  do {
//                    output[_out++] = 0;
//                  } while (--len);
//                  continue top;
//                }
//                len -= op - whave;
//                do {
//                  output[_out++] = 0;
//                } while (--op > whave);
//                if (op === 0) {
//                  from = _out - dist;
//                  do {
//                    output[_out++] = output[from++];
//                  } while (--len);
//                  continue top;
//                }
//#endif
              }
              from = 0; // window index
              from_source = s_window;
              if (wnext === 0) {           /* very common case */
                from += wsize - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              else if (wnext < op) {      /* wrap around window */
                from += wsize + wnext - op;
                op -= wnext;
                if (op < len) {         /* some from end of window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = 0;
                  if (wnext < len) {  /* some from start of window */
                    op = wnext;
                    len -= op;
                    do {
                      output[_out++] = s_window[from++];
                    } while (--op);
                    from = _out - dist;      /* rest from output */
                    from_source = output;
                  }
                }
              }
              else {                      /* contiguous in window */
                from += wnext - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              while (len > 2) {
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                len -= 3;
              }
              if (len) {
                output[_out++] = from_source[from++];
                if (len > 1) {
                  output[_out++] = from_source[from++];
                }
              }
            }
            else {
              from = _out - dist;          /* copy direct from output */
              do {                        /* minimum length is three */
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                len -= 3;
              } while (len > 2);
              if (len) {
                output[_out++] = output[from++];
                if (len > 1) {
                  output[_out++] = output[from++];
                }
              }
            }
          }
          else if ((op & 64) === 0) {          /* 2nd level distance code */
            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
            continue dodist;
          }
          else {
            strm.msg = 'invalid distance code';
            state.mode = BAD;
            break top;
          }

          break; // need to emulate goto via "continue"
        }
      }
      else if ((op & 64) === 0) {              /* 2nd level length code */
        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
        continue dolen;
      }
      else if (op & 32) {                     /* end-of-block */
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.mode = TYPE;
        break top;
      }
      else {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break top;
      }

      break; // need to emulate goto via "continue"
    }
  } while (_in < last && _out < end);

  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;

  /* update state and return */
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));
  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));
  state.hold = hold;
  state.bits = bits;
  return;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js ***!
  \*******************************************************************/
/*! exports provided: inflateReset, inflateReset2, inflateResetKeep, inflateInit, inflateInit2, inflate, inflateEnd, inflateGetHeader, inflateSetDictionary, inflateInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset", function() { return inflateReset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset2", function() { return inflateReset2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateResetKeep", function() { return inflateResetKeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit", function() { return inflateInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit2", function() { return inflateInit2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflate", function() { return inflate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateEnd", function() { return inflateEnd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateGetHeader", function() { return inflateGetHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateSetDictionary", function() { return inflateSetDictionary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInfo", function() { return inflateInfo; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");
/* harmony import */ var _adler32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adler32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js");
/* harmony import */ var _crc32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crc32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js");
/* harmony import */ var _inffast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inffast.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js");
/* harmony import */ var _inftrees_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inftrees.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js");






var CODES = 0;
var LENS = 1;
var DISTS = 2;

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
//var Z_NO_FLUSH      = 0;
//var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
//var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;

/* The deflate compression method */
var Z_DEFLATED  = 8;


/* STATES ====================================================================*/
/* ===========================================================================*/


var    HEAD = 1;       /* i: waiting for magic header */
var    FLAGS = 2;      /* i: waiting for method and flags (gzip) */
var    TIME = 3;       /* i: waiting for modification time (gzip) */
var    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */
var    EXLEN = 5;      /* i: waiting for extra length (gzip) */
var    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */
var    NAME = 7;       /* i: waiting for end of file name (gzip) */
var    COMMENT = 8;    /* i: waiting for end of comment (gzip) */
var    HCRC = 9;       /* i: waiting for header crc (gzip) */
var    DICTID = 10;    /* i: waiting for dictionary check value */
var    DICT = 11;      /* waiting for inflateSetDictionary() call */
var        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */
var        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */
var        STORED = 14;    /* i: waiting for stored size (length and complement) */
var        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */
var        COPY = 16;      /* i/o: waiting for input or output to copy stored block */
var        TABLE = 17;     /* i: waiting for dynamic block table lengths */
var        LENLENS = 18;   /* i: waiting for code length code lengths */
var        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */
var            LEN_ = 20;      /* i: same as LEN below, but only first time in */
var            LEN = 21;       /* i: waiting for length/lit/eob code */
var            LENEXT = 22;    /* i: waiting for length extra bits */
var            DIST = 23;      /* i: waiting for distance code */
var            DISTEXT = 24;   /* i: waiting for distance extra bits */
var            MATCH = 25;     /* o: waiting for output space to copy string */
var            LIT = 26;       /* o: waiting for output space to write literal */
var    CHECK = 27;     /* i: waiting for 32-bit check value */
var    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */
var    DONE = 29;      /* finished check, done -- remain here until reset */
var    BAD = 30;       /* got a data error -- remain here until reset */
var    MEM = 31;       /* got an inflate() memory error -- remain here until reset */
var    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */

/* ===========================================================================*/



var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);

var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_WBITS = MAX_WBITS;


function zswap32(q) {
  return  (((q >>> 24) & 0xff) +
          ((q >>> 8) & 0xff00) +
          ((q & 0xff00) << 8) +
          ((q & 0xff) << 24));
}


function InflateState() {
  this.mode = 0;             /* current inflate mode */
  this.last = false;          /* true if processing last block */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.havedict = false;      /* true if dictionary provided */
  this.flags = 0;             /* gzip header method and flags (0 if zlib) */
  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */
  this.check = 0;             /* protected copy of check value */
  this.total = 0;             /* protected copy of output count */
  // TODO: may be {}
  this.head = null;           /* where to save gzip header information */

  /* sliding window */
  this.wbits = 0;             /* log base 2 of requested window size */
  this.wsize = 0;             /* window size or zero if not using window */
  this.whave = 0;             /* valid bytes in the window */
  this.wnext = 0;             /* window write index */
  this.window = null;         /* allocated sliding window, if needed */

  /* bit accumulator */
  this.hold = 0;              /* input bit accumulator */
  this.bits = 0;              /* number of bits in "in" */

  /* for string and stored block copying */
  this.length = 0;            /* literal or length of data to copy */
  this.offset = 0;            /* distance back to copy string from */

  /* for table and code decoding */
  this.extra = 0;             /* extra bits needed */

  /* fixed and dynamic code tables */
  this.lencode = null;          /* starting table for length/literal codes */
  this.distcode = null;         /* starting table for distance codes */
  this.lenbits = 0;           /* index bits for lencode */
  this.distbits = 0;          /* index bits for distcode */

  /* dynamic table building */
  this.ncode = 0;             /* number of code length code lengths */
  this.nlen = 0;              /* number of length code lengths */
  this.ndist = 0;             /* number of distance code lengths */
  this.have = 0;              /* number of code lengths in lens[] */
  this.next = null;              /* next available space in codes[] */

  this.lens = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](320); /* temporary storage for code lengths */
  this.work = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](288); /* work area for code table building */

  /*
   because we don't have pointers in js, we use lencode and distcode directly
   as buffers so we don't need codes
  */
  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */
  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */
  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */
  this.sane = 0;                   /* if false, allow invalid distance too far */
  this.back = 0;                   /* bits back of last unprocessed length/lit */
  this.was = 0;                    /* initial length of match */
}

function inflateResetKeep(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = ''; /*Z_NULL*/
  if (state.wrap) {       /* to support ill-conceived Java test suite */
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null/*Z_NULL*/;
  state.hold = 0;
  state.bits = 0;
  //state.lencode = state.distcode = state.next = state.codes;
  state.lencode = state.lendyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_LENS);
  state.distcode = state.distdyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_DISTS);

  state.sane = 1;
  state.back = -1;
  //Tracev((stderr, "inflate: reset\n"));
  return Z_OK;
}

function inflateReset(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);

}

function inflateReset2(strm, windowBits) {
  var wrap;
  var state;

  /* get the state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;

  /* extract wrap request from windowBits parameter */
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  }
  else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }

  /* set number of window bits, free window if different */
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }

  /* update state and reset the rest of it */
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}

function inflateInit2(strm, windowBits) {
  var ret;
  var state;

  if (!strm) { return Z_STREAM_ERROR; }
  //strm.msg = Z_NULL;                 /* in case we return an error */

  state = new InflateState();

  //if (state === Z_NULL) return Z_MEM_ERROR;
  //Tracev((stderr, "inflate: allocated\n"));
  strm.state = state;
  state.window = null/*Z_NULL*/;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK) {
    strm.state = null/*Z_NULL*/;
  }
  return ret;
}

function inflateInit(strm) {
  return inflateInit2(strm, DEF_WBITS);
}


/*
 Return state with length and distance decoding tables and index sizes set to
 fixed code decoding.  Normally this returns fixed tables from inffixed.h.
 If BUILDFIXED is defined, then instead this routine builds the tables the
 first time it's called, and returns those tables the first time and
 thereafter.  This reduces the size of the code by about 2K bytes, in
 exchange for a little execution time.  However, BUILDFIXED should not be
 used for threaded applications, since the rewriting of the tables and virgin
 may not be thread-safe.
 */
var virgin = true;

var lenfix, distfix; // We have no pointers in JS, so keep tables separate

function fixedtables(state) {
  /* build fixed huffman tables if first call (may not be thread safe) */
  if (virgin) {
    var sym;

    lenfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](512);
    distfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](32);

    /* literal/length table */
    sym = 0;
    while (sym < 144) { state.lens[sym++] = 8; }
    while (sym < 256) { state.lens[sym++] = 9; }
    while (sym < 280) { state.lens[sym++] = 7; }
    while (sym < 288) { state.lens[sym++] = 8; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });

    /* distance table */
    sym = 0;
    while (sym < 32) { state.lens[sym++] = 5; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });

    /* do this just once */
    virgin = false;
  }

  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}


/*
 Update the window with the last wsize (normally 32K) bytes written before
 returning.  If window does not exist yet, create it.  This is only called
 when a window is already in use, or when output has been written during this
 inflate call, but the end of the deflate stream has not been reached yet.
 It is also called to create a window for dictionary data when a dictionary
 is loaded.

 Providing output buffers larger than 32K to inflate() should provide a speed
 advantage, since only the last 32K of output is copied to the sliding window
 upon return from inflate(), and since all distances after the first 32K of
 output will fall in the output data, making match copies simpler and faster.
 The advantage may be dependent on the size of the processor's data caches.
 */
function updatewindow(strm, src, end, copy) {
  var dist;
  var state = strm.state;

  /* if it hasn't been done already, allocate space for the window */
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;

    state.window = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](state.wsize);
  }

  /* copy state->wsize or less output bytes into the circular window */
  if (copy >= state.wsize) {
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  }
  else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    //zmemcpy(state->window + state->wnext, end - copy, dist);
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, dist, state.wnext);
    copy -= dist;
    if (copy) {
      //zmemcpy(state->window, end - copy, copy);
      _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, copy, 0);
      state.wnext = copy;
      state.whave = state.wsize;
    }
    else {
      state.wnext += dist;
      if (state.wnext === state.wsize) { state.wnext = 0; }
      if (state.whave < state.wsize) { state.whave += dist; }
    }
  }
  return 0;
}

function inflate(strm, flush) {
  var state;
  var input, output;          // input/output buffers
  var next;                   /* next input INDEX */
  var put;                    /* next output INDEX */
  var have, left;             /* available input and output */
  var hold;                   /* bit buffer */
  var bits;                   /* bits in bit buffer */
  var _in, _out;              /* save starting available input and output */
  var copy;                   /* number of stored or match bytes to copy */
  var from;                   /* where to copy match bytes from */
  var from_source;
  var here = 0;               /* current decoding table entry */
  var here_bits, here_op, here_val; // paked "here" denormalized (JS specific)
  //var last;                   /* parent table entry */
  var last_bits, last_op, last_val; // paked "last" denormalized (JS specific)
  var len;                    /* length to copy for repeats, bits to drop */
  var ret;                    /* return code */
  var hbuf = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](4);    /* buffer for gzip header crc calculation */
  var opts;

  var n; // temporary var for NEED_BITS

  var order = /* permutation of code lengths */
    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];


  if (!strm || !strm.state || !strm.output ||
      (!strm.input && strm.avail_in !== 0)) {
    return Z_STREAM_ERROR;
  }

  state = strm.state;
  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */


  //--- LOAD() ---
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  //---

  _in = have;
  _out = left;
  ret = Z_OK;

  inf_leave: // goto emulation
  for (;;) {
    switch (state.mode) {
    case HEAD:
      if (state.wrap === 0) {
        state.mode = TYPEDO;
        break;
      }
      //=== NEEDBITS(16);
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */
        state.check = 0/*crc32(0L, Z_NULL, 0)*/;
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//

        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        state.mode = FLAGS;
        break;
      }
      state.flags = 0;           /* expect zlib header */
      if (state.head) {
        state.head.done = false;
      }
      if (!(state.wrap & 1) ||   /* check if zlib header allowed */
        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {
        strm.msg = 'incorrect header check';
        state.mode = BAD;
        break;
      }
      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
      len = (hold & 0x0f)/*BITS(4)*/ + 8;
      if (state.wbits === 0) {
        state.wbits = len;
      }
      else if (len > state.wbits) {
        strm.msg = 'invalid window size';
        state.mode = BAD;
        break;
      }
      state.dmax = 1 << len;
      //Tracev((stderr, "inflate:   zlib header ok\n"));
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = hold & 0x200 ? DICTID : TYPE;
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      break;
    case FLAGS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.flags = hold;
      if ((state.flags & 0xff) !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      if (state.flags & 0xe000) {
        strm.msg = 'unknown header flags set';
        state.mode = BAD;
        break;
      }
      if (state.head) {
        state.head.text = ((hold >> 8) & 1);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = TIME;
      /* falls through */
    case TIME:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.time = hold;
      }
      if (state.flags & 0x0200) {
        //=== CRC4(state.check, hold)
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        hbuf[2] = (hold >>> 16) & 0xff;
        hbuf[3] = (hold >>> 24) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 4, 0);
        //===
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = OS;
      /* falls through */
    case OS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.xflags = (hold & 0xff);
        state.head.os = (hold >> 8);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = EXLEN;
      /* falls through */
    case EXLEN:
      if (state.flags & 0x0400) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length = hold;
        if (state.head) {
          state.head.extra_len = hold;
        }
        if (state.flags & 0x0200) {
          //=== CRC2(state.check, hold);
          hbuf[0] = hold & 0xff;
          hbuf[1] = (hold >>> 8) & 0xff;
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
          //===//
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      else if (state.head) {
        state.head.extra = null/*Z_NULL*/;
      }
      state.mode = EXTRA;
      /* falls through */
    case EXTRA:
      if (state.flags & 0x0400) {
        copy = state.length;
        if (copy > have) { copy = have; }
        if (copy) {
          if (state.head) {
            len = state.head.extra_len - state.length;
            if (!state.head.extra) {
              // Use untyped array for more conveniend processing later
              state.head.extra = new Array(state.head.extra_len);
            }
            _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](
              state.head.extra,
              input,
              next,
              // extra field is limited to 65536 bytes
              // - no need for additional size check
              copy,
              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
              len
            );
            //zmemcpy(state.head.extra + len, next,
            //        len + copy > state.head.extra_max ?
            //        state.head.extra_max - len : copy);
          }
          if (state.flags & 0x0200) {
            state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
          }
          have -= copy;
          next += copy;
          state.length -= copy;
        }
        if (state.length) { break inf_leave; }
      }
      state.length = 0;
      state.mode = NAME;
      /* falls through */
    case NAME:
      if (state.flags & 0x0800) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          // TODO: 2 or 1 bytes?
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.name_max*/)) {
            state.head.name += String.fromCharCode(len);
          }
        } while (len && copy < have);

        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.name = null;
      }
      state.length = 0;
      state.mode = COMMENT;
      /* falls through */
    case COMMENT:
      if (state.flags & 0x1000) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.comm_max*/)) {
            state.head.comment += String.fromCharCode(len);
          }
        } while (len && copy < have);
        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.comment = null;
      }
      state.mode = HCRC;
      /* falls through */
    case HCRC:
      if (state.flags & 0x0200) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.check & 0xffff)) {
          strm.msg = 'header crc mismatch';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      if (state.head) {
        state.head.hcrc = ((state.flags >> 9) & 1);
        state.head.done = true;
      }
      strm.adler = state.check = 0;
      state.mode = TYPE;
      break;
    case DICTID:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      strm.adler = state.check = zswap32(hold);
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = DICT;
      /* falls through */
    case DICT:
      if (state.havedict === 0) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        return Z_NEED_DICT;
      }
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      /* falls through */
    case TYPE:
      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case TYPEDO:
      if (state.last) {
        //--- BYTEBITS() ---//
        hold >>>= bits & 7;
        bits -= bits & 7;
        //---//
        state.mode = CHECK;
        break;
      }
      //=== NEEDBITS(3); */
      while (bits < 3) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.last = (hold & 0x01)/*BITS(1)*/;
      //--- DROPBITS(1) ---//
      hold >>>= 1;
      bits -= 1;
      //---//

      switch ((hold & 0x03)/*BITS(2)*/) {
      case 0:                             /* stored block */
        //Tracev((stderr, "inflate:     stored block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = STORED;
        break;
      case 1:                             /* fixed block */
        fixedtables(state);
        //Tracev((stderr, "inflate:     fixed codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = LEN_;             /* decode codes */
        if (flush === Z_TREES) {
          //--- DROPBITS(2) ---//
          hold >>>= 2;
          bits -= 2;
          //---//
          break inf_leave;
        }
        break;
      case 2:                             /* dynamic block */
        //Tracev((stderr, "inflate:     dynamic codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = TABLE;
        break;
      case 3:
        strm.msg = 'invalid block type';
        state.mode = BAD;
      }
      //--- DROPBITS(2) ---//
      hold >>>= 2;
      bits -= 2;
      //---//
      break;
    case STORED:
      //--- BYTEBITS() ---// /* go to byte boundary */
      hold >>>= bits & 7;
      bits -= bits & 7;
      //---//
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {
        strm.msg = 'invalid stored block lengths';
        state.mode = BAD;
        break;
      }
      state.length = hold & 0xffff;
      //Tracev((stderr, "inflate:       stored length %u\n",
      //        state.length));
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = COPY_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case COPY_:
      state.mode = COPY;
      /* falls through */
    case COPY:
      copy = state.length;
      if (copy) {
        if (copy > have) { copy = have; }
        if (copy > left) { copy = left; }
        if (copy === 0) { break inf_leave; }
        //--- zmemcpy(put, next, copy); ---
        _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](output, input, next, copy, put);
        //---//
        have -= copy;
        next += copy;
        left -= copy;
        put += copy;
        state.length -= copy;
        break;
      }
      //Tracev((stderr, "inflate:       stored end\n"));
      state.mode = TYPE;
      break;
    case TABLE:
      //=== NEEDBITS(14); */
      while (bits < 14) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
//#ifndef PKZIP_BUG_WORKAROUND
      if (state.nlen > 286 || state.ndist > 30) {
        strm.msg = 'too many length or distance symbols';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracev((stderr, "inflate:       table sizes ok\n"));
      state.have = 0;
      state.mode = LENLENS;
      /* falls through */
    case LENLENS:
      while (state.have < state.ncode) {
        //=== NEEDBITS(3);
        while (bits < 3) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);
        //--- DROPBITS(3) ---//
        hold >>>= 3;
        bits -= 3;
        //---//
      }
      while (state.have < 19) {
        state.lens[order[state.have++]] = 0;
      }
      // We have separate tables & no pointers. 2 commented lines below not needed.
      //state.next = state.codes;
      //state.lencode = state.next;
      // Switch to use dynamic table
      state.lencode = state.lendyn;
      state.lenbits = 7;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
      state.lenbits = opts.bits;

      if (ret) {
        strm.msg = 'invalid code lengths set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, "inflate:       code lengths ok\n"));
      state.have = 0;
      state.mode = CODELENS;
      /* falls through */
    case CODELENS:
      while (state.have < state.nlen + state.ndist) {
        for (;;) {
          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        if (here_val < 16) {
          //--- DROPBITS(here.bits) ---//
          hold >>>= here_bits;
          bits -= here_bits;
          //---//
          state.lens[state.have++] = here_val;
        }
        else {
          if (here_val === 16) {
            //=== NEEDBITS(here.bits + 2);
            n = here_bits + 2;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            if (state.have === 0) {
              strm.msg = 'invalid bit length repeat';
              state.mode = BAD;
              break;
            }
            len = state.lens[state.have - 1];
            copy = 3 + (hold & 0x03);//BITS(2);
            //--- DROPBITS(2) ---//
            hold >>>= 2;
            bits -= 2;
            //---//
          }
          else if (here_val === 17) {
            //=== NEEDBITS(here.bits + 3);
            n = here_bits + 3;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 3 + (hold & 0x07);//BITS(3);
            //--- DROPBITS(3) ---//
            hold >>>= 3;
            bits -= 3;
            //---//
          }
          else {
            //=== NEEDBITS(here.bits + 7);
            n = here_bits + 7;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 11 + (hold & 0x7f);//BITS(7);
            //--- DROPBITS(7) ---//
            hold >>>= 7;
            bits -= 7;
            //---//
          }
          if (state.have + copy > state.nlen + state.ndist) {
            strm.msg = 'invalid bit length repeat';
            state.mode = BAD;
            break;
          }
          while (copy--) {
            state.lens[state.have++] = len;
          }
        }
      }

      /* handle error breaks in while */
      if (state.mode === BAD) { break; }

      /* check for end-of-block code (better have one) */
      if (state.lens[256] === 0) {
        strm.msg = 'invalid code -- missing end-of-block';
        state.mode = BAD;
        break;
      }

      /* build code tables -- note: do not change the lenbits or distbits
         values here (9 and 6) without reading the comments in inftrees.h
         concerning the ENOUGH constants, which depend on those values */
      state.lenbits = 9;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.lenbits = opts.bits;
      // state.lencode = state.next;

      if (ret) {
        strm.msg = 'invalid literal/lengths set';
        state.mode = BAD;
        break;
      }

      state.distbits = 6;
      //state.distcode.copy(state.codes);
      // Switch to use dynamic table
      state.distcode = state.distdyn;
      opts = { bits: state.distbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.distbits = opts.bits;
      // state.distcode = state.next;

      if (ret) {
        strm.msg = 'invalid distances set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, 'inflate:       codes ok\n'));
      state.mode = LEN_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case LEN_:
      state.mode = LEN;
      /* falls through */
    case LEN:
      if (have >= 6 && left >= 258) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        Object(_inffast_js__WEBPACK_IMPORTED_MODULE_3__["default"])(strm, _out);
        //--- LOAD() ---
        put = strm.next_out;
        output = strm.output;
        left = strm.avail_out;
        next = strm.next_in;
        input = strm.input;
        have = strm.avail_in;
        hold = state.hold;
        bits = state.bits;
        //---

        if (state.mode === TYPE) {
          state.back = -1;
        }
        break;
      }
      state.back = 0;
      for (;;) {
        here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if (here_bits <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if (here_op && (here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.lencode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      state.length = here_val;
      if (here_op === 0) {
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        state.mode = LIT;
        break;
      }
      if (here_op & 32) {
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.back = -1;
        state.mode = TYPE;
        break;
      }
      if (here_op & 64) {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break;
      }
      state.extra = here_op & 15;
      state.mode = LENEXT;
      /* falls through */
    case LENEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
      //Tracevv((stderr, "inflate:         length %u\n", state.length));
      state.was = state.length;
      state.mode = DIST;
      /* falls through */
    case DIST:
      for (;;) {
        here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if ((here_bits) <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if ((here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.distcode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      if (here_op & 64) {
        strm.msg = 'invalid distance code';
        state.mode = BAD;
        break;
      }
      state.offset = here_val;
      state.extra = (here_op) & 15;
      state.mode = DISTEXT;
      /* falls through */
    case DISTEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
//#ifdef INFLATE_STRICT
      if (state.offset > state.dmax) {
        strm.msg = 'invalid distance too far back';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracevv((stderr, "inflate:         distance %u\n", state.offset));
      state.mode = MATCH;
      /* falls through */
    case MATCH:
      if (left === 0) { break inf_leave; }
      copy = _out - left;
      if (state.offset > copy) {         /* copy from window */
        copy = state.offset - copy;
        if (copy > state.whave) {
          if (state.sane) {
            strm.msg = 'invalid distance too far back';
            state.mode = BAD;
            break;
          }
// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//          Trace((stderr, "inflate.c too far\n"));
//          copy -= state.whave;
//          if (copy > state.length) { copy = state.length; }
//          if (copy > left) { copy = left; }
//          left -= copy;
//          state.length -= copy;
//          do {
//            output[put++] = 0;
//          } while (--copy);
//          if (state.length === 0) { state.mode = LEN; }
//          break;
//#endif
        }
        if (copy > state.wnext) {
          copy -= state.wnext;
          from = state.wsize - copy;
        }
        else {
          from = state.wnext - copy;
        }
        if (copy > state.length) { copy = state.length; }
        from_source = state.window;
      }
      else {                              /* copy from output */
        from_source = output;
        from = put - state.offset;
        copy = state.length;
      }
      if (copy > left) { copy = left; }
      left -= copy;
      state.length -= copy;
      do {
        output[put++] = from_source[from++];
      } while (--copy);
      if (state.length === 0) { state.mode = LEN; }
      break;
    case LIT:
      if (left === 0) { break inf_leave; }
      output[put++] = state.length;
      left--;
      state.mode = LEN;
      break;
    case CHECK:
      if (state.wrap) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          // Use '|' insdead of '+' to make sure that result is signed
          hold |= input[next++] << bits;
          bits += 8;
        }
        //===//
        _out -= left;
        strm.total_out += _out;
        state.total += _out;
        if (_out) {
          strm.adler = state.check =
              /*UPDATE(state.check, put - _out, _out);*/
              (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, put - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, put - _out));

        }
        _out = left;
        // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too
        if ((state.flags ? hold : zswap32(hold)) !== state.check) {
          strm.msg = 'incorrect data check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   check matches trailer\n"));
      }
      state.mode = LENGTH;
      /* falls through */
    case LENGTH:
      if (state.wrap && state.flags) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.total & 0xffffffff)) {
          strm.msg = 'incorrect length check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   length matches trailer\n"));
      }
      state.mode = DONE;
      /* falls through */
    case DONE:
      ret = Z_STREAM_END;
      break inf_leave;
    case BAD:
      ret = Z_DATA_ERROR;
      break inf_leave;
    case MEM:
      return Z_MEM_ERROR;
    case SYNC:
      /* falls through */
    default:
      return Z_STREAM_ERROR;
    }
  }

  // inf_leave <- here is real place for "goto inf_leave", emulated via "break inf_leave"

  /*
     Return from inflate(), updating the total counts and the check value.
     If there was no progress during the inflate() call, return a buffer
     error.  Call updatewindow() to create and/or update the window state.
     Note: a memory error from inflate() is non-recoverable.
   */

  //--- RESTORE() ---
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  //---

  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&
                      (state.mode < CHECK || flush !== Z_FINISH))) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
      (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, strm.next_out - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, strm.next_out - _out));
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) +
                    (state.mode === TYPE ? 128 : 0) +
                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {
    ret = Z_BUF_ERROR;
  }
  return ret;
}

function inflateEnd(strm) {

  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {
    return Z_STREAM_ERROR;
  }

  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK;
}

function inflateGetHeader(strm, head) {
  var state;

  /* check state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }

  /* save header structure */
  state.head = head;
  head.done = false;
  return Z_OK;
}

function inflateSetDictionary(strm, dictionary) {
  var dictLength = dictionary.length;

  var state;
  var dictid;
  var ret;

  /* check state */
  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }
  state = strm.state;

  if (state.wrap !== 0 && state.mode !== DICT) {
    return Z_STREAM_ERROR;
  }

  /* check for correct dictionary identifier */
  if (state.mode === DICT) {
    dictid = 1; /* adler32(0, null, 0)*/
    /* dictid = adler32(dictid, dictionary, dictLength); */
    dictid = Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(dictid, dictionary, dictLength, 0);
    if (dictid !== state.check) {
      return Z_DATA_ERROR;
    }
  }
  /* copy dictionary to window using updatewindow(), which will amend the
   existing dictionary if appropriate */
  ret = updatewindow(strm, dictionary, dictLength, dictLength);
  if (ret) {
    state.mode = MEM;
    return Z_MEM_ERROR;
  }
  state.havedict = 1;
  // Tracev((stderr, "inflate:   dictionary set\n"));
  return Z_OK;
}


var inflateInfo = 'pako inflate (from Nodeca project)';

/* Not implemented
exports.inflateCopy = inflateCopy;
exports.inflateGetDictionary = inflateGetDictionary;
exports.inflateMark = inflateMark;
exports.inflatePrime = inflatePrime;
exports.inflateSync = inflateSync;
exports.inflateSyncPoint = inflateSyncPoint;
exports.inflateUndermine = inflateUndermine;
*/


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js":
/*!********************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_table; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");


var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);

var CODES = 0;
var LENS = 1;
var DISTS = 2;

var lbase = [ /* Length codes 257..285 base */
  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
];

var lext = [ /* Length codes 257..285 extra */
  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
];

var dbase = [ /* Distance codes 0..29 base */
  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
  8193, 12289, 16385, 24577, 0, 0
];

var dext = [ /* Distance codes 0..29 extra */
  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
  28, 28, 29, 29, 64, 64
];

function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)
{
  var bits = opts.bits;
      //here = opts.here; /* table entry for duplication */

  var len = 0;               /* a code's length in bits */
  var sym = 0;               /* index of code symbols */
  var min = 0, max = 0;          /* minimum and maximum code lengths */
  var root = 0;              /* number of index bits for root table */
  var curr = 0;              /* number of index bits for current table */
  var drop = 0;              /* code bits to drop for sub-table */
  var left = 0;                   /* number of prefix codes available */
  var used = 0;              /* code entries in table used */
  var huff = 0;              /* Huffman code */
  var incr;              /* for incrementing code, index */
  var fill;              /* index for replicating entries */
  var low;               /* low bits for current root entry */
  var mask;              /* mask for low root bits */
  var next;             /* next available space in table */
  var base = null;     /* base value table to use */
  var base_index = 0;
//  var shoextra;    /* extra bits table to use */
  var end;                    /* use base and extra for symbol > end */
  var count = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */
  var offs = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */
  var extra = null;
  var extra_index = 0;

  var here_bits, here_op, here_val;

  /*
   Process a set of code lengths to create a canonical Huffman code.  The
   code lengths are lens[0..codes-1].  Each length corresponds to the
   symbols 0..codes-1.  The Huffman code is generated by first sorting the
   symbols by length from short to long, and retaining the symbol order
   for codes with equal lengths.  Then the code starts with all zero bits
   for the first code of the shortest length, and the codes are integer
   increments for the same length, and zeros are appended as the length
   increases.  For the deflate format, these bits are stored backwards
   from their more natural integer increment ordering, and so when the
   decoding tables are built in the large loop below, the integer codes
   are incremented backwards.

   This routine assumes, but does not check, that all of the entries in
   lens[] are in the range 0..MAXBITS.  The caller must assure this.
   1..MAXBITS is interpreted as that code length.  zero means that that
   symbol does not occur in this code.

   The codes are sorted by computing a count of codes for each length,
   creating from that a table of starting indices for each length in the
   sorted table, and then entering the symbols in order in the sorted
   table.  The sorted table is work[], with that space being provided by
   the caller.

   The length counts are used for other purposes as well, i.e. finding
   the minimum and maximum length codes, determining if there are any
   codes at all, checking for a valid set of lengths, and looking ahead
   at length counts to determine sub-table sizes when building the
   decoding tables.
   */

  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }

  /* bound code lengths, force root to be within code lengths */
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) { break; }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {                     /* no symbols to code at all */
    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */
    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;
    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;


    //table.op[opts.table_index] = 64;
    //table.bits[opts.table_index] = 1;
    //table.val[opts.table_index++] = 0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;

    opts.bits = 1;
    return 0;     /* no symbols, but wait for decoding to report error */
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) { break; }
  }
  if (root < min) {
    root = min;
  }

  /* check for an over-subscribed or incomplete set of lengths */
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }        /* over-subscribed */
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;                      /* incomplete set */
  }

  /* generate offsets into symbol table for each length for sorting */
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }

  /* sort symbols by length, by symbol order within each length */
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }

  /*
   Create and fill in decoding tables.  In this loop, the table being
   filled is at next and has curr index bits.  The code being used is huff
   with length len.  That code is converted to an index by dropping drop
   bits off of the bottom.  For codes where len is less than drop + curr,
   those top drop + curr - len bits are incremented through all values to
   fill the table with replicated entries.

   root is the number of index bits for the root table.  When len exceeds
   root, sub-tables are created pointed to by the root entry with an index
   of the low root bits of huff.  This is saved in low to check for when a
   new sub-table should be started.  drop is zero when the root table is
   being filled, and drop is root when sub-tables are being filled.

   When a new sub-table is needed, it is necessary to look ahead in the
   code lengths to determine what size sub-table is needed.  The length
   counts are used for this, and so count[] is decremented as codes are
   entered in the tables.

   used keeps track of how many table entries have been allocated from the
   provided *table space.  It is checked for LENS and DIST tables against
   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in
   the initial root table size constants.  See the comments in inftrees.h
   for more information.

   sym increments through all symbols, and the loop terminates when
   all codes of length max, i.e. all codes, have been processed.  This
   routine permits incomplete codes, so another loop after this one fills
   in the rest of the decoding tables with invalid code markers.
   */

  /* set up for code type */
  // poor man optimization - use if-else instead of switch,
  // to avoid deopts in old v8
  if (type === CODES) {
    base = extra = work;    /* dummy value--not used */
    end = 19;

  } else if (type === LENS) {
    base = lbase;
    base_index -= 257;
    extra = lext;
    extra_index -= 257;
    end = 256;

  } else {                    /* DISTS */
    base = dbase;
    extra = dext;
    end = -1;
  }

  /* initialize opts for loop */
  huff = 0;                   /* starting code */
  sym = 0;                    /* starting code symbol */
  len = min;                  /* starting code length */
  next = table_index;              /* current table to fill in */
  curr = root;                /* current table index bits */
  drop = 0;                   /* current bits to drop from code for index */
  low = -1;                   /* trigger new sub-table when len > root */
  used = 1 << root;          /* use root table entries */
  mask = used - 1;            /* mask for comparing low */

  /* check available table space */
  if ((type === LENS && used > ENOUGH_LENS) ||
    (type === DISTS && used > ENOUGH_DISTS)) {
    return 1;
  }

  /* process all codes and make table entries */
  for (;;) {
    /* create table entry */
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    }
    else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    }
    else {
      here_op = 32 + 64;         /* end of block */
      here_val = 0;
    }

    /* replicate for those indices with low len bits equal to huff */
    incr = 1 << (len - drop);
    fill = 1 << curr;
    min = fill;                 /* save offset to next table */
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;
    } while (fill !== 0);

    /* backwards increment the len-bit code huff */
    incr = 1 << (len - 1);
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }

    /* go to next symbol, update count, len */
    sym++;
    if (--count[len] === 0) {
      if (len === max) { break; }
      len = lens[lens_index + work[sym]];
    }

    /* create new sub-table if needed */
    if (len > root && (huff & mask) !== low) {
      /* if first time, transition to sub-tables */
      if (drop === 0) {
        drop = root;
      }

      /* increment past last table */
      next += min;            /* here min is 1 << curr */

      /* determine length of next table */
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) { break; }
        curr++;
        left <<= 1;
      }

      /* check for enough space */
      used += 1 << curr;
      if ((type === LENS && used > ENOUGH_LENS) ||
        (type === DISTS && used > ENOUGH_DISTS)) {
        return 1;
      }

      /* point entry in root table to sub-table */
      low = huff & mask;
      /*table.op[low] = curr;
      table.bits[low] = root;
      table.val[low] = next - opts.table_index;*/
      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;
    }
  }

  /* fill in remaining table entry if code is incomplete (guaranteed to have
   at most one remaining entry, since if the code is incomplete, the
   maximum code length that was allowed to get this far is one bit) */
  if (huff !== 0) {
    //table.op[next + huff] = 64;            /* invalid code marker */
    //table.bits[next + huff] = len - drop;
    //table.val[next + huff] = 0;
    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;
  }

  /* set return parameters */
  //opts.table_index += used;
  opts.bits = root;
  return 0;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZStream; });
function ZStream() {
  /* next input byte */
  this.input = null; // JS specific, because we have no pointers
  this.next_in = 0;
  /* number of bytes available at input */
  this.avail_in = 0;
  /* total number of input bytes read so far */
  this.total_in = 0;
  /* next output byte should be put there */
  this.output = null; // JS specific, because we have no pointers
  this.next_out = 0;
  /* remaining free space at output */
  this.avail_out = 0;
  /* total number of bytes output so far */
  this.total_out = 0;
  /* last error message, NULL if no error */
  this.msg = ''/*Z_NULL*/;
  /* not visible by applications */
  this.state = null;
  /* best guess about the data type: binary or text */
  this.data_type = 2/*Z_UNKNOWN*/;
  /* adler32 value of the uncompressed data */
  this.adler = 0;
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @this {Promise}
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      return constructor.resolve(callback()).then(function() {
        return value;
      });
    },
    function(reason) {
      return constructor.resolve(callback()).then(function() {
        return constructor.reject(reason);
      });
    }
  );
}

/* harmony default export */ __webpack_exports__["default"] = (finallyConstructor);


/***/ }),

/***/ "./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var _finally__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./finally */ "./node_modules/promise-polyfill/src/finally.js");


// Store setTimeout reference so promise-polyfill will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var setTimeoutFunc = setTimeout;

function noop() {}

// Polyfill for Function.prototype.bind
function bind(fn, thisArg) {
  return function() {
    fn.apply(thisArg, arguments);
  };
}

/**
 * @constructor
 * @param {Function} fn
 */
function Promise(fn) {
  if (!(this instanceof Promise))
    throw new TypeError('Promises must be constructed via new');
  if (typeof fn !== 'function') throw new TypeError('not a function');
  /** @type {!number} */
  this._state = 0;
  /** @type {!boolean} */
  this._handled = false;
  /** @type {Promise|undefined} */
  this._value = undefined;
  /** @type {!Array<!Function>} */
  this._deferreds = [];

  doResolve(fn, this);
}

function handle(self, deferred) {
  while (self._state === 3) {
    self = self._value;
  }
  if (self._state === 0) {
    self._deferreds.push(deferred);
    return;
  }
  self._handled = true;
  Promise._immediateFn(function() {
    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
      return;
    }
    var ret;
    try {
      ret = cb(self._value);
    } catch (e) {
      reject(deferred.promise, e);
      return;
    }
    resolve(deferred.promise, ret);
  });
}

function resolve(self, newValue) {
  try {
    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    if (newValue === self)
      throw new TypeError('A promise cannot be resolved with itself.');
    if (
      newValue &&
      (typeof newValue === 'object' || typeof newValue === 'function')
    ) {
      var then = newValue.then;
      if (newValue instanceof Promise) {
        self._state = 3;
        self._value = newValue;
        finale(self);
        return;
      } else if (typeof then === 'function') {
        doResolve(bind(then, newValue), self);
        return;
      }
    }
    self._state = 1;
    self._value = newValue;
    finale(self);
  } catch (e) {
    reject(self, e);
  }
}

function reject(self, newValue) {
  self._state = 2;
  self._value = newValue;
  finale(self);
}

function finale(self) {
  if (self._state === 2 && self._deferreds.length === 0) {
    Promise._immediateFn(function() {
      if (!self._handled) {
        Promise._unhandledRejectionFn(self._value);
      }
    });
  }

  for (var i = 0, len = self._deferreds.length; i < len; i++) {
    handle(self, self._deferreds[i]);
  }
  self._deferreds = null;
}

/**
 * @constructor
 */
function Handler(onFulfilled, onRejected, promise) {
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, self) {
  var done = false;
  try {
    fn(
      function(value) {
        if (done) return;
        done = true;
        resolve(self, value);
      },
      function(reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      }
    );
  } catch (ex) {
    if (done) return;
    done = true;
    reject(self, ex);
  }
}

Promise.prototype['catch'] = function(onRejected) {
  return this.then(null, onRejected);
};

Promise.prototype.then = function(onFulfilled, onRejected) {
  // @ts-ignore
  var prom = new this.constructor(noop);

  handle(this, new Handler(onFulfilled, onRejected, prom));
  return prom;
};

Promise.prototype['finally'] = _finally__WEBPACK_IMPORTED_MODULE_0__["default"];

Promise.all = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!arr || typeof arr.length === 'undefined')
      throw new TypeError('Promise.all accepts an array');
    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      try {
        if (val && (typeof val === 'object' || typeof val === 'function')) {
          var then = val.then;
          if (typeof then === 'function') {
            then.call(
              val,
              function(val) {
                res(i, val);
              },
              reject
            );
            return;
          }
        }
        args[i] = val;
        if (--remaining === 0) {
          resolve(args);
        }
      } catch (ex) {
        reject(ex);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.resolve = function(value) {
  if (value && typeof value === 'object' && value.constructor === Promise) {
    return value;
  }

  return new Promise(function(resolve) {
    resolve(value);
  });
};

Promise.reject = function(value) {
  return new Promise(function(resolve, reject) {
    reject(value);
  });
};

Promise.race = function(values) {
  return new Promise(function(resolve, reject) {
    for (var i = 0, len = values.length; i < len; i++) {
      values[i].then(resolve, reject);
    }
  });
};

// Use polyfill for setImmediate for performance gains
Promise._immediateFn =
  (typeof setImmediate === 'function' &&
    function(fn) {
      setImmediate(fn);
    }) ||
  function(fn) {
    setTimeoutFunc(fn, 0);
  };

Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
  if (typeof console !== 'undefined' && console) {
    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Promise);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate))

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 68
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/unfetch/polyfill/index.js":
/*!************************************************!*\
  !*** ./node_modules/unfetch/polyfill/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest;for(var o in s.open(n.method||"get",e,!0),n.headers)s.setRequestHeader(o,n.headers[o]);function u(){var e,n=[],t=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(s,o,u){n.push(o=o.toLowerCase()),t.push([o,u]),r[o]=(e=r[o])?e+","+u:u}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return n},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials="include"==n.credentials,s.onload=function(){t(u())},s.onerror=r,s.send(n.body||null)})});


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/audio-mediasource.js":
/*!**********************************!*\
  !*** ./src/audio-mediasource.js ***!
  \**********************************/
/*! exports provided: getBestAudioType, MSAudio, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBestAudioType", function() { return getBestAudioType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSAudio", function() { return MSAudio; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MSAudio; });
// Play Audio with MediaSource extensions received over a websocket
var OPUS_MIME_TYPE = 'audio/webm; codecs="opus"';
var MP3_MIME_TYPE = 'audio/mpeg';

// This represents the order in which the types are tried
const AUDIO_TYPES = [
  {"id": "mp3",
    "type": MP3_MIME_TYPE},

  {"id": "opus",
    "type": OPUS_MIME_TYPE},
];




function getBestAudioType() {
  if (window.MediaSource) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (window.MediaSource.isTypeSupported(AUDIO_TYPES[i].type)) {
        return AUDIO_TYPES[i].id;
      } else {
          console.log("do not support " + AUDIO_TYPES[i].type);
      }
    }
  }
};

class MSAudio {
  constructor (format, media_controller, lock_audio) {
    this.format = format;
    this.media_controller = media_controller;
    this.lock_audio = lock_audio;

    this.MAX_BUFFERS = 250;
    this.MIN_START_BUFFERS = 10;

    this.minLatency = 0.2; // 200ms
    this.maxLatency = 0.5;  // 500ms

    this.latencyCheck = null;

    this.ws = null;
    this.ws_url = null;

    this.errCount = 0;

    this.allowAppend = false;

    this.audio = null;
    this.audio_mime = null;
    this.mediasource = null;
    this.buffer = null;

    this.buffQ = [];
    this.buffCount = 0;
    this.buffSize = 0;

  }

  get_audio_mime() {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (AUDIO_TYPES[i].id == this.format) {
        return AUDIO_TYPES[i].type;
      }
    }

    console.log("Audio not inited, unknown audio type: " + this.format);
    return null;
  }

  unlockAudio() {
    if (this.debug) {
      console.log("Unlock MSAudio");
    }
    this.lock_audio = false;
    if (this.audio != null) {
      this.audio.muted = false;
      this.audio.play().catch(function() { });
    }
  }

  start() {
    console.log('start MS Audio with format ' + this.format);
    this.audio_mime = this.get_audio_mime();

    if (!this.audio_mime) {
      console.log("audio Mime not found");
      return false;
    }

    this.latencyCheck = setInterval(this.latencyController.bind(this), 250);

    this.mediasource = new MediaSource();
    this.mediasource.addEventListener("sourceopen", this.sourceOpen.bind(this));

    this.mediasource.addEventListener("error", (function(event) {
      this.audioError("MediaSource Error", event);
    }).bind(this));

    this.audio = new Audio();
    this.audio.src = URL.createObjectURL(this.mediasource);
    this.audio.autoplay = true;
    this.audio.muted = this.lock_audio;
    this.audio.load();
    this.audio.play().catch(function(e) { console.log(e); });

    let msg = {"ms_audio": getBestAudioType()};
    this.media_controller.send(msg);
    this.media_controller.ws_conn.binaryType = 'arraybuffer';

    return true;
  }

  sourceOpen() {
    if (this.mediasource.sourceBuffers.length) {
      console.log("source already open");
      return;
    }

    var buffer = null;

    try {
      buffer = this.mediasource.addSourceBuffer(this.audio_mime);
    } catch (e) {
      console.log("Opening Source Error: " + e);
      return;
    }

    buffer.mode = "sequence";
    //buffer.timestampOffset = 0;

    buffer.addEventListener("error", (function(event) {
      this.audioError("buffer error: " + (this.buffCount), event);
    }).bind(this));

    buffer.addEventListener("updateend", this.onUpdateEnd.bind(this));

    this.buffer = buffer;

    this.allowAppend = true;

  };

  close() {
    console.log("Closing Audio");
    try {
      if (this.latencyCheck) {
        clearInterval(this.latencyCheck);
      }

      if (this.mediasource) {
        this.mediasource.removeSourceBuffer(this.buffer);
        if (this.mediasource.readyState == "open") {
          this.mediasource.endOfStream();
        }
      }
      this.buffer = null;

    } catch(e) {
      console.log("Error Closing mediasource: " + e);
    }
    this.mediasource = null;

    try {
      if (this.audio) {
        this.audio.pause();
      }
      this.audio = null;
    } catch (e) {
      console.log("Error Closing audio : " + e);
    }
  }

  mergeBuffers() {
    var merged;

    if (this.buffQ.length == 1) {
      merged = this.buffQ[0];
    } else {
      merged = new Uint8Array(this.buffSize);

      var length = this.buffQ.length;
      var offset = 0;

      for (var i = 0; i < length; i++) {
        var curr = this.buffQ[i];
        if (curr.length <= 0) {
          continue;
        }
        merged.set(curr, offset);
        offset += curr.length;
      }
    }

    this.buffQ = [];
    this.buffCount++;
    return merged;
  }

  onUpdateEnd() {
    this.allowAppend = true;
    this.updateNext();
  }

  updateNext() {
    if (!this.buffQ.length) {
      return;
    }

    try {
      var merged = this.mergeBuffers();
      this.buffer.appendBuffer(merged);
      this.allowAppend = false;
      this.buffSize -= merged.length;
      this.errCount = 0;
    } catch (e) {
      this.audioError("Error Adding Buffer: " + e);
    }
  }

  latencyController() {
    // check for latency and seek forward if necessary
    try {
      var latency = this.audio.buffered.end(0) - this.audio.currentTime;
      if (latency > this.maxLatency) {
        this.audio.currentTime = this.audio.buffered.end(0) - this.minLatency;
        console.log("Audio has been seeked by ", Math.round((latency - this.minLatency) * 1000), " ms");
      }

    } catch(e) {

    }
  }

  audioError(msg, event) {
    if (this.audio && this.audio.error) {
      console.log(msg);
      console.log(this.audio.error);
      this.errCount += 1;

    }
  }

  queue(buffer) {
    buffer = new Uint8Array(buffer);
    this.buffQ.push(buffer);
    this.buffSize += buffer.length;
    if (this.allowAppend) {
      this.updateNext();
    }
  }

  handleMessage(data) {
    if (this.errCount < 10) {

      this.queue(data);
    } else {
      console.log('too much error');
    }
    return true;
  }

};


/***/ }),

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CBrowser; });
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unfetch/polyfill/index */ "./node_modules/unfetch/polyfill/index.js");
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @novnc/novnc/core/rfb */ "./node_modules/@novnc/novnc/core/rfb.js");
/* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
/* harmony import */ var _media_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./media-controller */ "./src/media-controller.js");






function toQueryString(obj) {
  var parts = [];
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));
    }
  }
  return parts.join('&');
}


function CBrowser(reqid, target_div, init_params) {
  var controller = typeof AbortController !== 'undefined' ? new AbortController() : null;

  var cmd_port = undefined;
  var vnc_port = undefined;

  var clipEvents = ['paste'];
  var connected = false;
  var countdownTimer = null;
  var visibilityHandle = null;
  var ever_connected = false;
  var fail_count = 0;
  var hasClipboard = false;
  var lastText = undefined;
  var maxRetry = 10;
  var retryCount = 0;
  var retryHandle = null;
  var stagedText = null;
  var timers = []

  var min_width = 300;
  var min_height = 300;

  var rfb;
  var resizeTimeout;
  var vnc_pass = "secret";

  var end_time = undefined;

  var environ = {};
  var audioType = null;

  var targetDivNode = document.querySelector(target_div);

  var waiting_for_container = false;
  var waiting_for_vnc = false;

  init_params = init_params || {};

  init_params.api_prefix = init_params.api_prefix || "";

  var num_vnc_retries = init_params.num_vnc_retries || 3;

  // rfb event callbacks
  var credentialsRequired;
  var connect;
  var disconnect;
  var securityFailure;
  var clipboard
  var rfbEventsBound = false;


  function start() {
    // Countdown updater
    if (init_params.on_countdown) {
      countdownTimer = setInterval(update_countdown, 1000);
    }

    init_html(target_div);

    setup_browser();
  }

  function clipHandler(e) {
    if (!hasClipboard) {
      return false;
    }

    var text;
    if (window.clipboardData && window.clipboardData.getData) { // ie
      text = window.clipboardData.getData('Text');
    } else if (e.clipboardData && e.clipboardData.getData) {
      text = e.clipboardData.getData('text/plain');
    }

    if (connected && rfb && text) {
      rfb.clipboardPasteFrom(text);

      // attempt sending paste command
      rfb.sendKey(0xffe3, null, true);
      rfb.sendKey(0x0076, null, true);
      rfb.sendKey(0x0076, null, false);
      rfb.sendKey(0xffe3, null, false);
    }
  }

  function init_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = true;
    lastText = undefined;

    // if remote browser cut/copy opperation occured, insert into clipboard field
    if (stagedText) {
        document.querySelector(init_params.clipboard).value = stagedText;
        stagedText = null;
    }

    for (var i = 0; i < clipEvents.length; i++) {
      document.querySelector(init_params.clipboard).addEventListener(clipEvents[i], clipHandler);
    }
  }

  function destroy_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = false;
  }

  function canvas() {
    return targetDivNode.querySelector('.canvas');
  }

  function msgdiv() {
    return targetDivNode.querySelector('#browserMsg');
  }

  function screen() {
    return targetDivNode.querySelector('#noVNC_screen');
  }

  function init_html() {
    // ensure container is emptied of previous browsers
    targetDivNode.innerHTML = '';

    var msgDiv = document.createElement('div');
    msgDiv.setAttribute('id', 'browserMsg');
    msgDiv.setAttribute('class', 'loading');
    targetDivNode.appendChild(msgDiv);

    var canvasEle = document.createElement('div');
    canvasEle.setAttribute('class', 'canvas');
    var canvasDiv = document.createElement('div');
    canvasDiv.setAttribute('id', 'noVNC_screen');
    canvasDiv.appendChild(canvasEle);
    targetDivNode.appendChild(canvasDiv);

    canvasEle.style.display = 'none';
  }

  function setup_browser() {
    if (waiting_for_vnc || waiting_for_container) {
      return;
    }

    var msg;

    if (ever_connected) {
      msg = "Reconnecting to Remote Browser...";
    } else {
      msg = "Initializing Remote Browser...";
    }

    msgdiv().innerHTML = msg;
    msgdiv().style.display = 'block';

    // calculate dimensions
    const bcr = targetDivNode.getBoundingClientRect();
    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w *= 0.96;
      h -= 25;
    }

    if (w < h) {
      // flip mins for vertical layout
      var t = min_width;
      min_width = min_height;
      min_height = t;
    }

    let width = Math.max(w, min_width);
    let height = Math.max(h, min_height);
    width = parseInt(width / 8) * 8;
    height = parseInt(height / 8) * 8;
    //req_params['reqid'] = reqid;

    if (init_params.webrtc) {
      audioType = 'webrtc';
    } else {
      audioType = null;
    }

    if (!audioType) {
      console.log("No Supported Audio Types");
    }

    environ = {'SCREEN_WIDTH': width,
               'SCREEN_HEIGHT': height,
               'AUDIO_TYPE': audioType,
               'REQ_ID': reqid
              };

    init_browser()
  }

  function init_browser() {
    if (waiting_for_container) {
      return;
    }

    waiting_for_container = true;

    //var init_url = init_params.api_prefix + "/init_browser?" + toQueryString(req_params);
    var init_url = init_params.api_prefix + "/api/flock/start/" + reqid;

    var req_params = {"environ": environ};

    var headers = init_params.headers || {};
    headers['Content-Type'] = 'application/json';

    var options = { headers: new Headers(headers),
                    method: "POST",
                    body: JSON.stringify(req_params),
                  };

    if (controller) {
      options.signal = controller.signal;
    }

    // expects json response
    fetch(init_url, options)
      .then(function (res) {
        if (!res.ok) {
          throw new Error(res.status);
        }

        return res.json();
      })
      .then(function (data) {
        waiting_for_container = false;
        handle_browser_response(data);
      })
      .catch(function (err) {
        console.log('fetch error', err);
        waiting_for_container = false;

        // user canceled
        if (err.message === 'AbortError') {
          return;
        }

        if (!err || err.message != 404) {
          msgdiv().innerHTML = 'Reconnecting to Remote Browser...';
          msgdiv().style.display = 'block';

          if (retryCount++ < maxRetry) {
            timers.push(setTimeout(init_browser, 1000));
          }

          return;
        }

        if (init_params.on_event) {
          init_params.on_event('error');
        } else {
          msgdiv().innerHTML = 'Remote Browser Expired... Please try again...';
          msgdiv().style.display = 'block';
        }
      });
  }

  function handle_browser_response(data) {
    
    if (data.containers && data.containers.xserver && data.containers.xserver.ports) {
      let ports = data.containers.xserver.ports;

      vnc_port = ports.vnc_port;
      cmd_port = ports.cmd_port;

      end_time = parseInt(Date.now() / 1000, 10) + data.ttl;

      vnc_pass = data.containers.xserver.environ.VNC_PASS;

      let media_params = {"ports":ports,
        "proxy_ws":init_params.proxy_ws,
        "lock_audio": (init_params.audio == "wait_for_click"),
        "webrtc": init_params.webrtc,
        "webrtc_video": init_params.webrtc_video
      };
      window.mediaController = new _media_controller__WEBPACK_IMPORTED_MODULE_3__["default"](targetDivNode, media_params);

      if (init_params.audio == "wait_for_click") {
        document.body.addEventListener('click', function () {
          window.mediaController.unlockAudio();
        }, { once: true });

      }

      if (init_params.on_event) {
        init_params.on_event("init", data);
      }

      timers.push(window.setTimeout(try_init_vnc, 3000));

    } else if (data.queue != undefined) {
      var msg = "Waiting for empty slot... ";
      if (data.queue == 0) {
        msg += "<b>You are next!</b>";
      } else {
        msg += "At most <b>" + data.queue + " user(s)</b> ahead of you";
      }
      msgdiv().innerHTML = msg;

      timers.push(window.setTimeout(init_browser, 3000));
    }
  }

  function try_init_vnc() {
    do_vnc()
      .then(function () { waiting_for_vnc = false; })
      .catch(function(err) {
        console.log('failed', err);

        waiting_for_vnc = false;
        fail_count++;

        if (fail_count <= num_vnc_retries) {
          msgdiv().innerHTML = "Retrying to connect to remote browser...";
          timers.push(setTimeout(init_browser, 500));
        } else {
          if (init_params.on_event) {
            init_params.on_event("fail");
          } else {
            msgdiv().innerHTML = "Failed to connect to remote browser... Please try again later";
          }
        }
      })
  }

  function clientPosition() {
    const bcr = targetDivNode.getBoundingClientRect();
    var c = canvas();
    var ch = c.getBoundingClientRect().height;
    var cw = c.getBoundingClientRect().width;
    if (!init_params.fill_window) {
      c.style.marginLeft = ((bcr.width - cw)/2) + 'px';
      c.style.marginTop = ((bcr.height - (ch + 25))/2) + 'px';
    }
  }

  function clientResize() {
    const bcr = targetDivNode.getBoundingClientRect();

    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w = Math.round(w * 0.96);
      h = h - 25;
    }

    if (rfb) {
      var s = rfb._display.autoscale(w, h);
    }
  }

  function onVNCCopyCut(rfb, text) {
    if (init_params.clipboard && hasClipboard) {
      // document.querySelector(init_params.clipboard).innerHTML = (text);
    } else if(init_params.clipboard) {
      stagedText = text;
    }
  }

  function do_vnc() {
    if (waiting_for_vnc) {
      return;
    }

    waiting_for_vnc = true;

    var host = window.location.hostname;
    var port = vnc_port;
    var path = "websockify";
    var protocol = "ws";

    if (window.location.protocol === "https:") {
      protocol = "wss";
    }

    // Proxy WS via the origin host, instead of making direct conn
    // 'proxy_ws' specifies the proxy path, port is appended
    if (init_params.proxy_ws) {
      path = init_params.proxy_ws + port;
      port = window.location.port;
      if (!port) {
        port = (window.location.protocol == "https:" ? 443 : 80);
      }
    }

    var target = canvas();
    var webservice_url = protocol + '://' + host + ':' + port + '/' + path;

    console.log("Connecting to " + webservice_url);

    var promise = new promise_polyfill__WEBPACK_IMPORTED_MODULE_2__["default"](function (resolve, reject) {
      rfb = new _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__["default"](target, webservice_url, {'credentials': {'password': vnc_pass}});
      window.rfb = rfb;

      //if (!rfbEventsBound) {
      credentialsRequired = function () {
        reject("credentialsrequired");
      }

      connect = function () {
        canvas().style.display = 'block';

        if (init_params.fill_window) {
          canvas().focus();
        }

        msgdiv().style.display = 'none';

        ever_connected = true;
        connected = true;
        fail_count = 0;

        if (init_params.on_event) {
          init_params.on_event("connect");
        }
        rfb.resizeSession = true;
        rfb.scaleViewport = true;

        resolve("connected");
      }

      disconnect = function () {
        connected = false;

        canvas().style.display = 'none';

        var reinit = !document.hidden;

        if (init_params.on_event) {
          init_params.on_event("disconnect");
        }

        if (reinit) {
          setup_browser();
        }
        reject("disconnected");
      }

      securityFailure = function () {
        reject("securityFailure");
      }

      clipboard = function (event) {
        onVNCCopyCut(rfb, event.detail.text);
      }

      rfb.addEventListener("credentialsrequired", credentialsRequired);
      rfb.addEventListener("connect", connect);
      rfb.addEventListener("disconnect", disconnect);
      rfb.addEventListener("securityfailure", securityFailure);
      rfb.addEventListener("clipboard", clipboard);
      //   rfbEventsBound = true;
      // }
    });

    return promise;
  }


  window.onresize = function () {
    // When the window has been resized, wait until the size remains
    // the same for 0.5 seconds before sending the request for changing
    // the resolution of the session
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function(){
      clientResize();
      //clientPosition();
    }, 500);
  };

  function visibilityChangeCB() {
    if (document.hidden) {
      visibilityHandle = setTimeout(function() {
        if (rfb) {
          rfb.disconnect();
        }
      },
      init_params.inactiveSecs * 1000);
    } else {
      clearTimeout(visibilityHandle);
      if (!connected) {
        if (init_params.on_event) {
          init_params.on_event("reconnect");
        }

        setup_browser();
      }
    }
  }

  function update_countdown() {
    if (!end_time) {
      return;
    }
    var curr = Math.floor(new Date().getTime() / 1000);
    var secdiff = end_time - curr;

    if (secdiff < 0) {
      init_params.on_countdown(0, "00:00");
      return;
    }

    var min = Math.floor(secdiff / 60);
    var sec = secdiff % 60;
    if (sec <= 9) {
      sec = "0" + sec;
    }
    if (min <= 9) {
      min = "0" + min;
    }

    init_params.on_countdown(secdiff, min + ":" + sec);
  }

  if (init_params.inactiveSecs) {
    document.addEventListener("visibilitychange", visibilityChangeCB);
  }

  function clearTimers() {
    // clear intervals and timers
    clearInterval(countdownTimer);
    clearTimeout(visibilityHandle);
    for (var i = 0; i < timers.length; i++) {
      clearTimeout(timers[i]);
    }
    timers = [];
  }

  function close() {
    if (controller) {
      // cancel fetch requests
      controller.abort();
    }

    if (window.mediaController) {
      window.mediaController.stop();
    }

    // stop audio plugin
    if (window.audioPlugin) {
      try {
        console.log("Close Audio");
        window.audioPlugin.close();
        window.audioPlugin = undefined;
      } catch (err){}
    }

    if (rfb) {
      rfb.removeEventListener("credentialsrequired", credentialsRequired);
      rfb.removeEventListener("connect", connect);
      rfb.removeEventListener("disconnect", disconnect);
      rfb.removeEventListener("securityfailure", securityFailure);
      rfb.removeEventListener("clipboard", clipboard);
      rfb.disconnect();
    }

    var cnvs = canvas();
    var _screen = screen();

    clearTimers();

    document.removeEventListener("visibilitychange", visibilityChangeCB);
  }

  start();

  return {
    "close": close,
    "destroy_clipboard": destroy_clipboard,
    "init_clipboard": init_clipboard
   }
}





/***/ }),

/***/ "./src/media-controller.js":
/*!*********************************!*\
  !*** ./src/media-controller.js ***!
  \*********************************/
/*! exports provided: MediaController, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaController", function() { return MediaController; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MediaController; });
/* harmony import */ var _webrtc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webrtc */ "./src/webrtc.js");
/* harmony import */ var _audio_mediasource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./audio-mediasource */ "./src/audio-mediasource.js");






class MediaController {

  constructor(target, data){
    this.target = target;
    this.data = data;
    this.debug = true;
    this.connect_attempts = 0;
    this.ws_conn;
    this.webrtc_video_formats;

    this.webrtc = data.webrtc;
    this.webrtc_video = data.webrtc_video;

    this.lock_audio = data['lock_audio'];

    this.connectToServer();
  }

  getCommandServer() {
    let ws_url = (window.location.protocol === "https:" ? "wss://" : "ws://");
    ws_url += window.location.hostname;

    var audio_port = this.data.ports.cmd_port;

    if (this.data.proxy_ws) {
      ws_url += "/" + this.data.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }

  connectToServer() {
    this.connect_attempts++;
    if (this.connect_attempts > 100) {
      console.log("Too many connection attempts, aborting. Refresh page to try again");
      return;
    }

    let ws_url = this.getCommandServer();
    this.setStatus("Connecting to server " + ws_url + ", attempt= " + this.connect_attempts);
    this.ws_conn = new WebSocket(ws_url);
    /* When connected, immediately register with the server */
    this.ws_conn.addEventListener('open', () => {
      this.ws_conn.send('HELLO ');
      this.setStatus("Registering with server");
    });

    this.ws_conn.addEventListener('error', this.onServerError.bind(this));
    this.ws_conn.addEventListener('message', this.onServerMessage.bind(this));
    this.ws_conn.addEventListener('close', this.onServerClose.bind(this));

    window.onbeforeunload = this.close.bind(this);
  }

  webrtcInitOptions(formats) {
    if (!this.webrtc) {
      return {"webrtc": false};
    }

    if (this.webrtc_video && formats) {
      if (typeof(this.webrtc_video) === "string") {
        formats.unshift(this.webrtc_video);
      }

      if (formats.includes("VP8") || formats.includes("H264")) {
        return {"webrtc": true, "webrtc_video": formats}
      }
    }

    return {"webrtc": true};
  }

  unlockAudio() {
    this.lock_audio = false;
    if (window.mediaPlugin != null) {
      window.mediaPlugin.unlockAudio()
    }
  }

  async initConnection() {
    const formats = await Object(_webrtc__WEBPACK_IMPORTED_MODULE_0__["determineVideoFormats"])();
    const message = this.webrtcInitOptions(formats);

    this.webrtc_video_formats = formats;

    console.log(message);
    this.send(message);

    // instantiate right plugins
    if (message.webrtc) {
      window.mediaPlugin = new _webrtc__WEBPACK_IMPORTED_MODULE_0__["WebRTC"](this.target, 1, this, this.lock_audio);
    } else {
      let audio_format = Object(_audio_mediasource__WEBPACK_IMPORTED_MODULE_1__["getBestAudioType"])();
      window.mediaPlugin = new _audio_mediasource__WEBPACK_IMPORTED_MODULE_1__["MSAudio"](audio_format, this, this.lock_audio);
    }
    window.mediaPlugin.start();
  }

  close () {
    this.disconnectWebsocket();
    if (window.mediaPlugin) {
      window.mediaPlugin.close();
      window.mediaPlugin = null;
    }
  }

  onServerClose(event) {
    this.setStatus('Disconnected from server with code=' + event.code + ' reason=' + event.reason);

    this.disconnectWebsocket();

    if (event.code !== 1002) {
      // Reset after a second
      window.setTimeout(this.connectToServer.bind(this), 2000);
    } else {
      if (this.connect_attempts < 5) {
        // Retrieve to connect up to 5 times (peer-id might be in conflict if init_browser is called again)
        window.setTimeout(this.connectToServer.bind(this), 2000);
      }
    }
  }

  disconnectWebsocket() {
    if (this.ws_conn) {
      this.setStatus("disconnect websocket");
      this.ws_conn.close();
    }
  }

  send(message) {
    this.ws_conn.send(JSON.stringify(message));
  }

  onServerError() {
    this.setStatus("Unable to connect to server, did you add an exception for the certificate?");
    // Retry after 3 seconds
    window.setTimeout(this.connectToServer.bind(this), 3000);
  }

  setStatus(status) {
    if (this.debug) {
      console.log("Media Controller - status:" + status);
    }
  }

  handleIncomingError(message) {
    if (this.debug) {
      console.log("handleIncomingError: " + message);
    }
  }

  onServerMessage(event) {
    let data = event.data;
    if (window.mediaPlugin != null) {
      if(window.mediaPlugin.handleMessage(data)) {
        return;
      }
    }
    let msg;

    switch (data) {
      case "HELLO":
        this.setStatus("Registered with server, determine which protocol to use");
        this.initConnection();
        return;
      default:
        if (event.data.startsWith("ERROR")) {
          this.handleIncomingError(event.data);
          return;
        }
        try {
          msg = JSON.parse(event.data);
        } catch (e) {
          if (e instanceof SyntaxError) {
            this.handleIncomingError("Error parsing incoming JSON: " + event.data);
          } else {
            this.handleIncomingError("Unknown error parsing response: " + event.data);
          }
          return;
        }
    }
  }

};


/***/ }),

/***/ "./src/webrtc.js":
/*!***********************!*\
  !*** ./src/webrtc.js ***!
  \***********************/
/*! exports provided: WebRTC, determineVideoFormats, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebRTC", function() { return WebRTC; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "determineVideoFormats", function() { return determineVideoFormats; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WebRTC; });



class WebRTC {

  constructor(target, peer_id, media_controller, lock_audio) {

    this.debug = true;
    this.lock_audio = lock_audio;
    this.peer_connection;
    this.media_controller = media_controller;

    this.video_element;
    this.audio_element;

    this.target = target;
    this.peer_id = peer_id;
    this.candidate_number = 0;
  }

  start() {
    if (this.video_element || this.audio_element) {
      console.log("already started");
      return;
    }
  };

  getPeerId() {
    return this.peer_id;
  }

  initIceServers(username, password) {
    const stun = "stun:stun.l.google.com:19302";
    const hostname = window.location.hostname;
    const port = window.location.protocol === "https:" ? 443 : 33478;

    const iceServers = [
      {'urls': stun},
      {"urls":[`turn:${hostname}:${port}?transport=udp`,
               `turn:${hostname}:${port}?transport=tcp`],
       "username": username,
       "credential": password}
    ];

    return {'iceTransportPolicy': 'relay', 'iceServers': iceServers};
  }

  onIncomingConfiguration(msg) {
    msg = this.initIceServers(msg.username, msg.password);

    if (this.debug) {
      console.log("Create peerConnection with configuration" + JSON.stringify(msg));
    }
    this.createCall(msg);
  }

  // ICE candidate received from peer, add it to the peer connection
  onIncomingICE(ice) {
    let candidate = new RTCIceCandidate(ice);
    this.peer_connection.addIceCandidate(candidate).catch(() => this.setError("Error adding ice candidate"));
  }

  setStatus(status) {
    if (this.debug) {
      console.log("WebRTC-status:" + status);
    }
  }

  setError(error) {
    if (this.debug) {
      console.log("WebRTC-error: " + error);
    }
  }

  onIncomingSDP(sdp) {
    this.peer_connection.setRemoteDescription(sdp).then(() => {
      this.setStatus("Remote SDP set");
      if (sdp.type !== "offer")
        return;
      this.setStatus("Got SDP offer");
      this.peer_connection.createAnswer()
        .then(this.onLocalDescription.bind(this)).catch(() => this.setError("Error setting local description"));
    }).catch((event) => this.setError("Error setting remote description:" + event));
  }

  // Local description was set, send it to peer
  onLocalDescription(desc) {
    if (this.debug) {
      console.log("Got local description: " + JSON.stringify(desc));
    }
    this.peer_connection.setLocalDescription(desc).then(function() {
      this.setStatus("Sending SDP answer");
      let sdp = {'sdp': this.peer_connection.localDescription};
      this.media_controller.send(sdp);
    }.bind(this));
  }


  handleMessage(data) {
    try {
      let msg = JSON.parse(data);
      // Incoming JSON signals the beginning of a call
      if (msg.sdp != null) {
        this.onIncomingSDP(msg.sdp);
        return true;
      } else if (msg.ice != null) {
        this.onIncomingICE(msg.ice);
        return true;
      } else if (msg.username && msg.password) {
        this.onIncomingConfiguration(msg);
        return true;
      }
    } catch (e) {}

    return false;
  }

  unlockAudio() {
    if (this.debug) {
      console.log("Unlock webrtc audio");
    }
    this.lock_audio = false;
    if (this.audio_element != null) {
      this.audio_element.muted = false;
      console.log(" paused: " + this.audio_element.paused);
      this.audio_element.play().catch((err) => this.setError("unlock audio_element.play() error: " + err));
    }
    if (this.video_element != null) {
      this.video_element.muted = false;
    }
  }

  close() {
    this.setStatus("Closing WebRTC connection");
    this.peer_connection.close();
    this.peer_connection = null;
  };

  createCall(configuration) {

    this.peer_connection = new RTCPeerConnection(configuration);
    this.peer_connection.ontrack = this.onRemoteTrackAdded.bind(this);
    this.peer_connection.oniceconnectionstatechange = this.onIceConnectionStateChange.bind(this);
    this.peer_connection.onicecandidate = this.onIceCandidate.bind(this);

    this.setStatus("Created peer connection for call, waiting for SDP");
  }

  onIceCandidate(event) {
      let candidate = event.candidate;

      if (candidate == null) {
        console.log("Ice Candidates Done, Sent " + this.candidate_number);
        return;
      }

      console.log("send candidate remotely: " + candidate.candidate);
      this.media_controller.send({'ice': candidate});
      this.candidate_number++;
    };

  onIceConnectionStateChange(event) {
    if (this.peer_connection.iceConnectionState === "connected") {
        if (this.debug) {
          console.log("WebRTC is on!");
        }
    }
  }

  syncVideoElement() {
    let canvas = this.target.getElementsByTagName('canvas')[0];
    if (this.video_element != null  && canvas != undefined) {
      let canvas_position = canvas.getBoundingClientRect();
      let left = canvas_position.x;
      let top = canvas_position.y;
      let width = canvas_position.width;
      let height = canvas_position.height;

      if (this.debug) {
        console.log("Video position is left " + left + ", top " + top + ", width " + width + ", height " + height);
      }

      this.video_element.style.left = left + "px";
      this.video_element.style.top = top + "px";
      if (width > 0) {
        this.video_element.style.width = width + "px";
      }
      if (height > 0) {
        this.video_element.style.height = height + "px";
      }
    }
  }

  onRemoteTrackAdded(event) {
    console.log('receive ' + event.streams.length + 'Streams. stream 1  = ' + event.streams[0].getVideoTracks().length + ' video tracks and ' + event.streams[0].getAudioTracks().length + ' audio tracks' );

    if (event.streams[0].getAudioTracks().length > 0 && event.streams[0].getVideoTracks().length == 0) {
      if (this.audio_element != null) {
        try {
          this.audio_element.pause();
        } catch (e) {
          console.log('can not pause audio element');
        }
      } else {
        this.audio_element = document.createElement('audio');
        this.audio_element.autoplay = true;
        this.target.append(this.audio_element);
      }

      this.audio_element.srcObject = event.streams[0];

      this.audio_element.play().catch((err) => this.mediaPlayError(err, this.audio_element, "audio_element.play()"));

    }

    if (event.streams[0].getVideoTracks().length > 0) {
      if (this.audio_element != null) {
        this.audio_element.pause();
      }

      if (this.video_element == null) {
        // Full WebRTC
        this.video_element = document.createElement('video');
        if (this.debug) {
          this.video_element.style.backgroundColor = "blue";
        }
        //this.video_element.style.opacity = "0.5";
        this.video_element.style.position = "absolute"
        this.video_element.style.top = "0px";
        this.video_element.style.left = "0px";
        //this.video_element.style.width = "100%"
        this.video_element.style.zIndex = "-1";

        this.video_element.contentEditable = true;
        // Hide real VNC
        this.target.getElementsByClassName('canvas')[0].style.opacity = 0;

        if (this.lock_audio) {
          this.video_element.muted = true;
        }


        this.target.append(this.video_element);
        window.onresize = this.syncVideoElement.bind(this);
        this.syncVideoElement();
      } else {
        try {
          this.video_element.pause();
        } catch (e) {
          console.log('can not pause video element');
        }
      }

      this.video_element.srcObject = event.streams[0];

      var video = this.video_element;

      this.video_element.play().catch((err) => this.mediaPlayError(err, this.video_element, "video_element.play()"));
    }
  }

  mediaPlayError(err, elem, msg) {
    if (err.name === 'NotAllowedError') {
      elem.muted = true;
      document.body.addEventListener("click", () => this.unlockAudio());
      elem.play().catch((err) => this.setError(msg + " muted error: " + err));
    } else {
      this.setError(msg + " error: " + err);
    }
  }
};

function determineVideoFormats() {

  return new Promise((resolve, reject) => {
    try {
      var conn = new RTCPeerConnection();
      if (conn.addTransceiver) {
        conn.addTransceiver("video", {"direction": "recvonly"});
      }
      conn.createOffer({"offerToReceiveVideo": true}).then((offer) => {
        conn.close();

        var formats = [];
        var found = {};

        var rx = /a=rtpmap[:]\d+ (\w+)\//g;

        var res = null;

        while ((res = rx.exec(offer.sdp)) != null) {
          var format = res[1];
          if (!found[format]) {
            formats.push(format);
            found[format] = 1;
          }
        }

        resolve(formats);
      });
    } catch (e) {
      console.log("Error WebRTC not supported")
      resolve();
    }

  });
}



/***/ })

/******/ })));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVjb2RlcnMvY29weXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2RlY29kZXJzL2hleHRpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2RlY29kZXJzL3Jhdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVjb2RlcnMvcnJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9kZWNvZGVycy90aWdodC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVjb2RlcnMvdGlnaHRwbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGlzcGxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZW5jb2RpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbmZsYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvZG9ta2V5dGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L2ZpeGVka2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQva2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L2tleXN5bS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQva2V5c3ltZGVmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9tb3VzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvdmtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L3h0c2NhbmNvZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9yZmIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3V0aWwvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9jdXJzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3V0aWwvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL2V2ZW50dGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL2xvZ2dpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3V0aWwvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3V0aWwvc3RyaW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvd2Vic29jay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi91dGlscy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvemxpYi9hZGxlcjMyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvY3JjMzIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZmYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvaW5mbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2luZnRyZWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvenN0cmVhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9maW5hbGx5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5mZXRjaC9wb2x5ZmlsbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9hdWRpby1tZWRpYXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEtY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2VicnRjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRkE7QUFBQTtBQUFBO0FBQW9DOztBQUU3QjtBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUMsZ0NBQWdDO0FBQ2pFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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QUFDQTtBQUNBOztBQUVBLFlBQVksc0RBQVM7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQyxXQUFXLGtEQUFNO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixVQUFVO0FBQ2pDLDJCQUEyQixVQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQXFCO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDN29CQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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OztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxZQUFZLDBEQUFpQixNQUFNLDBEQUFpQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDalhBO0FBQUE7O0FBRWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0IscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDdm1CRjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7OztBQ3BIRjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFFaUU7O0FBRWpFLHFCQUFxQiw4REFBa0IsSUFBSSx5REFBYTs7QUFFekM7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzVOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsaUJBQWlCO0FBQ3pEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQOztBQUVBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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Q3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5REFBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5REFBSztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSx3QkFBd0IseURBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3QkFBd0IseURBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxpQkFBaUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhO0FBQ3ZDLDBCQUEwQixhQUFhO0FBQ3ZDLHlCQUF5QixpQkFBaUI7QUFDMUMsdUNBQXVDO0FBQ3ZDLFFBQVEseURBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkLFlBQVksNERBQWE7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixrRUFBa0U7QUFDbEU7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixPQUFPOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkLFlBQVksNERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxZQUFZLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBLHlCQUF5QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLE9BQU87QUFDekM7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQkFBcUI7QUFDM0QsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IscUNBQXFDLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUI7QUFDdkQ7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLCtCQUErQixrQkFBa0I7QUFDakQ7QUFDQTtBQUNBLHVCQUF1QixpQkFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCw2QkFBNkIseURBQUssMENBQTBDLDJEQUFPOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGO0FBQ2pGLHFCQUFxQix5REFBSyxvREFBb0QsMkRBQU87QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLHVCQUF1QjtBQUNwRDtBQUNBLCtCQUErQix1QkFBdUI7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2REFBNkQsdUJBQXVCO0FBQ3BGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLHdEQUF3RDtBQUN4RCxhQUFhLDJEQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUo7QUFDMUk7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdC9DQTtBQUFBO0FBQUE7QUFBNEM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QixjQUFjO0FBQ2QsY0FBYztBQUNkLHVCQUF1QjtBQUN2QixlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7QUFDZixXQUFXO0FBQ1gsV0FBVztBQUNYLFVBQVU7QUFDVixXQUFXO0FBQ1gsV0FBVztBQUNYLGtCQUFrQjtBQUNsQjtBQUNBLGlCQUFpQjtBQUNqQixVQUFVO0FBQ1Ysa0JBQWtCLHNEQUFXLGNBQWMsZUFBZTtBQUMxRCxpQkFBaUIsc0RBQVcsY0FBYyxlQUFlO0FBQ3pEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQiwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixzQ0FBc0MsMkJBQTJCO0FBQ2pFLHVDQUF1QztBQUN2Qyx3Q0FBd0M7QUFDeEM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZUFBZSxXQUFXO0FBQzFCLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTs7QUFFQTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHLE9BQU87QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1YsWUFBWTtBQUNaLHFCQUFxQjtBQUNyQixjQUFjO0FBQ2QsV0FBVztBQUNYLFdBQVc7QUFDWCxtQkFBbUI7QUFDbkIsa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDalVBO0FBQUE7QUFBZTtBQUNmO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUN2QkE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTs7Ozs7Ozs7Ozs7OztBQ3ZMdEM7QUFBQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFZSxpRkFBa0IsRUFBQzs7Ozs7Ozs7Ozs7OztBQ25CbEM7QUFBQTtBQUF1Qzs7QUFFdkM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9COztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLCtCQUErQixnREFBYzs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTs7QUFFZSxzRUFBTyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDL092QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsc0JBQXNCLEVBQUU7QUFDbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7QUN6TEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLG1CQUFPLENBQUMsaUVBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDOURBLHNDQUFzQyxjQUFjLDJCQUEyQix5QkFBeUIsdUZBQXVGLGFBQWEscUJBQXFCLHdGQUF3RixnRUFBZ0UsR0FBRyx5R0FBeUcsdUNBQXVDLGlCQUFpQix3REFBd0QsaUJBQWlCLCtDQUErQyxVQUFVLGdCQUFnQixTQUFTLG9CQUFvQixTQUFTLGlCQUFpQiwwQkFBMEIsaUJBQWlCLDhCQUE4QiwrREFBK0QsT0FBTyxrQ0FBa0MsRUFBRTs7Ozs7Ozs7Ozs7O0FDQXo1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7Ozs7Ozs7Ozs7Ozs7QUNuQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLGlDQUFpQztBQUNqQzs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILDBCQUEwQjs7QUFFMUIsR0FBRztBQUNILDJCQUEyQjtBQUMzQjs7QUFFbUM7OztBQUduQztBQUNBO0FBQ0EsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQiwwQkFBMEI7O0FBRTFCOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsRUFBRTtBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCLEVBQUU7O0FBRTNELGVBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7O0FDdlFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdDO0FBQ1E7QUFDRDtBQUNVOzs7QUFHakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHZTtBQUNmOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCOztBQUV0QjtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseURBQWU7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRyxhQUFhOztBQUV6Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIseUJBQXlCLEVBQUU7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCLHdEQUFPO0FBQzdCLGdCQUFnQiw2REFBRywwQkFBMEIsZ0JBQWdCLHNCQUFzQjtBQUNuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ3hsQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1RDtBQUNPOztBQUVyQzs7O0FBR1Y7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLHFFQUFxQjtBQUMvQzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsOENBQU07QUFDckMsS0FBSztBQUNMLHlCQUF5QiwyRUFBZ0I7QUFDekMsK0JBQStCLDBEQUFPO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7OztBQy9MQTtBQUFBO0FBQUE7QUFBQTtBQUF1Qzs7O0FBR3hCOztBQUVmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU8sYUFBYTtBQUNwQixPQUFPLGdCQUFnQixTQUFTLEdBQUcsS0FBSztBQUN4Qyx1QkFBdUIsU0FBUyxHQUFHLEtBQUs7QUFDeEM7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxpQkFBaUI7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx3QkFBd0I7QUFDOUQ7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0giLCJmaWxlIjoic2hlcGhlcmQtY2xpZW50LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vaW5kZXguanNcIik7XG4iLCJpbXBvcnQgQ0Jyb3dzZXIgZnJvbSAnLi9zcmMvYnJvd3NlcidcblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRCcm93c2VyRGVmYXVsdChyZXFpZCwgb3B0cykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIC8vIGlmIGluIGlmcmFtZSwgbm90aWZ5IHBhcmVudCBvZiByZXFpZFxuICAgIGlmICh3aW5kb3cgIT0gd2luZG93LnBhcmVudCAmJiAhb3B0cy5ub05vdGlmeVBhcmVudCkge1xuICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7XCJ0eXBlXCI6IFwicmVxaWRcIiwgXCJyZXFpZFwiOiByZXFpZH0sIFwiKlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdHMub25fY291bnRkb3duKSB7XG4gICAgICBvcHRzLm9uX2NvdW50ZG93biA9IGZ1bmN0aW9uKHNlY29uZHMsIGNvdW50ZG93bl90ZXh0KSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudGRvd25cIik7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgdGV4dC5pbm5lclRleHQgPSBjb3VudGRvd25fdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3B0cy5vbl9ldmVudCkge1xuICAgICAgb3B0cy5vbl9ldmVudCA9IGZ1bmN0aW9uKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJmYWlsXCIgfHwgdHlwZSA9PSBcImV4cGlyZVwiKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucHJveHlfd3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF3aW5kb3cubG9jYXRpb24ucG9ydCkge1xuICAgICAgICBvcHRzLnByb3h5X3dzID0gXCJfd2Vic29ja2lmeT9wb3J0PVwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmF1ZGlvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMuYXVkaW8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmZpbGxfd2luZG93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMuZmlsbF93aW5kb3cgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluYWN0aXZlU2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmluYWN0aXZlU2VjcyA9IDEwO1xuICAgIH1cblxuICAgIHZhciBpZCA9IG9wdHMuaWQgfHwgXCIjYnJvd3NlclwiO1xuXG4gICAgcmV0dXJuIG5ldyBDQnJvd3NlcihyZXFpZCwgaWQsIG9wdHMpO1xuICB9KTtcbn1cblxuXG5cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8vIEZyb206IGh0dHA6Ly9oZy5tb3ppbGxhLm9yZy9tb3ppbGxhLWNlbnRyYWwvcmF3LWZpbGUvZWMxMDYzMGIxYTU0L2pzL3NyYy9kZXZ0b29scy9qaW50L3N1bnNwaWRlci9zdHJpbmctYmFzZTY0LmpzXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL3V0aWwvbG9nZ2luZy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKiBDb252ZXJ0IGRhdGEgKGFuIGFycmF5IG9mIGludGVnZXJzKSB0byBhIEJhc2U2NCBzdHJpbmcuICovXG4gICAgdG9CYXNlNjRUYWJsZTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89Jy5zcGxpdCgnJyksXG4gICAgYmFzZTY0UGFkOiAnPScsXG5cbiAgICBlbmNvZGUoZGF0YSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGVuZ3RocGFkID0gKGxlbmd0aCAlIDMpO1xuICAgICAgICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgYXNjaWkgY2hhcmFjdGVycy5cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChsZW5ndGggLSAyKTsgaSArPSAzKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy50b0Jhc2U2NFRhYmxlW2RhdGFbaV0gPj4gMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy50b0Jhc2U2NFRhYmxlWygoZGF0YVtpXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbaSArIDFdID4+IDQpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbKChkYXRhW2kgKyAxXSAmIDB4MGYpIDw8IDIpICsgKGRhdGFbaSArIDJdID4+IDYpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbZGF0YVtpICsgMl0gJiAweDNmXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlbWFpbmluZyAxIG9yIDIgYnl0ZXMsIHBhZCBvdXQgdG8gNCBjaGFyYWN0ZXJzLlxuICAgICAgICBjb25zdCBqID0gbGVuZ3RoIC0gbGVuZ3RocGFkO1xuICAgICAgICBpZiAobGVuZ3RocGFkID09PSAyKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy50b0Jhc2U2NFRhYmxlW2RhdGFbal0gPj4gMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy50b0Jhc2U2NFRhYmxlWygoZGF0YVtqXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbaiArIDFdID4+IDQpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbKGRhdGFbaiArIDFdICYgMHgwZikgPDwgMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy50b0Jhc2U2NFRhYmxlWzY0XTtcbiAgICAgICAgfSBlbHNlIGlmIChsZW5ndGhwYWQgPT09IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbZGF0YVtqXSA+PiAyXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbKGRhdGFbal0gJiAweDAzKSA8PCA0XTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnRvQmFzZTY0VGFibGVbNjRdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMudG9CYXNlNjRUYWJsZVs2NF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKiBDb252ZXJ0IEJhc2U2NCBkYXRhIHRvIGEgc3RyaW5nICovXG4gICAgLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZyAqL1xuICAgIHRvQmluYXJ5VGFibGU6IFtcbiAgICAgICAgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsXG4gICAgICAgIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLFxuICAgICAgICAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLDYyLCAtMSwtMSwtMSw2MyxcbiAgICAgICAgNTIsNTMsNTQsNTUsIDU2LDU3LDU4LDU5LCA2MCw2MSwtMSwtMSwgLTEsIDAsLTEsLTEsXG4gICAgICAgIC0xLCAwLCAxLCAyLCAgMywgNCwgNSwgNiwgIDcsIDgsIDksMTAsIDExLDEyLDEzLDE0LFxuICAgICAgICAxNSwxNiwxNywxOCwgMTksMjAsMjEsMjIsIDIzLDI0LDI1LC0xLCAtMSwtMSwtMSwtMSxcbiAgICAgICAgLTEsMjYsMjcsMjgsIDI5LDMwLDMxLDMyLCAzMywzNCwzNSwzNiwgMzcsMzgsMzksNDAsXG4gICAgICAgIDQxLDQyLDQzLDQ0LCA0NSw0Niw0Nyw0OCwgNDksNTAsNTEsLTEsIC0xLC0xLC0xLC0xXG4gICAgXSxcbiAgICAvKiBlc2xpbnQtZW5hYmxlIGNvbW1hLXNwYWNpbmcgKi9cblxuICAgIGRlY29kZShkYXRhLCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIGxldCBkYXRhX2xlbmd0aCA9IGRhdGEuaW5kZXhPZignPScpIC0gb2Zmc2V0O1xuICAgICAgICBpZiAoZGF0YV9sZW5ndGggPCAwKSB7IGRhdGFfbGVuZ3RoID0gZGF0YS5sZW5ndGggLSBvZmZzZXQ7IH1cblxuICAgICAgICAvKiBFdmVyeSBmb3VyIGNoYXJhY3RlcnMgaXMgMyByZXN1bHRpbmcgbnVtYmVycyAqL1xuICAgICAgICBjb25zdCByZXN1bHRfbGVuZ3RoID0gKGRhdGFfbGVuZ3RoID4+IDIpICogMyArIE1hdGguZmxvb3IoKGRhdGFfbGVuZ3RoICUgNCkgLyAxLjUpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkocmVzdWx0X2xlbmd0aCk7XG5cbiAgICAgICAgLy8gQ29udmVydCBvbmUgYnkgb25lLlxuXG4gICAgICAgIGxldCBsZWZ0Yml0cyA9IDA7IC8vIG51bWJlciBvZiBiaXRzIGRlY29kZWQsIGJ1dCB5ZXQgdG8gYmUgYXBwZW5kZWRcbiAgICAgICAgbGV0IGxlZnRkYXRhID0gMDsgLy8gYml0cyBkZWNvZGVkLCBidXQgeWV0IHRvIGJlIGFwcGVuZGVkXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDAsIGkgPSBvZmZzZXQ7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gdGhpcy50b0JpbmFyeVRhYmxlW2RhdGEuY2hhckNvZGVBdChpKSAmIDB4N2ZdO1xuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IChkYXRhLmNoYXJBdChpKSA9PT0gdGhpcy5iYXNlNjRQYWQpO1xuICAgICAgICAgICAgLy8gU2tpcCBpbGxlZ2FsIGNoYXJhY3RlcnMgYW5kIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGlmIChjID09PSAtMSkge1xuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIklsbGVnYWwgY2hhcmFjdGVyIGNvZGUgXCIgKyBkYXRhLmNoYXJDb2RlQXQoaSkgKyBcIiBhdCBwb3NpdGlvbiBcIiArIGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb2xsZWN0IGRhdGEgaW50byBsZWZ0ZGF0YSwgdXBkYXRlIGJpdGNvdW50XG4gICAgICAgICAgICBsZWZ0ZGF0YSA9IChsZWZ0ZGF0YSA8PCA2KSB8IGM7XG4gICAgICAgICAgICBsZWZ0Yml0cyArPSA2O1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIDggb3IgbW9yZSBiaXRzLCBhcHBlbmQgOCBiaXRzIHRvIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGlmIChsZWZ0Yml0cyA+PSA4KSB7XG4gICAgICAgICAgICAgICAgbGVmdGJpdHMgLT0gODtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgaWYgbm90IHBhZGRpbmcuXG4gICAgICAgICAgICAgICAgaWYgKCFwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpZHgrK10gPSAobGVmdGRhdGEgPj4gbGVmdGJpdHMpICYgMHhmZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVmdGRhdGEgJj0gKDEgPDwgbGVmdGJpdHMpIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgYml0cyBsZWZ0LCB0aGUgYmFzZTY0IHN0cmluZyB3YXMgY29ycnVwdGVkXG4gICAgICAgIGlmIChsZWZ0Yml0cykge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdDb3JydXB0ZWQgYmFzZTY0IHN0cmluZycpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnQmFzZTY0LUVycm9yJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufTsgLyogRW5kIG9mIEJhc2U2NCBuYW1lc3BhY2UgKi9cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIENvcHlyaWdodCAoQykgMjAxOCBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3B5UmVjdERlY29kZXIge1xuICAgIGRlY29kZVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgaWYgKHNvY2suclF3YWl0KFwiQ09QWVJFQ1RcIiwgNCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkZWx0YVggPSBzb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICBsZXQgZGVsdGFZID0gc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgZGlzcGxheS5jb3B5SW1hZ2UoZGVsdGFYLCBkZWx0YVksIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIENvcHlyaWdodCAoQykgMjAxOCBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV4dGlsZURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl90aWxlcyA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RzdWJlbmNvZGluZyA9IDA7XG4gICAgfVxuXG4gICAgZGVjb2RlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzb2NrLCBkaXNwbGF5LCBkZXB0aCkge1xuICAgICAgICBpZiAodGhpcy5fdGlsZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVzX3ggPSBNYXRoLmNlaWwod2lkdGggLyAxNik7XG4gICAgICAgICAgICB0aGlzLl90aWxlc195ID0gTWF0aC5jZWlsKGhlaWdodCAvIDE2KTtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsX3RpbGVzID0gdGhpcy5fdGlsZXNfeCAqIHRoaXMuX3RpbGVzX3k7XG4gICAgICAgICAgICB0aGlzLl90aWxlcyA9IHRoaXMuX3RvdGFsX3RpbGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX3RpbGVzID4gMCkge1xuICAgICAgICAgICAgbGV0IGJ5dGVzID0gMTtcblxuICAgICAgICAgICAgaWYgKHNvY2suclF3YWl0KFwiSEVYVElMRVwiLCBieXRlcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCByUSA9IHNvY2suclE7XG4gICAgICAgICAgICBsZXQgclFpID0gc29jay5yUWk7XG5cbiAgICAgICAgICAgIGxldCBzdWJlbmNvZGluZyA9IHJRW3JRaV07ICAvLyBQZWVrXG4gICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgPiAzMCkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBoZXh0aWxlIHN1YmVuY29kaW5nIChzdWJlbmNvZGluZzogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmVuY29kaW5nICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyX3RpbGUgPSB0aGlzLl90b3RhbF90aWxlcyAtIHRoaXMuX3RpbGVzO1xuICAgICAgICAgICAgY29uc3QgdGlsZV94ID0gY3Vycl90aWxlICUgdGhpcy5fdGlsZXNfeDtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVfeSA9IE1hdGguZmxvb3IoY3Vycl90aWxlIC8gdGhpcy5fdGlsZXNfeCk7XG4gICAgICAgICAgICBjb25zdCB0eCA9IHggKyB0aWxlX3ggKiAxNjtcbiAgICAgICAgICAgIGNvbnN0IHR5ID0geSArIHRpbGVfeSAqIDE2O1xuICAgICAgICAgICAgY29uc3QgdHcgPSBNYXRoLm1pbigxNiwgKHggKyB3aWR0aCkgLSB0eCk7XG4gICAgICAgICAgICBjb25zdCB0aCA9IE1hdGgubWluKDE2LCAoeSArIGhlaWdodCkgLSB0eSk7XG5cbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgaG93IG11Y2ggd2UgYXJlIGV4cGVjdGluZ1xuICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwMSkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgYnl0ZXMgKz0gdHcgKiB0aCAqIDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDIpIHsgIC8vIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgYnl0ZXMgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgwNCkgeyAgLy8gRm9yZWdyb3VuZFxuICAgICAgICAgICAgICAgICAgICBieXRlcyArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDA4KSB7ICAvLyBBbnlTdWJyZWN0c1xuICAgICAgICAgICAgICAgICAgICBieXRlcysrOyAgLy8gU2luY2Ugd2UgYXJlbid0IHNoaWZ0aW5nIGl0IG9mZlxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIkhFWFRJTEVcIiwgYnl0ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgc3VicmVjdHMgPSByUVtyUWkgKyBieXRlcyAtIDFdOyAgLy8gUGVla1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDEwKSB7ICAvLyBTdWJyZWN0c0NvbG91cmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlcyArPSBzdWJyZWN0cyAqICg0ICsgMik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlcyArPSBzdWJyZWN0cyAqIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIkhFWFRJTEVcIiwgYnl0ZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBlbmNvZGluZyBhbmQgaGF2ZSBhIHdob2xlIHRpbGVcbiAgICAgICAgICAgIHJRaSsrO1xuICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RzdWJlbmNvZGluZyAmIDB4MDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2VpcmQ6IGlnbm9yZSBibGFua3MgYXJlIFJBV1xuICAgICAgICAgICAgICAgICAgICBMb2cuRGVidWcoXCIgICAgIElnbm9yaW5nIGJsYW5rIGFmdGVyIFJBV1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmZpbGxSZWN0KHR4LCB0eSwgdHcsIHRoLCB0aGlzLl9iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN1YmVuY29kaW5nICYgMHgwMSkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgZGlzcGxheS5ibGl0SW1hZ2UodHgsIHR5LCB0dywgdGgsIHJRLCByUWkpO1xuICAgICAgICAgICAgICAgIHJRaSArPSBieXRlcyAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDIpIHsgIC8vIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZCA9IFtyUVtyUWldLCByUVtyUWkgKyAxXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDNdXTtcbiAgICAgICAgICAgICAgICAgICAgclFpICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDQpIHsgIC8vIEZvcmVncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9yZWdyb3VuZCA9IFtyUVtyUWldLCByUVtyUWkgKyAxXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDNdXTtcbiAgICAgICAgICAgICAgICAgICAgclFpICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlzcGxheS5zdGFydFRpbGUodHgsIHR5LCB0dywgdGgsIHRoaXMuX2JhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDgpIHsgIC8vIEFueVN1YnJlY3RzXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJyZWN0cyA9IHJRW3JRaV07XG4gICAgICAgICAgICAgICAgICAgIHJRaSsrO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgc3VicmVjdHM7IHMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgxMCkgeyAgLy8gU3VicmVjdHNDb2xvdXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gW3JRW3JRaV0sIHJRW3JRaSArIDFdLCByUVtyUWkgKyAyXSwgclFbclFpICsgM11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJRaSArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuX2ZvcmVncm91bmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4eSA9IHJRW3JRaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByUWkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN4ID0gKHh5ID4+IDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3kgPSAoeHkgJiAweDBmKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2ggPSByUVtyUWldO1xuICAgICAgICAgICAgICAgICAgICAgICAgclFpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdyA9ICh3aCA+PiA0KSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaCA9ICh3aCAmIDB4MGYpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5zdWJUaWxlKHN4LCBzeSwgc3csIHNoLCBjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGxheS5maW5pc2hUaWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb2NrLnJRaSA9IHJRaTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RzdWJlbmNvZGluZyA9IHN1YmVuY29kaW5nO1xuICAgICAgICAgICAgdGhpcy5fdGlsZXMtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIENvcHlyaWdodCAoQykgMjAxOCBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXdEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbGluZXMgPSAwO1xuICAgIH1cblxuICAgIGRlY29kZVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lcyA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBpeGVsU2l6ZSA9IGRlcHRoID09IDggPyAxIDogNDtcbiAgICAgICAgY29uc3QgYnl0ZXNQZXJMaW5lID0gd2lkdGggKiBwaXhlbFNpemU7XG5cbiAgICAgICAgaWYgKHNvY2suclF3YWl0KFwiUkFXXCIsIGJ5dGVzUGVyTGluZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cl95ID0geSArIChoZWlnaHQgLSB0aGlzLl9saW5lcyk7XG4gICAgICAgIGNvbnN0IGN1cnJfaGVpZ2h0ID0gTWF0aC5taW4odGhpcy5fbGluZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb2NrLnJRbGVuIC8gYnl0ZXNQZXJMaW5lKSk7XG4gICAgICAgIGxldCBkYXRhID0gc29jay5yUTtcbiAgICAgICAgbGV0IGluZGV4ID0gc29jay5yUWk7XG5cbiAgICAgICAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICAgICAgICBpZiAoZGVwdGggPT0gOCkge1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gd2lkdGggKiBjdXJyX2hlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBuZXcgVWludDhBcnJheShwaXhlbHMgKiA0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgMF0gPSAoKGRhdGFbaW5kZXggKyBpXSA+PiAwKSAmIDB4MykgKiAyNTUgLyAzO1xuICAgICAgICAgICAgICAgIG5ld2RhdGFbaSAqIDQgKyAxXSA9ICgoZGF0YVtpbmRleCArIGldID4+IDIpICYgMHgzKSAqIDI1NSAvIDM7XG4gICAgICAgICAgICAgICAgbmV3ZGF0YVtpICogNCArIDJdID0gKChkYXRhW2luZGV4ICsgaV0gPj4gNCkgJiAweDMpICogMjU1IC8gMztcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgNF0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YSA9IG5ld2RhdGE7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5LmJsaXRJbWFnZSh4LCBjdXJfeSwgd2lkdGgsIGN1cnJfaGVpZ2h0LCBkYXRhLCBpbmRleCk7XG4gICAgICAgIHNvY2suclFza2lwQnl0ZXMoY3Vycl9oZWlnaHQgKiBieXRlc1BlckxpbmUpO1xuICAgICAgICB0aGlzLl9saW5lcyAtPSBjdXJyX2hlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVzID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIENvcHlyaWdodCAoQykgMjAxOCBTYW11ZWwgTWFubmVoZWQgZm9yIENlbmRpbyBBQlxuICogQ29weXJpZ2h0IChDKSAyMDE4IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJSRURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zdWJyZWN0cyA9IDA7XG4gICAgfVxuXG4gICAgZGVjb2RlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzb2NrLCBkaXNwbGF5LCBkZXB0aCkge1xuICAgICAgICBpZiAodGhpcy5fc3VicmVjdHMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlJSRVwiLCA0ICsgNCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3N1YnJlY3RzID0gc29jay5yUXNoaWZ0MzIoKTtcblxuICAgICAgICAgICAgbGV0IGNvbG9yID0gc29jay5yUXNoaWZ0Qnl0ZXMoNCk7ICAvLyBCYWNrZ3JvdW5kXG4gICAgICAgICAgICBkaXNwbGF5LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9zdWJyZWN0cyA+IDApIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlJSRVwiLCA0ICsgOCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjb2xvciA9IHNvY2suclFzaGlmdEJ5dGVzKDQpO1xuICAgICAgICAgICAgbGV0IHN4ID0gc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIGxldCBzeSA9IHNvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICBsZXQgc3dpZHRoID0gc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIGxldCBzaGVpZ2h0ID0gc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIGRpc3BsYXkuZmlsbFJlY3QoeCArIHN4LCB5ICsgc3ksIHN3aWR0aCwgc2hlaWdodCwgY29sb3IpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdWJyZWN0cy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIChjKSAyMDEyIE1pY2hhZWwgVGluZ2xvZiwgSm9lIEJhbGF6LCBMZXMgUGllY2ggKE1lcmN1cmkuY2EpXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIENvcHlyaWdodCAoQykgMjAxOCBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCBJbmZsYXRvciBmcm9tIFwiLi4vaW5mbGF0b3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlnaHREZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY3RsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbnVtQ29sb3JzID0gMDtcbiAgICAgICAgdGhpcy5fcGFsZXR0ZSA9IG5ldyBVaW50OEFycmF5KDEwMjQpOyAgLy8gMjU2ICogNCAobWF4IHBhbGV0dGUgc2l6ZSAqIG1heCBieXRlcy1wZXItcGl4ZWwpXG4gICAgICAgIHRoaXMuX2xlbiA9IDA7XG5cbiAgICAgICAgdGhpcy5femxpYnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3psaWJzW2ldID0gbmV3IEluZmxhdG9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWNvZGVSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHNvY2ssIGRpc3BsYXksIGRlcHRoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlRJR0hUIGNvbXByZXNzaW9uLWNvbnRyb2xcIiwgMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N0bCA9IHNvY2suclFzaGlmdDgoKTtcblxuICAgICAgICAgICAgLy8gUmVzZXQgc3RyZWFtcyBpZiB0aGUgc2VydmVyIHJlcXVlc3RzIGl0XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICgodGhpcy5fY3RsID4+IGkpICYgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96bGlic1tpXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIlJlc2V0IHpsaWIgc3RyZWFtIFwiICsgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IGZpbHRlclxuICAgICAgICAgICAgdGhpcy5fY3RsID0gdGhpcy5fY3RsID4+IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmV0O1xuXG4gICAgICAgIGlmICh0aGlzLl9jdGwgPT09IDB4MDgpIHtcbiAgICAgICAgICAgIHJldCA9IHRoaXMuX2ZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrLCBkaXNwbGF5LCBkZXB0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3RsID09PSAweDA5KSB7XG4gICAgICAgICAgICByZXQgPSB0aGlzLl9qcGVnUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaywgZGlzcGxheSwgZGVwdGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2N0bCA9PT0gMHgwQSkge1xuICAgICAgICAgICAgcmV0ID0gdGhpcy5fcG5nUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrLCBkaXNwbGF5LCBkZXB0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuX2N0bCAmIDB4ODApID09IDApIHtcbiAgICAgICAgICAgIHJldCA9IHRoaXMuX2Jhc2ljUmVjdCh0aGlzLl9jdGwsIHgsIHksIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaywgZGlzcGxheSwgZGVwdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCB0aWdodCBjb21wcmVzc2lvbiByZWNlaXZlZCAoY3RsOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0bCArIFwiKVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0bCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIF9maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzb2NrLCBkaXNwbGF5LCBkZXB0aCkge1xuICAgICAgICBpZiAoc29jay5yUXdhaXQoXCJUSUdIVFwiLCAzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgclFpID0gc29jay5yUWk7XG4gICAgICAgIGNvbnN0IHJRID0gc29jay5yUTtcblxuICAgICAgICBkaXNwbGF5LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgW3JRW3JRaSArIDJdLCByUVtyUWkgKyAxXSwgclFbclFpXV0sIGZhbHNlKTtcbiAgICAgICAgc29jay5yUXNraXBCeXRlcygzKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfanBlZ1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9yZWFkRGF0YShzb2NrKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXkuaW1hZ2VSZWN0KHgsIHksIFwiaW1hZ2UvanBlZ1wiLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfcG5nUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBzb2NrLCBkaXNwbGF5LCBkZXB0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQTkcgcmVjZWl2ZWQgaW4gc3RhbmRhcmQgVGlnaHQgcmVjdFwiKTtcbiAgICB9XG5cbiAgICBfYmFzaWNSZWN0KGN0bCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbHRlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0bCAmIDB4NCkge1xuICAgICAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlRJR0hUXCIsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXIgPSBzb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEltcGxpY2l0IENvcHlGaWx0ZXJcbiAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0cmVhbUlkID0gY3RsICYgMHgzO1xuXG4gICAgICAgIGxldCByZXQ7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLl9maWx0ZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMDogLy8gQ29weUZpbHRlclxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX2NvcHlGaWx0ZXIoc3RyZWFtSWQsIHgsIHksIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrLCBkaXNwbGF5LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6IC8vIFBhbGV0dGVGaWx0ZXJcbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLl9wYWxldHRlRmlsdGVyKHN0cmVhbUlkLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaywgZGlzcGxheSwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOiAvLyBHcmFkaWVudEZpbHRlclxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX2dyYWRpZW50RmlsdGVyKHN0cmVhbUlkLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2ssIGRpc3BsYXksIGRlcHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCB0aWdodCBmaWx0ZXIgcmVjZWl2ZWQgKGN0bDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlsdGVyICsgXCIpXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgX2NvcHlGaWx0ZXIoc3RyZWFtSWQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHNvY2ssIGRpc3BsYXksIGRlcHRoKSB7XG4gICAgICAgIGNvbnN0IHVuY29tcHJlc3NlZFNpemUgPSB3aWR0aCAqIGhlaWdodCAqIDM7XG4gICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgIGlmICh1bmNvbXByZXNzZWRTaXplIDwgMTIpIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlRJR0hUXCIsIHVuY29tcHJlc3NlZFNpemUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhID0gc29jay5yUXNoaWZ0Qnl0ZXModW5jb21wcmVzc2VkU2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fcmVhZERhdGEoc29jayk7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3psaWJzW3N0cmVhbUlkXS5pbmZsYXRlKGRhdGEsIHRydWUsIHVuY29tcHJlc3NlZFNpemUpO1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoICE9IHVuY29tcHJlc3NlZFNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbXBsZXRlIHpsaWIgYmxvY2tcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5LmJsaXRSZ2JJbWFnZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBkYXRhLCAwLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX3BhbGV0dGVGaWx0ZXIoc3RyZWFtSWQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHNvY2ssIGRpc3BsYXksIGRlcHRoKSB7XG4gICAgICAgIGlmICh0aGlzLl9udW1Db2xvcnMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlRJR0hUIHBhbGV0dGVcIiwgMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG51bUNvbG9ycyA9IHNvY2suclFwZWVrOCgpICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHBhbGV0dGVTaXplID0gbnVtQ29sb3JzICogMztcblxuICAgICAgICAgICAgaWYgKHNvY2suclF3YWl0KFwiVElHSFQgcGFsZXR0ZVwiLCAxICsgcGFsZXR0ZVNpemUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9udW1Db2xvcnMgPSBudW1Db2xvcnM7XG4gICAgICAgICAgICBzb2NrLnJRc2tpcEJ5dGVzKDEpO1xuXG4gICAgICAgICAgICBzb2NrLnJRc2hpZnRUbyh0aGlzLl9wYWxldHRlLCBwYWxldHRlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBicHAgPSAodGhpcy5fbnVtQ29sb3JzIDw9IDIpID8gMSA6IDg7XG4gICAgICAgIGNvbnN0IHJvd1NpemUgPSBNYXRoLmZsb29yKCh3aWR0aCAqIGJwcCArIDcpIC8gOCk7XG4gICAgICAgIGNvbnN0IHVuY29tcHJlc3NlZFNpemUgPSByb3dTaXplICogaGVpZ2h0O1xuXG4gICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgIGlmICh1bmNvbXByZXNzZWRTaXplIDwgMTIpIHtcbiAgICAgICAgICAgIGlmIChzb2NrLnJRd2FpdChcIlRJR0hUXCIsIHVuY29tcHJlc3NlZFNpemUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhID0gc29jay5yUXNoaWZ0Qnl0ZXModW5jb21wcmVzc2VkU2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fcmVhZERhdGEoc29jayk7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3psaWJzW3N0cmVhbUlkXS5pbmZsYXRlKGRhdGEsIHRydWUsIHVuY29tcHJlc3NlZFNpemUpO1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoICE9IHVuY29tcHJlc3NlZFNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbXBsZXRlIHpsaWIgYmxvY2tcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IGluZGV4ZWQgKHBhbGV0dGUgYmFzZWQpIGltYWdlIGRhdGEgdG8gUkdCXG4gICAgICAgIGlmICh0aGlzLl9udW1Db2xvcnMgPT0gMikge1xuICAgICAgICAgICAgdGhpcy5fbW9ub1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgZGF0YSwgdGhpcy5fcGFsZXR0ZSwgZGlzcGxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wYWxldHRlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBkYXRhLCB0aGlzLl9wYWxldHRlLCBkaXNwbGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX251bUNvbG9ycyA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX21vbm9SZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIGRhdGEsIHBhbGV0dGUsIGRpc3BsYXkpIHtcbiAgICAgICAgLy8gQ29udmVydCBpbmRleGVkIChwYWxldHRlIGJhc2VkKSBpbWFnZSBkYXRhIHRvIFJHQlxuICAgICAgICAvLyBUT0RPOiByZWR1Y2UgbnVtYmVyIG9mIGNhbGN1bGF0aW9ucyBpbnNpZGUgbG9vcFxuICAgICAgICBjb25zdCBkZXN0ID0gdGhpcy5fZ2V0U2NyYXRjaEJ1ZmZlcih3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICBjb25zdCB3ID0gTWF0aC5mbG9vcigod2lkdGggKyA3KSAvIDgpO1xuICAgICAgICBjb25zdCB3MSA9IE1hdGguZmxvb3Iod2lkdGggLyA4KTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBsZXQgZHAsIHNwLCB4O1xuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHcxOyB4KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBiID0gNzsgYiA+PSAwOyBiLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgZHAgPSAoeSAqIHdpZHRoICsgeCAqIDggKyA3IC0gYikgKiA0O1xuICAgICAgICAgICAgICAgICAgICBzcCA9IChkYXRhW3kgKiB3ICsgeF0gPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcF0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGIgPSA3OyBiID49IDggLSB3aWR0aCAlIDg7IGItLSkge1xuICAgICAgICAgICAgICAgIGRwID0gKHkgKiB3aWR0aCArIHggKiA4ICsgNyAtIGIpICogNDtcbiAgICAgICAgICAgICAgICBzcCA9IChkYXRhW3kgKiB3ICsgeF0gPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICBkZXN0W2RwXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgZGVzdFtkcCArIDNdID0gMjU1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxheS5ibGl0UmdieEltYWdlKHgsIHksIHdpZHRoLCBoZWlnaHQsIGRlc3QsIDAsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfcGFsZXR0ZVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgZGF0YSwgcGFsZXR0ZSwgZGlzcGxheSkge1xuICAgICAgICAvLyBDb252ZXJ0IGluZGV4ZWQgKHBhbGV0dGUgYmFzZWQpIGltYWdlIGRhdGEgdG8gUkdCXG4gICAgICAgIGNvbnN0IGRlc3QgPSB0aGlzLl9nZXRTY3JhdGNoQnVmZmVyKHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gd2lkdGggKiBoZWlnaHQgKiA0O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbDsgaSArPSA0LCBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNwID0gZGF0YVtqXSAqIDM7XG4gICAgICAgICAgICBkZXN0W2ldID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICBkZXN0W2kgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgIGRlc3RbaSArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgZGVzdFtpICsgM10gPSAyNTU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5LmJsaXRSZ2J4SW1hZ2UoeCwgeSwgd2lkdGgsIGhlaWdodCwgZGVzdCwgMCwgZmFsc2UpO1xuICAgIH1cblxuICAgIF9ncmFkaWVudEZpbHRlcihzdHJlYW1JZCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR3JhZGllbnQgZmlsdGVyIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG5cbiAgICBfcmVhZERhdGEoc29jaykge1xuICAgICAgICBpZiAodGhpcy5fbGVuID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoc29jay5yUXdhaXQoXCJUSUdIVFwiLCAzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYnl0ZTtcblxuICAgICAgICAgICAgYnl0ZSA9IHNvY2suclFzaGlmdDgoKTtcbiAgICAgICAgICAgIHRoaXMuX2xlbiA9IGJ5dGUgJiAweDdmO1xuICAgICAgICAgICAgaWYgKGJ5dGUgJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgYnl0ZSA9IHNvY2suclFzaGlmdDgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZW4gfD0gKGJ5dGUgJiAweDdmKSA8PCA3O1xuICAgICAgICAgICAgICAgIGlmIChieXRlICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBieXRlID0gc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZW4gfD0gYnl0ZSA8PCAxNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29jay5yUXdhaXQoXCJUSUdIVFwiLCB0aGlzLl9sZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0gc29jay5yUXNoaWZ0Qnl0ZXModGhpcy5fbGVuKTtcbiAgICAgICAgdGhpcy5fbGVuID0gMDtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBfZ2V0U2NyYXRjaEJ1ZmZlcihzaXplKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NyYXRjaEJ1ZmZlciB8fCAodGhpcy5fc2NyYXRjaEJ1ZmZlci5sZW5ndGggPCBzaXplKSkge1xuICAgICAgICAgICAgdGhpcy5fc2NyYXRjaEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JhdGNoQnVmZmVyO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIENvcHlyaWdodCAoQykgMjAxOCBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5pbXBvcnQgVGlnaHREZWNvZGVyIGZyb20gJy4vdGlnaHQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWdodFBOR0RlY29kZXIgZXh0ZW5kcyBUaWdodERlY29kZXIge1xuICAgIF9wbmdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHNvY2ssIGRpc3BsYXksIGRlcHRoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fcmVhZERhdGEoc29jayk7XG4gICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5LmltYWdlUmVjdCh4LCB5LCBcImltYWdlL3BuZ1wiLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfYmFzaWNSZWN0KGN0bCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc29jaywgZGlzcGxheSwgZGVwdGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmFzaWNDb21wcmVzc2lvbiByZWNlaXZlZCBpbiBUaWdodFBORyByZWN0XCIpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBQb3J0ZWQgZnJvbSBGbGFzaGxpZ2h0IFZOQyBBY3Rpb25TY3JpcHQgaW1wbGVtZW50YXRpb246XG4gKiAgICAgaHR0cDovL3d3dy53aXpoZWxwLmNvbS9mbGFzaGxpZ2h0LXZuYy9cbiAqXG4gKiBGdWxsIGF0dHJpYnV0aW9uIGZvbGxvd3M6XG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIFRoaXMgREVTIGNsYXNzIGhhcyBiZWVuIGV4dHJhY3RlZCBmcm9tIHBhY2thZ2UgQWNtZS5DcnlwdG8gZm9yIHVzZSBpbiBWTkMuXG4gKiBUaGUgdW5uZWNlc3Nhcnkgb2RkIHBhcml0eSBjb2RlIGhhcyBiZWVuIHJlbW92ZWQuXG4gKlxuICogVGhlc2UgY2hhbmdlcyBhcmU6XG4gKiAgQ29weXJpZ2h0IChDKSAxOTk5IEFUJlQgTGFib3JhdG9yaWVzIENhbWJyaWRnZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS5cbiAqXG5cbiAqIERlc0NpcGhlciAtIHRoZSBERVMgZW5jcnlwdGlvbiBtZXRob2RcbiAqXG4gKiBUaGUgbWVhdCBvZiB0aGlzIGNvZGUgaXMgYnkgRGF2ZSBaaW1tZXJtYW4gPGR6aW1tQHdpZGdldC5jb20+LCBhbmQgaXM6XG4gKlxuICogQ29weXJpZ2h0IChjKSAxOTk2IFdpZGdldCBXb3Jrc2hvcCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZCBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmVcbiAqIGFuZCBpdHMgZG9jdW1lbnRhdGlvbiBmb3IgTk9OLUNPTU1FUkNJQUwgb3IgQ09NTUVSQ0lBTCBwdXJwb3NlcyBhbmRcbiAqIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBrZXB0XG4gKiBpbnRhY3QuXG4gKlxuICogV0lER0VUIFdPUktTSE9QIE1BS0VTIE5PIFJFUFJFU0VOVEFUSU9OUyBPUiBXQVJSQU5USUVTIEFCT1VUIFRIRSBTVUlUQUJJTElUWVxuICogT0YgVEhFIFNPRlRXQVJFLCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTyBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQVxuICogUEFSVElDVUxBUiBQVVJQT1NFLCBPUiBOT04tSU5GUklOR0VNRU5ULiBXSURHRVQgV09SS1NIT1AgU0hBTEwgTk9UIEJFIExJQUJMRVxuICogRk9SIEFOWSBEQU1BR0VTIFNVRkZFUkVEIEJZIExJQ0VOU0VFIEFTIEEgUkVTVUxUIE9GIFVTSU5HLCBNT0RJRllJTkcgT1JcbiAqIERJU1RSSUJVVElORyBUSElTIFNPRlRXQVJFIE9SIElUUyBERVJJVkFUSVZFUy5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIE5PVCBERVNJR05FRCBPUiBJTlRFTkRFRCBGT1IgVVNFIE9SIFJFU0FMRSBBUyBPTi1MSU5FXG4gKiBDT05UUk9MIEVRVUlQTUVOVCBJTiBIQVpBUkRPVVMgRU5WSVJPTk1FTlRTIFJFUVVJUklORyBGQUlMLVNBRkVcbiAqIFBFUkZPUk1BTkNFLCBTVUNIIEFTIElOIFRIRSBPUEVSQVRJT04gT0YgTlVDTEVBUiBGQUNJTElUSUVTLCBBSVJDUkFGVFxuICogTkFWSUdBVElPTiBPUiBDT01NVU5JQ0FUSU9OIFNZU1RFTVMsIEFJUiBUUkFGRklDIENPTlRST0wsIERJUkVDVCBMSUZFXG4gKiBTVVBQT1JUIE1BQ0hJTkVTLCBPUiBXRUFQT05TIFNZU1RFTVMsIElOIFdISUNIIFRIRSBGQUlMVVJFIE9GIFRIRVxuICogU09GVFdBUkUgQ09VTEQgTEVBRCBESVJFQ1RMWSBUTyBERUFUSCwgUEVSU09OQUwgSU5KVVJZLCBPUiBTRVZFUkVcbiAqIFBIWVNJQ0FMIE9SIEVOVklST05NRU5UQUwgREFNQUdFIChcIkhJR0ggUklTSyBBQ1RJVklUSUVTXCIpLiAgV0lER0VUIFdPUktTSE9QXG4gKiBTUEVDSUZJQ0FMTFkgRElTQ0xBSU1TIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVFkgT0YgRklUTkVTUyBGT1JcbiAqIEhJR0ggUklTSyBBQ1RJVklUSUVTLlxuICpcbiAqXG4gKiBUaGUgcmVzdCBpczpcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDE5OTYgYnkgSmVmIFBvc2thbnplciA8amVmQGFjbWUuY29tPi4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAqIGFyZSBtZXQ6XG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQVVUSE9SIEFORCBDT05UUklCVVRPUlMgYGBBUyBJUycnIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICogQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEVcbiAqIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXG4gKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EU1xuICogT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pXG4gKiBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVFxuICogTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWVxuICogT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICogU1VDSCBEQU1BR0UuXG4gKlxuICogVmlzaXQgdGhlIEFDTUUgTGFicyBKYXZhIHBhZ2UgZm9yIHVwLXRvLWRhdGUgdmVyc2lvbnMgb2YgdGhpcyBhbmQgb3RoZXJcbiAqIGZpbmUgSmF2YSB1dGlsaXRpZXM6IGh0dHA6Ly93d3cuYWNtZS5jb20vamF2YS9cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb21tYS1zcGFjaW5nICovXG5cbi8vIFRhYmxlcywgcGVybXV0YXRpb25zLCBTLWJveGVzLCBldGMuXG5jb25zdCBQQzIgPSBbMTMsMTYsMTAsMjMsIDAsIDQsIDIsMjcsMTQsIDUsMjAsIDksMjIsMTgsMTEsIDMsXG4gICAgICAgICAgICAgMjUsIDcsMTUsIDYsMjYsMTksMTIsIDEsNDAsNTEsMzAsMzYsNDYsNTQsMjksMzksXG4gICAgICAgICAgICAgNTAsNDQsMzIsNDcsNDMsNDgsMzgsNTUsMzMsNTIsNDUsNDEsNDksMzUsMjgsMzEgXSxcbiAgICB0b3Ryb3QgPSBbIDEsIDIsIDQsIDYsIDgsMTAsMTIsMTQsMTUsMTcsMTksMjEsMjMsMjUsMjcsMjhdO1xuXG5jb25zdCB6ID0gMHgwO1xubGV0IGEsYixjLGQsZSxmO1xuYT0xPDwxNjsgYj0xPDwyNDsgYz1hfGI7IGQ9MTw8MjsgZT0xPDwxMDsgZj1kfGU7XG5jb25zdCBTUDEgPSBbY3xlLHp8eixhfHosY3xmLGN8ZCxhfGYsenxkLGF8eix6fGUsY3xlLGN8Zix6fGUsYnxmLGN8ZCxifHosenxkLFxuICAgICAgICAgICAgIHp8ZixifGUsYnxlLGF8ZSxhfGUsY3x6LGN8eixifGYsYXxkLGJ8ZCxifGQsYXxkLHp8eix6fGYsYXxmLGJ8eixcbiAgICAgICAgICAgICBhfHosY3xmLHp8ZCxjfHosY3xlLGJ8eixifHosenxlLGN8ZCxhfHosYXxlLGJ8ZCx6fGUsenxkLGJ8ZixhfGYsXG4gICAgICAgICAgICAgY3xmLGF8ZCxjfHosYnxmLGJ8ZCx6fGYsYXxmLGN8ZSx6fGYsYnxlLGJ8ZSx6fHosYXxkLGF8ZSx6fHosY3xkXTtcbmE9MTw8MjA7IGI9MTw8MzE7IGM9YXxiOyBkPTE8PDU7IGU9MTw8MTU7IGY9ZHxlO1xuY29uc3QgU1AyID0gW2N8ZixifGUsenxlLGF8ZixhfHosenxkLGN8ZCxifGYsYnxkLGN8ZixjfGUsYnx6LGJ8ZSxhfHosenxkLGN8ZCxcbiAgICAgICAgICAgICBhfGUsYXxkLGJ8Zix6fHosYnx6LHp8ZSxhfGYsY3x6LGF8ZCxifGQsenx6LGF8ZSx6fGYsY3xlLGN8eix6fGYsXG4gICAgICAgICAgICAgenx6LGF8ZixjfGQsYXx6LGJ8ZixjfHosY3xlLHp8ZSxjfHosYnxlLHp8ZCxjfGYsYXxmLHp8ZCx6fGUsYnx6LFxuICAgICAgICAgICAgIHp8ZixjfGUsYXx6LGJ8ZCxhfGQsYnxmLGJ8ZCxhfGQsYXxlLHp8eixifGUsenxmLGJ8eixjfGQsY3xmLGF8ZV07XG5hPTE8PDE3OyBiPTE8PDI3OyBjPWF8YjsgZD0xPDwzOyBlPTE8PDk7IGY9ZHxlO1xuY29uc3QgU1AzID0gW3p8ZixjfGUsenx6LGN8ZCxifGUsenx6LGF8ZixifGUsYXxkLGJ8ZCxifGQsYXx6LGN8ZixhfGQsY3x6LHp8ZixcbiAgICAgICAgICAgICBifHosenxkLGN8ZSx6fGUsYXxlLGN8eixjfGQsYXxmLGJ8ZixhfGUsYXx6LGJ8Zix6fGQsY3xmLHp8ZSxifHosXG4gICAgICAgICAgICAgY3xlLGJ8eixhfGQsenxmLGF8eixjfGUsYnxlLHp8eix6fGUsYXxkLGN8ZixifGUsYnxkLHp8ZSx6fHosY3xkLFxuICAgICAgICAgICAgIGJ8ZixhfHosYnx6LGN8Zix6fGQsYXxmLGF8ZSxifGQsY3x6LGJ8Zix6fGYsY3x6LGF8Zix6fGQsY3xkLGF8ZV07XG5hPTE8PDEzOyBiPTE8PDIzOyBjPWF8YjsgZD0xPDwwOyBlPTE8PDc7IGY9ZHxlO1xuY29uc3QgU1A0ID0gW2N8ZCxhfGYsYXxmLHp8ZSxjfGUsYnxmLGJ8ZCxhfGQsenx6LGN8eixjfHosY3xmLHp8Zix6fHosYnxlLGJ8ZCxcbiAgICAgICAgICAgICB6fGQsYXx6LGJ8eixjfGQsenxlLGJ8eixhfGQsYXxlLGJ8Zix6fGQsYXxlLGJ8ZSxhfHosY3xlLGN8Zix6fGYsXG4gICAgICAgICAgICAgYnxlLGJ8ZCxjfHosY3xmLHp8Zix6fHosenx6LGN8eixhfGUsYnxlLGJ8Zix6fGQsY3xkLGF8ZixhfGYsenxlLFxuICAgICAgICAgICAgIGN8Zix6fGYsenxkLGF8eixifGQsYXxkLGN8ZSxifGYsYXxkLGF8ZSxifHosY3xkLHp8ZSxifHosYXx6LGN8ZV07XG5hPTE8PDI1OyBiPTE8PDMwOyBjPWF8YjsgZD0xPDw4OyBlPTE8PDE5OyBmPWR8ZTtcbmNvbnN0IFNQNSA9IFt6fGQsYXxmLGF8ZSxjfGQsenxlLHp8ZCxifHosYXxlLGJ8Zix6fGUsYXxkLGJ8ZixjfGQsY3xlLHp8ZixifHosXG4gICAgICAgICAgICAgYXx6LGJ8ZSxifGUsenx6LGJ8ZCxjfGYsY3xmLGF8ZCxjfGUsYnxkLHp8eixjfHosYXxmLGF8eixjfHosenxmLFxuICAgICAgICAgICAgIHp8ZSxjfGQsenxkLGF8eixifHosYXxlLGN8ZCxifGYsYXxkLGJ8eixjfGUsYXxmLGJ8Zix6fGQsYXx6LGN8ZSxcbiAgICAgICAgICAgICBjfGYsenxmLGN8eixjfGYsYXxlLHp8eixifGUsY3x6LHp8ZixhfGQsYnxkLHp8ZSx6fHosYnxlLGF8ZixifGRdO1xuYT0xPDwyMjsgYj0xPDwyOTsgYz1hfGI7IGQ9MTw8NDsgZT0xPDwxNDsgZj1kfGU7XG5jb25zdCBTUDYgPSBbYnxkLGN8eix6fGUsY3xmLGN8eix6fGQsY3xmLGF8eixifGUsYXxmLGF8eixifGQsYXxkLGJ8ZSxifHosenxmLFxuICAgICAgICAgICAgIHp8eixhfGQsYnxmLHp8ZSxhfGUsYnxmLHp8ZCxjfGQsY3xkLHp8eixhfGYsY3xlLHp8ZixhfGUsY3xlLGJ8eixcbiAgICAgICAgICAgICBifGUsenxkLGN8ZCxhfGUsY3xmLGF8eix6fGYsYnxkLGF8eixifGUsYnx6LHp8ZixifGQsY3xmLGF8ZSxjfHosXG4gICAgICAgICAgICAgYXxmLGN8ZSx6fHosY3xkLHp8ZCx6fGUsY3x6LGF8Zix6fGUsYXxkLGJ8Zix6fHosY3xlLGJ8eixhfGQsYnxmXTtcbmE9MTw8MjE7IGI9MTw8MjY7IGM9YXxiOyBkPTE8PDE7IGU9MTw8MTE7IGY9ZHxlO1xuY29uc3QgU1A3ID0gW2F8eixjfGQsYnxmLHp8eix6fGUsYnxmLGF8ZixjfGUsY3xmLGF8eix6fHosYnxkLHp8ZCxifHosY3xkLHp8ZixcbiAgICAgICAgICAgICBifGUsYXxmLGF8ZCxifGUsYnxkLGN8eixjfGUsYXxkLGN8eix6fGUsenxmLGN8ZixhfGUsenxkLGJ8eixhfGUsXG4gICAgICAgICAgICAgYnx6LGF8ZSxhfHosYnxmLGJ8ZixjfGQsY3xkLHp8ZCxhfGQsYnx6LGJ8ZSxhfHosY3xlLHp8ZixhfGYsY3xlLFxuICAgICAgICAgICAgIHp8ZixifGQsY3xmLGN8eixhfGUsenx6LHp8ZCxjfGYsenx6LGF8ZixjfHosenxlLGJ8ZCxifGUsenxlLGF8ZF07XG5hPTE8PDE4OyBiPTE8PDI4OyBjPWF8YjsgZD0xPDw2OyBlPTE8PDEyOyBmPWR8ZTtcbmNvbnN0IFNQOCA9IFtifGYsenxlLGF8eixjfGYsYnx6LGJ8Zix6fGQsYnx6LGF8ZCxjfHosY3xmLGF8ZSxjfGUsYXxmLHp8ZSx6fGQsXG4gICAgICAgICAgICAgY3x6LGJ8ZCxifGUsenxmLGF8ZSxhfGQsY3xkLGN8ZSx6fGYsenx6LHp8eixjfGQsYnxkLGJ8ZSxhfGYsYXx6LFxuICAgICAgICAgICAgIGF8ZixhfHosY3xlLHp8ZSx6fGQsY3xkLHp8ZSxhfGYsYnxlLHp8ZCxifGQsY3x6LGN8ZCxifHosYXx6LGJ8ZixcbiAgICAgICAgICAgICB6fHosY3xmLGF8ZCxifGQsY3x6LGJ8ZSxifGYsenx6LGN8ZixhfGUsYXxlLHp8Zix6fGYsYXxkLGJ8eixjfGVdO1xuXG4vKiBlc2xpbnQtZW5hYmxlIGNvbW1hLXNwYWNpbmcgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgREVTIHtcbiAgICBjb25zdHJ1Y3RvcihwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmtleXMgPSBbXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGtleS5cbiAgICAgICAgY29uc3QgcGMxbSA9IFtdLCBwY3IgPSBbXSwga24gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgbCA9IDU2OyBqIDwgNTY7ICsraiwgbCAtPSA4KSB7XG4gICAgICAgICAgICBsICs9IGwgPCAtNSA/IDY1IDogbCA8IC0zID8gMzEgOiBsIDwgLTEgPyA2MyA6IGwgPT09IDI3ID8gMzUgOiAwOyAvLyBQQzFcbiAgICAgICAgICAgIGNvbnN0IG0gPSBsICYgMHg3O1xuICAgICAgICAgICAgcGMxbVtqXSA9ICgocGFzc3dvcmRbbCA+Pj4gM10gJiAoMTw8bSkpICE9PSAwKSA/IDE6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBpIDw8IDE7XG4gICAgICAgICAgICBjb25zdCBuID0gbSArIDE7XG4gICAgICAgICAgICBrblttXSA9IGtuW25dID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IG8gPSAyODsgbyA8IDU5OyBvICs9IDI4KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IG8gLSAyODsgaiA8IG87ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gaiArIHRvdHJvdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgcGNyW2pdID0gbCA8IG8gPyBwYzFtW2xdIDogcGMxbVtsIC0gMjhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjQ7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChwY3JbUEMyW2pdXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBrblttXSB8PSAxIDw8ICgyMyAtIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGNyW1BDMltqICsgMjRdXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBrbltuXSB8PSAxIDw8ICgyMyAtIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvb2tleVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgcmF3aSA9IDAsIEtuTGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgcmF3MCA9IGtuW3Jhd2krK107XG4gICAgICAgICAgICBjb25zdCByYXcxID0ga25bcmF3aSsrXTtcbiAgICAgICAgICAgIHRoaXMua2V5c1tLbkxpXSA9IChyYXcwICYgMHgwMGZjMDAwMCkgPDwgNjtcbiAgICAgICAgICAgIHRoaXMua2V5c1tLbkxpXSB8PSAocmF3MCAmIDB4MDAwMDBmYzApIDw8IDEwO1xuICAgICAgICAgICAgdGhpcy5rZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMGZjMDAwMCkgPj4+IDEwO1xuICAgICAgICAgICAgdGhpcy5rZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMDAwMGZjMCkgPj4+IDY7XG4gICAgICAgICAgICArK0tuTGk7XG4gICAgICAgICAgICB0aGlzLmtleXNbS25MaV0gPSAocmF3MCAmIDB4MDAwM2YwMDApIDw8IDEyO1xuICAgICAgICAgICAgdGhpcy5rZXlzW0tuTGldIHw9IChyYXcwICYgMHgwMDAwMDAzZikgPDwgMTY7XG4gICAgICAgICAgICB0aGlzLmtleXNbS25MaV0gfD0gKHJhdzEgJiAweDAwMDNmMDAwKSA+Pj4gNDtcbiAgICAgICAgICAgIHRoaXMua2V5c1tLbkxpXSB8PSAocmF3MSAmIDB4MDAwMDAwM2YpO1xuICAgICAgICAgICAgKytLbkxpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5jcnlwdCA4IGJ5dGVzIG9mIHRleHRcbiAgICBlbmM4KHRleHQpIHtcbiAgICAgICAgY29uc3QgYiA9IHRleHQuc2xpY2UoKTtcbiAgICAgICAgbGV0IGkgPSAwLCBsLCByLCB4OyAvLyBsZWZ0LCByaWdodCwgYWNjdW11bGF0b3JcblxuICAgICAgICAvLyBTcXVhc2ggOCBieXRlcyB0byAyIGludHNcbiAgICAgICAgbCA9IGJbaSsrXTw8MjQgfCBiW2krK108PDE2IHwgYltpKytdPDw4IHwgYltpKytdO1xuICAgICAgICByID0gYltpKytdPDwyNCB8IGJbaSsrXTw8MTYgfCBiW2krK108PDggfCBiW2krK107XG5cbiAgICAgICAgeCA9ICgobCA+Pj4gNCkgXiByKSAmIDB4MGYwZjBmMGY7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCBePSAoeCA8PCA0KTtcbiAgICAgICAgeCA9ICgobCA+Pj4gMTYpIF4gcikgJiAweDAwMDBmZmZmO1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgXj0gKHggPDwgMTYpO1xuICAgICAgICB4ID0gKChyID4+PiAyKSBeIGwpICYgMHgzMzMzMzMzMztcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDIpO1xuICAgICAgICB4ID0gKChyID4+PiA4KSBeIGwpICYgMHgwMGZmMDBmZjtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDgpO1xuICAgICAgICByID0gKHIgPDwgMSkgfCAoKHIgPj4+IDMxKSAmIDEpO1xuICAgICAgICB4ID0gKGwgXiByKSAmIDB4YWFhYWFhYWE7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsID0gKGwgPDwgMSkgfCAoKGwgPj4+IDMxKSAmIDEpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBrZXlzaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIHggPSAociA8PCAyOCkgfCAociA+Pj4gNCk7XG4gICAgICAgICAgICB4IF49IHRoaXMua2V5c1trZXlzaSsrXTtcbiAgICAgICAgICAgIGxldCBmdmFsID0gIFNQN1t4ICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNVsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AzWyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AxWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIHggPSByIF4gdGhpcy5rZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDhbeCAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDZbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNFsoeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMlsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICBsIF49IGZ2YWw7XG4gICAgICAgICAgICB4ID0gKGwgPDwgMjgpIHwgKGwgPj4+IDQpO1xuICAgICAgICAgICAgeCBePSB0aGlzLmtleXNba2V5c2krK107XG4gICAgICAgICAgICBmdmFsID0gIFNQN1t4ICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNVsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AzWyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AxWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIHggPSBsIF4gdGhpcy5rZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDhbeCAmIDB4MDAwMDAwM2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDZbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNFsoeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMlsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICByIF49IGZ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICByID0gKHIgPDwgMzEpIHwgKHIgPj4+IDEpO1xuICAgICAgICB4ID0gKGwgXiByKSAmIDB4YWFhYWFhYWE7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsID0gKGwgPDwgMzEpIHwgKGwgPj4+IDEpO1xuICAgICAgICB4ID0gKChsID4+PiA4KSBeIHIpICYgMHgwMGZmMDBmZjtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDgpO1xuICAgICAgICB4ID0gKChsID4+PiAyKSBeIHIpICYgMHgzMzMzMzMzMztcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDIpO1xuICAgICAgICB4ID0gKChyID4+PiAxNikgXiBsKSAmIDB4MDAwMGZmZmY7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSAoeCA8PCAxNik7XG4gICAgICAgIHggPSAoKHIgPj4+IDQpIF4gbCkgJiAweDBmMGYwZjBmO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0gKHggPDwgNCk7XG5cbiAgICAgICAgLy8gU3ByZWFkIGludHMgdG8gYnl0ZXNcbiAgICAgICAgeCA9IFtyLCBsXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgYltpXSA9ICh4W2k+Pj4yXSA+Pj4gKDggKiAoMyAtIChpICUgNCkpKSkgJSAyNTY7XG4gICAgICAgICAgICBpZiAoYltpXSA8IDApIHsgYltpXSArPSAyNTY7IH0gLy8gdW5zaWduZWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICAvLyBFbmNyeXB0IDE2IGJ5dGVzIG9mIHRleHQgdXNpbmcgcGFzc3dkIGFzIGtleVxuICAgIGVuY3J5cHQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmM4KHQuc2xpY2UoMCwgOCkpLmNvbmNhdCh0aGlzLmVuYzgodC5zbGljZSg4LCAxNikpKTtcbiAgICB9XG59XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxOCBUaGUgbm9WTkMgQXV0aG9yc1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCBCYXNlNjQgZnJvbSBcIi4vYmFzZTY0LmpzXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ltYWdlTWV0YWRhdGEgfSBmcm9tICcuL3V0aWwvYnJvd3Nlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc3BsYXkge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLl9kcmF3Q3R4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY19mb3JjZUNhbnZhcyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlclEgPSBbXTsgIC8vIHF1ZXVlIGRyYXdpbmcgYWN0aW9ucyBmb3IgaW4tb2RlciByZW5kZXJpbmdcbiAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyB0aGUgZnVsbCBmcmFtZSBidWZmZXIgKGxvZ2ljYWwgY2FudmFzKSBzaXplXG4gICAgICAgIHRoaXMuX2ZiX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gMDtcblxuICAgICAgICB0aGlzLl9wcmV2RHJhd1N0eWxlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fdGlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RpbGUxNngxNiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RpbGVfeCA9IDA7XG4gICAgICAgIHRoaXMuX3RpbGVfeSA9IDA7XG5cbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gRGlzcGxheS5jb25zdHJ1Y3RvclwiKTtcblxuICAgICAgICAvLyBUaGUgdmlzaWJsZSBjYW52YXNcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgIGlmICghdGhpcy5fdGFyZ2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgbXVzdCBiZSBzZXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX3RhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IG11c3QgYmUgYSBET00gZWxlbWVudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl90YXJnZXQuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gZ2V0Q29udGV4dCBtZXRob2RcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90YXJnZXRDdHggPSB0aGlzLl90YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvLyB0aGUgdmlzaWJsZSBjYW52YXMgdmlld3BvcnQgKGkuZS4gd2hhdCBhY3R1YWxseSBnZXRzIHNlZW4pXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0TG9jID0geyAneCc6IDAsICd5JzogMCwgJ3cnOiB0aGlzLl90YXJnZXQud2lkdGgsICdoJzogdGhpcy5fdGFyZ2V0LmhlaWdodCB9O1xuXG4gICAgICAgIC8vIFRoZSBoaWRkZW4gY2FudmFzLCB3aGVyZSB3ZSBkbyB0aGUgYWN0dWFsIHJlbmRlcmluZ1xuICAgICAgICB0aGlzLl9iYWNrYnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuX2RyYXdDdHggPSB0aGlzLl9iYWNrYnVmZmVyLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzID0geyBsZWZ0OiAwLCB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuX2JhY2tidWZmZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLl9iYWNrYnVmZmVyLmhlaWdodCB9O1xuXG4gICAgICAgIExvZy5EZWJ1ZyhcIlVzZXIgQWdlbnQ6IFwiICsgbmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIC8vIENoZWNrIGNhbnZhcyBmZWF0dXJlc1xuICAgICAgICBpZiAoISgnY3JlYXRlSW1hZ2VEYXRhJyBpbiB0aGlzLl9kcmF3Q3R4KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlSW1hZ2VEYXRhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGlsZTE2eDE2ID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEoMTYsIDE2KTtcbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgRGlzcGxheS5jb25zdHJ1Y3RvclwiKTtcblxuICAgICAgICAvLyA9PT09PSBQUk9QRVJUSUVTID09PT09XG5cbiAgICAgICAgdGhpcy5fc2NhbGUgPSAxLjA7XG4gICAgICAgIHRoaXMuX2NsaXBWaWV3cG9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ28gPSBudWxsO1xuXG4gICAgICAgIC8vID09PT09IEVWRU5UIEhBTkRMRVJTID09PT09XG5cbiAgICAgICAgdGhpcy5vbmZsdXNoID0gKCkgPT4ge307IC8vIEEgZmx1c2ggcmVxdWVzdCBoYXMgZmluaXNoZWRcbiAgICB9XG5cbiAgICAvLyA9PT09PSBQUk9QRVJUSUVTID09PT09XG5cbiAgICBnZXQgc2NhbGUoKSB7IHJldHVybiB0aGlzLl9zY2FsZTsgfVxuICAgIHNldCBzY2FsZShzY2FsZSkge1xuICAgICAgICB0aGlzLl9yZXNjYWxlKHNjYWxlKTtcbiAgICB9XG5cbiAgICBnZXQgY2xpcFZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy5fY2xpcFZpZXdwb3J0OyB9XG4gICAgc2V0IGNsaXBWaWV3cG9ydCh2aWV3cG9ydCkge1xuICAgICAgICB0aGlzLl9jbGlwVmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgLy8gTWF5IG5lZWQgdG8gcmVhZGp1c3QgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVNpemUodnAudywgdnAuaCk7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VQb3MoMCwgMCk7XG4gICAgfVxuXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmJfd2lkdGg7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZiX2hlaWdodDtcbiAgICB9XG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgdmlld3BvcnRDaGFuZ2VQb3MoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgY29uc3QgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgZGVsdGFYID0gTWF0aC5mbG9vcihkZWx0YVgpO1xuICAgICAgICBkZWx0YVkgPSBNYXRoLmZsb29yKGRlbHRhWSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jbGlwVmlld3BvcnQpIHtcbiAgICAgICAgICAgIGRlbHRhWCA9IC12cC53OyAgLy8gY2xhbXBlZCBsYXRlciBvZiBvdXQgb2YgYm91bmRzXG4gICAgICAgICAgICBkZWx0YVkgPSAtdnAuaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZ4MiA9IHZwLnggKyB2cC53IC0gMTtcbiAgICAgICAgY29uc3QgdnkyID0gdnAueSArIHZwLmggLSAxO1xuXG4gICAgICAgIC8vIFBvc2l0aW9uIGNoYW5nZVxuXG4gICAgICAgIGlmIChkZWx0YVggPCAwICYmIHZwLnggKyBkZWx0YVggPCAwKSB7XG4gICAgICAgICAgICBkZWx0YVggPSAtdnAueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodngyICsgZGVsdGFYID49IHRoaXMuX2ZiX3dpZHRoKSB7XG4gICAgICAgICAgICBkZWx0YVggLT0gdngyICsgZGVsdGFYIC0gdGhpcy5fZmJfd2lkdGggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZwLnkgKyBkZWx0YVkgPCAwKSB7XG4gICAgICAgICAgICBkZWx0YVkgPSAtdnAueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodnkyICsgZGVsdGFZID49IHRoaXMuX2ZiX2hlaWdodCkge1xuICAgICAgICAgICAgZGVsdGFZIC09ICh2eTIgKyBkZWx0YVkgLSB0aGlzLl9mYl9oZWlnaHQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWx0YVggPT09IDAgJiYgZGVsdGFZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTG9nLkRlYnVnKFwidmlld3BvcnRDaGFuZ2UgZGVsdGFYOiBcIiArIGRlbHRhWCArIFwiLCBkZWx0YVk6IFwiICsgZGVsdGFZKTtcblxuICAgICAgICB2cC54ICs9IGRlbHRhWDtcbiAgICAgICAgdnAueSArPSBkZWx0YVk7XG5cbiAgICAgICAgdGhpcy5fZGFtYWdlKHZwLngsIHZwLnksIHZwLncsIHZwLmgpO1xuXG4gICAgICAgIHRoaXMuZmxpcCgpO1xuICAgIH1cblxuICAgIHZpZXdwb3J0Q2hhbmdlU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jbGlwVmlld3BvcnQgfHxcbiAgICAgICAgICAgIHR5cGVvZih3aWR0aCkgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZihoZWlnaHQpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlNldHRpbmcgdmlld3BvcnQgdG8gZnVsbCBkaXNwbGF5IHJlZ2lvblwiKTtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fZmJfd2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl9mYl9oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB3aWR0aCA9IE1hdGguZmxvb3Iod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmZsb29yKGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHdpZHRoID4gdGhpcy5fZmJfd2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fZmJfd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCA+IHRoaXMuX2ZiX2hlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZmJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgaWYgKHZwLncgIT09IHdpZHRoIHx8IHZwLmggIT09IGhlaWdodCkge1xuICAgICAgICAgICAgdnAudyA9IHdpZHRoO1xuICAgICAgICAgICAgdnAuaCA9IGhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBUaGUgcG9zaXRpb24gbWlnaHQgbmVlZCB0byBiZSB1cGRhdGVkIGlmIHdlJ3ZlIGdyb3duXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlUG9zKDAsIDApO1xuXG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2UodnAueCwgdnAueSwgdnAudywgdnAuaCk7XG4gICAgICAgICAgICB0aGlzLmZsaXAoKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB2aXNpYmxlIHNpemUgb2YgdGhlIHRhcmdldCBjYW52YXNcbiAgICAgICAgICAgIHRoaXMuX3Jlc2NhbGUodGhpcy5fc2NhbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzWCh4KSB7XG4gICAgICAgIGlmICh0aGlzLl9zY2FsZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggLyB0aGlzLl9zY2FsZSArIHRoaXMuX3ZpZXdwb3J0TG9jLng7XG4gICAgfVxuXG4gICAgYWJzWSh5KSB7XG4gICAgICAgIGlmICh0aGlzLl9zY2FsZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHkgLyB0aGlzLl9zY2FsZSArIHRoaXMuX3ZpZXdwb3J0TG9jLnk7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fcHJldkRyYXdTdHlsZSA9IFwiXCI7XG5cbiAgICAgICAgdGhpcy5fZmJfd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX2JhY2tidWZmZXI7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCkge1xuXG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHNhdmUgdGhlIGNhbnZhcyBkYXRhIHNpbmNlIGNoYW5naW5nIHRoZSBzaXplIHdpbGwgY2xlYXIgaXRcbiAgICAgICAgICAgIGxldCBzYXZlSW1nID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggPiAwICYmIGNhbnZhcy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2F2ZUltZyA9IHRoaXMuX2RyYXdDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNhdmVJbWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShzYXZlSW1nLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlYWRqdXN0IHRoZSB2aWV3cG9ydCBhcyBpdCBtYXkgYmUgaW5jb3JyZWN0bHkgc2l6ZWRcbiAgICAgICAgLy8gYW5kIHBvc2l0aW9uZWRcbiAgICAgICAgY29uc3QgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVNpemUodnAudywgdnAuaCk7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VQb3MoMCwgMCk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgd2hhdCBwYXJ0cyBvZiB0aGUgdmlzaWJsZSBjYW52YXMgdGhhdCBuZWVkIHVwZGF0aW5nXG4gICAgX2RhbWFnZSh4LCB5LCB3LCBoKSB7XG4gICAgICAgIGlmICh4IDwgdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5sZWZ0ID0geDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IHRoaXMuX2RhbWFnZUJvdW5kcy50b3ApIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy50b3AgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoeCArIHcpID4gdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQgPSB4ICsgdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHkgKyBoKSA+IHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20gPSB5ICsgaDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlzaWJsZSBjYW52YXMgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlXG4gICAgLy8gcmVuZGVyaW5nIGNhbnZhc1xuICAgIGZsaXAoZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnZmxpcCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLl9kYW1hZ2VCb3VuZHMubGVmdDtcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy5fZGFtYWdlQm91bmRzLnRvcDtcbiAgICAgICAgICAgIGxldCB3ID0gdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0IC0geDtcbiAgICAgICAgICAgIGxldCBoID0gdGhpcy5fZGFtYWdlQm91bmRzLmJvdHRvbSAtIHk7XG5cbiAgICAgICAgICAgIGxldCB2eCA9IHggLSB0aGlzLl92aWV3cG9ydExvYy54O1xuICAgICAgICAgICAgbGV0IHZ5ID0geSAtIHRoaXMuX3ZpZXdwb3J0TG9jLnk7XG5cbiAgICAgICAgICAgIGlmICh2eCA8IDApIHtcbiAgICAgICAgICAgICAgICB3ICs9IHZ4O1xuICAgICAgICAgICAgICAgIHggLT0gdng7XG4gICAgICAgICAgICAgICAgdnggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZ5IDwgMCkge1xuICAgICAgICAgICAgICAgIGggKz0gdnk7XG4gICAgICAgICAgICAgICAgeSAtPSB2eTtcbiAgICAgICAgICAgICAgICB2eSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodnggKyB3KSA+IHRoaXMuX3ZpZXdwb3J0TG9jLncpIHtcbiAgICAgICAgICAgICAgICB3ID0gdGhpcy5fdmlld3BvcnRMb2MudyAtIHZ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2eSArIGgpID4gdGhpcy5fdmlld3BvcnRMb2MuaCkge1xuICAgICAgICAgICAgICAgIGggPSB0aGlzLl92aWV3cG9ydExvYy5oIC0gdnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodyA+IDApICYmIChoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogV2UgbWF5IG5lZWQgdG8gZGlzYWJsZSBpbWFnZSBzbW9vdGhpbmcgaGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICAgICBhcyB3ZWxsIChzZWUgY29weUltYWdlKCkpLCBidXQgd2UgaGF2ZW4ndFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBub3RpY2VkIGFueSBwcm9ibGVtIHlldC5cbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRDdHguZHJhd0ltYWdlKHRoaXMuX2JhY2tidWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3LCBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdngsIHZ5LCB3LCBoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQgPSB0aGlzLl9kYW1hZ2VCb3VuZHMudG9wID0gNjU1MzU7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQgPSB0aGlzLl9kYW1hZ2VCb3VuZHMuYm90dG9tID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5fbG9nbykge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUodGhpcy5fbG9nby53aWR0aCwgdGhpcy5fbG9nby5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZVJlY3QoMCwgMCwgdGhpcy5fbG9nby50eXBlLCB0aGlzLl9sb2dvLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoMjQwLCAyMCk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsaXAoKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUS5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub25mbHVzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2ZpbGwnLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAnY29sb3InOiBjb2xvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGaWxsQ29sb3IoY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHlJbWFnZShvbGRfeCwgb2xkX3ksIG5ld194LCBuZXdfeSwgdywgaCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnY29weScsXG4gICAgICAgICAgICAgICAgJ29sZF94Jzogb2xkX3gsXG4gICAgICAgICAgICAgICAgJ29sZF95Jzogb2xkX3ksXG4gICAgICAgICAgICAgICAgJ3gnOiBuZXdfeCxcbiAgICAgICAgICAgICAgICAneSc6IG5ld195LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHcsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIER1ZSB0byB0aGlzIGJ1ZyBhbW9uZyBvdGhlcnMgWzFdIHdlIG5lZWQgdG8gZGlzYWJsZSB0aGUgaW1hZ2Utc21vb3RoaW5nIHRvXG4gICAgICAgICAgICAvLyBhdm9pZCBnZXR0aW5nIGEgYmx1ciBlZmZlY3Qgd2hlbiBjb3B5aW5nIGRhdGEuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gMS4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE5NDcxOVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZXNlIGV2ZXJ5IHRpbWUgc2luY2UgYWxsIHByb3BlcnRpZXMgYXJlIHJlc2V0XG4gICAgICAgICAgICAvLyB3aGVuIHRoZSB0aGUgc2l6ZSBpcyBjaGFuZ2VkXG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguZHJhd0ltYWdlKHRoaXMuX2JhY2tidWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRfeCwgb2xkX3ksIHcsIGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfeCwgbmV3X3ksIHcsIGgpO1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlKG5ld194LCBuZXdfeSwgdywgaCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbWFnZVJlY3QoeCwgeSwgbWltZSwgYXJyKSB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOiBcIiArIG1pbWUgKyBcIjtiYXNlNjQsXCIgKyBCYXNlNjQuZW5jb2RlKGFycik7XG4gICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAndHlwZSc6ICdpbWcnLFxuICAgICAgICAgICAgJ2ltZyc6IGltZyxcbiAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICd5JzogeVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBzdGFydCB1cGRhdGluZyBhIHRpbGVcbiAgICBzdGFydFRpbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IpIHtcbiAgICAgICAgdGhpcy5fdGlsZV94ID0geDtcbiAgICAgICAgdGhpcy5fdGlsZV95ID0geTtcbiAgICAgICAgaWYgKHdpZHRoID09PSAxNiAmJiBoZWlnaHQgPT09IDE2KSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlID0gdGhpcy5fdGlsZTE2eDE2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGlsZSA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVkID0gY29sb3JbMl07XG4gICAgICAgIGNvbnN0IGdyZWVuID0gY29sb3JbMV07XG4gICAgICAgIGNvbnN0IGJsdWUgPSBjb2xvclswXTtcblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fdGlsZS5kYXRhO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRoICogaGVpZ2h0ICogNDsgaSArPSA0KSB7XG4gICAgICAgICAgICBkYXRhW2ldID0gcmVkO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBncmVlbjtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYmx1ZTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gMjU1O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHN1Yi1yZWN0YW5nbGUgb2YgdGhlIGN1cnJlbnQgdGlsZVxuICAgIHN1YlRpbGUoeCwgeSwgdywgaCwgY29sb3IpIHtcbiAgICAgICAgY29uc3QgcmVkID0gY29sb3JbMl07XG4gICAgICAgIGNvbnN0IGdyZWVuID0gY29sb3JbMV07XG4gICAgICAgIGNvbnN0IGJsdWUgPSBjb2xvclswXTtcbiAgICAgICAgY29uc3QgeGVuZCA9IHggKyB3O1xuICAgICAgICBjb25zdCB5ZW5kID0geSArIGg7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX3RpbGUuZGF0YTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl90aWxlLndpZHRoO1xuICAgICAgICBmb3IgKGxldCBqID0geTsgaiA8IHllbmQ7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHg7IGkgPCB4ZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gKGkgKyAoaiAqIHdpZHRoKSkgKiA0O1xuICAgICAgICAgICAgICAgIGRhdGFbcF0gPSByZWQ7XG4gICAgICAgICAgICAgICAgZGF0YVtwICsgMV0gPSBncmVlbjtcbiAgICAgICAgICAgICAgICBkYXRhW3AgKyAyXSA9IGJsdWU7XG4gICAgICAgICAgICAgICAgZGF0YVtwICsgM10gPSAyNTU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkcmF3IHRoZSBjdXJyZW50IHRpbGUgdG8gdGhlIHNjcmVlblxuICAgIGZpbmlzaFRpbGUoKSB7XG4gICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKHRoaXMuX3RpbGUsIHRoaXMuX3RpbGVfeCwgdGhpcy5fdGlsZV95KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHRoaXMuX3RpbGVfeCwgdGhpcy5fdGlsZV95LFxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlsZS53aWR0aCwgdGhpcy5fdGlsZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIGJsaXRJbWFnZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IGl0J3MgdGVjaG5pY2FsbHkgbW9yZSBwZXJmb3JtYW50IGhlcmUgdG8gdXNlIHByZWFsbG9jYXRlZCBhcnJheXMsXG4gICAgICAgICAgICAvLyBidXQgaXQncyBhIGxvdCBvZiBleHRyYSB3b3JrIGZvciBub3QgYSBsb3Qgb2YgcGF5b2ZmIC0tIGlmIHdlJ3JlIHVzaW5nIHRoZSByZW5kZXIgcXVldWUsXG4gICAgICAgICAgICAvLyB0aGlzIHByb2JhYmx5IGlzbid0IGdldHRpbmcgY2FsbGVkICpuZWFybHkqIGFzIG11Y2hcbiAgICAgICAgICAgIGNvbnN0IG5ld19hcnIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICAgICAgbmV3X2Fyci5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgMCwgbmV3X2Fyci5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYmxpdCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBuZXdfYXJyLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYmdyeEltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBibGl0UmdiSW1hZ2UoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBpdCdzIHRlY2huaWNhbGx5IG1vcmUgcGVyZm9ybWFudCBoZXJlIHRvIHVzZSBwcmVhbGxvY2F0ZWQgYXJyYXlzLFxuICAgICAgICAgICAgLy8gYnV0IGl0J3MgYSBsb3Qgb2YgZXh0cmEgd29yayBmb3Igbm90IGEgbG90IG9mIHBheW9mZiAtLSBpZiB3ZSdyZSB1c2luZyB0aGUgcmVuZGVyIHF1ZXVlLFxuICAgICAgICAgICAgLy8gdGhpcyBwcm9iYWJseSBpc24ndCBnZXR0aW5nIGNhbGxlZCAqbmVhcmx5KiBhcyBtdWNoXG4gICAgICAgICAgICBjb25zdCBuZXdfYXJyID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiAzKTtcbiAgICAgICAgICAgIG5ld19hcnIuc2V0KG5ldyBVaW50OEFycmF5KGFyci5idWZmZXIsIDAsIG5ld19hcnIubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2JsaXRSZ2InLFxuICAgICAgICAgICAgICAgICdkYXRhJzogbmV3X2FycixcbiAgICAgICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAgICAgJ3knOiB5LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JnYkltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBibGl0UmdieEltYWdlKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0LCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogaXQncyB0ZWNobmljYWxseSBtb3JlIHBlcmZvcm1hbnQgaGVyZSB0byB1c2UgcHJlYWxsb2NhdGVkIGFycmF5cyxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCdzIGEgbG90IG9mIGV4dHJhIHdvcmsgZm9yIG5vdCBhIGxvdCBvZiBwYXlvZmYgLS0gaWYgd2UncmUgdXNpbmcgdGhlIHJlbmRlciBxdWV1ZSxcbiAgICAgICAgICAgIC8vIHRoaXMgcHJvYmFibHkgaXNuJ3QgZ2V0dGluZyBjYWxsZWQgKm5lYXJseSogYXMgbXVjaFxuICAgICAgICAgICAgY29uc3QgbmV3X2FyciA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgICAgICBuZXdfYXJyLnNldChuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCAwLCBuZXdfYXJyLmxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdibGl0UmdieCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBuZXdfYXJyLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmdieEltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3SW1hZ2UoaW1nLCB4LCB5KSB7XG4gICAgICAgIHRoaXMuX2RyYXdDdHguZHJhd0ltYWdlKGltZywgeCwgeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGF1dG9zY2FsZShjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgIGxldCBzY2FsZVJhdGlvO1xuXG4gICAgICAgIGlmIChjb250YWluZXJXaWR0aCA9PT0gMCB8fCBjb250YWluZXJIZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHNjYWxlUmF0aW8gPSAwO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBc3BlY3RSYXRpbyA9IGNvbnRhaW5lcldpZHRoIC8gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZmJBc3BlY3RSYXRpbyA9IHZwLncgLyB2cC5oO1xuXG4gICAgICAgICAgICBpZiAoZmJBc3BlY3RSYXRpbyA+PSB0YXJnZXRBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgICAgIHNjYWxlUmF0aW8gPSBjb250YWluZXJXaWR0aCAvIHZwLnc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjYWxlUmF0aW8gPSBjb250YWluZXJIZWlnaHQgLyB2cC5oO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzY2FsZShzY2FsZVJhdGlvKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9yZXNjYWxlKGZhY3Rvcikge1xuICAgICAgICB0aGlzLl9zY2FsZSA9IGZhY3RvcjtcbiAgICAgICAgY29uc3QgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcblxuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBJZiB5b3Ugc2V0IHRoZSB3aWR0aCBkaXJlY3RseSwgb3Igc2V0IHRoZVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBzdHlsZSB3aWR0aCB0byBhIG51bWJlciwgdGhlIGNhbnZhcyBpcyBjbGVhcmVkLlxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBIb3dldmVyLCBpZiB5b3Ugc2V0IHRoZSBzdHlsZSB3aWR0aCB0byBhIHN0cmluZ1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAoJ05OTnB4JyksIHRoZSBjYW52YXMgaXMgc2NhbGVkIHdpdGhvdXQgY2xlYXJpbmcuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZmFjdG9yICogdnAudyArICdweCc7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGZhY3RvciAqIHZwLmggKyAncHgnO1xuXG4gICAgICAgIGlmICgodGhpcy5fdGFyZ2V0LnN0eWxlLndpZHRoICE9PSB3aWR0aCkgfHxcbiAgICAgICAgICAgICh0aGlzLl90YXJnZXQuc3R5bGUuaGVpZ2h0ICE9PSBoZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0RmlsbENvbG9yKGNvbG9yKSB7XG4gICAgICAgIGNvbnN0IG5ld1N0eWxlID0gJ3JnYignICsgY29sb3JbMl0gKyAnLCcgKyBjb2xvclsxXSArICcsJyArIGNvbG9yWzBdICsgJyknO1xuICAgICAgICBpZiAobmV3U3R5bGUgIT09IHRoaXMuX3ByZXZEcmF3U3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguZmlsbFN0eWxlID0gbmV3U3R5bGU7XG4gICAgICAgICAgICB0aGlzLl9wcmV2RHJhd1N0eWxlID0gbmV3U3R5bGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmdiSW1hZ2VEYXRhKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGltZyA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBjb25zdCBkYXRhID0gaW1nLmRhdGE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gb2Zmc2V0OyBpIDwgd2lkdGggKiBoZWlnaHQgKiA0OyBpICs9IDQsIGogKz0gMykge1xuICAgICAgICAgICAgZGF0YVtpXSAgICAgPSBhcnJbal07XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGFycltqICsgMV07XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGFycltqICsgMl07XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IDI1NTsgIC8vIEFscGhhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEoaW1nLCB4LCB5KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgfVxuXG4gICAgX2JncnhJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgaW1nID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbWcuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBvZmZzZXQ7IGkgPCB3aWR0aCAqIGhlaWdodCAqIDQ7IGkgKz0gNCwgaiArPSA0KSB7XG4gICAgICAgICAgICBkYXRhW2ldICAgICA9IGFycltqICsgMl07XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGFycltqICsgMV07XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGFycltqXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gMjU1OyAgLy8gQWxwaGFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBfcmdieEltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCkge1xuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBhcnIgbXVzdCBiZSBhbiBUeXBlIEFycmF5IHZpZXdcbiAgICAgICAgbGV0IGltZztcbiAgICAgICAgaWYgKHN1cHBvcnRzSW1hZ2VNZXRhZGF0YSkge1xuICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsIHdpZHRoICogaGVpZ2h0ICogNCksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1nID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBpbWcuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGFyci5idWZmZXIsIGFyci5ieXRlT2Zmc2V0LCB3aWR0aCAqIGhlaWdodCAqIDQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBfcmVuZGVyUV9wdXNoKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9yZW5kZXJRLnB1c2goYWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGNhbiBiZSByZW5kZXJlZCBpbW1lZGlhdGVseSBpdCB3aWxsIGJlLCBvdGhlcndpc2VcbiAgICAgICAgICAgIC8vIHRoZSBzY2FubmVyIHdpbGwgd2FpdCBmb3IgdGhlIHJlbGV2YW50IGV2ZW50XG4gICAgICAgICAgICB0aGlzLl9zY2FuX3JlbmRlclEoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXN1bWVfcmVuZGVyUSgpIHtcbiAgICAgICAgLy8gXCJ0aGlzXCIgaXMgdGhlIG9iamVjdCB0aGF0IGlzIHJlYWR5LCBub3QgdGhlXG4gICAgICAgIC8vIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX25vVk5DX2Rpc3BsYXkuX3Jlc3VtZV9yZW5kZXJRKTtcbiAgICAgICAgdGhpcy5fbm9WTkNfZGlzcGxheS5fc2Nhbl9yZW5kZXJRKCk7XG4gICAgfVxuXG4gICAgX3NjYW5fcmVuZGVyUSgpIHtcbiAgICAgICAgbGV0IHJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKHJlYWR5ICYmIHRoaXMuX3JlbmRlclEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuX3JlbmRlclFbMF07XG4gICAgICAgICAgICBzd2l0Y2ggKGEudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZsaXAnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvcHknOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcHlJbWFnZShhLm9sZF94LCBhLm9sZF95LCBhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxsJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsUmVjdChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuY29sb3IsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGl0SW1hZ2UoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmRhdGEsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0UmdiJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGl0UmdiSW1hZ2UoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmRhdGEsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdibGl0UmdieCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpdFJnYnhJbWFnZShhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuZGF0YSwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLmltZy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2UoYS5pbWcsIGEueCwgYS55KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuaW1nLl9ub1ZOQ19kaXNwbGF5ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9yZXN1bWVfcmVuZGVyUSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoaXMgaW1hZ2UgdG8gJ2xvYWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBrZWVwIHRoaW5ncyBpbi1vcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlYWR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyUS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoID09PSAwICYmIHRoaXMuX2ZsdXNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vbmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxOCBUaGUgbm9WTkMgQXV0aG9yc1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGVuY29kaW5ncyA9IHtcbiAgICBlbmNvZGluZ1JhdzogMCxcbiAgICBlbmNvZGluZ0NvcHlSZWN0OiAxLFxuICAgIGVuY29kaW5nUlJFOiAyLFxuICAgIGVuY29kaW5nSGV4dGlsZTogNSxcbiAgICBlbmNvZGluZ1RpZ2h0OiA3LFxuICAgIGVuY29kaW5nVGlnaHRQTkc6IC0yNjAsXG5cbiAgICBwc2V1ZG9FbmNvZGluZ1F1YWxpdHlMZXZlbDk6IC0yMyxcbiAgICBwc2V1ZG9FbmNvZGluZ1F1YWxpdHlMZXZlbDA6IC0zMixcbiAgICBwc2V1ZG9FbmNvZGluZ0Rlc2t0b3BTaXplOiAtMjIzLFxuICAgIHBzZXVkb0VuY29kaW5nTGFzdFJlY3Q6IC0yMjQsXG4gICAgcHNldWRvRW5jb2RpbmdDdXJzb3I6IC0yMzksXG4gICAgcHNldWRvRW5jb2RpbmdRRU1VRXh0ZW5kZWRLZXlFdmVudDogLTI1OCxcbiAgICBwc2V1ZG9FbmNvZGluZ0V4dGVuZGVkRGVza3RvcFNpemU6IC0zMDgsXG4gICAgcHNldWRvRW5jb2RpbmdYdnA6IC0zMDksXG4gICAgcHNldWRvRW5jb2RpbmdGZW5jZTogLTMxMixcbiAgICBwc2V1ZG9FbmNvZGluZ0NvbnRpbnVvdXNVcGRhdGVzOiAtMzEzLFxuICAgIHBzZXVkb0VuY29kaW5nQ29tcHJlc3NMZXZlbDk6IC0yNDcsXG4gICAgcHNldWRvRW5jb2RpbmdDb21wcmVzc0xldmVsMDogLTI1Nixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGluZ05hbWUobnVtKSB7XG4gICAgc3dpdGNoIChudW0pIHtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdSYXc6ICAgICAgcmV0dXJuIFwiUmF3XCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nQ29weVJlY3Q6IHJldHVybiBcIkNvcHlSZWN0XCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nUlJFOiAgICAgIHJldHVybiBcIlJSRVwiO1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ0hleHRpbGU6ICByZXR1cm4gXCJIZXh0aWxlXCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nVGlnaHQ6ICAgIHJldHVybiBcIlRpZ2h0XCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nVGlnaHRQTkc6IHJldHVybiBcIlRpZ2h0UE5HXCI7XG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlt1bmtub3duIGVuY29kaW5nIFwiICsgbnVtICsgXCJdXCI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaW5mbGF0ZUluaXQsIGluZmxhdGUsIGluZmxhdGVSZXNldCB9IGZyb20gXCIuLi92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZsYXRlLmpzXCI7XG5pbXBvcnQgWlN0cmVhbSBmcm9tIFwiLi4vdmVuZG9yL3Bha28vbGliL3psaWIvenN0cmVhbS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdHJtID0gbmV3IFpTdHJlYW0oKTtcbiAgICAgICAgdGhpcy5jaHVua1NpemUgPSAxMDI0ICogMTAgKiAxMDtcbiAgICAgICAgdGhpcy5zdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuY2h1bmtTaXplKTtcbiAgICAgICAgdGhpcy53aW5kb3dCaXRzID0gNTtcblxuICAgICAgICBpbmZsYXRlSW5pdCh0aGlzLnN0cm0sIHRoaXMud2luZG93Qml0cyk7XG4gICAgfVxuXG4gICAgaW5mbGF0ZShkYXRhLCBmbHVzaCwgZXhwZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5zdHJtLmlucHV0ID0gZGF0YTtcbiAgICAgICAgdGhpcy5zdHJtLmF2YWlsX2luID0gdGhpcy5zdHJtLmlucHV0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5zdHJtLm5leHRfaW4gPSAwO1xuICAgICAgICB0aGlzLnN0cm0ubmV4dF9vdXQgPSAwO1xuXG4gICAgICAgIC8vIHJlc2l6ZSBvdXIgb3V0cHV0IGJ1ZmZlciBpZiBpdCdzIHRvbyBzbWFsbFxuICAgICAgICAvLyAod2UgY291bGQganVzdCB1c2UgbXVsdGlwbGUgY2h1bmtzLCBidXQgdGhhdCB3b3VsZCBjYXVzZSBhbiBleHRyYVxuICAgICAgICAvLyBhbGxvY2F0aW9uIGVhY2ggdGltZSB0byBmbGF0dGVuIHRoZSBjaHVua3MpXG4gICAgICAgIGlmIChleHBlY3RlZCA+IHRoaXMuY2h1bmtTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IGV4cGVjdGVkO1xuICAgICAgICAgICAgdGhpcy5zdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuY2h1bmtTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RybS5hdmFpbF9vdXQgPSB0aGlzLmNodW5rU2l6ZTtcblxuICAgICAgICBpbmZsYXRlKHRoaXMuc3RybSwgZmx1c2gpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLnN0cm0ub3V0cHV0LmJ1ZmZlciwgMCwgdGhpcy5zdHJtLm5leHRfb3V0KTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgaW5mbGF0ZVJlc2V0KHRoaXMuc3RybSk7XG4gICAgfVxufVxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4va2V5c3ltLmpzXCI7XG5cbi8qXG4gKiBNYXBwaW5nIGJldHdlZW4gSFRNTCBrZXkgdmFsdWVzIGFuZCBWTkMvWDExIGtleXN5bXMgZm9yIFwic3BlY2lhbFwiXG4gKiBrZXlzIHRoYXQgY2Fubm90IGJlIGhhbmRsZWQgdmlhIHRoZWlyIFVuaWNvZGUgY29kZXBvaW50LlxuICpcbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyBmb3IgcG9zc2libGUgdmFsdWVzLlxuICovXG5cbmNvbnN0IERPTUtleVRhYmxlID0ge307XG5cbmZ1bmN0aW9uIGFkZFN0YW5kYXJkKGtleSwgc3RhbmRhcmQpIHtcbiAgICBpZiAoc3RhbmRhcmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgZW50cnkgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgRE9NS2V5VGFibGVba2V5XSA9IFtzdGFuZGFyZCwgc3RhbmRhcmQsIHN0YW5kYXJkLCBzdGFuZGFyZF07XG59XG5cbmZ1bmN0aW9uIGFkZExlZnRSaWdodChrZXksIGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKGxlZnQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICBpZiAocmlnaHQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgZW50cnkgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgRE9NS2V5VGFibGVba2V5XSA9IFtsZWZ0LCBsZWZ0LCByaWdodCwgbGVmdF07XG59XG5cbmZ1bmN0aW9uIGFkZE51bXBhZChrZXksIHN0YW5kYXJkLCBudW1wYWQpIHtcbiAgICBpZiAoc3RhbmRhcmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICBpZiAobnVtcGFkID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgaWYgKGtleSBpbiBET01LZXlUYWJsZSkgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGVudHJ5IGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCIpO1xuICAgIERPTUtleVRhYmxlW2tleV0gPSBbc3RhbmRhcmQsIHN0YW5kYXJkLCBzdGFuZGFyZCwgbnVtcGFkXTtcbn1cblxuLy8gMi4yLiBNb2RpZmllciBLZXlzXG5cbmFkZExlZnRSaWdodChcIkFsdFwiLCBLZXlUYWJsZS5YS19BbHRfTCwgS2V5VGFibGUuWEtfQWx0X1IpO1xuYWRkU3RhbmRhcmQoXCJBbHRHcmFwaFwiLCBLZXlUYWJsZS5YS19JU09fTGV2ZWwzX1NoaWZ0KTtcbmFkZFN0YW5kYXJkKFwiQ2Fwc0xvY2tcIiwgS2V5VGFibGUuWEtfQ2Fwc19Mb2NrKTtcbmFkZExlZnRSaWdodChcIkNvbnRyb2xcIiwgS2V5VGFibGUuWEtfQ29udHJvbF9MLCBLZXlUYWJsZS5YS19Db250cm9sX1IpO1xuLy8gLSBGblxuLy8gLSBGbkxvY2tcbmFkZExlZnRSaWdodChcIkh5cGVyXCIsIEtleVRhYmxlLlhLX1N1cGVyX0wsIEtleVRhYmxlLlhLX1N1cGVyX1IpO1xuYWRkTGVmdFJpZ2h0KFwiTWV0YVwiLCBLZXlUYWJsZS5YS19TdXBlcl9MLCBLZXlUYWJsZS5YS19TdXBlcl9SKTtcbmFkZFN0YW5kYXJkKFwiTnVtTG9ja1wiLCBLZXlUYWJsZS5YS19OdW1fTG9jayk7XG5hZGRTdGFuZGFyZChcIlNjcm9sbExvY2tcIiwgS2V5VGFibGUuWEtfU2Nyb2xsX0xvY2spO1xuYWRkTGVmdFJpZ2h0KFwiU2hpZnRcIiwgS2V5VGFibGUuWEtfU2hpZnRfTCwgS2V5VGFibGUuWEtfU2hpZnRfUik7XG5hZGRMZWZ0UmlnaHQoXCJTdXBlclwiLCBLZXlUYWJsZS5YS19TdXBlcl9MLCBLZXlUYWJsZS5YS19TdXBlcl9SKTtcbi8vIC0gU3ltYm9sXG4vLyAtIFN5bWJvbExvY2tcblxuLy8gMi4zLiBXaGl0ZXNwYWNlIEtleXNcblxuYWRkTnVtcGFkKFwiRW50ZXJcIiwgS2V5VGFibGUuWEtfUmV0dXJuLCBLZXlUYWJsZS5YS19LUF9FbnRlcik7XG5hZGRTdGFuZGFyZChcIlRhYlwiLCBLZXlUYWJsZS5YS19UYWIpO1xuYWRkTnVtcGFkKFwiIFwiLCBLZXlUYWJsZS5YS19zcGFjZSwgS2V5VGFibGUuWEtfS1BfU3BhY2UpO1xuXG4vLyAyLjQuIE5hdmlnYXRpb24gS2V5c1xuXG5hZGROdW1wYWQoXCJBcnJvd0Rvd25cIiwgS2V5VGFibGUuWEtfRG93biwgS2V5VGFibGUuWEtfS1BfRG93bik7XG5hZGROdW1wYWQoXCJBcnJvd1VwXCIsIEtleVRhYmxlLlhLX1VwLCBLZXlUYWJsZS5YS19LUF9VcCk7XG5hZGROdW1wYWQoXCJBcnJvd0xlZnRcIiwgS2V5VGFibGUuWEtfTGVmdCwgS2V5VGFibGUuWEtfS1BfTGVmdCk7XG5hZGROdW1wYWQoXCJBcnJvd1JpZ2h0XCIsIEtleVRhYmxlLlhLX1JpZ2h0LCBLZXlUYWJsZS5YS19LUF9SaWdodCk7XG5hZGROdW1wYWQoXCJFbmRcIiwgS2V5VGFibGUuWEtfRW5kLCBLZXlUYWJsZS5YS19LUF9FbmQpO1xuYWRkTnVtcGFkKFwiSG9tZVwiLCBLZXlUYWJsZS5YS19Ib21lLCBLZXlUYWJsZS5YS19LUF9Ib21lKTtcbmFkZE51bXBhZChcIlBhZ2VEb3duXCIsIEtleVRhYmxlLlhLX05leHQsIEtleVRhYmxlLlhLX0tQX05leHQpO1xuYWRkTnVtcGFkKFwiUGFnZVVwXCIsIEtleVRhYmxlLlhLX1ByaW9yLCBLZXlUYWJsZS5YS19LUF9Qcmlvcik7XG5cbi8vIDIuNS4gRWRpdGluZyBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQmFja3NwYWNlXCIsIEtleVRhYmxlLlhLX0JhY2tTcGFjZSk7XG5hZGROdW1wYWQoXCJDbGVhclwiLCBLZXlUYWJsZS5YS19DbGVhciwgS2V5VGFibGUuWEtfS1BfQmVnaW4pO1xuYWRkU3RhbmRhcmQoXCJDb3B5XCIsIEtleVRhYmxlLlhGODZYS19Db3B5KTtcbi8vIC0gQ3JTZWxcbmFkZFN0YW5kYXJkKFwiQ3V0XCIsIEtleVRhYmxlLlhGODZYS19DdXQpO1xuYWRkTnVtcGFkKFwiRGVsZXRlXCIsIEtleVRhYmxlLlhLX0RlbGV0ZSwgS2V5VGFibGUuWEtfS1BfRGVsZXRlKTtcbi8vIC0gRXJhc2VFb2Zcbi8vIC0gRXhTZWxcbmFkZE51bXBhZChcIkluc2VydFwiLCBLZXlUYWJsZS5YS19JbnNlcnQsIEtleVRhYmxlLlhLX0tQX0luc2VydCk7XG5hZGRTdGFuZGFyZChcIlBhc3RlXCIsIEtleVRhYmxlLlhGODZYS19QYXN0ZSk7XG5hZGRTdGFuZGFyZChcIlJlZG9cIiwgS2V5VGFibGUuWEtfUmVkbyk7XG5hZGRTdGFuZGFyZChcIlVuZG9cIiwgS2V5VGFibGUuWEtfVW5kbyk7XG5cbi8vIDIuNi4gVUkgS2V5c1xuXG4vLyAtIEFjY2VwdFxuLy8gLSBBZ2FpbiAoY291bGQganVzdCBiZSBYS19SZWRvKVxuLy8gLSBBdHRuXG5hZGRTdGFuZGFyZChcIkNhbmNlbFwiLCBLZXlUYWJsZS5YS19DYW5jZWwpO1xuYWRkU3RhbmRhcmQoXCJDb250ZXh0TWVudVwiLCBLZXlUYWJsZS5YS19NZW51KTtcbmFkZFN0YW5kYXJkKFwiRXNjYXBlXCIsIEtleVRhYmxlLlhLX0VzY2FwZSk7XG5hZGRTdGFuZGFyZChcIkV4ZWN1dGVcIiwgS2V5VGFibGUuWEtfRXhlY3V0ZSk7XG5hZGRTdGFuZGFyZChcIkZpbmRcIiwgS2V5VGFibGUuWEtfRmluZCk7XG5hZGRTdGFuZGFyZChcIkhlbHBcIiwgS2V5VGFibGUuWEtfSGVscCk7XG5hZGRTdGFuZGFyZChcIlBhdXNlXCIsIEtleVRhYmxlLlhLX1BhdXNlKTtcbi8vIC0gUGxheVxuLy8gLSBQcm9wc1xuYWRkU3RhbmRhcmQoXCJTZWxlY3RcIiwgS2V5VGFibGUuWEtfU2VsZWN0KTtcbmFkZFN0YW5kYXJkKFwiWm9vbUluXCIsIEtleVRhYmxlLlhGODZYS19ab29tSW4pO1xuYWRkU3RhbmRhcmQoXCJab29tT3V0XCIsIEtleVRhYmxlLlhGODZYS19ab29tT3V0KTtcblxuLy8gMi43LiBEZXZpY2UgS2V5c1xuXG5hZGRTdGFuZGFyZChcIkJyaWdodG5lc3NEb3duXCIsIEtleVRhYmxlLlhGODZYS19Nb25CcmlnaHRuZXNzRG93bik7XG5hZGRTdGFuZGFyZChcIkJyaWdodG5lc3NVcFwiLCBLZXlUYWJsZS5YRjg2WEtfTW9uQnJpZ2h0bmVzc1VwKTtcbmFkZFN0YW5kYXJkKFwiRWplY3RcIiwgS2V5VGFibGUuWEY4NlhLX0VqZWN0KTtcbmFkZFN0YW5kYXJkKFwiTG9nT2ZmXCIsIEtleVRhYmxlLlhGODZYS19Mb2dPZmYpO1xuYWRkU3RhbmRhcmQoXCJQb3dlclwiLCBLZXlUYWJsZS5YRjg2WEtfUG93ZXJPZmYpO1xuYWRkU3RhbmRhcmQoXCJQb3dlck9mZlwiLCBLZXlUYWJsZS5YRjg2WEtfUG93ZXJEb3duKTtcbmFkZFN0YW5kYXJkKFwiUHJpbnRTY3JlZW5cIiwgS2V5VGFibGUuWEtfUHJpbnQpO1xuYWRkU3RhbmRhcmQoXCJIaWJlcm5hdGVcIiwgS2V5VGFibGUuWEY4NlhLX0hpYmVybmF0ZSk7XG5hZGRTdGFuZGFyZChcIlN0YW5kYnlcIiwgS2V5VGFibGUuWEY4NlhLX1N0YW5kYnkpO1xuYWRkU3RhbmRhcmQoXCJXYWtlVXBcIiwgS2V5VGFibGUuWEY4NlhLX1dha2VVcCk7XG5cbi8vIDIuOC4gSU1FIGFuZCBDb21wb3NpdGlvbiBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQWxsQ2FuZGlkYXRlc1wiLCBLZXlUYWJsZS5YS19NdWx0aXBsZUNhbmRpZGF0ZSk7XG5hZGRTdGFuZGFyZChcIkFscGhhbnVtZXJpY1wiLCBLZXlUYWJsZS5YS19FaXN1X1NoaWZ0KTsgLy8gY291bGQgYWxzbyBiZSBfRWlzdV9Ub2dnbGVcbmFkZFN0YW5kYXJkKFwiQ29kZUlucHV0XCIsIEtleVRhYmxlLlhLX0NvZGVpbnB1dCk7XG5hZGRTdGFuZGFyZChcIkNvbXBvc2VcIiwgS2V5VGFibGUuWEtfTXVsdGlfa2V5KTtcbmFkZFN0YW5kYXJkKFwiQ29udmVydFwiLCBLZXlUYWJsZS5YS19IZW5rYW4pO1xuLy8gLSBEZWFkXG4vLyAtIEZpbmFsTW9kZVxuYWRkU3RhbmRhcmQoXCJHcm91cEZpcnN0XCIsIEtleVRhYmxlLlhLX0lTT19GaXJzdF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwTGFzdFwiLCBLZXlUYWJsZS5YS19JU09fTGFzdF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwTmV4dFwiLCBLZXlUYWJsZS5YS19JU09fTmV4dF9Hcm91cCk7XG5hZGRTdGFuZGFyZChcIkdyb3VwUHJldmlvdXNcIiwgS2V5VGFibGUuWEtfSVNPX1ByZXZfR3JvdXApO1xuLy8gLSBNb2RlQ2hhbmdlIChYS19Nb2RlX3N3aXRjaCBpcyBvZnRlbiB1c2VkIGZvciBBbHRHcilcbi8vIC0gTmV4dENhbmRpZGF0ZVxuYWRkU3RhbmRhcmQoXCJOb25Db252ZXJ0XCIsIEtleVRhYmxlLlhLX011aGVua2FuKTtcbmFkZFN0YW5kYXJkKFwiUHJldmlvdXNDYW5kaWRhdGVcIiwgS2V5VGFibGUuWEtfUHJldmlvdXNDYW5kaWRhdGUpO1xuLy8gLSBQcm9jZXNzXG5hZGRTdGFuZGFyZChcIlNpbmdsZUNhbmRpZGF0ZVwiLCBLZXlUYWJsZS5YS19TaW5nbGVDYW5kaWRhdGUpO1xuYWRkU3RhbmRhcmQoXCJIYW5ndWxNb2RlXCIsIEtleVRhYmxlLlhLX0hhbmd1bCk7XG5hZGRTdGFuZGFyZChcIkhhbmphTW9kZVwiLCBLZXlUYWJsZS5YS19IYW5ndWxfSGFuamEpO1xuYWRkU3RhbmRhcmQoXCJKdW5qdWFNb2RlXCIsIEtleVRhYmxlLlhLX0hhbmd1bF9KZW9uamEpO1xuYWRkU3RhbmRhcmQoXCJFaXN1XCIsIEtleVRhYmxlLlhLX0Vpc3VfdG9nZ2xlKTtcbmFkZFN0YW5kYXJkKFwiSGFua2FrdVwiLCBLZXlUYWJsZS5YS19IYW5rYWt1KTtcbmFkZFN0YW5kYXJkKFwiSGlyYWdhbmFcIiwgS2V5VGFibGUuWEtfSGlyYWdhbmEpO1xuYWRkU3RhbmRhcmQoXCJIaXJhZ2FuYUthdGFrYW5hXCIsIEtleVRhYmxlLlhLX0hpcmFnYW5hX0thdGFrYW5hKTtcbmFkZFN0YW5kYXJkKFwiS2FuYU1vZGVcIiwgS2V5VGFibGUuWEtfS2FuYV9TaGlmdCk7IC8vIGNvdWxkIGFsc28gYmUgX0thbmFfTG9ja1xuYWRkU3RhbmRhcmQoXCJLYW5qaU1vZGVcIiwgS2V5VGFibGUuWEtfS2FuamkpO1xuYWRkU3RhbmRhcmQoXCJLYXRha2FuYVwiLCBLZXlUYWJsZS5YS19LYXRha2FuYSk7XG5hZGRTdGFuZGFyZChcIlJvbWFqaVwiLCBLZXlUYWJsZS5YS19Sb21hamkpO1xuYWRkU3RhbmRhcmQoXCJaZW5rYWt1XCIsIEtleVRhYmxlLlhLX1plbmtha3UpO1xuYWRkU3RhbmRhcmQoXCJaZW5rYWt1SGFuYWt1XCIsIEtleVRhYmxlLlhLX1plbmtha3VfSGFua2FrdSk7XG5cbi8vIDIuOS4gR2VuZXJhbC1QdXJwb3NlIEZ1bmN0aW9uIEtleXNcblxuYWRkU3RhbmRhcmQoXCJGMVwiLCBLZXlUYWJsZS5YS19GMSk7XG5hZGRTdGFuZGFyZChcIkYyXCIsIEtleVRhYmxlLlhLX0YyKTtcbmFkZFN0YW5kYXJkKFwiRjNcIiwgS2V5VGFibGUuWEtfRjMpO1xuYWRkU3RhbmRhcmQoXCJGNFwiLCBLZXlUYWJsZS5YS19GNCk7XG5hZGRTdGFuZGFyZChcIkY1XCIsIEtleVRhYmxlLlhLX0Y1KTtcbmFkZFN0YW5kYXJkKFwiRjZcIiwgS2V5VGFibGUuWEtfRjYpO1xuYWRkU3RhbmRhcmQoXCJGN1wiLCBLZXlUYWJsZS5YS19GNyk7XG5hZGRTdGFuZGFyZChcIkY4XCIsIEtleVRhYmxlLlhLX0Y4KTtcbmFkZFN0YW5kYXJkKFwiRjlcIiwgS2V5VGFibGUuWEtfRjkpO1xuYWRkU3RhbmRhcmQoXCJGMTBcIiwgS2V5VGFibGUuWEtfRjEwKTtcbmFkZFN0YW5kYXJkKFwiRjExXCIsIEtleVRhYmxlLlhLX0YxMSk7XG5hZGRTdGFuZGFyZChcIkYxMlwiLCBLZXlUYWJsZS5YS19GMTIpO1xuYWRkU3RhbmRhcmQoXCJGMTNcIiwgS2V5VGFibGUuWEtfRjEzKTtcbmFkZFN0YW5kYXJkKFwiRjE0XCIsIEtleVRhYmxlLlhLX0YxNCk7XG5hZGRTdGFuZGFyZChcIkYxNVwiLCBLZXlUYWJsZS5YS19GMTUpO1xuYWRkU3RhbmRhcmQoXCJGMTZcIiwgS2V5VGFibGUuWEtfRjE2KTtcbmFkZFN0YW5kYXJkKFwiRjE3XCIsIEtleVRhYmxlLlhLX0YxNyk7XG5hZGRTdGFuZGFyZChcIkYxOFwiLCBLZXlUYWJsZS5YS19GMTgpO1xuYWRkU3RhbmRhcmQoXCJGMTlcIiwgS2V5VGFibGUuWEtfRjE5KTtcbmFkZFN0YW5kYXJkKFwiRjIwXCIsIEtleVRhYmxlLlhLX0YyMCk7XG5hZGRTdGFuZGFyZChcIkYyMVwiLCBLZXlUYWJsZS5YS19GMjEpO1xuYWRkU3RhbmRhcmQoXCJGMjJcIiwgS2V5VGFibGUuWEtfRjIyKTtcbmFkZFN0YW5kYXJkKFwiRjIzXCIsIEtleVRhYmxlLlhLX0YyMyk7XG5hZGRTdGFuZGFyZChcIkYyNFwiLCBLZXlUYWJsZS5YS19GMjQpO1xuYWRkU3RhbmRhcmQoXCJGMjVcIiwgS2V5VGFibGUuWEtfRjI1KTtcbmFkZFN0YW5kYXJkKFwiRjI2XCIsIEtleVRhYmxlLlhLX0YyNik7XG5hZGRTdGFuZGFyZChcIkYyN1wiLCBLZXlUYWJsZS5YS19GMjcpO1xuYWRkU3RhbmRhcmQoXCJGMjhcIiwgS2V5VGFibGUuWEtfRjI4KTtcbmFkZFN0YW5kYXJkKFwiRjI5XCIsIEtleVRhYmxlLlhLX0YyOSk7XG5hZGRTdGFuZGFyZChcIkYzMFwiLCBLZXlUYWJsZS5YS19GMzApO1xuYWRkU3RhbmRhcmQoXCJGMzFcIiwgS2V5VGFibGUuWEtfRjMxKTtcbmFkZFN0YW5kYXJkKFwiRjMyXCIsIEtleVRhYmxlLlhLX0YzMik7XG5hZGRTdGFuZGFyZChcIkYzM1wiLCBLZXlUYWJsZS5YS19GMzMpO1xuYWRkU3RhbmRhcmQoXCJGMzRcIiwgS2V5VGFibGUuWEtfRjM0KTtcbmFkZFN0YW5kYXJkKFwiRjM1XCIsIEtleVRhYmxlLlhLX0YzNSk7XG4vLyAtIFNvZnQxLi4uXG5cbi8vIDIuMTAuIE11bHRpbWVkaWEgS2V5c1xuXG4vLyAtIENoYW5uZWxEb3duXG4vLyAtIENoYW5uZWxVcFxuYWRkU3RhbmRhcmQoXCJDbG9zZVwiLCBLZXlUYWJsZS5YRjg2WEtfQ2xvc2UpO1xuYWRkU3RhbmRhcmQoXCJNYWlsRm9yd2FyZFwiLCBLZXlUYWJsZS5YRjg2WEtfTWFpbEZvcndhcmQpO1xuYWRkU3RhbmRhcmQoXCJNYWlsUmVwbHlcIiwgS2V5VGFibGUuWEY4NlhLX1JlcGx5KTtcbmFkZFN0YW5kYXJkKFwiTWFpblNlbmRcIiwgS2V5VGFibGUuWEY4NlhLX1NlbmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYUZhc3RGb3J3YXJkXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb0ZvcndhcmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVBhdXNlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1BhdXNlKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFQbGF5XCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1BsYXkpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVJlY29yZFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SZWNvcmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVJld2luZFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SZXdpbmQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVN0b3BcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvU3RvcCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhVHJhY2tOZXh0XCIsIEtleVRhYmxlLlhGODZYS19BdWRpb05leHQpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVRyYWNrUHJldmlvdXNcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUHJldik7XG5hZGRTdGFuZGFyZChcIk5ld1wiLCBLZXlUYWJsZS5YRjg2WEtfTmV3KTtcbmFkZFN0YW5kYXJkKFwiT3BlblwiLCBLZXlUYWJsZS5YRjg2WEtfT3Blbik7XG5hZGRTdGFuZGFyZChcIlByaW50XCIsIEtleVRhYmxlLlhLX1ByaW50KTtcbmFkZFN0YW5kYXJkKFwiU2F2ZVwiLCBLZXlUYWJsZS5YRjg2WEtfU2F2ZSk7XG5hZGRTdGFuZGFyZChcIlNwZWxsQ2hlY2tcIiwgS2V5VGFibGUuWEY4NlhLX1NwZWxsKTtcblxuLy8gMi4xMS4gTXVsdGltZWRpYSBOdW1wYWQgS2V5c1xuXG4vLyAtIEtleTExXG4vLyAtIEtleTEyXG5cbi8vIDIuMTIuIEF1ZGlvIEtleXNcblxuLy8gLSBBdWRpb0JhbGFuY2VMZWZ0XG4vLyAtIEF1ZGlvQmFsYW5jZVJpZ2h0XG4vLyAtIEF1ZGlvQmFzc0Rvd25cbi8vIC0gQXVkaW9CYXNzQm9vc3REb3duXG4vLyAtIEF1ZGlvQmFzc0Jvb3N0VG9nZ2xlXG4vLyAtIEF1ZGlvQmFzc0Jvb3N0VXBcbi8vIC0gQXVkaW9CYXNzVXBcbi8vIC0gQXVkaW9GYWRlckZyb250XG4vLyAtIEF1ZGlvRmFkZXJSZWFyXG4vLyAtIEF1ZGlvU3Vycm91bmRNb2RlTmV4dFxuLy8gLSBBdWRpb1RyZWJsZURvd25cbi8vIC0gQXVkaW9UcmVibGVVcFxuYWRkU3RhbmRhcmQoXCJBdWRpb1ZvbHVtZURvd25cIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTG93ZXJWb2x1bWUpO1xuYWRkU3RhbmRhcmQoXCJBdWRpb1ZvbHVtZVVwXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1JhaXNlVm9sdW1lKTtcbmFkZFN0YW5kYXJkKFwiQXVkaW9Wb2x1bWVNdXRlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb011dGUpO1xuLy8gLSBNaWNyb3Bob25lVG9nZ2xlXG4vLyAtIE1pY3JvcGhvbmVWb2x1bWVEb3duXG4vLyAtIE1pY3JvcGhvbmVWb2x1bWVVcFxuYWRkU3RhbmRhcmQoXCJNaWNyb3Bob25lVm9sdW1lTXV0ZVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9NaWNNdXRlKTtcblxuLy8gMi4xMy4gU3BlZWNoIEtleXNcblxuLy8gLSBTcGVlY2hDb3JyZWN0aW9uTGlzdFxuLy8gLSBTcGVlY2hJbnB1dFRvZ2dsZVxuXG4vLyAyLjE0LiBBcHBsaWNhdGlvbiBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiTGF1bmNoQ2FsY3VsYXRvclwiLCBLZXlUYWJsZS5YRjg2WEtfQ2FsY3VsYXRvcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaENhbGVuZGFyXCIsIEtleVRhYmxlLlhGODZYS19DYWxlbmRhcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE1haWxcIiwgS2V5VGFibGUuWEY4NlhLX01haWwpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hNZWRpYVBsYXllclwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9NZWRpYSk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE11c2ljUGxheWVyXCIsIEtleVRhYmxlLlhGODZYS19NdXNpYyk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE15Q29tcHV0ZXJcIiwgS2V5VGFibGUuWEY4NlhLX015Q29tcHV0ZXIpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hQaG9uZVwiLCBLZXlUYWJsZS5YRjg2WEtfUGhvbmUpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hTY3JlZW5TYXZlclwiLCBLZXlUYWJsZS5YRjg2WEtfU2NyZWVuU2F2ZXIpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hTcHJlYWRzaGVldFwiLCBLZXlUYWJsZS5YRjg2WEtfRXhjZWwpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hXZWJCcm93c2VyXCIsIEtleVRhYmxlLlhGODZYS19XV1cpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hXZWJDYW1cIiwgS2V5VGFibGUuWEY4NlhLX1dlYkNhbSk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFdvcmRQcm9jZXNzb3JcIiwgS2V5VGFibGUuWEY4NlhLX1dvcmQpO1xuXG4vLyAyLjE1LiBCcm93c2VyIEtleXNcblxuYWRkU3RhbmRhcmQoXCJCcm93c2VyQmFja1wiLCBLZXlUYWJsZS5YRjg2WEtfQmFjayk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJGYXZvcml0ZXNcIiwgS2V5VGFibGUuWEY4NlhLX0Zhdm9yaXRlcyk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJGb3J3YXJkXCIsIEtleVRhYmxlLlhGODZYS19Gb3J3YXJkKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlckhvbWVcIiwgS2V5VGFibGUuWEY4NlhLX0hvbWVQYWdlKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlclJlZnJlc2hcIiwgS2V5VGFibGUuWEY4NlhLX1JlZnJlc2gpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyU2VhcmNoXCIsIEtleVRhYmxlLlhGODZYS19TZWFyY2gpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyU3RvcFwiLCBLZXlUYWJsZS5YRjg2WEtfU3RvcCk7XG5cbi8vIDIuMTYuIE1vYmlsZSBQaG9uZSBLZXlzXG5cbi8vIC0gQSB3aG9sZSBidW5jaC4uLlxuXG4vLyAyLjE3LiBUViBLZXlzXG5cbi8vIC0gQSB3aG9sZSBidW5jaC4uLlxuXG4vLyAyLjE4LiBNZWRpYSBDb250cm9sbGVyIEtleXNcblxuLy8gLSBBIHdob2xlIGJ1bmNoLi4uXG5hZGRTdGFuZGFyZChcIkRpbW1lclwiLCBLZXlUYWJsZS5YRjg2WEtfQnJpZ2h0bmVzc0FkanVzdCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhQXVkaW9UcmFja1wiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9DeWNsZVRyYWNrKTtcbmFkZFN0YW5kYXJkKFwiUmFuZG9tVG9nZ2xlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1JhbmRvbVBsYXkpO1xuYWRkU3RhbmRhcmQoXCJTcGxpdFNjcmVlblRvZ2dsZVwiLCBLZXlUYWJsZS5YRjg2WEtfU3BsaXRTY3JlZW4pO1xuYWRkU3RhbmRhcmQoXCJTdWJ0aXRsZVwiLCBLZXlUYWJsZS5YRjg2WEtfU3VidGl0bGUpO1xuYWRkU3RhbmRhcmQoXCJWaWRlb01vZGVOZXh0XCIsIEtleVRhYmxlLlhGODZYS19OZXh0X1ZNb2RlKTtcblxuLy8gRXh0cmE6IE51bXBhZFxuXG5hZGROdW1wYWQoXCI9XCIsIEtleVRhYmxlLlhLX2VxdWFsLCBLZXlUYWJsZS5YS19LUF9FcXVhbCk7XG5hZGROdW1wYWQoXCIrXCIsIEtleVRhYmxlLlhLX3BsdXMsIEtleVRhYmxlLlhLX0tQX0FkZCk7XG5hZGROdW1wYWQoXCItXCIsIEtleVRhYmxlLlhLX21pbnVzLCBLZXlUYWJsZS5YS19LUF9TdWJ0cmFjdCk7XG5hZGROdW1wYWQoXCIqXCIsIEtleVRhYmxlLlhLX2FzdGVyaXNrLCBLZXlUYWJsZS5YS19LUF9NdWx0aXBseSk7XG5hZGROdW1wYWQoXCIvXCIsIEtleVRhYmxlLlhLX3NsYXNoLCBLZXlUYWJsZS5YS19LUF9EaXZpZGUpO1xuYWRkTnVtcGFkKFwiLlwiLCBLZXlUYWJsZS5YS19wZXJpb2QsIEtleVRhYmxlLlhLX0tQX0RlY2ltYWwpO1xuYWRkTnVtcGFkKFwiLFwiLCBLZXlUYWJsZS5YS19jb21tYSwgS2V5VGFibGUuWEtfS1BfU2VwYXJhdG9yKTtcbmFkZE51bXBhZChcIjBcIiwgS2V5VGFibGUuWEtfMCwgS2V5VGFibGUuWEtfS1BfMCk7XG5hZGROdW1wYWQoXCIxXCIsIEtleVRhYmxlLlhLXzEsIEtleVRhYmxlLlhLX0tQXzEpO1xuYWRkTnVtcGFkKFwiMlwiLCBLZXlUYWJsZS5YS18yLCBLZXlUYWJsZS5YS19LUF8yKTtcbmFkZE51bXBhZChcIjNcIiwgS2V5VGFibGUuWEtfMywgS2V5VGFibGUuWEtfS1BfMyk7XG5hZGROdW1wYWQoXCI0XCIsIEtleVRhYmxlLlhLXzQsIEtleVRhYmxlLlhLX0tQXzQpO1xuYWRkTnVtcGFkKFwiNVwiLCBLZXlUYWJsZS5YS181LCBLZXlUYWJsZS5YS19LUF81KTtcbmFkZE51bXBhZChcIjZcIiwgS2V5VGFibGUuWEtfNiwgS2V5VGFibGUuWEtfS1BfNik7XG5hZGROdW1wYWQoXCI3XCIsIEtleVRhYmxlLlhLXzcsIEtleVRhYmxlLlhLX0tQXzcpO1xuYWRkTnVtcGFkKFwiOFwiLCBLZXlUYWJsZS5YS184LCBLZXlUYWJsZS5YS19LUF84KTtcbmFkZE51bXBhZChcIjlcIiwgS2V5VGFibGUuWEtfOSwgS2V5VGFibGUuWEtfS1BfOSk7XG5cbmV4cG9ydCBkZWZhdWx0IERPTUtleVRhYmxlO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG4vKlxuICogRmFsbGJhY2sgbWFwcGluZyBiZXR3ZWVuIEhUTUwga2V5IGNvZGVzIChwaHlzaWNhbCBrZXlzKSBhbmRcbiAqIEhUTUwga2V5IHZhbHVlcy4gVGhpcyBvbmx5IHdvcmtzIGZvciBrZXlzIHRoYXQgZG9uJ3QgdmFyeVxuICogYmV0d2VlbiBsYXlvdXRzLiBXZSBhbHNvIG9taXQgdGhvc2Ugd2hvIG1hbmFnZSBmaW5lIGJ5IG1hcHBpbmcgdGhlXG4gKiBVbmljb2RlIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMtY29kZS8gZm9yIHBvc3NpYmxlIGNvZGVzLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvIGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUga2V5LXNwYWNpbmcgKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4vLyAzLjEuMS4xLiBXcml0aW5nIFN5c3RlbSBLZXlzXG5cbiAgICAnQmFja3NwYWNlJzogICAgICAgICdCYWNrc3BhY2UnLFxuXG4vLyAzLjEuMS4yLiBGdW5jdGlvbmFsIEtleXNcblxuICAgICdBbHRMZWZ0JzogICAgICAgICAgJ0FsdCcsXG4gICAgJ0FsdFJpZ2h0JzogICAgICAgICAnQWx0JywgLy8gVGhpcyBjb3VsZCBhbHNvIGJlICdBbHRHcmFwaCdcbiAgICAnQ2Fwc0xvY2snOiAgICAgICAgICdDYXBzTG9jaycsXG4gICAgJ0NvbnRleHRNZW51JzogICAgICAnQ29udGV4dE1lbnUnLFxuICAgICdDb250cm9sTGVmdCc6ICAgICAgJ0NvbnRyb2wnLFxuICAgICdDb250cm9sUmlnaHQnOiAgICAgJ0NvbnRyb2wnLFxuICAgICdFbnRlcic6ICAgICAgICAgICAgJ0VudGVyJyxcbiAgICAnTWV0YUxlZnQnOiAgICAgICAgICdNZXRhJyxcbiAgICAnTWV0YVJpZ2h0JzogICAgICAgICdNZXRhJyxcbiAgICAnU2hpZnRMZWZ0JzogICAgICAgICdTaGlmdCcsXG4gICAgJ1NoaWZ0UmlnaHQnOiAgICAgICAnU2hpZnQnLFxuICAgICdUYWInOiAgICAgICAgICAgICAgJ1RhYicsXG4gICAgLy8gRklYTUU6IEphcGFuZXNlL0tvcmVhbiBrZXlzXG5cbi8vIDMuMS4yLiBDb250cm9sIFBhZCBTZWN0aW9uXG5cbiAgICAnRGVsZXRlJzogICAgICAgICAgICdEZWxldGUnLFxuICAgICdFbmQnOiAgICAgICAgICAgICAgJ0VuZCcsXG4gICAgJ0hlbHAnOiAgICAgICAgICAgICAnSGVscCcsXG4gICAgJ0hvbWUnOiAgICAgICAgICAgICAnSG9tZScsXG4gICAgJ0luc2VydCc6ICAgICAgICAgICAnSW5zZXJ0JyxcbiAgICAnUGFnZURvd24nOiAgICAgICAgICdQYWdlRG93bicsXG4gICAgJ1BhZ2VVcCc6ICAgICAgICAgICAnUGFnZVVwJyxcblxuLy8gMy4xLjMuIEFycm93IFBhZCBTZWN0aW9uXG5cbiAgICAnQXJyb3dEb3duJzogICAgICAgICdBcnJvd0Rvd24nLFxuICAgICdBcnJvd0xlZnQnOiAgICAgICAgJ0Fycm93TGVmdCcsXG4gICAgJ0Fycm93UmlnaHQnOiAgICAgICAnQXJyb3dSaWdodCcsXG4gICAgJ0Fycm93VXAnOiAgICAgICAgICAnQXJyb3dVcCcsXG5cbi8vIDMuMS40LiBOdW1wYWQgU2VjdGlvblxuXG4gICAgJ051bUxvY2snOiAgICAgICAgICAnTnVtTG9jaycsXG4gICAgJ051bXBhZEJhY2tzcGFjZSc6ICAnQmFja3NwYWNlJyxcbiAgICAnTnVtcGFkQ2xlYXInOiAgICAgICdDbGVhcicsXG5cbi8vIDMuMS41LiBGdW5jdGlvbiBTZWN0aW9uXG5cbiAgICAnRXNjYXBlJzogICAgICAgICAgICdFc2NhcGUnLFxuICAgICdGMSc6ICAgICAgICAgICAgICAgJ0YxJyxcbiAgICAnRjInOiAgICAgICAgICAgICAgICdGMicsXG4gICAgJ0YzJzogICAgICAgICAgICAgICAnRjMnLFxuICAgICdGNCc6ICAgICAgICAgICAgICAgJ0Y0JyxcbiAgICAnRjUnOiAgICAgICAgICAgICAgICdGNScsXG4gICAgJ0Y2JzogICAgICAgICAgICAgICAnRjYnLFxuICAgICdGNyc6ICAgICAgICAgICAgICAgJ0Y3JyxcbiAgICAnRjgnOiAgICAgICAgICAgICAgICdGOCcsXG4gICAgJ0Y5JzogICAgICAgICAgICAgICAnRjknLFxuICAgICdGMTAnOiAgICAgICAgICAgICAgJ0YxMCcsXG4gICAgJ0YxMSc6ICAgICAgICAgICAgICAnRjExJyxcbiAgICAnRjEyJzogICAgICAgICAgICAgICdGMTInLFxuICAgICdGMTMnOiAgICAgICAgICAgICAgJ0YxMycsXG4gICAgJ0YxNCc6ICAgICAgICAgICAgICAnRjE0JyxcbiAgICAnRjE1JzogICAgICAgICAgICAgICdGMTUnLFxuICAgICdGMTYnOiAgICAgICAgICAgICAgJ0YxNicsXG4gICAgJ0YxNyc6ICAgICAgICAgICAgICAnRjE3JyxcbiAgICAnRjE4JzogICAgICAgICAgICAgICdGMTgnLFxuICAgICdGMTknOiAgICAgICAgICAgICAgJ0YxOScsXG4gICAgJ0YyMCc6ICAgICAgICAgICAgICAnRjIwJyxcbiAgICAnRjIxJzogICAgICAgICAgICAgICdGMjEnLFxuICAgICdGMjInOiAgICAgICAgICAgICAgJ0YyMicsXG4gICAgJ0YyMyc6ICAgICAgICAgICAgICAnRjIzJyxcbiAgICAnRjI0JzogICAgICAgICAgICAgICdGMjQnLFxuICAgICdGMjUnOiAgICAgICAgICAgICAgJ0YyNScsXG4gICAgJ0YyNic6ICAgICAgICAgICAgICAnRjI2JyxcbiAgICAnRjI3JzogICAgICAgICAgICAgICdGMjcnLFxuICAgICdGMjgnOiAgICAgICAgICAgICAgJ0YyOCcsXG4gICAgJ0YyOSc6ICAgICAgICAgICAgICAnRjI5JyxcbiAgICAnRjMwJzogICAgICAgICAgICAgICdGMzAnLFxuICAgICdGMzEnOiAgICAgICAgICAgICAgJ0YzMScsXG4gICAgJ0YzMic6ICAgICAgICAgICAgICAnRjMyJyxcbiAgICAnRjMzJzogICAgICAgICAgICAgICdGMzMnLFxuICAgICdGMzQnOiAgICAgICAgICAgICAgJ0YzNCcsXG4gICAgJ0YzNSc6ICAgICAgICAgICAgICAnRjM1JyxcbiAgICAnUHJpbnRTY3JlZW4nOiAgICAgICdQcmludFNjcmVlbicsXG4gICAgJ1Njcm9sbExvY2snOiAgICAgICAnU2Nyb2xsTG9jaycsXG4gICAgJ1BhdXNlJzogICAgICAgICAgICAnUGF1c2UnLFxuXG4vLyAzLjEuNi4gTWVkaWEgS2V5c1xuXG4gICAgJ0Jyb3dzZXJCYWNrJzogICAgICAnQnJvd3NlckJhY2snLFxuICAgICdCcm93c2VyRmF2b3JpdGVzJzogJ0Jyb3dzZXJGYXZvcml0ZXMnLFxuICAgICdCcm93c2VyRm9yd2FyZCc6ICAgJ0Jyb3dzZXJGb3J3YXJkJyxcbiAgICAnQnJvd3NlckhvbWUnOiAgICAgICdCcm93c2VySG9tZScsXG4gICAgJ0Jyb3dzZXJSZWZyZXNoJzogICAnQnJvd3NlclJlZnJlc2gnLFxuICAgICdCcm93c2VyU2VhcmNoJzogICAgJ0Jyb3dzZXJTZWFyY2gnLFxuICAgICdCcm93c2VyU3RvcCc6ICAgICAgJ0Jyb3dzZXJTdG9wJyxcbiAgICAnRWplY3QnOiAgICAgICAgICAgICdFamVjdCcsXG4gICAgJ0xhdW5jaEFwcDEnOiAgICAgICAnTGF1bmNoTXlDb21wdXRlcicsXG4gICAgJ0xhdW5jaEFwcDInOiAgICAgICAnTGF1bmNoQ2FsZW5kYXInLFxuICAgICdMYXVuY2hNYWlsJzogICAgICAgJ0xhdW5jaE1haWwnLFxuICAgICdNZWRpYVBsYXlQYXVzZSc6ICAgJ01lZGlhUGxheScsXG4gICAgJ01lZGlhU3RvcCc6ICAgICAgICAnTWVkaWFTdG9wJyxcbiAgICAnTWVkaWFUcmFja05leHQnOiAgICdNZWRpYVRyYWNrTmV4dCcsXG4gICAgJ01lZGlhVHJhY2tQcmV2aW91cyc6ICdNZWRpYVRyYWNrUHJldmlvdXMnLFxuICAgICdQb3dlcic6ICAgICAgICAgICAgJ1Bvd2VyJyxcbiAgICAnU2xlZXAnOiAgICAgICAgICAgICdTbGVlcCcsXG4gICAgJ0F1ZGlvVm9sdW1lRG93bic6ICAnQXVkaW9Wb2x1bWVEb3duJyxcbiAgICAnQXVkaW9Wb2x1bWVNdXRlJzogICdBdWRpb1ZvbHVtZU11dGUnLFxuICAgICdBdWRpb1ZvbHVtZVVwJzogICAgJ0F1ZGlvVm9sdW1lVXAnLFxuICAgICdXYWtlVXAnOiAgICAgICAgICAgJ1dha2VVcCcsXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCB7IHN0b3BFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRzLmpzJztcbmltcG9ydCAqIGFzIEtleWJvYXJkVXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4va2V5c3ltLmpzXCI7XG5pbXBvcnQgKiBhcyBicm93c2VyIGZyb20gXCIuLi91dGlsL2Jyb3dzZXIuanNcIjtcblxuLy9cbi8vIEtleWJvYXJkIGV2ZW50IGhhbmRsZXJcbi8vXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0IHx8IG51bGw7XG5cbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3QgPSB7fTsgICAgICAgICAvLyBMaXN0IG9mIGRlcHJlc3NlZCBrZXlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGV2ZW4gaWYgdGhleSBhcmUgaGFwcHkpXG4gICAgICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBudWxsOyAgICAgICAgLy8gS2V5IHdhaXRpbmcgZm9yIGtleXByZXNzXG4gICAgICAgIHRoaXMuX2FsdEdyQXJtZWQgPSBmYWxzZTsgICAgICAgLy8gV2luZG93cyBBbHRHciBkZXRlY3Rpb25cblxuICAgICAgICAvLyBrZWVwIHRoZXNlIGhlcmUgc28gd2UgY2FuIHJlZmVyIHRvIHRoZW0gbGF0ZXJcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgICAgICdrZXl1cCc6IHRoaXMuX2hhbmRsZUtleVVwLmJpbmQodGhpcyksXG4gICAgICAgICAgICAna2V5ZG93bic6IHRoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICdrZXlwcmVzcyc6IHRoaXMuX2hhbmRsZUtleVByZXNzLmJpbmQodGhpcyksXG4gICAgICAgICAgICAnYmx1cic6IHRoaXMuX2FsbEtleXNVcC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgJ2NoZWNrYWx0JzogdGhpcy5fY2hlY2tBbHQuYmluZCh0aGlzKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyA9PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PVxuXG4gICAgICAgIHRoaXMub25rZXlldmVudCA9ICgpID0+IHt9OyAvLyBIYW5kbGVyIGZvciBrZXkgcHJlc3MvcmVsZWFzZVxuICAgIH1cblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIGRvd24pIHtcbiAgICAgICAgaWYgKGRvd24pIHtcbiAgICAgICAgICAgIHRoaXMuX2tleURvd25MaXN0W2NvZGVdID0ga2V5c3ltO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRG8gd2UgcmVhbGx5IHRoaW5rIHRoaXMga2V5IGlzIGRvd24/XG4gICAgICAgICAgICBpZiAoIShjb2RlIGluIHRoaXMuX2tleURvd25MaXN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIExvZy5EZWJ1ZyhcIm9ua2V5ZXZlbnQgXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArXG4gICAgICAgICAgICAgICAgICBcIiwga2V5c3ltOiBcIiArIGtleXN5bSwgXCIsIGNvZGU6IFwiICsgY29kZSk7XG4gICAgICAgIHRoaXMub25rZXlldmVudChrZXlzeW0sIGNvZGUsIGRvd24pO1xuICAgIH1cblxuICAgIF9nZXRLZXlDb2RlKGUpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IEtleWJvYXJkVXRpbC5nZXRLZXljb2RlKGUpO1xuICAgICAgICBpZiAoY29kZSAhPT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5zdGFibGUsIGJ1dCB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIGVsc2UgdG8gZ28gb25cbiAgICAgICAgLy8gKGRvbid0IHVzZSBpdCBmb3IgJ2tleXByZXNzJyBldmVudHMgdGhvdWdodCBzaW5jZVxuICAgICAgICAvLyBXZWJLaXQgc2V0cyBpdCB0byB0aGUgc2FtZSBhcyBjaGFyQ29kZSlcbiAgICAgICAgaWYgKGUua2V5Q29kZSAmJiAoZS50eXBlICE9PSAna2V5cHJlc3MnKSkge1xuICAgICAgICAgICAgLy8gMjI5IGlzIHVzZWQgZm9yIGNvbXBvc2l0aW9uIGV2ZW50c1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMjI5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdQbGF0Zm9ybScgKyBlLmtleUNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBIHByZWN1cnNvciB0byB0aGUgZmluYWwgRE9NMyBzdGFuZGFyZC4gVW5mb3J0dW5hdGVseSBpdFxuICAgICAgICAvLyBpcyBub3QgbGF5b3V0IGluZGVwZW5kZW50LCBzbyBpdCBpcyBhcyBiYWQgYXMgdXNpbmcga2V5Q29kZVxuICAgICAgICBpZiAoZS5rZXlJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAvLyBOb24tY2hhcmFjdGVyIGtleT9cbiAgICAgICAgICAgIGlmIChlLmtleUlkZW50aWZpZXIuc3Vic3RyKDAsIDIpICE9PSAnVSsnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUua2V5SWRlbnRpZmllcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29kZXBvaW50ID0gcGFyc2VJbnQoZS5rZXlJZGVudGlmaWVyLnN1YnN0cigyKSwgMTYpO1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZXBvaW50KS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gJ1BsYXRmb3JtJyArIGNoYXIuY2hhckNvZGVBdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdVbmlkZW50aWZpZWQnO1xuICAgIH1cblxuICAgIF9oYW5kbGVLZXlEb3duKGUpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHRoaXMuX2dldEtleUNvZGUoZSk7XG4gICAgICAgIGxldCBrZXlzeW0gPSBLZXlib2FyZFV0aWwuZ2V0S2V5c3ltKGUpO1xuXG4gICAgICAgIC8vIFdpbmRvd3MgZG9lc24ndCBoYXZlIGEgcHJvcGVyIEFsdEdyLCBidXQgaGFuZGxlcyBpdCB1c2luZ1xuICAgICAgICAvLyBmYWtlIEN0cmwrQWx0LiBIb3dldmVyIHRoZSByZW1vdGUgZW5kIG1pZ2h0IG5vdCBiZSBXaW5kb3dzLFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIG1lcmdlIHRob3NlIGluIHRvIGEgc2luZ2xlIEFsdEdyIGV2ZW50LiBXZVxuICAgICAgICAvLyBkZXRlY3QgdGhpcyBjYXNlIGJ5IHNlZWluZyB0aGUgdHdvIGtleSBldmVudHMgZGlyZWN0bHkgYWZ0ZXJcbiAgICAgICAgLy8gZWFjaCBvdGhlciB3aXRoIGEgdmVyeSBzaG9ydCB0aW1lIGJldHdlZW4gdGhlbSAoPDUwbXMpLlxuICAgICAgICBpZiAodGhpcy5fYWx0R3JBcm1lZCkge1xuICAgICAgICAgICAgdGhpcy5fYWx0R3JBcm1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsdEdyVGltZW91dCk7XG5cbiAgICAgICAgICAgIGlmICgoY29kZSA9PT0gXCJBbHRSaWdodFwiKSAmJlxuICAgICAgICAgICAgICAgICgoZS50aW1lU3RhbXAgLSB0aGlzLl9hbHRHckN0cmxUaW1lKSA8IDUwKSkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBmYWlsIHRvIGRldGVjdCB0aGlzIGlmIGVpdGhlciBDdHJsIGtleSBpc1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBmaXJzdCBtYW51YWxseSBwcmVzc2VkIGFzIFdpbmRvd3MgdGhlbiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBsb25nZXIgc2VuZHMgdGhlIGZha2UgQ3RybCBkb3duIGV2ZW50LiBJdFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBkb2VzIGhvd2V2ZXIgaGFwcGlseSBzZW5kIHJlYWwgQ3RybCBldmVudHNcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgZXZlbiB3aGVuIEFsdEdyIGlzIGFscmVhZHkgZG93bi4gU29tZVxuICAgICAgICAgICAgICAgIC8vICAgICAgICBicm93c2VycyBkZXRlY3QgdGhpcyBmb3IgdXMgdGhvdWdoIGFuZCBzZXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGtleSB0byBcIkFsdEdyYXBoXCIuXG4gICAgICAgICAgICAgICAga2V5c3ltID0gS2V5VGFibGUuWEtfSVNPX0xldmVsM19TaGlmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NvbnRyb2xfTCwgXCJDb250cm9sTGVmdFwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGNhbm5vdCBoYW5kbGUga2V5cyB3ZSBjYW5ub3QgdHJhY2ssIGJ1dCB3ZSBhbHNvIG5lZWRcbiAgICAgICAgLy8gdG8gZGVhbCB3aXRoIHZpcnR1YWwga2V5Ym9hcmRzIHdoaWNoIG9taXQga2V5IGluZm9cbiAgICAgICAgLy8gKGlPUyBvbWl0cyB0cmFja2luZyBpbmZvIG9uIGtleXVwIGV2ZW50cywgd2hpY2ggZm9yY2VzIHVzIHRvXG4gICAgICAgIC8vIHNwZWNpYWwgdHJlYXQgdGhhdCBwbGF0Zm9ybSBoZXJlKVxuICAgICAgICBpZiAoKGNvZGUgPT09ICdVbmlkZW50aWZpZWQnKSB8fCBicm93c2VyLmlzSU9TKCkpIHtcbiAgICAgICAgICAgIGlmIChrZXlzeW0pIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgdmlydHVhbCBrZXlib2FyZCB0aGVuIGl0IHNob3VsZCBiZVxuICAgICAgICAgICAgICAgIC8vIHN1ZmZpY2llbnQgdG8ganVzdCBzZW5kIHByZXNzIGFuZCByZWxlYXNlIHJpZ2h0XG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgZWFjaCBvdGhlclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWx0IGJlaGF2ZXMgbW9yZSBsaWtlIEFsdEdyYXBoIG9uIG1hY09TLCBzbyBzaHVmZmxlIHRoZVxuICAgICAgICAvLyBrZXlzIGFyb3VuZCBhIGJpdCB0byBtYWtlIHRoaW5ncyBtb3JlIHNhbmUgZm9yIHRoZSByZW1vdGVcbiAgICAgICAgLy8gc2VydmVyLiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IFJlYWxWTkMgYW5kIFRpZ2VyVk5DIChhbmRcbiAgICAgICAgLy8gcG9zc2libHkgb3RoZXJzKS5cbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSkge1xuICAgICAgICAgICAgc3dpdGNoIChrZXlzeW0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX1N1cGVyX0w6XG4gICAgICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX0FsdF9MO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX1N1cGVyX1I6XG4gICAgICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX1N1cGVyX0w7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgS2V5VGFibGUuWEtfQWx0X0w6XG4gICAgICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX01vZGVfc3dpdGNoO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX0FsdF9SOlxuICAgICAgICAgICAgICAgICAgICBrZXlzeW0gPSBLZXlUYWJsZS5YS19JU09fTGV2ZWwzX1NoaWZ0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzIHRoaXMga2V5IGFscmVhZHkgcHJlc3NlZD8gSWYgc28sIHRoZW4gd2UgbXVzdCB1c2UgdGhlXG4gICAgICAgIC8vIHNhbWUga2V5c3ltIG9yIHdlJ2xsIGNvbmZ1c2UgdGhlIHNlcnZlclxuICAgICAgICBpZiAoY29kZSBpbiB0aGlzLl9rZXlEb3duTGlzdCkge1xuICAgICAgICAgICAga2V5c3ltID0gdGhpcy5fa2V5RG93bkxpc3RbY29kZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWNPUyBkb2Vzbid0IHNlbmQgcHJvcGVyIGtleSBldmVudHMgZm9yIG1vZGlmaWVycywgb25seVxuICAgICAgICAvLyBzdGF0ZSBjaGFuZ2UgZXZlbnRzLiBUaGF0IGdldHMgZXh0cmEgY29uZnVzaW5nIGZvciBDYXBzTG9ja1xuICAgICAgICAvLyB3aGljaCB0b2dnbGVzIG9uIGVhY2ggcHJlc3MsIGJ1dCBub3Qgb24gcmVsZWFzZS4gU28gcHJldGVuZFxuICAgICAgICAvLyBpdCB3YXMgYSBxdWljayBwcmVzcyBhbmQgcmVsZWFzZSBvZiB0aGUgYnV0dG9uLlxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpICYmIChjb2RlID09PSAnQ2Fwc0xvY2snKSkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCBmYWxzZSk7XG4gICAgICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbGVnYWN5IGJyb3dzZXIgdGhlbiB3ZSdsbCBuZWVkIHRvIHdhaXQgZm9yXG4gICAgICAgIC8vIGEga2V5cHJlc3MgZXZlbnQgYXMgd2VsbFxuICAgICAgICAvLyAoSUUgYW5kIEVkZ2UgaGFzIGEgYnJva2VuIEtleWJvYXJkRXZlbnQua2V5LCBzbyB3ZSBjYW4ndFxuICAgICAgICAvLyBqdXN0IGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhhdCBmaWVsZClcbiAgICAgICAgaWYgKCFrZXlzeW0gJiYgKCFlLmtleSB8fCBicm93c2VyLmlzSUUoKSB8fCBicm93c2VyLmlzRWRnZSgpKSkge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0tleSA9IGNvZGU7XG4gICAgICAgICAgICAvLyBIb3dldmVyIHdlIG1pZ2h0IG5vdCBnZXQgYSBrZXlwcmVzcyBldmVudCBpZiB0aGUga2V5XG4gICAgICAgICAgICAvLyBpcyBub24tcHJpbnRhYmxlLCB3aGljaCBuZWVkcyBzb21lIHNwZWNpYWwgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIGhhbmRsaW5nXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX2hhbmRsZUtleVByZXNzVGltZW91dC5iaW5kKHRoaXMpLCAxMCwgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuXG4gICAgICAgIC8vIFBvc3NpYmxlIHN0YXJ0IG9mIEFsdEdyIHNlcXVlbmNlPyAoc2VlIGFib3ZlKVxuICAgICAgICBpZiAoKGNvZGUgPT09IFwiQ29udHJvbExlZnRcIikgJiYgYnJvd3Nlci5pc1dpbmRvd3MoKSAmJlxuICAgICAgICAgICAgIShcIkNvbnRyb2xMZWZ0XCIgaW4gdGhpcy5fa2V5RG93bkxpc3QpKSB7XG4gICAgICAgICAgICB0aGlzLl9hbHRHckFybWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2FsdEdyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5faGFuZGxlQWx0R3JUaW1lb3V0LmJpbmQodGhpcyksIDEwMCk7XG4gICAgICAgICAgICB0aGlzLl9hbHRHckN0cmxUaW1lID0gZS50aW1lU3RhbXA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgZXZlbnQgZm9yIGJyb3dzZXJzIHdpdGhvdXQgY29kZS9rZXlcbiAgICBfaGFuZGxlS2V5UHJlc3MoZSkge1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG5cbiAgICAgICAgLy8gQXJlIHdlIGV4cGVjdGluZyBhIGtleXByZXNzP1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0tleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvZGUgPSB0aGlzLl9nZXRLZXlDb2RlKGUpO1xuICAgICAgICBjb25zdCBrZXlzeW0gPSBLZXlib2FyZFV0aWwuZ2V0S2V5c3ltKGUpO1xuXG4gICAgICAgIC8vIFRoZSBrZXkgd2Ugd2VyZSB3YWl0aW5nIGZvcj9cbiAgICAgICAgaWYgKChjb2RlICE9PSAnVW5pZGVudGlmaWVkJykgJiYgKGNvZGUgIT0gdGhpcy5fcGVuZGluZ0tleSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvZGUgPSB0aGlzLl9wZW5kaW5nS2V5O1xuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcblxuICAgICAgICBpZiAoIWtleXN5bSkge1xuICAgICAgICAgICAgTG9nLkluZm8oJ2tleXByZXNzIHdpdGggbm8ga2V5c3ltOicsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUtleVByZXNzVGltZW91dChlKSB7XG4gICAgICAgIC8vIERpZCBzb21lb25lIG1hbmFnZSB0byBzb3J0IG91dCB0aGUga2V5IGFscmVhZHk/XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5c3ltO1xuXG4gICAgICAgIGNvbnN0IGNvZGUgPSB0aGlzLl9wZW5kaW5nS2V5O1xuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcblxuICAgICAgICAvLyBXZSBoYXZlIG5vIHdheSBvZiBrbm93aW5nIHRoZSBwcm9wZXIga2V5c3ltIHdpdGggdGhlXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIGdpdmVuLCBidXQgdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZSBmb3IgbW9zdFxuICAgICAgICAvLyBsYXlvdXRzXG4gICAgICAgIGlmICgoZS5rZXlDb2RlID49IDB4MzApICYmIChlLmtleUNvZGUgPD0gMHgzOSkpIHtcbiAgICAgICAgICAgIC8vIERpZ2l0XG4gICAgICAgICAgICBrZXlzeW0gPSBlLmtleUNvZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoKGUua2V5Q29kZSA+PSAweDQxKSAmJiAoZS5rZXlDb2RlIDw9IDB4NWEpKSB7XG4gICAgICAgICAgICAvLyBDaGFyYWN0ZXIgKEEtWilcbiAgICAgICAgICAgIGxldCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xuICAgICAgICAgICAgLy8gQSBmZWVibGUgYXR0ZW1wdCBhdCB0aGUgY29ycmVjdCBjYXNlXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGNoYXIgPSBjaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYXIgPSBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXlzeW0gPSBjaGFyLmNoYXJDb2RlQXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVua25vd24sIGdpdmUgdXBcbiAgICAgICAgICAgIGtleXN5bSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlS2V5VXAoZSkge1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG5cbiAgICAgICAgY29uc3QgY29kZSA9IHRoaXMuX2dldEtleUNvZGUoZSk7XG5cbiAgICAgICAgLy8gV2UgY2FuJ3QgZ2V0IGEgcmVsZWFzZSBpbiB0aGUgbWlkZGxlIG9mIGFuIEFsdEdyIHNlcXVlbmNlLCBzb1xuICAgICAgICAvLyBhYm9ydCB0aGF0IGRldGVjdGlvblxuICAgICAgICBpZiAodGhpcy5fYWx0R3JBcm1lZCkge1xuICAgICAgICAgICAgdGhpcy5fYWx0R3JBcm1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2FsdEdyVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIGNvbW1lbnQgaW4gX2hhbmRsZUtleURvd24oKVxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpICYmIChjb2RlID09PSAnQ2Fwc0xvY2snKSkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQodGhpcy5fa2V5RG93bkxpc3RbY29kZV0sIGNvZGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlQWx0R3JUaW1lb3V0KCkge1xuICAgICAgICB0aGlzLl9hbHRHckFybWVkID0gZmFsc2U7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hbHRHclRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIHRydWUpO1xuICAgIH1cblxuICAgIF9hbGxLZXlzVXAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IEtleWJvYXJkLmFsbEtleXNVcFwiKTtcbiAgICAgICAgZm9yIChsZXQgY29kZSBpbiB0aGlzLl9rZXlEb3duTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KHRoaXMuX2tleURvd25MaXN0W2NvZGVdLCBjb2RlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgS2V5Ym9hcmQuYWxsS2V5c1VwXCIpO1xuICAgIH1cblxuICAgIC8vIEZpcmVmb3ggQWx0IHdvcmthcm91bmQsIHNlZSBiZWxvd1xuICAgIF9jaGVja0FsdChlKSB7XG4gICAgICAgIGlmIChlLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgICBjb25zdCBkb3duTGlzdCA9IHRoaXMuX2tleURvd25MaXN0O1xuICAgICAgICBbJ0FsdExlZnQnLCAnQWx0UmlnaHQnXS5mb3JFYWNoKChjb2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIShjb2RlIGluIGRvd25MaXN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5dXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogZG93bkxpc3RbY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29kZSB9KTtcbiAgICAgICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gPT09PT0gUFVCTElDIE1FVEhPRFMgPT09PT1cblxuICAgIGdyYWIoKSB7XG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQuZ3JhYlwiKTtcblxuICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5ZG93bik7XG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5dXApO1xuICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXByZXNzKTtcblxuICAgICAgICAvLyBSZWxlYXNlIChrZXkgdXApIGlmIHdpbmRvdyBsb3NlcyBmb2N1c1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2V2ZW50SGFuZGxlcnMuYmx1cik7XG5cbiAgICAgICAgLy8gRmlyZWZveCBoYXMgYnJva2VuIGhhbmRsaW5nIG9mIEFsdCwgc28gd2UgbmVlZCB0byBwb2xsIGFzXG4gICAgICAgIC8vIGJlc3Qgd2UgY2FuIGZvciByZWxlYXNlcyAoc3RpbGwgZG9lc24ndCBwcmV2ZW50IHRoZSBtZW51XG4gICAgICAgIC8vIGZyb20gcG9wcGluZyB1cCB0aG91Z2ggYXMgd2UgY2FuJ3QgY2FsbCBwcmV2ZW50RGVmYXVsdCgpKVxuICAgICAgICBpZiAoYnJvd3Nlci5pc1dpbmRvd3MoKSAmJiBicm93c2VyLmlzRmlyZWZveCgpKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fZXZlbnRIYW5kbGVycy5jaGVja2FsdDtcbiAgICAgICAgICAgIFsnbW91c2Vkb3duJywgJ21vdXNldXAnLCAnbW91c2Vtb3ZlJywgJ3doZWVsJyxcbiAgICAgICAgICAgICAndG91Y2hzdGFydCcsICd0b3VjaGVuZCcsICd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgICdrZXlkb3duJywgJ2tleXVwJ10uZm9yRWFjaCh0eXBlID0+XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjYXB0dXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiB0cnVlIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPDwgS2V5Ym9hcmQuZ3JhYlwiKTtcbiAgICB9XG5cbiAgICB1bmdyYWIoKSB7XG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQudW5ncmFiXCIpO1xuXG4gICAgICAgIGlmIChicm93c2VyLmlzV2luZG93cygpICYmIGJyb3dzZXIuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9ldmVudEhhbmRsZXJzLmNoZWNrYWx0O1xuICAgICAgICAgICAgWydtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZW1vdmUnLCAnd2hlZWwnLFxuICAgICAgICAgICAgICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3RvdWNobW92ZScsXG4gICAgICAgICAgICAgJ2tleWRvd24nLCAna2V5dXAnXS5mb3JFYWNoKHR5cGUgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5ZG93bik7XG4gICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5dXApO1xuICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXByZXNzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9ldmVudEhhbmRsZXJzLmJsdXIpO1xuXG4gICAgICAgIC8vIFJlbGVhc2UgKGtleSB1cCkgYWxsIGtleXMgdGhhdCBhcmUgaW4gYSBkb3duIHN0YXRlXG4gICAgICAgIHRoaXMuX2FsbEtleXNVcCgpO1xuXG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQudW5ncmFiXCIpO1xuICAgIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGtleS1zcGFjaW5nICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBYS19Wb2lkU3ltYm9sOiAgICAgICAgICAgICAgICAgIDB4ZmZmZmZmLCAvKiBWb2lkIHN5bWJvbCAqL1xuXG4gICAgWEtfQmFja1NwYWNlOiAgICAgICAgICAgICAgICAgICAweGZmMDgsIC8qIEJhY2sgc3BhY2UsIGJhY2sgY2hhciAqL1xuICAgIFhLX1RhYjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjA5LFxuICAgIFhLX0xpbmVmZWVkOiAgICAgICAgICAgICAgICAgICAgMHhmZjBhLCAvKiBMaW5lZmVlZCwgTEYgKi9cbiAgICBYS19DbGVhcjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmYwYixcbiAgICBYS19SZXR1cm46ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYwZCwgLyogUmV0dXJuLCBlbnRlciAqL1xuICAgIFhLX1BhdXNlOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjEzLCAvKiBQYXVzZSwgaG9sZCAqL1xuICAgIFhLX1Njcm9sbF9Mb2NrOiAgICAgICAgICAgICAgICAgMHhmZjE0LFxuICAgIFhLX1N5c19SZXE6ICAgICAgICAgICAgICAgICAgICAgMHhmZjE1LFxuICAgIFhLX0VzY2FwZTogICAgICAgICAgICAgICAgICAgICAgMHhmZjFiLFxuICAgIFhLX0RlbGV0ZTogICAgICAgICAgICAgICAgICAgICAgMHhmZmZmLCAvKiBEZWxldGUsIHJ1Ym91dCAqL1xuXG4gICAgLyogSW50ZXJuYXRpb25hbCAmIG11bHRpLWtleSBjaGFyYWN0ZXIgY29tcG9zaXRpb24gKi9cblxuICAgIFhLX011bHRpX2tleTogICAgICAgICAgICAgICAgICAgMHhmZjIwLCAvKiBNdWx0aS1rZXkgY2hhcmFjdGVyIGNvbXBvc2UgKi9cbiAgICBYS19Db2RlaW5wdXQ6ICAgICAgICAgICAgICAgICAgIDB4ZmYzNyxcbiAgICBYS19TaW5nbGVDYW5kaWRhdGU6ICAgICAgICAgICAgIDB4ZmYzYyxcbiAgICBYS19NdWx0aXBsZUNhbmRpZGF0ZTogICAgICAgICAgIDB4ZmYzZCxcbiAgICBYS19QcmV2aW91c0NhbmRpZGF0ZTogICAgICAgICAgIDB4ZmYzZSxcblxuICAgIC8qIEphcGFuZXNlIGtleWJvYXJkIHN1cHBvcnQgKi9cblxuICAgIFhLX0thbmppOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjIxLCAvKiBLYW5qaSwgS2FuamkgY29udmVydCAqL1xuICAgIFhLX011aGVua2FuOiAgICAgICAgICAgICAgICAgICAgMHhmZjIyLCAvKiBDYW5jZWwgQ29udmVyc2lvbiAqL1xuICAgIFhLX0hlbmthbl9Nb2RlOiAgICAgICAgICAgICAgICAgMHhmZjIzLCAvKiBTdGFydC9TdG9wIENvbnZlcnNpb24gKi9cbiAgICBYS19IZW5rYW46ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyMywgLyogQWxpYXMgZm9yIEhlbmthbl9Nb2RlICovXG4gICAgWEtfUm9tYWppOiAgICAgICAgICAgICAgICAgICAgICAweGZmMjQsIC8qIHRvIFJvbWFqaSAqL1xuICAgIFhLX0hpcmFnYW5hOiAgICAgICAgICAgICAgICAgICAgMHhmZjI1LCAvKiB0byBIaXJhZ2FuYSAqL1xuICAgIFhLX0thdGFrYW5hOiAgICAgICAgICAgICAgICAgICAgMHhmZjI2LCAvKiB0byBLYXRha2FuYSAqL1xuICAgIFhLX0hpcmFnYW5hX0thdGFrYW5hOiAgICAgICAgICAgMHhmZjI3LCAvKiBIaXJhZ2FuYS9LYXRha2FuYSB0b2dnbGUgKi9cbiAgICBYS19aZW5rYWt1OiAgICAgICAgICAgICAgICAgICAgIDB4ZmYyOCwgLyogdG8gWmVua2FrdSAqL1xuICAgIFhLX0hhbmtha3U6ICAgICAgICAgICAgICAgICAgICAgMHhmZjI5LCAvKiB0byBIYW5rYWt1ICovXG4gICAgWEtfWmVua2FrdV9IYW5rYWt1OiAgICAgICAgICAgICAweGZmMmEsIC8qIFplbmtha3UvSGFua2FrdSB0b2dnbGUgKi9cbiAgICBYS19Ub3Vyb2t1OiAgICAgICAgICAgICAgICAgICAgIDB4ZmYyYiwgLyogQWRkIHRvIERpY3Rpb25hcnkgKi9cbiAgICBYS19NYXNzeW86ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyYywgLyogRGVsZXRlIGZyb20gRGljdGlvbmFyeSAqL1xuICAgIFhLX0thbmFfTG9jazogICAgICAgICAgICAgICAgICAgMHhmZjJkLCAvKiBLYW5hIExvY2sgKi9cbiAgICBYS19LYW5hX1NoaWZ0OiAgICAgICAgICAgICAgICAgIDB4ZmYyZSwgLyogS2FuYSBTaGlmdCAqL1xuICAgIFhLX0Vpc3VfU2hpZnQ6ICAgICAgICAgICAgICAgICAgMHhmZjJmLCAvKiBBbHBoYW51bWVyaWMgU2hpZnQgKi9cbiAgICBYS19FaXN1X3RvZ2dsZTogICAgICAgICAgICAgICAgIDB4ZmYzMCwgLyogQWxwaGFudW1lcmljIHRvZ2dsZSAqL1xuICAgIFhLX0thbmppX0JhbmdvdTogICAgICAgICAgICAgICAgMHhmZjM3LCAvKiBDb2RlaW5wdXQgKi9cbiAgICBYS19aZW5fS29obzogICAgICAgICAgICAgICAgICAgIDB4ZmYzZCwgLyogTXVsdGlwbGUvQWxsIENhbmRpZGF0ZShzKSAqL1xuICAgIFhLX01hZV9Lb2hvOiAgICAgICAgICAgICAgICAgICAgMHhmZjNlLCAvKiBQcmV2aW91cyBDYW5kaWRhdGUgKi9cblxuICAgIC8qIEN1cnNvciBjb250cm9sICYgbW90aW9uICovXG5cbiAgICBYS19Ib21lOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MCxcbiAgICBYS19MZWZ0OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MSwgLyogTW92ZSBsZWZ0LCBsZWZ0IGFycm93ICovXG4gICAgWEtfVXA6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmNTIsIC8qIE1vdmUgdXAsIHVwIGFycm93ICovXG4gICAgWEtfUmlnaHQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNTMsIC8qIE1vdmUgcmlnaHQsIHJpZ2h0IGFycm93ICovXG4gICAgWEtfRG93bjogICAgICAgICAgICAgICAgICAgICAgICAweGZmNTQsIC8qIE1vdmUgZG93biwgZG93biBhcnJvdyAqL1xuICAgIFhLX1ByaW9yOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU1LCAvKiBQcmlvciwgcHJldmlvdXMgKi9cbiAgICBYS19QYWdlX1VwOiAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NSxcbiAgICBYS19OZXh0OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NiwgLyogTmV4dCAqL1xuICAgIFhLX1BhZ2VfRG93bjogICAgICAgICAgICAgICAgICAgMHhmZjU2LFxuICAgIFhLX0VuZDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU3LCAvKiBFT0wgKi9cbiAgICBYS19CZWdpbjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1OCwgLyogQk9MICovXG5cblxuICAgIC8qIE1pc2MgZnVuY3Rpb25zICovXG5cbiAgICBYS19TZWxlY3Q6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MCwgLyogU2VsZWN0LCBtYXJrICovXG4gICAgWEtfUHJpbnQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNjEsXG4gICAgWEtfRXhlY3V0ZTogICAgICAgICAgICAgICAgICAgICAweGZmNjIsIC8qIEV4ZWN1dGUsIHJ1biwgZG8gKi9cbiAgICBYS19JbnNlcnQ6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MywgLyogSW5zZXJ0LCBpbnNlcnQgaGVyZSAqL1xuICAgIFhLX1VuZG86ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY1LFxuICAgIFhLX1JlZG86ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY2LCAvKiBSZWRvLCBhZ2FpbiAqL1xuICAgIFhLX01lbnU6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY3LFxuICAgIFhLX0ZpbmQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY4LCAvKiBGaW5kLCBzZWFyY2ggKi9cbiAgICBYS19DYW5jZWw6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2OSwgLyogQ2FuY2VsLCBzdG9wLCBhYm9ydCwgZXhpdCAqL1xuICAgIFhLX0hlbHA6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjZhLCAvKiBIZWxwICovXG4gICAgWEtfQnJlYWs6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNmIsXG4gICAgWEtfTW9kZV9zd2l0Y2g6ICAgICAgICAgICAgICAgICAweGZmN2UsIC8qIENoYXJhY3RlciBzZXQgc3dpdGNoICovXG4gICAgWEtfc2NyaXB0X3N3aXRjaDogICAgICAgICAgICAgICAweGZmN2UsIC8qIEFsaWFzIGZvciBtb2RlX3N3aXRjaCAqL1xuICAgIFhLX051bV9Mb2NrOiAgICAgICAgICAgICAgICAgICAgMHhmZjdmLFxuXG4gICAgLyogS2V5cGFkIGZ1bmN0aW9ucywga2V5cGFkIG51bWJlcnMgY2xldmVybHkgY2hvc2VuIHRvIG1hcCB0byBBU0NJSSAqL1xuXG4gICAgWEtfS1BfU3BhY2U6ICAgICAgICAgICAgICAgICAgICAweGZmODAsIC8qIFNwYWNlICovXG4gICAgWEtfS1BfVGFiOiAgICAgICAgICAgICAgICAgICAgICAweGZmODksXG4gICAgWEtfS1BfRW50ZXI6ICAgICAgICAgICAgICAgICAgICAweGZmOGQsIC8qIEVudGVyICovXG4gICAgWEtfS1BfRjE6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTEsIC8qIFBGMSwgS1BfQSwgLi4uICovXG4gICAgWEtfS1BfRjI6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTIsXG4gICAgWEtfS1BfRjM6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTMsXG4gICAgWEtfS1BfRjQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTQsXG4gICAgWEtfS1BfSG9tZTogICAgICAgICAgICAgICAgICAgICAweGZmOTUsXG4gICAgWEtfS1BfTGVmdDogICAgICAgICAgICAgICAgICAgICAweGZmOTYsXG4gICAgWEtfS1BfVXA6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTcsXG4gICAgWEtfS1BfUmlnaHQ6ICAgICAgICAgICAgICAgICAgICAweGZmOTgsXG4gICAgWEtfS1BfRG93bjogICAgICAgICAgICAgICAgICAgICAweGZmOTksXG4gICAgWEtfS1BfUHJpb3I6ICAgICAgICAgICAgICAgICAgICAweGZmOWEsXG4gICAgWEtfS1BfUGFnZV9VcDogICAgICAgICAgICAgICAgICAweGZmOWEsXG4gICAgWEtfS1BfTmV4dDogICAgICAgICAgICAgICAgICAgICAweGZmOWIsXG4gICAgWEtfS1BfUGFnZV9Eb3duOiAgICAgICAgICAgICAgICAweGZmOWIsXG4gICAgWEtfS1BfRW5kOiAgICAgICAgICAgICAgICAgICAgICAweGZmOWMsXG4gICAgWEtfS1BfQmVnaW46ICAgICAgICAgICAgICAgICAgICAweGZmOWQsXG4gICAgWEtfS1BfSW5zZXJ0OiAgICAgICAgICAgICAgICAgICAweGZmOWUsXG4gICAgWEtfS1BfRGVsZXRlOiAgICAgICAgICAgICAgICAgICAweGZmOWYsXG4gICAgWEtfS1BfRXF1YWw6ICAgICAgICAgICAgICAgICAgICAweGZmYmQsIC8qIEVxdWFscyAqL1xuICAgIFhLX0tQX011bHRpcGx5OiAgICAgICAgICAgICAgICAgMHhmZmFhLFxuICAgIFhLX0tQX0FkZDogICAgICAgICAgICAgICAgICAgICAgMHhmZmFiLFxuICAgIFhLX0tQX1NlcGFyYXRvcjogICAgICAgICAgICAgICAgMHhmZmFjLCAvKiBTZXBhcmF0b3IsIG9mdGVuIGNvbW1hICovXG4gICAgWEtfS1BfU3VidHJhY3Q6ICAgICAgICAgICAgICAgICAweGZmYWQsXG4gICAgWEtfS1BfRGVjaW1hbDogICAgICAgICAgICAgICAgICAweGZmYWUsXG4gICAgWEtfS1BfRGl2aWRlOiAgICAgICAgICAgICAgICAgICAweGZmYWYsXG5cbiAgICBYS19LUF8wOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMCxcbiAgICBYS19LUF8xOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMSxcbiAgICBYS19LUF8yOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMixcbiAgICBYS19LUF8zOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMyxcbiAgICBYS19LUF80OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNCxcbiAgICBYS19LUF81OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNSxcbiAgICBYS19LUF82OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNixcbiAgICBYS19LUF83OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNyxcbiAgICBYS19LUF84OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiOCxcbiAgICBYS19LUF85OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiOSxcblxuICAgIC8qXG4gICAgICogQXV4aWxpYXJ5IGZ1bmN0aW9uczsgbm90ZSB0aGUgZHVwbGljYXRlIGRlZmluaXRpb25zIGZvciBsZWZ0IGFuZCByaWdodFxuICAgICAqIGZ1bmN0aW9uIGtleXM7ICBTdW4ga2V5Ym9hcmRzIGFuZCBhIGZldyBvdGhlciBtYW51ZmFjdHVyZXJzIGhhdmUgc3VjaFxuICAgICAqIGZ1bmN0aW9uIGtleSBncm91cHMgb24gdGhlIGxlZnQgYW5kL29yIHJpZ2h0IHNpZGVzIG9mIHRoZSBrZXlib2FyZC5cbiAgICAgKiBXZSd2ZSBub3QgZm91bmQgYSBrZXlib2FyZCB3aXRoIG1vcmUgdGhhbiAzNSBmdW5jdGlvbiBrZXlzIHRvdGFsLlxuICAgICAqL1xuXG4gICAgWEtfRjE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYmUsXG4gICAgWEtfRjI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYmYsXG4gICAgWEtfRjM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzAsXG4gICAgWEtfRjQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzEsXG4gICAgWEtfRjU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzIsXG4gICAgWEtfRjY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzMsXG4gICAgWEtfRjc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzQsXG4gICAgWEtfRjg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzUsXG4gICAgWEtfRjk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzYsXG4gICAgWEtfRjEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzcsXG4gICAgWEtfRjExOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzgsXG4gICAgWEtfTDE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzgsXG4gICAgWEtfRjEyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzksXG4gICAgWEtfTDI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzksXG4gICAgWEtfRjEzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2EsXG4gICAgWEtfTDM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2EsXG4gICAgWEtfRjE0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2IsXG4gICAgWEtfTDQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2IsXG4gICAgWEtfRjE1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2MsXG4gICAgWEtfTDU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2MsXG4gICAgWEtfRjE2OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2QsXG4gICAgWEtfTDY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2QsXG4gICAgWEtfRjE3OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2UsXG4gICAgWEtfTDc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2UsXG4gICAgWEtfRjE4OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2YsXG4gICAgWEtfTDg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2YsXG4gICAgWEtfRjE5OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDAsXG4gICAgWEtfTDk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDAsXG4gICAgWEtfRjIwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDEsXG4gICAgWEtfTDEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDEsXG4gICAgWEtfRjIxOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDIsXG4gICAgWEtfUjE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDIsXG4gICAgWEtfRjIyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDMsXG4gICAgWEtfUjI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDMsXG4gICAgWEtfRjIzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDQsXG4gICAgWEtfUjM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDQsXG4gICAgWEtfRjI0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDUsXG4gICAgWEtfUjQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDUsXG4gICAgWEtfRjI1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDYsXG4gICAgWEtfUjU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDYsXG4gICAgWEtfRjI2OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDcsXG4gICAgWEtfUjY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDcsXG4gICAgWEtfRjI3OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDgsXG4gICAgWEtfUjc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDgsXG4gICAgWEtfRjI4OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDksXG4gICAgWEtfUjg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDksXG4gICAgWEtfRjI5OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGEsXG4gICAgWEtfUjk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGEsXG4gICAgWEtfRjMwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGIsXG4gICAgWEtfUjEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGIsXG4gICAgWEtfRjMxOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGMsXG4gICAgWEtfUjExOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGMsXG4gICAgWEtfRjMyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGQsXG4gICAgWEtfUjEyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGQsXG4gICAgWEtfRjMzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGUsXG4gICAgWEtfUjEzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGUsXG4gICAgWEtfRjM0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGYsXG4gICAgWEtfUjE0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGYsXG4gICAgWEtfRjM1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZTAsXG4gICAgWEtfUjE1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZTAsXG5cbiAgICAvKiBNb2RpZmllcnMgKi9cblxuICAgIFhLX1NoaWZ0X0w6ICAgICAgICAgICAgICAgICAgICAgMHhmZmUxLCAvKiBMZWZ0IHNoaWZ0ICovXG4gICAgWEtfU2hpZnRfUjogICAgICAgICAgICAgICAgICAgICAweGZmZTIsIC8qIFJpZ2h0IHNoaWZ0ICovXG4gICAgWEtfQ29udHJvbF9MOiAgICAgICAgICAgICAgICAgICAweGZmZTMsIC8qIExlZnQgY29udHJvbCAqL1xuICAgIFhLX0NvbnRyb2xfUjogICAgICAgICAgICAgICAgICAgMHhmZmU0LCAvKiBSaWdodCBjb250cm9sICovXG4gICAgWEtfQ2Fwc19Mb2NrOiAgICAgICAgICAgICAgICAgICAweGZmZTUsIC8qIENhcHMgbG9jayAqL1xuICAgIFhLX1NoaWZ0X0xvY2s6ICAgICAgICAgICAgICAgICAgMHhmZmU2LCAvKiBTaGlmdCBsb2NrICovXG5cbiAgICBYS19NZXRhX0w6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlNywgLyogTGVmdCBtZXRhICovXG4gICAgWEtfTWV0YV9SOiAgICAgICAgICAgICAgICAgICAgICAweGZmZTgsIC8qIFJpZ2h0IG1ldGEgKi9cbiAgICBYS19BbHRfTDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlOSwgLyogTGVmdCBhbHQgKi9cbiAgICBYS19BbHRfUjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlYSwgLyogUmlnaHQgYWx0ICovXG4gICAgWEtfU3VwZXJfTDogICAgICAgICAgICAgICAgICAgICAweGZmZWIsIC8qIExlZnQgc3VwZXIgKi9cbiAgICBYS19TdXBlcl9SOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlYywgLyogUmlnaHQgc3VwZXIgKi9cbiAgICBYS19IeXBlcl9MOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlZCwgLyogTGVmdCBoeXBlciAqL1xuICAgIFhLX0h5cGVyX1I6ICAgICAgICAgICAgICAgICAgICAgMHhmZmVlLCAvKiBSaWdodCBoeXBlciAqL1xuXG4gICAgLypcbiAgICAgKiBLZXlib2FyZCAoWEtCKSBFeHRlbnNpb24gZnVuY3Rpb24gYW5kIG1vZGlmaWVyIGtleXNcbiAgICAgKiAoZnJvbSBBcHBlbmRpeCBDIG9mIFwiVGhlIFggS2V5Ym9hcmQgRXh0ZW5zaW9uOiBQcm90b2NvbCBTcGVjaWZpY2F0aW9uXCIpXG4gICAgICogQnl0ZSAzID0gMHhmZVxuICAgICAqL1xuXG4gICAgWEtfSVNPX0xldmVsM19TaGlmdDogICAgICAgICAgICAweGZlMDMsIC8qIEFsdEdyICovXG4gICAgWEtfSVNPX05leHRfR3JvdXA6ICAgICAgICAgICAgICAweGZlMDgsXG4gICAgWEtfSVNPX1ByZXZfR3JvdXA6ICAgICAgICAgICAgICAweGZlMGEsXG4gICAgWEtfSVNPX0ZpcnN0X0dyb3VwOiAgICAgICAgICAgICAweGZlMGMsXG4gICAgWEtfSVNPX0xhc3RfR3JvdXA6ICAgICAgICAgICAgICAweGZlMGUsXG5cbiAgICAvKlxuICAgICAqIExhdGluIDFcbiAgICAgKiAoSVNPL0lFQyA4ODU5LTE6IFVuaWNvZGUgVSswMDIwLi5VKzAwRkYpXG4gICAgICogQnl0ZSAzOiAwXG4gICAgICovXG5cbiAgICBYS19zcGFjZTogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyMCwgLyogVSswMDIwIFNQQUNFICovXG4gICAgWEtfZXhjbGFtOiAgICAgICAgICAgICAgICAgICAgICAweDAwMjEsIC8qIFUrMDAyMSBFWENMQU1BVElPTiBNQVJLICovXG4gICAgWEtfcXVvdGVkYmw6ICAgICAgICAgICAgICAgICAgICAweDAwMjIsIC8qIFUrMDAyMiBRVU9UQVRJT04gTUFSSyAqL1xuICAgIFhLX251bWJlcnNpZ246ICAgICAgICAgICAgICAgICAgMHgwMDIzLCAvKiBVKzAwMjMgTlVNQkVSIFNJR04gKi9cbiAgICBYS19kb2xsYXI6ICAgICAgICAgICAgICAgICAgICAgIDB4MDAyNCwgLyogVSswMDI0IERPTExBUiBTSUdOICovXG4gICAgWEtfcGVyY2VudDogICAgICAgICAgICAgICAgICAgICAweDAwMjUsIC8qIFUrMDAyNSBQRVJDRU5UIFNJR04gKi9cbiAgICBYS19hbXBlcnNhbmQ6ICAgICAgICAgICAgICAgICAgIDB4MDAyNiwgLyogVSswMDI2IEFNUEVSU0FORCAqL1xuICAgIFhLX2Fwb3N0cm9waGU6ICAgICAgICAgICAgICAgICAgMHgwMDI3LCAvKiBVKzAwMjcgQVBPU1RST1BIRSAqL1xuICAgIFhLX3F1b3RlcmlnaHQ6ICAgICAgICAgICAgICAgICAgMHgwMDI3LCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfcGFyZW5sZWZ0OiAgICAgICAgICAgICAgICAgICAweDAwMjgsIC8qIFUrMDAyOCBMRUZUIFBBUkVOVEhFU0lTICovXG4gICAgWEtfcGFyZW5yaWdodDogICAgICAgICAgICAgICAgICAweDAwMjksIC8qIFUrMDAyOSBSSUdIVCBQQVJFTlRIRVNJUyAqL1xuICAgIFhLX2FzdGVyaXNrOiAgICAgICAgICAgICAgICAgICAgMHgwMDJhLCAvKiBVKzAwMkEgQVNURVJJU0sgKi9cbiAgICBYS19wbHVzOiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAyYiwgLyogVSswMDJCIFBMVVMgU0lHTiAqL1xuICAgIFhLX2NvbW1hOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDJjLCAvKiBVKzAwMkMgQ09NTUEgKi9cbiAgICBYS19taW51czogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyZCwgLyogVSswMDJEIEhZUEhFTi1NSU5VUyAqL1xuICAgIFhLX3BlcmlvZDogICAgICAgICAgICAgICAgICAgICAgMHgwMDJlLCAvKiBVKzAwMkUgRlVMTCBTVE9QICovXG4gICAgWEtfc2xhc2g6ICAgICAgICAgICAgICAgICAgICAgICAweDAwMmYsIC8qIFUrMDAyRiBTT0xJRFVTICovXG4gICAgWEtfMDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzAsIC8qIFUrMDAzMCBESUdJVCBaRVJPICovXG4gICAgWEtfMTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzEsIC8qIFUrMDAzMSBESUdJVCBPTkUgKi9cbiAgICBYS18yOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzMiwgLyogVSswMDMyIERJR0lUIFRXTyAqL1xuICAgIFhLXzM6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDMzLCAvKiBVKzAwMzMgRElHSVQgVEhSRUUgKi9cbiAgICBYS180OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNCwgLyogVSswMDM0IERJR0lUIEZPVVIgKi9cbiAgICBYS181OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNSwgLyogVSswMDM1IERJR0lUIEZJVkUgKi9cbiAgICBYS182OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNiwgLyogVSswMDM2IERJR0lUIFNJWCAqL1xuICAgIFhLXzc6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM3LCAvKiBVKzAwMzcgRElHSVQgU0VWRU4gKi9cbiAgICBYS184OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzOCwgLyogVSswMDM4IERJR0lUIEVJR0hUICovXG4gICAgWEtfOTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzksIC8qIFUrMDAzOSBESUdJVCBOSU5FICovXG4gICAgWEtfY29sb246ICAgICAgICAgICAgICAgICAgICAgICAweDAwM2EsIC8qIFUrMDAzQSBDT0xPTiAqL1xuICAgIFhLX3NlbWljb2xvbjogICAgICAgICAgICAgICAgICAgMHgwMDNiLCAvKiBVKzAwM0IgU0VNSUNPTE9OICovXG4gICAgWEtfbGVzczogICAgICAgICAgICAgICAgICAgICAgICAweDAwM2MsIC8qIFUrMDAzQyBMRVNTLVRIQU4gU0lHTiAqL1xuICAgIFhLX2VxdWFsOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDNkLCAvKiBVKzAwM0QgRVFVQUxTIFNJR04gKi9cbiAgICBYS19ncmVhdGVyOiAgICAgICAgICAgICAgICAgICAgIDB4MDAzZSwgLyogVSswMDNFIEdSRUFURVItVEhBTiBTSUdOICovXG4gICAgWEtfcXVlc3Rpb246ICAgICAgICAgICAgICAgICAgICAweDAwM2YsIC8qIFUrMDAzRiBRVUVTVElPTiBNQVJLICovXG4gICAgWEtfYXQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDAsIC8qIFUrMDA0MCBDT01NRVJDSUFMIEFUICovXG4gICAgWEtfQTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDEsIC8qIFUrMDA0MSBMQVRJTiBDQVBJVEFMIExFVFRFUiBBICovXG4gICAgWEtfQjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDIsIC8qIFUrMDA0MiBMQVRJTiBDQVBJVEFMIExFVFRFUiBCICovXG4gICAgWEtfQzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDMsIC8qIFUrMDA0MyBMQVRJTiBDQVBJVEFMIExFVFRFUiBDICovXG4gICAgWEtfRDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDQsIC8qIFUrMDA0NCBMQVRJTiBDQVBJVEFMIExFVFRFUiBEICovXG4gICAgWEtfRTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDUsIC8qIFUrMDA0NSBMQVRJTiBDQVBJVEFMIExFVFRFUiBFICovXG4gICAgWEtfRjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDYsIC8qIFUrMDA0NiBMQVRJTiBDQVBJVEFMIExFVFRFUiBGICovXG4gICAgWEtfRzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDcsIC8qIFUrMDA0NyBMQVRJTiBDQVBJVEFMIExFVFRFUiBHICovXG4gICAgWEtfSDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDgsIC8qIFUrMDA0OCBMQVRJTiBDQVBJVEFMIExFVFRFUiBIICovXG4gICAgWEtfSTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDksIC8qIFUrMDA0OSBMQVRJTiBDQVBJVEFMIExFVFRFUiBJICovXG4gICAgWEtfSjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGEsIC8qIFUrMDA0QSBMQVRJTiBDQVBJVEFMIExFVFRFUiBKICovXG4gICAgWEtfSzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGIsIC8qIFUrMDA0QiBMQVRJTiBDQVBJVEFMIExFVFRFUiBLICovXG4gICAgWEtfTDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGMsIC8qIFUrMDA0QyBMQVRJTiBDQVBJVEFMIExFVFRFUiBMICovXG4gICAgWEtfTTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGQsIC8qIFUrMDA0RCBMQVRJTiBDQVBJVEFMIExFVFRFUiBNICovXG4gICAgWEtfTjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGUsIC8qIFUrMDA0RSBMQVRJTiBDQVBJVEFMIExFVFRFUiBOICovXG4gICAgWEtfTzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGYsIC8qIFUrMDA0RiBMQVRJTiBDQVBJVEFMIExFVFRFUiBPICovXG4gICAgWEtfUDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTAsIC8qIFUrMDA1MCBMQVRJTiBDQVBJVEFMIExFVFRFUiBQICovXG4gICAgWEtfUTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTEsIC8qIFUrMDA1MSBMQVRJTiBDQVBJVEFMIExFVFRFUiBRICovXG4gICAgWEtfUjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTIsIC8qIFUrMDA1MiBMQVRJTiBDQVBJVEFMIExFVFRFUiBSICovXG4gICAgWEtfUzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTMsIC8qIFUrMDA1MyBMQVRJTiBDQVBJVEFMIExFVFRFUiBTICovXG4gICAgWEtfVDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTQsIC8qIFUrMDA1NCBMQVRJTiBDQVBJVEFMIExFVFRFUiBUICovXG4gICAgWEtfVTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTUsIC8qIFUrMDA1NSBMQVRJTiBDQVBJVEFMIExFVFRFUiBVICovXG4gICAgWEtfVjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTYsIC8qIFUrMDA1NiBMQVRJTiBDQVBJVEFMIExFVFRFUiBWICovXG4gICAgWEtfVzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTcsIC8qIFUrMDA1NyBMQVRJTiBDQVBJVEFMIExFVFRFUiBXICovXG4gICAgWEtfWDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTgsIC8qIFUrMDA1OCBMQVRJTiBDQVBJVEFMIExFVFRFUiBYICovXG4gICAgWEtfWTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTksIC8qIFUrMDA1OSBMQVRJTiBDQVBJVEFMIExFVFRFUiBZICovXG4gICAgWEtfWjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNWEsIC8qIFUrMDA1QSBMQVRJTiBDQVBJVEFMIExFVFRFUiBaICovXG4gICAgWEtfYnJhY2tldGxlZnQ6ICAgICAgICAgICAgICAgICAweDAwNWIsIC8qIFUrMDA1QiBMRUZUIFNRVUFSRSBCUkFDS0VUICovXG4gICAgWEtfYmFja3NsYXNoOiAgICAgICAgICAgICAgICAgICAweDAwNWMsIC8qIFUrMDA1QyBSRVZFUlNFIFNPTElEVVMgKi9cbiAgICBYS19icmFja2V0cmlnaHQ6ICAgICAgICAgICAgICAgIDB4MDA1ZCwgLyogVSswMDVEIFJJR0hUIFNRVUFSRSBCUkFDS0VUICovXG4gICAgWEtfYXNjaWljaXJjdW06ICAgICAgICAgICAgICAgICAweDAwNWUsIC8qIFUrMDA1RSBDSVJDVU1GTEVYIEFDQ0VOVCAqL1xuICAgIFhLX3VuZGVyc2NvcmU6ICAgICAgICAgICAgICAgICAgMHgwMDVmLCAvKiBVKzAwNUYgTE9XIExJTkUgKi9cbiAgICBYS19ncmF2ZTogICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MCwgLyogVSswMDYwIEdSQVZFIEFDQ0VOVCAqL1xuICAgIFhLX3F1b3RlbGVmdDogICAgICAgICAgICAgICAgICAgMHgwMDYwLCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfYTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjEsIC8qIFUrMDA2MSBMQVRJTiBTTUFMTCBMRVRURVIgQSAqL1xuICAgIFhLX2I6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDYyLCAvKiBVKzAwNjIgTEFUSU4gU01BTEwgTEVUVEVSIEIgKi9cbiAgICBYS19jOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MywgLyogVSswMDYzIExBVElOIFNNQUxMIExFVFRFUiBDICovXG4gICAgWEtfZDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjQsIC8qIFUrMDA2NCBMQVRJTiBTTUFMTCBMRVRURVIgRCAqL1xuICAgIFhLX2U6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY1LCAvKiBVKzAwNjUgTEFUSU4gU01BTEwgTEVUVEVSIEUgKi9cbiAgICBYS19mOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2NiwgLyogVSswMDY2IExBVElOIFNNQUxMIExFVFRFUiBGICovXG4gICAgWEtfZzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjcsIC8qIFUrMDA2NyBMQVRJTiBTTUFMTCBMRVRURVIgRyAqL1xuICAgIFhLX2g6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY4LCAvKiBVKzAwNjggTEFUSU4gU01BTEwgTEVUVEVSIEggKi9cbiAgICBYS19pOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2OSwgLyogVSswMDY5IExBVElOIFNNQUxMIExFVFRFUiBJICovXG4gICAgWEtfajogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmEsIC8qIFUrMDA2QSBMQVRJTiBTTUFMTCBMRVRURVIgSiAqL1xuICAgIFhLX2s6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZiLCAvKiBVKzAwNkIgTEFUSU4gU01BTEwgTEVUVEVSIEsgKi9cbiAgICBYS19sOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2YywgLyogVSswMDZDIExBVElOIFNNQUxMIExFVFRFUiBMICovXG4gICAgWEtfbTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmQsIC8qIFUrMDA2RCBMQVRJTiBTTUFMTCBMRVRURVIgTSAqL1xuICAgIFhLX246ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZlLCAvKiBVKzAwNkUgTEFUSU4gU01BTEwgTEVUVEVSIE4gKi9cbiAgICBYS19vOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2ZiwgLyogVSswMDZGIExBVElOIFNNQUxMIExFVFRFUiBPICovXG4gICAgWEtfcDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzAsIC8qIFUrMDA3MCBMQVRJTiBTTUFMTCBMRVRURVIgUCAqL1xuICAgIFhLX3E6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDcxLCAvKiBVKzAwNzEgTEFUSU4gU01BTEwgTEVUVEVSIFEgKi9cbiAgICBYS19yOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3MiwgLyogVSswMDcyIExBVElOIFNNQUxMIExFVFRFUiBSICovXG4gICAgWEtfczogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzMsIC8qIFUrMDA3MyBMQVRJTiBTTUFMTCBMRVRURVIgUyAqL1xuICAgIFhLX3Q6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc0LCAvKiBVKzAwNzQgTEFUSU4gU01BTEwgTEVUVEVSIFQgKi9cbiAgICBYS191OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3NSwgLyogVSswMDc1IExBVElOIFNNQUxMIExFVFRFUiBVICovXG4gICAgWEtfdjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzYsIC8qIFUrMDA3NiBMQVRJTiBTTUFMTCBMRVRURVIgViAqL1xuICAgIFhLX3c6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc3LCAvKiBVKzAwNzcgTEFUSU4gU01BTEwgTEVUVEVSIFcgKi9cbiAgICBYS194OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3OCwgLyogVSswMDc4IExBVElOIFNNQUxMIExFVFRFUiBYICovXG4gICAgWEtfeTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzksIC8qIFUrMDA3OSBMQVRJTiBTTUFMTCBMRVRURVIgWSAqL1xuICAgIFhLX3o6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDdhLCAvKiBVKzAwN0EgTEFUSU4gU01BTEwgTEVUVEVSIFogKi9cbiAgICBYS19icmFjZWxlZnQ6ICAgICAgICAgICAgICAgICAgIDB4MDA3YiwgLyogVSswMDdCIExFRlQgQ1VSTFkgQlJBQ0tFVCAqL1xuICAgIFhLX2JhcjogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDdjLCAvKiBVKzAwN0MgVkVSVElDQUwgTElORSAqL1xuICAgIFhLX2JyYWNlcmlnaHQ6ICAgICAgICAgICAgICAgICAgMHgwMDdkLCAvKiBVKzAwN0QgUklHSFQgQ1VSTFkgQlJBQ0tFVCAqL1xuICAgIFhLX2FzY2lpdGlsZGU6ICAgICAgICAgICAgICAgICAgMHgwMDdlLCAvKiBVKzAwN0UgVElMREUgKi9cblxuICAgIFhLX25vYnJlYWtzcGFjZTogICAgICAgICAgICAgICAgMHgwMGEwLCAvKiBVKzAwQTAgTk8tQlJFQUsgU1BBQ0UgKi9cbiAgICBYS19leGNsYW1kb3duOiAgICAgICAgICAgICAgICAgIDB4MDBhMSwgLyogVSswMEExIElOVkVSVEVEIEVYQ0xBTUFUSU9OIE1BUksgKi9cbiAgICBYS19jZW50OiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBhMiwgLyogVSswMEEyIENFTlQgU0lHTiAqL1xuICAgIFhLX3N0ZXJsaW5nOiAgICAgICAgICAgICAgICAgICAgMHgwMGEzLCAvKiBVKzAwQTMgUE9VTkQgU0lHTiAqL1xuICAgIFhLX2N1cnJlbmN5OiAgICAgICAgICAgICAgICAgICAgMHgwMGE0LCAvKiBVKzAwQTQgQ1VSUkVOQ1kgU0lHTiAqL1xuICAgIFhLX3llbjogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGE1LCAvKiBVKzAwQTUgWUVOIFNJR04gKi9cbiAgICBYS19icm9rZW5iYXI6ICAgICAgICAgICAgICAgICAgIDB4MDBhNiwgLyogVSswMEE2IEJST0tFTiBCQVIgKi9cbiAgICBYS19zZWN0aW9uOiAgICAgICAgICAgICAgICAgICAgIDB4MDBhNywgLyogVSswMEE3IFNFQ1RJT04gU0lHTiAqL1xuICAgIFhLX2RpYWVyZXNpczogICAgICAgICAgICAgICAgICAgMHgwMGE4LCAvKiBVKzAwQTggRElBRVJFU0lTICovXG4gICAgWEtfY29weXJpZ2h0OiAgICAgICAgICAgICAgICAgICAweDAwYTksIC8qIFUrMDBBOSBDT1BZUklHSFQgU0lHTiAqL1xuICAgIFhLX29yZGZlbWluaW5lOiAgICAgICAgICAgICAgICAgMHgwMGFhLCAvKiBVKzAwQUEgRkVNSU5JTkUgT1JESU5BTCBJTkRJQ0FUT1IgKi9cbiAgICBYS19ndWlsbGVtb3RsZWZ0OiAgICAgICAgICAgICAgIDB4MDBhYiwgLyogVSswMEFCIExFRlQtUE9JTlRJTkcgRE9VQkxFIEFOR0xFIFFVT1RBVElPTiBNQVJLICovXG4gICAgWEtfbm90c2lnbjogICAgICAgICAgICAgICAgICAgICAweDAwYWMsIC8qIFUrMDBBQyBOT1QgU0lHTiAqL1xuICAgIFhLX2h5cGhlbjogICAgICAgICAgICAgICAgICAgICAgMHgwMGFkLCAvKiBVKzAwQUQgU09GVCBIWVBIRU4gKi9cbiAgICBYS19yZWdpc3RlcmVkOiAgICAgICAgICAgICAgICAgIDB4MDBhZSwgLyogVSswMEFFIFJFR0lTVEVSRUQgU0lHTiAqL1xuICAgIFhLX21hY3JvbjogICAgICAgICAgICAgICAgICAgICAgMHgwMGFmLCAvKiBVKzAwQUYgTUFDUk9OICovXG4gICAgWEtfZGVncmVlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYjAsIC8qIFUrMDBCMCBERUdSRUUgU0lHTiAqL1xuICAgIFhLX3BsdXNtaW51czogICAgICAgICAgICAgICAgICAgMHgwMGIxLCAvKiBVKzAwQjEgUExVUy1NSU5VUyBTSUdOICovXG4gICAgWEtfdHdvc3VwZXJpb3I6ICAgICAgICAgICAgICAgICAweDAwYjIsIC8qIFUrMDBCMiBTVVBFUlNDUklQVCBUV08gKi9cbiAgICBYS190aHJlZXN1cGVyaW9yOiAgICAgICAgICAgICAgIDB4MDBiMywgLyogVSswMEIzIFNVUEVSU0NSSVBUIFRIUkVFICovXG4gICAgWEtfYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgICAweDAwYjQsIC8qIFUrMDBCNCBBQ1VURSBBQ0NFTlQgKi9cbiAgICBYS19tdTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBiNSwgLyogVSswMEI1IE1JQ1JPIFNJR04gKi9cbiAgICBYS19wYXJhZ3JhcGg6ICAgICAgICAgICAgICAgICAgIDB4MDBiNiwgLyogVSswMEI2IFBJTENST1cgU0lHTiAqL1xuICAgIFhLX3BlcmlvZGNlbnRlcmVkOiAgICAgICAgICAgICAgMHgwMGI3LCAvKiBVKzAwQjcgTUlERExFIERPVCAqL1xuICAgIFhLX2NlZGlsbGE6ICAgICAgICAgICAgICAgICAgICAgMHgwMGI4LCAvKiBVKzAwQjggQ0VESUxMQSAqL1xuICAgIFhLX29uZXN1cGVyaW9yOiAgICAgICAgICAgICAgICAgMHgwMGI5LCAvKiBVKzAwQjkgU1VQRVJTQ1JJUFQgT05FICovXG4gICAgWEtfbWFzY3VsaW5lOiAgICAgICAgICAgICAgICAgICAweDAwYmEsIC8qIFUrMDBCQSBNQVNDVUxJTkUgT1JESU5BTCBJTkRJQ0FUT1IgKi9cbiAgICBYS19ndWlsbGVtb3RyaWdodDogICAgICAgICAgICAgIDB4MDBiYiwgLyogVSswMEJCIFJJR0hULVBPSU5USU5HIERPVUJMRSBBTkdMRSBRVU9UQVRJT04gTUFSSyAqL1xuICAgIFhLX29uZXF1YXJ0ZXI6ICAgICAgICAgICAgICAgICAgMHgwMGJjLCAvKiBVKzAwQkMgVlVMR0FSIEZSQUNUSU9OIE9ORSBRVUFSVEVSICovXG4gICAgWEtfb25laGFsZjogICAgICAgICAgICAgICAgICAgICAweDAwYmQsIC8qIFUrMDBCRCBWVUxHQVIgRlJBQ1RJT04gT05FIEhBTEYgKi9cbiAgICBYS190aHJlZXF1YXJ0ZXJzOiAgICAgICAgICAgICAgIDB4MDBiZSwgLyogVSswMEJFIFZVTEdBUiBGUkFDVElPTiBUSFJFRSBRVUFSVEVSUyAqL1xuICAgIFhLX3F1ZXN0aW9uZG93bjogICAgICAgICAgICAgICAgMHgwMGJmLCAvKiBVKzAwQkYgSU5WRVJURUQgUVVFU1RJT04gTUFSSyAqL1xuICAgIFhLX0FncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGMwLCAvKiBVKzAwQzAgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIEdSQVZFICovXG4gICAgWEtfQWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzEsIC8qIFUrMDBDMSBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggQUNVVEUgKi9cbiAgICBYS19BY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBjMiwgLyogVSswMEMyIExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfQXRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzMsIC8qIFUrMDBDMyBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggVElMREUgKi9cbiAgICBYS19BZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBjNCwgLyogVSswMEM0IExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19BcmluZzogICAgICAgICAgICAgICAgICAgICAgIDB4MDBjNSwgLyogVSswMEM1IExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBSSU5HIEFCT1ZFICovXG4gICAgWEtfQUU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwYzYsIC8qIFUrMDBDNiBMQVRJTiBDQVBJVEFMIExFVFRFUiBBRSAqL1xuICAgIFhLX0NjZWRpbGxhOiAgICAgICAgICAgICAgICAgICAgMHgwMGM3LCAvKiBVKzAwQzcgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQyBXSVRIIENFRElMTEEgKi9cbiAgICBYS19FZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjOCwgLyogVSswMEM4IExBVElOIENBUElUQUwgTEVUVEVSIEUgV0lUSCBHUkFWRSAqL1xuICAgIFhLX0VhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGM5LCAvKiBVKzAwQzkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIEFDVVRFICovXG4gICAgWEtfRWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwY2EsIC8qIFUrMDBDQSBMQVRJTiBDQVBJVEFMIExFVFRFUiBFIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX0VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGNiLCAvKiBVKzAwQ0IgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX0lncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGNjLCAvKiBVKzAwQ0MgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSBXSVRIIEdSQVZFICovXG4gICAgWEtfSWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwY2QsIC8qIFUrMDBDRCBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggQUNVVEUgKi9cbiAgICBYS19JY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBjZSwgLyogVSswMENFIExBVElOIENBUElUQUwgTEVUVEVSIEkgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfSWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwY2YsIC8qIFUrMDBDRiBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfRVRIOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZDAsIC8qIFUrMDBEMCBMQVRJTiBDQVBJVEFMIExFVFRFUiBFVEggKi9cbiAgICBYS19FdGg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMCwgLyogZGVwcmVjYXRlZCAqL1xuICAgIFhLX050aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQxLCAvKiBVKzAwRDEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTiBXSVRIIFRJTERFICovXG4gICAgWEtfT2dyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDIsIC8qIFUrMDBEMiBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggR1JBVkUgKi9cbiAgICBYS19PYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMywgLyogVSswMEQzIExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBBQ1VURSAqL1xuICAgIFhLX09jaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGQ0LCAvKiBVKzAwRDQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19PdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkNSwgLyogVSswMEQ1IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBUSUxERSAqL1xuICAgIFhLX09kaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGQ2LCAvKiBVKzAwRDYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX211bHRpcGx5OiAgICAgICAgICAgICAgICAgICAgMHgwMGQ3LCAvKiBVKzAwRDcgTVVMVElQTElDQVRJT04gU0lHTiAqL1xuICAgIFhLX09zbGFzaDogICAgICAgICAgICAgICAgICAgICAgMHgwMGQ4LCAvKiBVKzAwRDggTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX09vYmxpcXVlOiAgICAgICAgICAgICAgICAgICAgMHgwMGQ4LCAvKiBVKzAwRDggTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX1VncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQ5LCAvKiBVKzAwRDkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSBXSVRIIEdSQVZFICovXG4gICAgWEtfVWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZGEsIC8qIFUrMDBEQSBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggQUNVVEUgKi9cbiAgICBYS19VY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBkYiwgLyogVSswMERCIExBVElOIENBUElUQUwgTEVUVEVSIFUgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfVWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZGMsIC8qIFUrMDBEQyBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfWWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZGQsIC8qIFUrMDBERCBMQVRJTiBDQVBJVEFMIExFVFRFUiBZIFdJVEggQUNVVEUgKi9cbiAgICBYS19USE9STjogICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZSwgLyogVSswMERFIExBVElOIENBUElUQUwgTEVUVEVSIFRIT1JOICovXG4gICAgWEtfVGhvcm46ICAgICAgICAgICAgICAgICAgICAgICAweDAwZGUsIC8qIGRlcHJlY2F0ZWQgKi9cbiAgICBYS19zc2hhcnA6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZiwgLyogVSswMERGIExBVElOIFNNQUxMIExFVFRFUiBTSEFSUCBTICovXG4gICAgWEtfYWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTAsIC8qIFUrMDBFMCBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIEdSQVZFICovXG4gICAgWEtfYWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTEsIC8qIFUrMDBFMSBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIEFDVVRFICovXG4gICAgWEtfYWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZTIsIC8qIFUrMDBFMiBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19hdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlMywgLyogVSswMEUzIExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggVElMREUgKi9cbiAgICBYS19hZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlNCwgLyogVSswMEU0IExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfYXJpbmc6ICAgICAgICAgICAgICAgICAgICAgICAweDAwZTUsIC8qIFUrMDBFNSBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIFJJTkcgQUJPVkUgKi9cbiAgICBYS19hZTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBlNiwgLyogVSswMEU2IExBVElOIFNNQUxMIExFVFRFUiBBRSAqL1xuICAgIFhLX2NjZWRpbGxhOiAgICAgICAgICAgICAgICAgICAgMHgwMGU3LCAvKiBVKzAwRTcgTEFUSU4gU01BTEwgTEVUVEVSIEMgV0lUSCBDRURJTExBICovXG4gICAgWEtfZWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTgsIC8qIFUrMDBFOCBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIEdSQVZFICovXG4gICAgWEtfZWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTksIC8qIFUrMDBFOSBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIEFDVVRFICovXG4gICAgWEtfZWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZWEsIC8qIFUrMDBFQSBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19lZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlYiwgLyogVSswMEVCIExBVElOIFNNQUxMIExFVFRFUiBFIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfaWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZWMsIC8qIFUrMDBFQyBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIEdSQVZFICovXG4gICAgWEtfaWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZWQsIC8qIFUrMDBFRCBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIEFDVVRFICovXG4gICAgWEtfaWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZWUsIC8qIFUrMDBFRSBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19pZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlZiwgLyogVSswMEVGIExBVElOIFNNQUxMIExFVFRFUiBJIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfZXRoOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZjAsIC8qIFUrMDBGMCBMQVRJTiBTTUFMTCBMRVRURVIgRVRIICovXG4gICAgWEtfbnRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjEsIC8qIFUrMDBGMSBMQVRJTiBTTUFMTCBMRVRURVIgTiBXSVRIIFRJTERFICovXG4gICAgWEtfb2dyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjIsIC8qIFUrMDBGMiBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIEdSQVZFICovXG4gICAgWEtfb2FjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjMsIC8qIFUrMDBGMyBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIEFDVVRFICovXG4gICAgWEtfb2NpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZjQsIC8qIFUrMDBGNCBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19vdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmNSwgLyogVSswMEY1IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggVElMREUgKi9cbiAgICBYS19vZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBmNiwgLyogVSswMEY2IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfZGl2aXNpb246ICAgICAgICAgICAgICAgICAgICAweDAwZjcsIC8qIFUrMDBGNyBESVZJU0lPTiBTSUdOICovXG4gICAgWEtfb3NsYXNoOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjgsIC8qIFUrMDBGOCBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX29vYmxpcXVlOiAgICAgICAgICAgICAgICAgICAgMHgwMGY4LCAvKiBVKzAwRjggTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBTVFJPS0UgKi9cbiAgICBYS191Z3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmOSwgLyogVSswMEY5IExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggR1JBVkUgKi9cbiAgICBYS191YWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmYSwgLyogVSswMEZBIExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggQUNVVEUgKi9cbiAgICBYS191Y2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBmYiwgLyogVSswMEZCIExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX3VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGZjLCAvKiBVKzAwRkMgTEFUSU4gU01BTEwgTEVUVEVSIFUgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS195YWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmZCwgLyogVSswMEZEIExBVElOIFNNQUxMIExFVFRFUiBZIFdJVEggQUNVVEUgKi9cbiAgICBYS190aG9ybjogICAgICAgICAgICAgICAgICAgICAgIDB4MDBmZSwgLyogVSswMEZFIExBVElOIFNNQUxMIExFVFRFUiBUSE9STiAqL1xuICAgIFhLX3lkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGZmLCAvKiBVKzAwRkYgTEFUSU4gU01BTEwgTEVUVEVSIFkgV0lUSCBESUFFUkVTSVMgKi9cblxuICAgIC8qXG4gICAgICogS29yZWFuXG4gICAgICogQnl0ZSAzID0gMHgwZVxuICAgICAqL1xuXG4gICAgWEtfSGFuZ3VsOiAgICAgICAgICAgICAgICAgICAgICAweGZmMzEsIC8qIEhhbmd1bCBzdGFydC9zdG9wKHRvZ2dsZSkgKi9cbiAgICBYS19IYW5ndWxfSGFuamE6ICAgICAgICAgICAgICAgIDB4ZmYzNCwgLyogU3RhcnQgSGFuZ3VsLT5IYW5qYSBDb252ZXJzaW9uICovXG4gICAgWEtfSGFuZ3VsX0plb25qYTogICAgICAgICAgICAgICAweGZmMzgsIC8qIEplb25qYSBtb2RlICovXG5cbiAgICAvKlxuICAgICAqIFhGcmVlODYgdmVuZG9yIHNwZWNpZmljIGtleXN5bXMuXG4gICAgICpcbiAgICAgKiBUaGUgWEZyZWU4NiBrZXlzeW0gcmFuZ2UgaXMgMHgxMDA4MDAwMSAtIDB4MTAwOEZGRkYuXG4gICAgICovXG5cbiAgICBYRjg2WEtfTW9kZUxvY2s6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMDEsXG4gICAgWEY4NlhLX01vbkJyaWdodG5lc3NVcDogICAgICAgICAweDEwMDhGRjAyLFxuICAgIFhGODZYS19Nb25CcmlnaHRuZXNzRG93bjogICAgICAgMHgxMDA4RkYwMyxcbiAgICBYRjg2WEtfS2JkTGlnaHRPbk9mZjogICAgICAgICAgIDB4MTAwOEZGMDQsXG4gICAgWEY4NlhLX0tiZEJyaWdodG5lc3NVcDogICAgICAgICAweDEwMDhGRjA1LFxuICAgIFhGODZYS19LYmRCcmlnaHRuZXNzRG93bjogICAgICAgMHgxMDA4RkYwNixcbiAgICBYRjg2WEtfU3RhbmRieTogICAgICAgICAgICAgICAgIDB4MTAwOEZGMTAsXG4gICAgWEY4NlhLX0F1ZGlvTG93ZXJWb2x1bWU6ICAgICAgICAweDEwMDhGRjExLFxuICAgIFhGODZYS19BdWRpb011dGU6ICAgICAgICAgICAgICAgMHgxMDA4RkYxMixcbiAgICBYRjg2WEtfQXVkaW9SYWlzZVZvbHVtZTogICAgICAgIDB4MTAwOEZGMTMsXG4gICAgWEY4NlhLX0F1ZGlvUGxheTogICAgICAgICAgICAgICAweDEwMDhGRjE0LFxuICAgIFhGODZYS19BdWRpb1N0b3A6ICAgICAgICAgICAgICAgMHgxMDA4RkYxNSxcbiAgICBYRjg2WEtfQXVkaW9QcmV2OiAgICAgICAgICAgICAgIDB4MTAwOEZGMTYsXG4gICAgWEY4NlhLX0F1ZGlvTmV4dDogICAgICAgICAgICAgICAweDEwMDhGRjE3LFxuICAgIFhGODZYS19Ib21lUGFnZTogICAgICAgICAgICAgICAgMHgxMDA4RkYxOCxcbiAgICBYRjg2WEtfTWFpbDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMTksXG4gICAgWEY4NlhLX1N0YXJ0OiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjFBLFxuICAgIFhGODZYS19TZWFyY2g6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxQixcbiAgICBYRjg2WEtfQXVkaW9SZWNvcmQ6ICAgICAgICAgICAgIDB4MTAwOEZGMUMsXG4gICAgWEY4NlhLX0NhbGN1bGF0b3I6ICAgICAgICAgICAgICAweDEwMDhGRjFELFxuICAgIFhGODZYS19NZW1vOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxRSxcbiAgICBYRjg2WEtfVG9Eb0xpc3Q6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMUYsXG4gICAgWEY4NlhLX0NhbGVuZGFyOiAgICAgICAgICAgICAgICAweDEwMDhGRjIwLFxuICAgIFhGODZYS19Qb3dlckRvd246ICAgICAgICAgICAgICAgMHgxMDA4RkYyMSxcbiAgICBYRjg2WEtfQ29udHJhc3RBZGp1c3Q6ICAgICAgICAgIDB4MTAwOEZGMjIsXG4gICAgWEY4NlhLX1JvY2tlclVwOiAgICAgICAgICAgICAgICAweDEwMDhGRjIzLFxuICAgIFhGODZYS19Sb2NrZXJEb3duOiAgICAgICAgICAgICAgMHgxMDA4RkYyNCxcbiAgICBYRjg2WEtfUm9ja2VyRW50ZXI6ICAgICAgICAgICAgIDB4MTAwOEZGMjUsXG4gICAgWEY4NlhLX0JhY2s6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjI2LFxuICAgIFhGODZYS19Gb3J3YXJkOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYyNyxcbiAgICBYRjg2WEtfU3RvcDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMjgsXG4gICAgWEY4NlhLX1JlZnJlc2g6ICAgICAgICAgICAgICAgICAweDEwMDhGRjI5LFxuICAgIFhGODZYS19Qb3dlck9mZjogICAgICAgICAgICAgICAgMHgxMDA4RkYyQSxcbiAgICBYRjg2WEtfV2FrZVVwOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkIsXG4gICAgWEY4NlhLX0VqZWN0OiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjJDLFxuICAgIFhGODZYS19TY3JlZW5TYXZlcjogICAgICAgICAgICAgMHgxMDA4RkYyRCxcbiAgICBYRjg2WEtfV1dXOiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkUsXG4gICAgWEY4NlhLX1NsZWVwOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjJGLFxuICAgIFhGODZYS19GYXZvcml0ZXM6ICAgICAgICAgICAgICAgMHgxMDA4RkYzMCxcbiAgICBYRjg2WEtfQXVkaW9QYXVzZTogICAgICAgICAgICAgIDB4MTAwOEZGMzEsXG4gICAgWEY4NlhLX0F1ZGlvTWVkaWE6ICAgICAgICAgICAgICAweDEwMDhGRjMyLFxuICAgIFhGODZYS19NeUNvbXB1dGVyOiAgICAgICAgICAgICAgMHgxMDA4RkYzMyxcbiAgICBYRjg2WEtfVmVuZG9ySG9tZTogICAgICAgICAgICAgIDB4MTAwOEZGMzQsXG4gICAgWEY4NlhLX0xpZ2h0QnVsYjogICAgICAgICAgICAgICAweDEwMDhGRjM1LFxuICAgIFhGODZYS19TaG9wOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYzNixcbiAgICBYRjg2WEtfSGlzdG9yeTogICAgICAgICAgICAgICAgIDB4MTAwOEZGMzcsXG4gICAgWEY4NlhLX09wZW5VUkw6ICAgICAgICAgICAgICAgICAweDEwMDhGRjM4LFxuICAgIFhGODZYS19BZGRGYXZvcml0ZTogICAgICAgICAgICAgMHgxMDA4RkYzOSxcbiAgICBYRjg2WEtfSG90TGlua3M6ICAgICAgICAgICAgICAgIDB4MTAwOEZGM0EsXG4gICAgWEY4NlhLX0JyaWdodG5lc3NBZGp1c3Q6ICAgICAgICAweDEwMDhGRjNCLFxuICAgIFhGODZYS19GaW5hbmNlOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYzQyxcbiAgICBYRjg2WEtfQ29tbXVuaXR5OiAgICAgICAgICAgICAgIDB4MTAwOEZGM0QsXG4gICAgWEY4NlhLX0F1ZGlvUmV3aW5kOiAgICAgICAgICAgICAweDEwMDhGRjNFLFxuICAgIFhGODZYS19CYWNrRm9yd2FyZDogICAgICAgICAgICAgMHgxMDA4RkYzRixcbiAgICBYRjg2WEtfTGF1bmNoMDogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDAsXG4gICAgWEY4NlhLX0xhdW5jaDE6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQxLFxuICAgIFhGODZYS19MYXVuY2gyOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0MixcbiAgICBYRjg2WEtfTGF1bmNoMzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDMsXG4gICAgWEY4NlhLX0xhdW5jaDQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ0LFxuICAgIFhGODZYS19MYXVuY2g1OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0NSxcbiAgICBYRjg2WEtfTGF1bmNoNjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDYsXG4gICAgWEY4NlhLX0xhdW5jaDc6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ3LFxuICAgIFhGODZYS19MYXVuY2g4OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0OCxcbiAgICBYRjg2WEtfTGF1bmNoOTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDksXG4gICAgWEY4NlhLX0xhdW5jaEE6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRBLFxuICAgIFhGODZYS19MYXVuY2hCOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0QixcbiAgICBYRjg2WEtfTGF1bmNoQzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEMsXG4gICAgWEY4NlhLX0xhdW5jaEQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRELFxuICAgIFhGODZYS19MYXVuY2hFOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0RSxcbiAgICBYRjg2WEtfTGF1bmNoRjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEYsXG4gICAgWEY4NlhLX0FwcGxpY2F0aW9uTGVmdDogICAgICAgICAweDEwMDhGRjUwLFxuICAgIFhGODZYS19BcHBsaWNhdGlvblJpZ2h0OiAgICAgICAgMHgxMDA4RkY1MSxcbiAgICBYRjg2WEtfQm9vazogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTIsXG4gICAgWEY4NlhLX0NEOiAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjUzLFxuICAgIFhGODZYS19DYWxjdWxhdGVyOiAgICAgICAgICAgICAgMHgxMDA4RkY1NCxcbiAgICBYRjg2WEtfQ2xlYXI6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTUsXG4gICAgWEY4NlhLX0Nsb3NlOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjU2LFxuICAgIFhGODZYS19Db3B5OiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1NyxcbiAgICBYRjg2WEtfQ3V0OiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTgsXG4gICAgWEY4NlhLX0Rpc3BsYXk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjU5LFxuICAgIFhGODZYS19ET1M6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1QSxcbiAgICBYRjg2WEtfRG9jdW1lbnRzOiAgICAgICAgICAgICAgIDB4MTAwOEZGNUIsXG4gICAgWEY4NlhLX0V4Y2VsOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVDLFxuICAgIFhGODZYS19FeHBsb3JlcjogICAgICAgICAgICAgICAgMHgxMDA4RkY1RCxcbiAgICBYRjg2WEtfR2FtZTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNUUsXG4gICAgWEY4NlhLX0dvOiAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVGLFxuICAgIFhGODZYS19pVG91Y2g6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MCxcbiAgICBYRjg2WEtfTG9nT2ZmOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjEsXG4gICAgWEY4NlhLX01hcmtldDogICAgICAgICAgICAgICAgICAweDEwMDhGRjYyLFxuICAgIFhGODZYS19NZWV0aW5nOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MyxcbiAgICBYRjg2WEtfTWVudUtCOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjUsXG4gICAgWEY4NlhLX01lbnVQQjogICAgICAgICAgICAgICAgICAweDEwMDhGRjY2LFxuICAgIFhGODZYS19NeVNpdGVzOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY2NyxcbiAgICBYRjg2WEtfTmV3OiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjgsXG4gICAgWEY4NlhLX05ld3M6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjY5LFxuICAgIFhGODZYS19PZmZpY2VIb21lOiAgICAgICAgICAgICAgMHgxMDA4RkY2QSxcbiAgICBYRjg2WEtfT3BlbjogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkIsXG4gICAgWEY4NlhLX09wdGlvbjogICAgICAgICAgICAgICAgICAweDEwMDhGRjZDLFxuICAgIFhGODZYS19QYXN0ZTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2RCxcbiAgICBYRjg2WEtfUGhvbmU6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkUsXG4gICAgWEY4NlhLX1E6ICAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjcwLFxuICAgIFhGODZYS19SZXBseTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3MixcbiAgICBYRjg2WEtfUmVsb2FkOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNzMsXG4gICAgWEY4NlhLX1JvdGF0ZVdpbmRvd3M6ICAgICAgICAgICAweDEwMDhGRjc0LFxuICAgIFhGODZYS19Sb3RhdGlvblBCOiAgICAgICAgICAgICAgMHgxMDA4RkY3NSxcbiAgICBYRjg2WEtfUm90YXRpb25LQjogICAgICAgICAgICAgIDB4MTAwOEZGNzYsXG4gICAgWEY4NlhLX1NhdmU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjc3LFxuICAgIFhGODZYS19TY3JvbGxVcDogICAgICAgICAgICAgICAgMHgxMDA4RkY3OCxcbiAgICBYRjg2WEtfU2Nyb2xsRG93bjogICAgICAgICAgICAgIDB4MTAwOEZGNzksXG4gICAgWEY4NlhLX1Njcm9sbENsaWNrOiAgICAgICAgICAgICAweDEwMDhGRjdBLFxuICAgIFhGODZYS19TZW5kOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3QixcbiAgICBYRjg2WEtfU3BlbGw6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGN0MsXG4gICAgWEY4NlhLX1NwbGl0U2NyZWVuOiAgICAgICAgICAgICAweDEwMDhGRjdELFxuICAgIFhGODZYS19TdXBwb3J0OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY3RSxcbiAgICBYRjg2WEtfVGFza1BhbmU6ICAgICAgICAgICAgICAgIDB4MTAwOEZGN0YsXG4gICAgWEY4NlhLX1Rlcm1pbmFsOiAgICAgICAgICAgICAgICAweDEwMDhGRjgwLFxuICAgIFhGODZYS19Ub29sczogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4MSxcbiAgICBYRjg2WEtfVHJhdmVsOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODIsXG4gICAgWEY4NlhLX1VzZXJQQjogICAgICAgICAgICAgICAgICAweDEwMDhGRjg0LFxuICAgIFhGODZYS19Vc2VyMUtCOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY4NSxcbiAgICBYRjg2WEtfVXNlcjJLQjogICAgICAgICAgICAgICAgIDB4MTAwOEZGODYsXG4gICAgWEY4NlhLX1ZpZGVvOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjg3LFxuICAgIFhGODZYS19XaGVlbEJ1dHRvbjogICAgICAgICAgICAgMHgxMDA4RkY4OCxcbiAgICBYRjg2WEtfV29yZDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODksXG4gICAgWEY4NlhLX1hmZXI6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjhBLFxuICAgIFhGODZYS19ab29tSW46ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4QixcbiAgICBYRjg2WEtfWm9vbU91dDogICAgICAgICAgICAgICAgIDB4MTAwOEZGOEMsXG4gICAgWEY4NlhLX0F3YXk6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjhELFxuICAgIFhGODZYS19NZXNzZW5nZXI6ICAgICAgICAgICAgICAgMHgxMDA4RkY4RSxcbiAgICBYRjg2WEtfV2ViQ2FtOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOEYsXG4gICAgWEY4NlhLX01haWxGb3J3YXJkOiAgICAgICAgICAgICAweDEwMDhGRjkwLFxuICAgIFhGODZYS19QaWN0dXJlczogICAgICAgICAgICAgICAgMHgxMDA4RkY5MSxcbiAgICBYRjg2WEtfTXVzaWM6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOTIsXG4gICAgWEY4NlhLX0JhdHRlcnk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjkzLFxuICAgIFhGODZYS19CbHVldG9vdGg6ICAgICAgICAgICAgICAgMHgxMDA4RkY5NCxcbiAgICBYRjg2WEtfV0xBTjogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOTUsXG4gICAgWEY4NlhLX1VXQjogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjk2LFxuICAgIFhGODZYS19BdWRpb0ZvcndhcmQ6ICAgICAgICAgICAgMHgxMDA4RkY5NyxcbiAgICBYRjg2WEtfQXVkaW9SZXBlYXQ6ICAgICAgICAgICAgIDB4MTAwOEZGOTgsXG4gICAgWEY4NlhLX0F1ZGlvUmFuZG9tUGxheTogICAgICAgICAweDEwMDhGRjk5LFxuICAgIFhGODZYS19TdWJ0aXRsZTogICAgICAgICAgICAgICAgMHgxMDA4RkY5QSxcbiAgICBYRjg2WEtfQXVkaW9DeWNsZVRyYWNrOiAgICAgICAgIDB4MTAwOEZGOUIsXG4gICAgWEY4NlhLX0N5Y2xlQW5nbGU6ICAgICAgICAgICAgICAweDEwMDhGRjlDLFxuICAgIFhGODZYS19GcmFtZUJhY2s6ICAgICAgICAgICAgICAgMHgxMDA4RkY5RCxcbiAgICBYRjg2WEtfRnJhbWVGb3J3YXJkOiAgICAgICAgICAgIDB4MTAwOEZGOUUsXG4gICAgWEY4NlhLX1RpbWU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjlGLFxuICAgIFhGODZYS19TZWxlY3Q6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMCxcbiAgICBYRjg2WEtfVmlldzogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTEsXG4gICAgWEY4NlhLX1RvcE1lbnU6ICAgICAgICAgICAgICAgICAweDEwMDhGRkEyLFxuICAgIFhGODZYS19SZWQ6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMyxcbiAgICBYRjg2WEtfR3JlZW46ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTQsXG4gICAgWEY4NlhLX1llbGxvdzogICAgICAgICAgICAgICAgICAweDEwMDhGRkE1LFxuICAgIFhGODZYS19CbHVlOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBNixcbiAgICBYRjg2WEtfU3VzcGVuZDogICAgICAgICAgICAgICAgIDB4MTAwOEZGQTcsXG4gICAgWEY4NlhLX0hpYmVybmF0ZTogICAgICAgICAgICAgICAweDEwMDhGRkE4LFxuICAgIFhGODZYS19Ub3VjaHBhZFRvZ2dsZTogICAgICAgICAgMHgxMDA4RkZBOSxcbiAgICBYRjg2WEtfVG91Y2hwYWRPbjogICAgICAgICAgICAgIDB4MTAwOEZGQjAsXG4gICAgWEY4NlhLX1RvdWNocGFkT2ZmOiAgICAgICAgICAgICAweDEwMDhGRkIxLFxuICAgIFhGODZYS19BdWRpb01pY011dGU6ICAgICAgICAgICAgMHgxMDA4RkZCMixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzE6ICAgICAgICAgICAgIDB4MTAwOEZFMDEsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8yOiAgICAgICAgICAgICAweDEwMDhGRTAyLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMzogICAgICAgICAgICAgMHgxMDA4RkUwMyxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzQ6ICAgICAgICAgICAgIDB4MTAwOEZFMDQsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF81OiAgICAgICAgICAgICAweDEwMDhGRTA1LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfNjogICAgICAgICAgICAgMHgxMDA4RkUwNixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzc6ICAgICAgICAgICAgIDB4MTAwOEZFMDcsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF84OiAgICAgICAgICAgICAweDEwMDhGRTA4LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfOTogICAgICAgICAgICAgMHgxMDA4RkUwOSxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzEwOiAgICAgICAgICAgIDB4MTAwOEZFMEEsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8xMTogICAgICAgICAgICAweDEwMDhGRTBCLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMTI6ICAgICAgICAgICAgMHgxMDA4RkUwQyxcbiAgICBYRjg2WEtfVW5ncmFiOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZFMjAsXG4gICAgWEY4NlhLX0NsZWFyR3JhYjogICAgICAgICAgICAgICAweDEwMDhGRTIxLFxuICAgIFhGODZYS19OZXh0X1ZNb2RlOiAgICAgICAgICAgICAgMHgxMDA4RkUyMixcbiAgICBYRjg2WEtfUHJldl9WTW9kZTogICAgICAgICAgICAgIDB4MTAwOEZFMjMsXG4gICAgWEY4NlhLX0xvZ1dpbmRvd1RyZWU6ICAgICAgICAgICAweDEwMDhGRTI0LFxuICAgIFhGODZYS19Mb2dHcmFiSW5mbzogICAgICAgICAgICAgMHgxMDA4RkUyNSxcbn07XG4iLCIvKlxuICogTWFwcGluZyBmcm9tIFVuaWNvZGUgY29kZXBvaW50cyB0byBYMTEvUkZCIGtleXN5bXNcbiAqXG4gKiBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZyb20ga2V5c3ltZGVmLmhcbiAqIERPIE5PVCBFRElUIVxuICovXG5cbi8qIEZ1bmN0aW9ucyBhdCB0aGUgYm90dG9tICovXG5cbmNvbnN0IGNvZGVwb2ludHMgPSB7XG4gICAgMHgwMTAwOiAweDAzYzAsIC8vIFhLX0FtYWNyb25cbiAgICAweDAxMDE6IDB4MDNlMCwgLy8gWEtfYW1hY3JvblxuICAgIDB4MDEwMjogMHgwMWMzLCAvLyBYS19BYnJldmVcbiAgICAweDAxMDM6IDB4MDFlMywgLy8gWEtfYWJyZXZlXG4gICAgMHgwMTA0OiAweDAxYTEsIC8vIFhLX0FvZ29uZWtcbiAgICAweDAxMDU6IDB4MDFiMSwgLy8gWEtfYW9nb25la1xuICAgIDB4MDEwNjogMHgwMWM2LCAvLyBYS19DYWN1dGVcbiAgICAweDAxMDc6IDB4MDFlNiwgLy8gWEtfY2FjdXRlXG4gICAgMHgwMTA4OiAweDAyYzYsIC8vIFhLX0NjaXJjdW1mbGV4XG4gICAgMHgwMTA5OiAweDAyZTYsIC8vIFhLX2NjaXJjdW1mbGV4XG4gICAgMHgwMTBhOiAweDAyYzUsIC8vIFhLX0NhYm92ZWRvdFxuICAgIDB4MDEwYjogMHgwMmU1LCAvLyBYS19jYWJvdmVkb3RcbiAgICAweDAxMGM6IDB4MDFjOCwgLy8gWEtfQ2Nhcm9uXG4gICAgMHgwMTBkOiAweDAxZTgsIC8vIFhLX2NjYXJvblxuICAgIDB4MDEwZTogMHgwMWNmLCAvLyBYS19EY2Fyb25cbiAgICAweDAxMGY6IDB4MDFlZiwgLy8gWEtfZGNhcm9uXG4gICAgMHgwMTEwOiAweDAxZDAsIC8vIFhLX0RzdHJva2VcbiAgICAweDAxMTE6IDB4MDFmMCwgLy8gWEtfZHN0cm9rZVxuICAgIDB4MDExMjogMHgwM2FhLCAvLyBYS19FbWFjcm9uXG4gICAgMHgwMTEzOiAweDAzYmEsIC8vIFhLX2VtYWNyb25cbiAgICAweDAxMTY6IDB4MDNjYywgLy8gWEtfRWFib3ZlZG90XG4gICAgMHgwMTE3OiAweDAzZWMsIC8vIFhLX2VhYm92ZWRvdFxuICAgIDB4MDExODogMHgwMWNhLCAvLyBYS19Fb2dvbmVrXG4gICAgMHgwMTE5OiAweDAxZWEsIC8vIFhLX2VvZ29uZWtcbiAgICAweDAxMWE6IDB4MDFjYywgLy8gWEtfRWNhcm9uXG4gICAgMHgwMTFiOiAweDAxZWMsIC8vIFhLX2VjYXJvblxuICAgIDB4MDExYzogMHgwMmQ4LCAvLyBYS19HY2lyY3VtZmxleFxuICAgIDB4MDExZDogMHgwMmY4LCAvLyBYS19nY2lyY3VtZmxleFxuICAgIDB4MDExZTogMHgwMmFiLCAvLyBYS19HYnJldmVcbiAgICAweDAxMWY6IDB4MDJiYiwgLy8gWEtfZ2JyZXZlXG4gICAgMHgwMTIwOiAweDAyZDUsIC8vIFhLX0dhYm92ZWRvdFxuICAgIDB4MDEyMTogMHgwMmY1LCAvLyBYS19nYWJvdmVkb3RcbiAgICAweDAxMjI6IDB4MDNhYiwgLy8gWEtfR2NlZGlsbGFcbiAgICAweDAxMjM6IDB4MDNiYiwgLy8gWEtfZ2NlZGlsbGFcbiAgICAweDAxMjQ6IDB4MDJhNiwgLy8gWEtfSGNpcmN1bWZsZXhcbiAgICAweDAxMjU6IDB4MDJiNiwgLy8gWEtfaGNpcmN1bWZsZXhcbiAgICAweDAxMjY6IDB4MDJhMSwgLy8gWEtfSHN0cm9rZVxuICAgIDB4MDEyNzogMHgwMmIxLCAvLyBYS19oc3Ryb2tlXG4gICAgMHgwMTI4OiAweDAzYTUsIC8vIFhLX0l0aWxkZVxuICAgIDB4MDEyOTogMHgwM2I1LCAvLyBYS19pdGlsZGVcbiAgICAweDAxMmE6IDB4MDNjZiwgLy8gWEtfSW1hY3JvblxuICAgIDB4MDEyYjogMHgwM2VmLCAvLyBYS19pbWFjcm9uXG4gICAgMHgwMTJlOiAweDAzYzcsIC8vIFhLX0lvZ29uZWtcbiAgICAweDAxMmY6IDB4MDNlNywgLy8gWEtfaW9nb25la1xuICAgIDB4MDEzMDogMHgwMmE5LCAvLyBYS19JYWJvdmVkb3RcbiAgICAweDAxMzE6IDB4MDJiOSwgLy8gWEtfaWRvdGxlc3NcbiAgICAweDAxMzQ6IDB4MDJhYywgLy8gWEtfSmNpcmN1bWZsZXhcbiAgICAweDAxMzU6IDB4MDJiYywgLy8gWEtfamNpcmN1bWZsZXhcbiAgICAweDAxMzY6IDB4MDNkMywgLy8gWEtfS2NlZGlsbGFcbiAgICAweDAxMzc6IDB4MDNmMywgLy8gWEtfa2NlZGlsbGFcbiAgICAweDAxMzg6IDB4MDNhMiwgLy8gWEtfa3JhXG4gICAgMHgwMTM5OiAweDAxYzUsIC8vIFhLX0xhY3V0ZVxuICAgIDB4MDEzYTogMHgwMWU1LCAvLyBYS19sYWN1dGVcbiAgICAweDAxM2I6IDB4MDNhNiwgLy8gWEtfTGNlZGlsbGFcbiAgICAweDAxM2M6IDB4MDNiNiwgLy8gWEtfbGNlZGlsbGFcbiAgICAweDAxM2Q6IDB4MDFhNSwgLy8gWEtfTGNhcm9uXG4gICAgMHgwMTNlOiAweDAxYjUsIC8vIFhLX2xjYXJvblxuICAgIDB4MDE0MTogMHgwMWEzLCAvLyBYS19Mc3Ryb2tlXG4gICAgMHgwMTQyOiAweDAxYjMsIC8vIFhLX2xzdHJva2VcbiAgICAweDAxNDM6IDB4MDFkMSwgLy8gWEtfTmFjdXRlXG4gICAgMHgwMTQ0OiAweDAxZjEsIC8vIFhLX25hY3V0ZVxuICAgIDB4MDE0NTogMHgwM2QxLCAvLyBYS19OY2VkaWxsYVxuICAgIDB4MDE0NjogMHgwM2YxLCAvLyBYS19uY2VkaWxsYVxuICAgIDB4MDE0NzogMHgwMWQyLCAvLyBYS19OY2Fyb25cbiAgICAweDAxNDg6IDB4MDFmMiwgLy8gWEtfbmNhcm9uXG4gICAgMHgwMTRhOiAweDAzYmQsIC8vIFhLX0VOR1xuICAgIDB4MDE0YjogMHgwM2JmLCAvLyBYS19lbmdcbiAgICAweDAxNGM6IDB4MDNkMiwgLy8gWEtfT21hY3JvblxuICAgIDB4MDE0ZDogMHgwM2YyLCAvLyBYS19vbWFjcm9uXG4gICAgMHgwMTUwOiAweDAxZDUsIC8vIFhLX09kb3VibGVhY3V0ZVxuICAgIDB4MDE1MTogMHgwMWY1LCAvLyBYS19vZG91YmxlYWN1dGVcbiAgICAweDAxNTI6IDB4MTNiYywgLy8gWEtfT0VcbiAgICAweDAxNTM6IDB4MTNiZCwgLy8gWEtfb2VcbiAgICAweDAxNTQ6IDB4MDFjMCwgLy8gWEtfUmFjdXRlXG4gICAgMHgwMTU1OiAweDAxZTAsIC8vIFhLX3JhY3V0ZVxuICAgIDB4MDE1NjogMHgwM2EzLCAvLyBYS19SY2VkaWxsYVxuICAgIDB4MDE1NzogMHgwM2IzLCAvLyBYS19yY2VkaWxsYVxuICAgIDB4MDE1ODogMHgwMWQ4LCAvLyBYS19SY2Fyb25cbiAgICAweDAxNTk6IDB4MDFmOCwgLy8gWEtfcmNhcm9uXG4gICAgMHgwMTVhOiAweDAxYTYsIC8vIFhLX1NhY3V0ZVxuICAgIDB4MDE1YjogMHgwMWI2LCAvLyBYS19zYWN1dGVcbiAgICAweDAxNWM6IDB4MDJkZSwgLy8gWEtfU2NpcmN1bWZsZXhcbiAgICAweDAxNWQ6IDB4MDJmZSwgLy8gWEtfc2NpcmN1bWZsZXhcbiAgICAweDAxNWU6IDB4MDFhYSwgLy8gWEtfU2NlZGlsbGFcbiAgICAweDAxNWY6IDB4MDFiYSwgLy8gWEtfc2NlZGlsbGFcbiAgICAweDAxNjA6IDB4MDFhOSwgLy8gWEtfU2Nhcm9uXG4gICAgMHgwMTYxOiAweDAxYjksIC8vIFhLX3NjYXJvblxuICAgIDB4MDE2MjogMHgwMWRlLCAvLyBYS19UY2VkaWxsYVxuICAgIDB4MDE2MzogMHgwMWZlLCAvLyBYS190Y2VkaWxsYVxuICAgIDB4MDE2NDogMHgwMWFiLCAvLyBYS19UY2Fyb25cbiAgICAweDAxNjU6IDB4MDFiYiwgLy8gWEtfdGNhcm9uXG4gICAgMHgwMTY2OiAweDAzYWMsIC8vIFhLX1RzbGFzaFxuICAgIDB4MDE2NzogMHgwM2JjLCAvLyBYS190c2xhc2hcbiAgICAweDAxNjg6IDB4MDNkZCwgLy8gWEtfVXRpbGRlXG4gICAgMHgwMTY5OiAweDAzZmQsIC8vIFhLX3V0aWxkZVxuICAgIDB4MDE2YTogMHgwM2RlLCAvLyBYS19VbWFjcm9uXG4gICAgMHgwMTZiOiAweDAzZmUsIC8vIFhLX3VtYWNyb25cbiAgICAweDAxNmM6IDB4MDJkZCwgLy8gWEtfVWJyZXZlXG4gICAgMHgwMTZkOiAweDAyZmQsIC8vIFhLX3VicmV2ZVxuICAgIDB4MDE2ZTogMHgwMWQ5LCAvLyBYS19VcmluZ1xuICAgIDB4MDE2ZjogMHgwMWY5LCAvLyBYS191cmluZ1xuICAgIDB4MDE3MDogMHgwMWRiLCAvLyBYS19VZG91YmxlYWN1dGVcbiAgICAweDAxNzE6IDB4MDFmYiwgLy8gWEtfdWRvdWJsZWFjdXRlXG4gICAgMHgwMTcyOiAweDAzZDksIC8vIFhLX1VvZ29uZWtcbiAgICAweDAxNzM6IDB4MDNmOSwgLy8gWEtfdW9nb25la1xuICAgIDB4MDE3ODogMHgxM2JlLCAvLyBYS19ZZGlhZXJlc2lzXG4gICAgMHgwMTc5OiAweDAxYWMsIC8vIFhLX1phY3V0ZVxuICAgIDB4MDE3YTogMHgwMWJjLCAvLyBYS196YWN1dGVcbiAgICAweDAxN2I6IDB4MDFhZiwgLy8gWEtfWmFib3ZlZG90XG4gICAgMHgwMTdjOiAweDAxYmYsIC8vIFhLX3phYm92ZWRvdFxuICAgIDB4MDE3ZDogMHgwMWFlLCAvLyBYS19aY2Fyb25cbiAgICAweDAxN2U6IDB4MDFiZSwgLy8gWEtfemNhcm9uXG4gICAgMHgwMTkyOiAweDA4ZjYsIC8vIFhLX2Z1bmN0aW9uXG4gICAgMHgwMWQyOiAweDEwMDAxZDEsIC8vIFhLX09jYXJvblxuICAgIDB4MDJjNzogMHgwMWI3LCAvLyBYS19jYXJvblxuICAgIDB4MDJkODogMHgwMWEyLCAvLyBYS19icmV2ZVxuICAgIDB4MDJkOTogMHgwMWZmLCAvLyBYS19hYm92ZWRvdFxuICAgIDB4MDJkYjogMHgwMWIyLCAvLyBYS19vZ29uZWtcbiAgICAweDAyZGQ6IDB4MDFiZCwgLy8gWEtfZG91YmxlYWN1dGVcbiAgICAweDAzODU6IDB4MDdhZSwgLy8gWEtfR3JlZWtfYWNjZW50ZGllcmVzaXNcbiAgICAweDAzODY6IDB4MDdhMSwgLy8gWEtfR3JlZWtfQUxQSEFhY2NlbnRcbiAgICAweDAzODg6IDB4MDdhMiwgLy8gWEtfR3JlZWtfRVBTSUxPTmFjY2VudFxuICAgIDB4MDM4OTogMHgwN2EzLCAvLyBYS19HcmVla19FVEFhY2NlbnRcbiAgICAweDAzOGE6IDB4MDdhNCwgLy8gWEtfR3JlZWtfSU9UQWFjY2VudFxuICAgIDB4MDM4YzogMHgwN2E3LCAvLyBYS19HcmVla19PTUlDUk9OYWNjZW50XG4gICAgMHgwMzhlOiAweDA3YTgsIC8vIFhLX0dyZWVrX1VQU0lMT05hY2NlbnRcbiAgICAweDAzOGY6IDB4MDdhYiwgLy8gWEtfR3JlZWtfT01FR0FhY2NlbnRcbiAgICAweDAzOTA6IDB4MDdiNiwgLy8gWEtfR3JlZWtfaW90YWFjY2VudGRpZXJlc2lzXG4gICAgMHgwMzkxOiAweDA3YzEsIC8vIFhLX0dyZWVrX0FMUEhBXG4gICAgMHgwMzkyOiAweDA3YzIsIC8vIFhLX0dyZWVrX0JFVEFcbiAgICAweDAzOTM6IDB4MDdjMywgLy8gWEtfR3JlZWtfR0FNTUFcbiAgICAweDAzOTQ6IDB4MDdjNCwgLy8gWEtfR3JlZWtfREVMVEFcbiAgICAweDAzOTU6IDB4MDdjNSwgLy8gWEtfR3JlZWtfRVBTSUxPTlxuICAgIDB4MDM5NjogMHgwN2M2LCAvLyBYS19HcmVla19aRVRBXG4gICAgMHgwMzk3OiAweDA3YzcsIC8vIFhLX0dyZWVrX0VUQVxuICAgIDB4MDM5ODogMHgwN2M4LCAvLyBYS19HcmVla19USEVUQVxuICAgIDB4MDM5OTogMHgwN2M5LCAvLyBYS19HcmVla19JT1RBXG4gICAgMHgwMzlhOiAweDA3Y2EsIC8vIFhLX0dyZWVrX0tBUFBBXG4gICAgMHgwMzliOiAweDA3Y2IsIC8vIFhLX0dyZWVrX0xBTURBXG4gICAgMHgwMzljOiAweDA3Y2MsIC8vIFhLX0dyZWVrX01VXG4gICAgMHgwMzlkOiAweDA3Y2QsIC8vIFhLX0dyZWVrX05VXG4gICAgMHgwMzllOiAweDA3Y2UsIC8vIFhLX0dyZWVrX1hJXG4gICAgMHgwMzlmOiAweDA3Y2YsIC8vIFhLX0dyZWVrX09NSUNST05cbiAgICAweDAzYTA6IDB4MDdkMCwgLy8gWEtfR3JlZWtfUElcbiAgICAweDAzYTE6IDB4MDdkMSwgLy8gWEtfR3JlZWtfUkhPXG4gICAgMHgwM2EzOiAweDA3ZDIsIC8vIFhLX0dyZWVrX1NJR01BXG4gICAgMHgwM2E0OiAweDA3ZDQsIC8vIFhLX0dyZWVrX1RBVVxuICAgIDB4MDNhNTogMHgwN2Q1LCAvLyBYS19HcmVla19VUFNJTE9OXG4gICAgMHgwM2E2OiAweDA3ZDYsIC8vIFhLX0dyZWVrX1BISVxuICAgIDB4MDNhNzogMHgwN2Q3LCAvLyBYS19HcmVla19DSElcbiAgICAweDAzYTg6IDB4MDdkOCwgLy8gWEtfR3JlZWtfUFNJXG4gICAgMHgwM2E5OiAweDA3ZDksIC8vIFhLX0dyZWVrX09NRUdBXG4gICAgMHgwM2FhOiAweDA3YTUsIC8vIFhLX0dyZWVrX0lPVEFkaWVyZXNpc1xuICAgIDB4MDNhYjogMHgwN2E5LCAvLyBYS19HcmVla19VUFNJTE9OZGllcmVzaXNcbiAgICAweDAzYWM6IDB4MDdiMSwgLy8gWEtfR3JlZWtfYWxwaGFhY2NlbnRcbiAgICAweDAzYWQ6IDB4MDdiMiwgLy8gWEtfR3JlZWtfZXBzaWxvbmFjY2VudFxuICAgIDB4MDNhZTogMHgwN2IzLCAvLyBYS19HcmVla19ldGFhY2NlbnRcbiAgICAweDAzYWY6IDB4MDdiNCwgLy8gWEtfR3JlZWtfaW90YWFjY2VudFxuICAgIDB4MDNiMDogMHgwN2JhLCAvLyBYS19HcmVla191cHNpbG9uYWNjZW50ZGllcmVzaXNcbiAgICAweDAzYjE6IDB4MDdlMSwgLy8gWEtfR3JlZWtfYWxwaGFcbiAgICAweDAzYjI6IDB4MDdlMiwgLy8gWEtfR3JlZWtfYmV0YVxuICAgIDB4MDNiMzogMHgwN2UzLCAvLyBYS19HcmVla19nYW1tYVxuICAgIDB4MDNiNDogMHgwN2U0LCAvLyBYS19HcmVla19kZWx0YVxuICAgIDB4MDNiNTogMHgwN2U1LCAvLyBYS19HcmVla19lcHNpbG9uXG4gICAgMHgwM2I2OiAweDA3ZTYsIC8vIFhLX0dyZWVrX3pldGFcbiAgICAweDAzYjc6IDB4MDdlNywgLy8gWEtfR3JlZWtfZXRhXG4gICAgMHgwM2I4OiAweDA3ZTgsIC8vIFhLX0dyZWVrX3RoZXRhXG4gICAgMHgwM2I5OiAweDA3ZTksIC8vIFhLX0dyZWVrX2lvdGFcbiAgICAweDAzYmE6IDB4MDdlYSwgLy8gWEtfR3JlZWtfa2FwcGFcbiAgICAweDAzYmI6IDB4MDdlYiwgLy8gWEtfR3JlZWtfbGFtZGFcbiAgICAweDAzYmM6IDB4MDdlYywgLy8gWEtfR3JlZWtfbXVcbiAgICAweDAzYmQ6IDB4MDdlZCwgLy8gWEtfR3JlZWtfbnVcbiAgICAweDAzYmU6IDB4MDdlZSwgLy8gWEtfR3JlZWtfeGlcbiAgICAweDAzYmY6IDB4MDdlZiwgLy8gWEtfR3JlZWtfb21pY3JvblxuICAgIDB4MDNjMDogMHgwN2YwLCAvLyBYS19HcmVla19waVxuICAgIDB4MDNjMTogMHgwN2YxLCAvLyBYS19HcmVla19yaG9cbiAgICAweDAzYzI6IDB4MDdmMywgLy8gWEtfR3JlZWtfZmluYWxzbWFsbHNpZ21hXG4gICAgMHgwM2MzOiAweDA3ZjIsIC8vIFhLX0dyZWVrX3NpZ21hXG4gICAgMHgwM2M0OiAweDA3ZjQsIC8vIFhLX0dyZWVrX3RhdVxuICAgIDB4MDNjNTogMHgwN2Y1LCAvLyBYS19HcmVla191cHNpbG9uXG4gICAgMHgwM2M2OiAweDA3ZjYsIC8vIFhLX0dyZWVrX3BoaVxuICAgIDB4MDNjNzogMHgwN2Y3LCAvLyBYS19HcmVla19jaGlcbiAgICAweDAzYzg6IDB4MDdmOCwgLy8gWEtfR3JlZWtfcHNpXG4gICAgMHgwM2M5OiAweDA3ZjksIC8vIFhLX0dyZWVrX29tZWdhXG4gICAgMHgwM2NhOiAweDA3YjUsIC8vIFhLX0dyZWVrX2lvdGFkaWVyZXNpc1xuICAgIDB4MDNjYjogMHgwN2I5LCAvLyBYS19HcmVla191cHNpbG9uZGllcmVzaXNcbiAgICAweDAzY2M6IDB4MDdiNywgLy8gWEtfR3JlZWtfb21pY3JvbmFjY2VudFxuICAgIDB4MDNjZDogMHgwN2I4LCAvLyBYS19HcmVla191cHNpbG9uYWNjZW50XG4gICAgMHgwM2NlOiAweDA3YmIsIC8vIFhLX0dyZWVrX29tZWdhYWNjZW50XG4gICAgMHgwNDAxOiAweDA2YjMsIC8vIFhLX0N5cmlsbGljX0lPXG4gICAgMHgwNDAyOiAweDA2YjEsIC8vIFhLX1NlcmJpYW5fREpFXG4gICAgMHgwNDAzOiAweDA2YjIsIC8vIFhLX01hY2Vkb25pYV9HSkVcbiAgICAweDA0MDQ6IDB4MDZiNCwgLy8gWEtfVWtyYWluaWFuX0lFXG4gICAgMHgwNDA1OiAweDA2YjUsIC8vIFhLX01hY2Vkb25pYV9EU0VcbiAgICAweDA0MDY6IDB4MDZiNiwgLy8gWEtfVWtyYWluaWFuX0lcbiAgICAweDA0MDc6IDB4MDZiNywgLy8gWEtfVWtyYWluaWFuX1lJXG4gICAgMHgwNDA4OiAweDA2YjgsIC8vIFhLX0N5cmlsbGljX0pFXG4gICAgMHgwNDA5OiAweDA2YjksIC8vIFhLX0N5cmlsbGljX0xKRVxuICAgIDB4MDQwYTogMHgwNmJhLCAvLyBYS19DeXJpbGxpY19OSkVcbiAgICAweDA0MGI6IDB4MDZiYiwgLy8gWEtfU2VyYmlhbl9UU0hFXG4gICAgMHgwNDBjOiAweDA2YmMsIC8vIFhLX01hY2Vkb25pYV9LSkVcbiAgICAweDA0MGU6IDB4MDZiZSwgLy8gWEtfQnllbG9ydXNzaWFuX1NIT1JUVVxuICAgIDB4MDQwZjogMHgwNmJmLCAvLyBYS19DeXJpbGxpY19EWkhFXG4gICAgMHgwNDEwOiAweDA2ZTEsIC8vIFhLX0N5cmlsbGljX0FcbiAgICAweDA0MTE6IDB4MDZlMiwgLy8gWEtfQ3lyaWxsaWNfQkVcbiAgICAweDA0MTI6IDB4MDZmNywgLy8gWEtfQ3lyaWxsaWNfVkVcbiAgICAweDA0MTM6IDB4MDZlNywgLy8gWEtfQ3lyaWxsaWNfR0hFXG4gICAgMHgwNDE0OiAweDA2ZTQsIC8vIFhLX0N5cmlsbGljX0RFXG4gICAgMHgwNDE1OiAweDA2ZTUsIC8vIFhLX0N5cmlsbGljX0lFXG4gICAgMHgwNDE2OiAweDA2ZjYsIC8vIFhLX0N5cmlsbGljX1pIRVxuICAgIDB4MDQxNzogMHgwNmZhLCAvLyBYS19DeXJpbGxpY19aRVxuICAgIDB4MDQxODogMHgwNmU5LCAvLyBYS19DeXJpbGxpY19JXG4gICAgMHgwNDE5OiAweDA2ZWEsIC8vIFhLX0N5cmlsbGljX1NIT1JUSVxuICAgIDB4MDQxYTogMHgwNmViLCAvLyBYS19DeXJpbGxpY19LQVxuICAgIDB4MDQxYjogMHgwNmVjLCAvLyBYS19DeXJpbGxpY19FTFxuICAgIDB4MDQxYzogMHgwNmVkLCAvLyBYS19DeXJpbGxpY19FTVxuICAgIDB4MDQxZDogMHgwNmVlLCAvLyBYS19DeXJpbGxpY19FTlxuICAgIDB4MDQxZTogMHgwNmVmLCAvLyBYS19DeXJpbGxpY19PXG4gICAgMHgwNDFmOiAweDA2ZjAsIC8vIFhLX0N5cmlsbGljX1BFXG4gICAgMHgwNDIwOiAweDA2ZjIsIC8vIFhLX0N5cmlsbGljX0VSXG4gICAgMHgwNDIxOiAweDA2ZjMsIC8vIFhLX0N5cmlsbGljX0VTXG4gICAgMHgwNDIyOiAweDA2ZjQsIC8vIFhLX0N5cmlsbGljX1RFXG4gICAgMHgwNDIzOiAweDA2ZjUsIC8vIFhLX0N5cmlsbGljX1VcbiAgICAweDA0MjQ6IDB4MDZlNiwgLy8gWEtfQ3lyaWxsaWNfRUZcbiAgICAweDA0MjU6IDB4MDZlOCwgLy8gWEtfQ3lyaWxsaWNfSEFcbiAgICAweDA0MjY6IDB4MDZlMywgLy8gWEtfQ3lyaWxsaWNfVFNFXG4gICAgMHgwNDI3OiAweDA2ZmUsIC8vIFhLX0N5cmlsbGljX0NIRVxuICAgIDB4MDQyODogMHgwNmZiLCAvLyBYS19DeXJpbGxpY19TSEFcbiAgICAweDA0Mjk6IDB4MDZmZCwgLy8gWEtfQ3lyaWxsaWNfU0hDSEFcbiAgICAweDA0MmE6IDB4MDZmZiwgLy8gWEtfQ3lyaWxsaWNfSEFSRFNJR05cbiAgICAweDA0MmI6IDB4MDZmOSwgLy8gWEtfQ3lyaWxsaWNfWUVSVVxuICAgIDB4MDQyYzogMHgwNmY4LCAvLyBYS19DeXJpbGxpY19TT0ZUU0lHTlxuICAgIDB4MDQyZDogMHgwNmZjLCAvLyBYS19DeXJpbGxpY19FXG4gICAgMHgwNDJlOiAweDA2ZTAsIC8vIFhLX0N5cmlsbGljX1lVXG4gICAgMHgwNDJmOiAweDA2ZjEsIC8vIFhLX0N5cmlsbGljX1lBXG4gICAgMHgwNDMwOiAweDA2YzEsIC8vIFhLX0N5cmlsbGljX2FcbiAgICAweDA0MzE6IDB4MDZjMiwgLy8gWEtfQ3lyaWxsaWNfYmVcbiAgICAweDA0MzI6IDB4MDZkNywgLy8gWEtfQ3lyaWxsaWNfdmVcbiAgICAweDA0MzM6IDB4MDZjNywgLy8gWEtfQ3lyaWxsaWNfZ2hlXG4gICAgMHgwNDM0OiAweDA2YzQsIC8vIFhLX0N5cmlsbGljX2RlXG4gICAgMHgwNDM1OiAweDA2YzUsIC8vIFhLX0N5cmlsbGljX2llXG4gICAgMHgwNDM2OiAweDA2ZDYsIC8vIFhLX0N5cmlsbGljX3poZVxuICAgIDB4MDQzNzogMHgwNmRhLCAvLyBYS19DeXJpbGxpY196ZVxuICAgIDB4MDQzODogMHgwNmM5LCAvLyBYS19DeXJpbGxpY19pXG4gICAgMHgwNDM5OiAweDA2Y2EsIC8vIFhLX0N5cmlsbGljX3Nob3J0aVxuICAgIDB4MDQzYTogMHgwNmNiLCAvLyBYS19DeXJpbGxpY19rYVxuICAgIDB4MDQzYjogMHgwNmNjLCAvLyBYS19DeXJpbGxpY19lbFxuICAgIDB4MDQzYzogMHgwNmNkLCAvLyBYS19DeXJpbGxpY19lbVxuICAgIDB4MDQzZDogMHgwNmNlLCAvLyBYS19DeXJpbGxpY19lblxuICAgIDB4MDQzZTogMHgwNmNmLCAvLyBYS19DeXJpbGxpY19vXG4gICAgMHgwNDNmOiAweDA2ZDAsIC8vIFhLX0N5cmlsbGljX3BlXG4gICAgMHgwNDQwOiAweDA2ZDIsIC8vIFhLX0N5cmlsbGljX2VyXG4gICAgMHgwNDQxOiAweDA2ZDMsIC8vIFhLX0N5cmlsbGljX2VzXG4gICAgMHgwNDQyOiAweDA2ZDQsIC8vIFhLX0N5cmlsbGljX3RlXG4gICAgMHgwNDQzOiAweDA2ZDUsIC8vIFhLX0N5cmlsbGljX3VcbiAgICAweDA0NDQ6IDB4MDZjNiwgLy8gWEtfQ3lyaWxsaWNfZWZcbiAgICAweDA0NDU6IDB4MDZjOCwgLy8gWEtfQ3lyaWxsaWNfaGFcbiAgICAweDA0NDY6IDB4MDZjMywgLy8gWEtfQ3lyaWxsaWNfdHNlXG4gICAgMHgwNDQ3OiAweDA2ZGUsIC8vIFhLX0N5cmlsbGljX2NoZVxuICAgIDB4MDQ0ODogMHgwNmRiLCAvLyBYS19DeXJpbGxpY19zaGFcbiAgICAweDA0NDk6IDB4MDZkZCwgLy8gWEtfQ3lyaWxsaWNfc2hjaGFcbiAgICAweDA0NGE6IDB4MDZkZiwgLy8gWEtfQ3lyaWxsaWNfaGFyZHNpZ25cbiAgICAweDA0NGI6IDB4MDZkOSwgLy8gWEtfQ3lyaWxsaWNfeWVydVxuICAgIDB4MDQ0YzogMHgwNmQ4LCAvLyBYS19DeXJpbGxpY19zb2Z0c2lnblxuICAgIDB4MDQ0ZDogMHgwNmRjLCAvLyBYS19DeXJpbGxpY19lXG4gICAgMHgwNDRlOiAweDA2YzAsIC8vIFhLX0N5cmlsbGljX3l1XG4gICAgMHgwNDRmOiAweDA2ZDEsIC8vIFhLX0N5cmlsbGljX3lhXG4gICAgMHgwNDUxOiAweDA2YTMsIC8vIFhLX0N5cmlsbGljX2lvXG4gICAgMHgwNDUyOiAweDA2YTEsIC8vIFhLX1NlcmJpYW5fZGplXG4gICAgMHgwNDUzOiAweDA2YTIsIC8vIFhLX01hY2Vkb25pYV9namVcbiAgICAweDA0NTQ6IDB4MDZhNCwgLy8gWEtfVWtyYWluaWFuX2llXG4gICAgMHgwNDU1OiAweDA2YTUsIC8vIFhLX01hY2Vkb25pYV9kc2VcbiAgICAweDA0NTY6IDB4MDZhNiwgLy8gWEtfVWtyYWluaWFuX2lcbiAgICAweDA0NTc6IDB4MDZhNywgLy8gWEtfVWtyYWluaWFuX3lpXG4gICAgMHgwNDU4OiAweDA2YTgsIC8vIFhLX0N5cmlsbGljX2plXG4gICAgMHgwNDU5OiAweDA2YTksIC8vIFhLX0N5cmlsbGljX2xqZVxuICAgIDB4MDQ1YTogMHgwNmFhLCAvLyBYS19DeXJpbGxpY19uamVcbiAgICAweDA0NWI6IDB4MDZhYiwgLy8gWEtfU2VyYmlhbl90c2hlXG4gICAgMHgwNDVjOiAweDA2YWMsIC8vIFhLX01hY2Vkb25pYV9ramVcbiAgICAweDA0NWU6IDB4MDZhZSwgLy8gWEtfQnllbG9ydXNzaWFuX3Nob3J0dVxuICAgIDB4MDQ1ZjogMHgwNmFmLCAvLyBYS19DeXJpbGxpY19kemhlXG4gICAgMHgwNDkwOiAweDA2YmQsIC8vIFhLX1VrcmFpbmlhbl9HSEVfV0lUSF9VUFRVUk5cbiAgICAweDA0OTE6IDB4MDZhZCwgLy8gWEtfVWtyYWluaWFuX2doZV93aXRoX3VwdHVyblxuICAgIDB4MDVkMDogMHgwY2UwLCAvLyBYS19oZWJyZXdfYWxlcGhcbiAgICAweDA1ZDE6IDB4MGNlMSwgLy8gWEtfaGVicmV3X2JldFxuICAgIDB4MDVkMjogMHgwY2UyLCAvLyBYS19oZWJyZXdfZ2ltZWxcbiAgICAweDA1ZDM6IDB4MGNlMywgLy8gWEtfaGVicmV3X2RhbGV0XG4gICAgMHgwNWQ0OiAweDBjZTQsIC8vIFhLX2hlYnJld19oZVxuICAgIDB4MDVkNTogMHgwY2U1LCAvLyBYS19oZWJyZXdfd2F3XG4gICAgMHgwNWQ2OiAweDBjZTYsIC8vIFhLX2hlYnJld196YWluXG4gICAgMHgwNWQ3OiAweDBjZTcsIC8vIFhLX2hlYnJld19jaGV0XG4gICAgMHgwNWQ4OiAweDBjZTgsIC8vIFhLX2hlYnJld190ZXRcbiAgICAweDA1ZDk6IDB4MGNlOSwgLy8gWEtfaGVicmV3X3lvZFxuICAgIDB4MDVkYTogMHgwY2VhLCAvLyBYS19oZWJyZXdfZmluYWxrYXBoXG4gICAgMHgwNWRiOiAweDBjZWIsIC8vIFhLX2hlYnJld19rYXBoXG4gICAgMHgwNWRjOiAweDBjZWMsIC8vIFhLX2hlYnJld19sYW1lZFxuICAgIDB4MDVkZDogMHgwY2VkLCAvLyBYS19oZWJyZXdfZmluYWxtZW1cbiAgICAweDA1ZGU6IDB4MGNlZSwgLy8gWEtfaGVicmV3X21lbVxuICAgIDB4MDVkZjogMHgwY2VmLCAvLyBYS19oZWJyZXdfZmluYWxudW5cbiAgICAweDA1ZTA6IDB4MGNmMCwgLy8gWEtfaGVicmV3X251blxuICAgIDB4MDVlMTogMHgwY2YxLCAvLyBYS19oZWJyZXdfc2FtZWNoXG4gICAgMHgwNWUyOiAweDBjZjIsIC8vIFhLX2hlYnJld19heWluXG4gICAgMHgwNWUzOiAweDBjZjMsIC8vIFhLX2hlYnJld19maW5hbHBlXG4gICAgMHgwNWU0OiAweDBjZjQsIC8vIFhLX2hlYnJld19wZVxuICAgIDB4MDVlNTogMHgwY2Y1LCAvLyBYS19oZWJyZXdfZmluYWx6YWRlXG4gICAgMHgwNWU2OiAweDBjZjYsIC8vIFhLX2hlYnJld196YWRlXG4gICAgMHgwNWU3OiAweDBjZjcsIC8vIFhLX2hlYnJld19xb3BoXG4gICAgMHgwNWU4OiAweDBjZjgsIC8vIFhLX2hlYnJld19yZXNoXG4gICAgMHgwNWU5OiAweDBjZjksIC8vIFhLX2hlYnJld19zaGluXG4gICAgMHgwNWVhOiAweDBjZmEsIC8vIFhLX2hlYnJld190YXdcbiAgICAweDA2MGM6IDB4MDVhYywgLy8gWEtfQXJhYmljX2NvbW1hXG4gICAgMHgwNjFiOiAweDA1YmIsIC8vIFhLX0FyYWJpY19zZW1pY29sb25cbiAgICAweDA2MWY6IDB4MDViZiwgLy8gWEtfQXJhYmljX3F1ZXN0aW9uX21hcmtcbiAgICAweDA2MjE6IDB4MDVjMSwgLy8gWEtfQXJhYmljX2hhbXphXG4gICAgMHgwNjIyOiAweDA1YzIsIC8vIFhLX0FyYWJpY19tYWRkYW9uYWxlZlxuICAgIDB4MDYyMzogMHgwNWMzLCAvLyBYS19BcmFiaWNfaGFtemFvbmFsZWZcbiAgICAweDA2MjQ6IDB4MDVjNCwgLy8gWEtfQXJhYmljX2hhbXphb253YXdcbiAgICAweDA2MjU6IDB4MDVjNSwgLy8gWEtfQXJhYmljX2hhbXphdW5kZXJhbGVmXG4gICAgMHgwNjI2OiAweDA1YzYsIC8vIFhLX0FyYWJpY19oYW16YW9ueWVoXG4gICAgMHgwNjI3OiAweDA1YzcsIC8vIFhLX0FyYWJpY19hbGVmXG4gICAgMHgwNjI4OiAweDA1YzgsIC8vIFhLX0FyYWJpY19iZWhcbiAgICAweDA2Mjk6IDB4MDVjOSwgLy8gWEtfQXJhYmljX3RlaG1hcmJ1dGFcbiAgICAweDA2MmE6IDB4MDVjYSwgLy8gWEtfQXJhYmljX3RlaFxuICAgIDB4MDYyYjogMHgwNWNiLCAvLyBYS19BcmFiaWNfdGhlaFxuICAgIDB4MDYyYzogMHgwNWNjLCAvLyBYS19BcmFiaWNfamVlbVxuICAgIDB4MDYyZDogMHgwNWNkLCAvLyBYS19BcmFiaWNfaGFoXG4gICAgMHgwNjJlOiAweDA1Y2UsIC8vIFhLX0FyYWJpY19raGFoXG4gICAgMHgwNjJmOiAweDA1Y2YsIC8vIFhLX0FyYWJpY19kYWxcbiAgICAweDA2MzA6IDB4MDVkMCwgLy8gWEtfQXJhYmljX3RoYWxcbiAgICAweDA2MzE6IDB4MDVkMSwgLy8gWEtfQXJhYmljX3JhXG4gICAgMHgwNjMyOiAweDA1ZDIsIC8vIFhLX0FyYWJpY196YWluXG4gICAgMHgwNjMzOiAweDA1ZDMsIC8vIFhLX0FyYWJpY19zZWVuXG4gICAgMHgwNjM0OiAweDA1ZDQsIC8vIFhLX0FyYWJpY19zaGVlblxuICAgIDB4MDYzNTogMHgwNWQ1LCAvLyBYS19BcmFiaWNfc2FkXG4gICAgMHgwNjM2OiAweDA1ZDYsIC8vIFhLX0FyYWJpY19kYWRcbiAgICAweDA2Mzc6IDB4MDVkNywgLy8gWEtfQXJhYmljX3RhaFxuICAgIDB4MDYzODogMHgwNWQ4LCAvLyBYS19BcmFiaWNfemFoXG4gICAgMHgwNjM5OiAweDA1ZDksIC8vIFhLX0FyYWJpY19haW5cbiAgICAweDA2M2E6IDB4MDVkYSwgLy8gWEtfQXJhYmljX2doYWluXG4gICAgMHgwNjQwOiAweDA1ZTAsIC8vIFhLX0FyYWJpY190YXR3ZWVsXG4gICAgMHgwNjQxOiAweDA1ZTEsIC8vIFhLX0FyYWJpY19mZWhcbiAgICAweDA2NDI6IDB4MDVlMiwgLy8gWEtfQXJhYmljX3FhZlxuICAgIDB4MDY0MzogMHgwNWUzLCAvLyBYS19BcmFiaWNfa2FmXG4gICAgMHgwNjQ0OiAweDA1ZTQsIC8vIFhLX0FyYWJpY19sYW1cbiAgICAweDA2NDU6IDB4MDVlNSwgLy8gWEtfQXJhYmljX21lZW1cbiAgICAweDA2NDY6IDB4MDVlNiwgLy8gWEtfQXJhYmljX25vb25cbiAgICAweDA2NDc6IDB4MDVlNywgLy8gWEtfQXJhYmljX2hhXG4gICAgMHgwNjQ4OiAweDA1ZTgsIC8vIFhLX0FyYWJpY193YXdcbiAgICAweDA2NDk6IDB4MDVlOSwgLy8gWEtfQXJhYmljX2FsZWZtYWtzdXJhXG4gICAgMHgwNjRhOiAweDA1ZWEsIC8vIFhLX0FyYWJpY195ZWhcbiAgICAweDA2NGI6IDB4MDVlYiwgLy8gWEtfQXJhYmljX2ZhdGhhdGFuXG4gICAgMHgwNjRjOiAweDA1ZWMsIC8vIFhLX0FyYWJpY19kYW1tYXRhblxuICAgIDB4MDY0ZDogMHgwNWVkLCAvLyBYS19BcmFiaWNfa2FzcmF0YW5cbiAgICAweDA2NGU6IDB4MDVlZSwgLy8gWEtfQXJhYmljX2ZhdGhhXG4gICAgMHgwNjRmOiAweDA1ZWYsIC8vIFhLX0FyYWJpY19kYW1tYVxuICAgIDB4MDY1MDogMHgwNWYwLCAvLyBYS19BcmFiaWNfa2FzcmFcbiAgICAweDA2NTE6IDB4MDVmMSwgLy8gWEtfQXJhYmljX3NoYWRkYVxuICAgIDB4MDY1MjogMHgwNWYyLCAvLyBYS19BcmFiaWNfc3VrdW5cbiAgICAweDBlMDE6IDB4MGRhMSwgLy8gWEtfVGhhaV9rb2thaVxuICAgIDB4MGUwMjogMHgwZGEyLCAvLyBYS19UaGFpX2tob2toYWlcbiAgICAweDBlMDM6IDB4MGRhMywgLy8gWEtfVGhhaV9raG9raHVhdFxuICAgIDB4MGUwNDogMHgwZGE0LCAvLyBYS19UaGFpX2tob2tod2FpXG4gICAgMHgwZTA1OiAweDBkYTUsIC8vIFhLX1RoYWlfa2hva2hvblxuICAgIDB4MGUwNjogMHgwZGE2LCAvLyBYS19UaGFpX2tob3Jha2hhbmdcbiAgICAweDBlMDc6IDB4MGRhNywgLy8gWEtfVGhhaV9uZ29uZ3VcbiAgICAweDBlMDg6IDB4MGRhOCwgLy8gWEtfVGhhaV9jaG9jaGFuXG4gICAgMHgwZTA5OiAweDBkYTksIC8vIFhLX1RoYWlfY2hvY2hpbmdcbiAgICAweDBlMGE6IDB4MGRhYSwgLy8gWEtfVGhhaV9jaG9jaGFuZ1xuICAgIDB4MGUwYjogMHgwZGFiLCAvLyBYS19UaGFpX3Nvc29cbiAgICAweDBlMGM6IDB4MGRhYywgLy8gWEtfVGhhaV9jaG9jaG9lXG4gICAgMHgwZTBkOiAweDBkYWQsIC8vIFhLX1RoYWlfeW95aW5nXG4gICAgMHgwZTBlOiAweDBkYWUsIC8vIFhLX1RoYWlfZG9jaGFkYVxuICAgIDB4MGUwZjogMHgwZGFmLCAvLyBYS19UaGFpX3RvcGF0YWtcbiAgICAweDBlMTA6IDB4MGRiMCwgLy8gWEtfVGhhaV90aG90aGFuXG4gICAgMHgwZTExOiAweDBkYjEsIC8vIFhLX1RoYWlfdGhvbmFuZ21vbnRob1xuICAgIDB4MGUxMjogMHgwZGIyLCAvLyBYS19UaGFpX3Rob3BodXRoYW9cbiAgICAweDBlMTM6IDB4MGRiMywgLy8gWEtfVGhhaV9ub25lblxuICAgIDB4MGUxNDogMHgwZGI0LCAvLyBYS19UaGFpX2RvZGVrXG4gICAgMHgwZTE1OiAweDBkYjUsIC8vIFhLX1RoYWlfdG90YW9cbiAgICAweDBlMTY6IDB4MGRiNiwgLy8gWEtfVGhhaV90aG90aHVuZ1xuICAgIDB4MGUxNzogMHgwZGI3LCAvLyBYS19UaGFpX3Rob3RoYWhhblxuICAgIDB4MGUxODogMHgwZGI4LCAvLyBYS19UaGFpX3Rob3Rob25nXG4gICAgMHgwZTE5OiAweDBkYjksIC8vIFhLX1RoYWlfbm9udVxuICAgIDB4MGUxYTogMHgwZGJhLCAvLyBYS19UaGFpX2JvYmFpbWFpXG4gICAgMHgwZTFiOiAweDBkYmIsIC8vIFhLX1RoYWlfcG9wbGFcbiAgICAweDBlMWM6IDB4MGRiYywgLy8gWEtfVGhhaV9waG9waHVuZ1xuICAgIDB4MGUxZDogMHgwZGJkLCAvLyBYS19UaGFpX2ZvZmFcbiAgICAweDBlMWU6IDB4MGRiZSwgLy8gWEtfVGhhaV9waG9waGFuXG4gICAgMHgwZTFmOiAweDBkYmYsIC8vIFhLX1RoYWlfZm9mYW5cbiAgICAweDBlMjA6IDB4MGRjMCwgLy8gWEtfVGhhaV9waG9zYW1waGFvXG4gICAgMHgwZTIxOiAweDBkYzEsIC8vIFhLX1RoYWlfbW9tYVxuICAgIDB4MGUyMjogMHgwZGMyLCAvLyBYS19UaGFpX3lveWFrXG4gICAgMHgwZTIzOiAweDBkYzMsIC8vIFhLX1RoYWlfcm9ydWFcbiAgICAweDBlMjQ6IDB4MGRjNCwgLy8gWEtfVGhhaV9ydVxuICAgIDB4MGUyNTogMHgwZGM1LCAvLyBYS19UaGFpX2xvbGluZ1xuICAgIDB4MGUyNjogMHgwZGM2LCAvLyBYS19UaGFpX2x1XG4gICAgMHgwZTI3OiAweDBkYzcsIC8vIFhLX1RoYWlfd293YWVuXG4gICAgMHgwZTI4OiAweDBkYzgsIC8vIFhLX1RoYWlfc29zYWxhXG4gICAgMHgwZTI5OiAweDBkYzksIC8vIFhLX1RoYWlfc29ydXNpXG4gICAgMHgwZTJhOiAweDBkY2EsIC8vIFhLX1RoYWlfc29zdWFcbiAgICAweDBlMmI6IDB4MGRjYiwgLy8gWEtfVGhhaV9ob2hpcFxuICAgIDB4MGUyYzogMHgwZGNjLCAvLyBYS19UaGFpX2xvY2h1bGFcbiAgICAweDBlMmQ6IDB4MGRjZCwgLy8gWEtfVGhhaV9vYW5nXG4gICAgMHgwZTJlOiAweDBkY2UsIC8vIFhLX1RoYWlfaG9ub2todWtcbiAgICAweDBlMmY6IDB4MGRjZiwgLy8gWEtfVGhhaV9wYWl5YW5ub2lcbiAgICAweDBlMzA6IDB4MGRkMCwgLy8gWEtfVGhhaV9zYXJhYVxuICAgIDB4MGUzMTogMHgwZGQxLCAvLyBYS19UaGFpX21haWhhbmFrYXRcbiAgICAweDBlMzI6IDB4MGRkMiwgLy8gWEtfVGhhaV9zYXJhYWFcbiAgICAweDBlMzM6IDB4MGRkMywgLy8gWEtfVGhhaV9zYXJhYW1cbiAgICAweDBlMzQ6IDB4MGRkNCwgLy8gWEtfVGhhaV9zYXJhaVxuICAgIDB4MGUzNTogMHgwZGQ1LCAvLyBYS19UaGFpX3NhcmFpaVxuICAgIDB4MGUzNjogMHgwZGQ2LCAvLyBYS19UaGFpX3NhcmF1ZVxuICAgIDB4MGUzNzogMHgwZGQ3LCAvLyBYS19UaGFpX3NhcmF1ZWVcbiAgICAweDBlMzg6IDB4MGRkOCwgLy8gWEtfVGhhaV9zYXJhdVxuICAgIDB4MGUzOTogMHgwZGQ5LCAvLyBYS19UaGFpX3NhcmF1dVxuICAgIDB4MGUzYTogMHgwZGRhLCAvLyBYS19UaGFpX3BoaW50aHVcbiAgICAweDBlM2Y6IDB4MGRkZiwgLy8gWEtfVGhhaV9iYWh0XG4gICAgMHgwZTQwOiAweDBkZTAsIC8vIFhLX1RoYWlfc2FyYWVcbiAgICAweDBlNDE6IDB4MGRlMSwgLy8gWEtfVGhhaV9zYXJhYWVcbiAgICAweDBlNDI6IDB4MGRlMiwgLy8gWEtfVGhhaV9zYXJhb1xuICAgIDB4MGU0MzogMHgwZGUzLCAvLyBYS19UaGFpX3NhcmFhaW1haW11YW5cbiAgICAweDBlNDQ6IDB4MGRlNCwgLy8gWEtfVGhhaV9zYXJhYWltYWltYWxhaVxuICAgIDB4MGU0NTogMHgwZGU1LCAvLyBYS19UaGFpX2xha2toYW5neWFvXG4gICAgMHgwZTQ2OiAweDBkZTYsIC8vIFhLX1RoYWlfbWFpeWFtb2tcbiAgICAweDBlNDc6IDB4MGRlNywgLy8gWEtfVGhhaV9tYWl0YWlraHVcbiAgICAweDBlNDg6IDB4MGRlOCwgLy8gWEtfVGhhaV9tYWlla1xuICAgIDB4MGU0OTogMHgwZGU5LCAvLyBYS19UaGFpX21haXRob1xuICAgIDB4MGU0YTogMHgwZGVhLCAvLyBYS19UaGFpX21haXRyaVxuICAgIDB4MGU0YjogMHgwZGViLCAvLyBYS19UaGFpX21haWNoYXR0YXdhXG4gICAgMHgwZTRjOiAweDBkZWMsIC8vIFhLX1RoYWlfdGhhbnRoYWtoYXRcbiAgICAweDBlNGQ6IDB4MGRlZCwgLy8gWEtfVGhhaV9uaWtoYWhpdFxuICAgIDB4MGU1MDogMHgwZGYwLCAvLyBYS19UaGFpX2xla3N1blxuICAgIDB4MGU1MTogMHgwZGYxLCAvLyBYS19UaGFpX2xla251bmdcbiAgICAweDBlNTI6IDB4MGRmMiwgLy8gWEtfVGhhaV9sZWtzb25nXG4gICAgMHgwZTUzOiAweDBkZjMsIC8vIFhLX1RoYWlfbGVrc2FtXG4gICAgMHgwZTU0OiAweDBkZjQsIC8vIFhLX1RoYWlfbGVrc2lcbiAgICAweDBlNTU6IDB4MGRmNSwgLy8gWEtfVGhhaV9sZWtoYVxuICAgIDB4MGU1NjogMHgwZGY2LCAvLyBYS19UaGFpX2xla2hva1xuICAgIDB4MGU1NzogMHgwZGY3LCAvLyBYS19UaGFpX2xla2NoZXRcbiAgICAweDBlNTg6IDB4MGRmOCwgLy8gWEtfVGhhaV9sZWtwYWV0XG4gICAgMHgwZTU5OiAweDBkZjksIC8vIFhLX1RoYWlfbGVra2FvXG4gICAgMHgyMDAyOiAweDBhYTIsIC8vIFhLX2Vuc3BhY2VcbiAgICAweDIwMDM6IDB4MGFhMSwgLy8gWEtfZW1zcGFjZVxuICAgIDB4MjAwNDogMHgwYWEzLCAvLyBYS19lbTNzcGFjZVxuICAgIDB4MjAwNTogMHgwYWE0LCAvLyBYS19lbTRzcGFjZVxuICAgIDB4MjAwNzogMHgwYWE1LCAvLyBYS19kaWdpdHNwYWNlXG4gICAgMHgyMDA4OiAweDBhYTYsIC8vIFhLX3B1bmN0c3BhY2VcbiAgICAweDIwMDk6IDB4MGFhNywgLy8gWEtfdGhpbnNwYWNlXG4gICAgMHgyMDBhOiAweDBhYTgsIC8vIFhLX2hhaXJzcGFjZVxuICAgIDB4MjAxMjogMHgwYWJiLCAvLyBYS19maWdkYXNoXG4gICAgMHgyMDEzOiAweDBhYWEsIC8vIFhLX2VuZGFzaFxuICAgIDB4MjAxNDogMHgwYWE5LCAvLyBYS19lbWRhc2hcbiAgICAweDIwMTU6IDB4MDdhZiwgLy8gWEtfR3JlZWtfaG9yaXpiYXJcbiAgICAweDIwMTc6IDB4MGNkZiwgLy8gWEtfaGVicmV3X2RvdWJsZWxvd2xpbmVcbiAgICAweDIwMTg6IDB4MGFkMCwgLy8gWEtfbGVmdHNpbmdsZXF1b3RlbWFya1xuICAgIDB4MjAxOTogMHgwYWQxLCAvLyBYS19yaWdodHNpbmdsZXF1b3RlbWFya1xuICAgIDB4MjAxYTogMHgwYWZkLCAvLyBYS19zaW5nbGVsb3dxdW90ZW1hcmtcbiAgICAweDIwMWM6IDB4MGFkMiwgLy8gWEtfbGVmdGRvdWJsZXF1b3RlbWFya1xuICAgIDB4MjAxZDogMHgwYWQzLCAvLyBYS19yaWdodGRvdWJsZXF1b3RlbWFya1xuICAgIDB4MjAxZTogMHgwYWZlLCAvLyBYS19kb3VibGVsb3dxdW90ZW1hcmtcbiAgICAweDIwMjA6IDB4MGFmMSwgLy8gWEtfZGFnZ2VyXG4gICAgMHgyMDIxOiAweDBhZjIsIC8vIFhLX2RvdWJsZWRhZ2dlclxuICAgIDB4MjAyMjogMHgwYWU2LCAvLyBYS19lbmZpbGxlZGNpcmNidWxsZXRcbiAgICAweDIwMjU6IDB4MGFhZiwgLy8gWEtfZG91YmJhc2VsaW5lZG90XG4gICAgMHgyMDI2OiAweDBhYWUsIC8vIFhLX2VsbGlwc2lzXG4gICAgMHgyMDMwOiAweDBhZDUsIC8vIFhLX3Blcm1pbGxlXG4gICAgMHgyMDMyOiAweDBhZDYsIC8vIFhLX21pbnV0ZXNcbiAgICAweDIwMzM6IDB4MGFkNywgLy8gWEtfc2Vjb25kc1xuICAgIDB4MjAzODogMHgwYWZjLCAvLyBYS19jYXJldFxuICAgIDB4MjAzZTogMHgwNDdlLCAvLyBYS19vdmVybGluZVxuICAgIDB4MjBhOTogMHgwZWZmLCAvLyBYS19Lb3JlYW5fV29uXG4gICAgMHgyMGFjOiAweDIwYWMsIC8vIFhLX0V1cm9TaWduXG4gICAgMHgyMTA1OiAweDBhYjgsIC8vIFhLX2NhcmVvZlxuICAgIDB4MjExNjogMHgwNmIwLCAvLyBYS19udW1lcm9zaWduXG4gICAgMHgyMTE3OiAweDBhZmIsIC8vIFhLX3Bob25vZ3JhcGhjb3B5cmlnaHRcbiAgICAweDIxMWU6IDB4MGFkNCwgLy8gWEtfcHJlc2NyaXB0aW9uXG4gICAgMHgyMTIyOiAweDBhYzksIC8vIFhLX3RyYWRlbWFya1xuICAgIDB4MjE1MzogMHgwYWIwLCAvLyBYS19vbmV0aGlyZFxuICAgIDB4MjE1NDogMHgwYWIxLCAvLyBYS190d290aGlyZHNcbiAgICAweDIxNTU6IDB4MGFiMiwgLy8gWEtfb25lZmlmdGhcbiAgICAweDIxNTY6IDB4MGFiMywgLy8gWEtfdHdvZmlmdGhzXG4gICAgMHgyMTU3OiAweDBhYjQsIC8vIFhLX3RocmVlZmlmdGhzXG4gICAgMHgyMTU4OiAweDBhYjUsIC8vIFhLX2ZvdXJmaWZ0aHNcbiAgICAweDIxNTk6IDB4MGFiNiwgLy8gWEtfb25lc2l4dGhcbiAgICAweDIxNWE6IDB4MGFiNywgLy8gWEtfZml2ZXNpeHRoc1xuICAgIDB4MjE1YjogMHgwYWMzLCAvLyBYS19vbmVlaWdodGhcbiAgICAweDIxNWM6IDB4MGFjNCwgLy8gWEtfdGhyZWVlaWdodGhzXG4gICAgMHgyMTVkOiAweDBhYzUsIC8vIFhLX2ZpdmVlaWdodGhzXG4gICAgMHgyMTVlOiAweDBhYzYsIC8vIFhLX3NldmVuZWlnaHRoc1xuICAgIDB4MjE5MDogMHgwOGZiLCAvLyBYS19sZWZ0YXJyb3dcbiAgICAweDIxOTE6IDB4MDhmYywgLy8gWEtfdXBhcnJvd1xuICAgIDB4MjE5MjogMHgwOGZkLCAvLyBYS19yaWdodGFycm93XG4gICAgMHgyMTkzOiAweDA4ZmUsIC8vIFhLX2Rvd25hcnJvd1xuICAgIDB4MjFkMjogMHgwOGNlLCAvLyBYS19pbXBsaWVzXG4gICAgMHgyMWQ0OiAweDA4Y2QsIC8vIFhLX2lmb25seWlmXG4gICAgMHgyMjAyOiAweDA4ZWYsIC8vIFhLX3BhcnRpYWxkZXJpdmF0aXZlXG4gICAgMHgyMjA3OiAweDA4YzUsIC8vIFhLX25hYmxhXG4gICAgMHgyMjE4OiAweDBiY2EsIC8vIFhLX2pvdFxuICAgIDB4MjIxYTogMHgwOGQ2LCAvLyBYS19yYWRpY2FsXG4gICAgMHgyMjFkOiAweDA4YzEsIC8vIFhLX3ZhcmlhdGlvblxuICAgIDB4MjIxZTogMHgwOGMyLCAvLyBYS19pbmZpbml0eVxuICAgIDB4MjIyNzogMHgwOGRlLCAvLyBYS19sb2dpY2FsYW5kXG4gICAgMHgyMjI4OiAweDA4ZGYsIC8vIFhLX2xvZ2ljYWxvclxuICAgIDB4MjIyOTogMHgwOGRjLCAvLyBYS19pbnRlcnNlY3Rpb25cbiAgICAweDIyMmE6IDB4MDhkZCwgLy8gWEtfdW5pb25cbiAgICAweDIyMmI6IDB4MDhiZiwgLy8gWEtfaW50ZWdyYWxcbiAgICAweDIyMzQ6IDB4MDhjMCwgLy8gWEtfdGhlcmVmb3JlXG4gICAgMHgyMjNjOiAweDA4YzgsIC8vIFhLX2FwcHJveGltYXRlXG4gICAgMHgyMjQzOiAweDA4YzksIC8vIFhLX3NpbWlsYXJlcXVhbFxuICAgIDB4MjI0NTogMHgxMDAyMjQ4LCAvLyBYS19hcHByb3hlcVxuICAgIDB4MjI2MDogMHgwOGJkLCAvLyBYS19ub3RlcXVhbFxuICAgIDB4MjI2MTogMHgwOGNmLCAvLyBYS19pZGVudGljYWxcbiAgICAweDIyNjQ6IDB4MDhiYywgLy8gWEtfbGVzc3RoYW5lcXVhbFxuICAgIDB4MjI2NTogMHgwOGJlLCAvLyBYS19ncmVhdGVydGhhbmVxdWFsXG4gICAgMHgyMjgyOiAweDA4ZGEsIC8vIFhLX2luY2x1ZGVkaW5cbiAgICAweDIyODM6IDB4MDhkYiwgLy8gWEtfaW5jbHVkZXNcbiAgICAweDIyYTI6IDB4MGJmYywgLy8gWEtfcmlnaHR0YWNrXG4gICAgMHgyMmEzOiAweDBiZGMsIC8vIFhLX2xlZnR0YWNrXG4gICAgMHgyMmE0OiAweDBiYzIsIC8vIFhLX2Rvd250YWNrXG4gICAgMHgyMmE1OiAweDBiY2UsIC8vIFhLX3VwdGFja1xuICAgIDB4MjMwODogMHgwYmQzLCAvLyBYS191cHN0aWxlXG4gICAgMHgyMzBhOiAweDBiYzQsIC8vIFhLX2Rvd25zdGlsZVxuICAgIDB4MjMxNTogMHgwYWZhLCAvLyBYS190ZWxlcGhvbmVyZWNvcmRlclxuICAgIDB4MjMyMDogMHgwOGE0LCAvLyBYS190b3BpbnRlZ3JhbFxuICAgIDB4MjMyMTogMHgwOGE1LCAvLyBYS19ib3RpbnRlZ3JhbFxuICAgIDB4MjM5NTogMHgwYmNjLCAvLyBYS19xdWFkXG4gICAgMHgyMzliOiAweDA4YWIsIC8vIFhLX3RvcGxlZnRwYXJlbnNcbiAgICAweDIzOWQ6IDB4MDhhYywgLy8gWEtfYm90bGVmdHBhcmVuc1xuICAgIDB4MjM5ZTogMHgwOGFkLCAvLyBYS190b3ByaWdodHBhcmVuc1xuICAgIDB4MjNhMDogMHgwOGFlLCAvLyBYS19ib3RyaWdodHBhcmVuc1xuICAgIDB4MjNhMTogMHgwOGE3LCAvLyBYS190b3BsZWZ0c3FicmFja2V0XG4gICAgMHgyM2EzOiAweDA4YTgsIC8vIFhLX2JvdGxlZnRzcWJyYWNrZXRcbiAgICAweDIzYTQ6IDB4MDhhOSwgLy8gWEtfdG9wcmlnaHRzcWJyYWNrZXRcbiAgICAweDIzYTY6IDB4MDhhYSwgLy8gWEtfYm90cmlnaHRzcWJyYWNrZXRcbiAgICAweDIzYTg6IDB4MDhhZiwgLy8gWEtfbGVmdG1pZGRsZWN1cmx5YnJhY2VcbiAgICAweDIzYWM6IDB4MDhiMCwgLy8gWEtfcmlnaHRtaWRkbGVjdXJseWJyYWNlXG4gICAgMHgyM2I3OiAweDA4YTEsIC8vIFhLX2xlZnRyYWRpY2FsXG4gICAgMHgyM2JhOiAweDA5ZWYsIC8vIFhLX2hvcml6bGluZXNjYW4xXG4gICAgMHgyM2JiOiAweDA5ZjAsIC8vIFhLX2hvcml6bGluZXNjYW4zXG4gICAgMHgyM2JjOiAweDA5ZjIsIC8vIFhLX2hvcml6bGluZXNjYW43XG4gICAgMHgyM2JkOiAweDA5ZjMsIC8vIFhLX2hvcml6bGluZXNjYW45XG4gICAgMHgyNDA5OiAweDA5ZTIsIC8vIFhLX2h0XG4gICAgMHgyNDBhOiAweDA5ZTUsIC8vIFhLX2xmXG4gICAgMHgyNDBiOiAweDA5ZTksIC8vIFhLX3Z0XG4gICAgMHgyNDBjOiAweDA5ZTMsIC8vIFhLX2ZmXG4gICAgMHgyNDBkOiAweDA5ZTQsIC8vIFhLX2NyXG4gICAgMHgyNDIzOiAweDBhYWMsIC8vIFhLX3NpZ25pZmJsYW5rXG4gICAgMHgyNDI0OiAweDA5ZTgsIC8vIFhLX25sXG4gICAgMHgyNTAwOiAweDA4YTMsIC8vIFhLX2hvcml6Y29ubmVjdG9yXG4gICAgMHgyNTAyOiAweDA4YTYsIC8vIFhLX3ZlcnRjb25uZWN0b3JcbiAgICAweDI1MGM6IDB4MDhhMiwgLy8gWEtfdG9wbGVmdHJhZGljYWxcbiAgICAweDI1MTA6IDB4MDllYiwgLy8gWEtfdXByaWdodGNvcm5lclxuICAgIDB4MjUxNDogMHgwOWVkLCAvLyBYS19sb3dsZWZ0Y29ybmVyXG4gICAgMHgyNTE4OiAweDA5ZWEsIC8vIFhLX2xvd3JpZ2h0Y29ybmVyXG4gICAgMHgyNTFjOiAweDA5ZjQsIC8vIFhLX2xlZnR0XG4gICAgMHgyNTI0OiAweDA5ZjUsIC8vIFhLX3JpZ2h0dFxuICAgIDB4MjUyYzogMHgwOWY3LCAvLyBYS190b3B0XG4gICAgMHgyNTM0OiAweDA5ZjYsIC8vIFhLX2JvdHRcbiAgICAweDI1M2M6IDB4MDllZSwgLy8gWEtfY3Jvc3NpbmdsaW5lc1xuICAgIDB4MjU5MjogMHgwOWUxLCAvLyBYS19jaGVja2VyYm9hcmRcbiAgICAweDI1YWE6IDB4MGFlNywgLy8gWEtfZW5maWxsZWRzcWJ1bGxldFxuICAgIDB4MjVhYjogMHgwYWUxLCAvLyBYS19lbm9wZW5zcXVhcmVidWxsZXRcbiAgICAweDI1YWM6IDB4MGFkYiwgLy8gWEtfZmlsbGVkcmVjdGJ1bGxldFxuICAgIDB4MjVhZDogMHgwYWUyLCAvLyBYS19vcGVucmVjdGJ1bGxldFxuICAgIDB4MjVhZTogMHgwYWRmLCAvLyBYS19lbWZpbGxlZHJlY3RcbiAgICAweDI1YWY6IDB4MGFjZiwgLy8gWEtfZW1vcGVucmVjdGFuZ2xlXG4gICAgMHgyNWIyOiAweDBhZTgsIC8vIFhLX2ZpbGxlZHRyaWJ1bGxldHVwXG4gICAgMHgyNWIzOiAweDBhZTMsIC8vIFhLX29wZW50cmlidWxsZXR1cFxuICAgIDB4MjViNjogMHgwYWRkLCAvLyBYS19maWxsZWRyaWdodHRyaWJ1bGxldFxuICAgIDB4MjViNzogMHgwYWNkLCAvLyBYS19yaWdodG9wZW50cmlhbmdsZVxuICAgIDB4MjViYzogMHgwYWU5LCAvLyBYS19maWxsZWR0cmlidWxsZXRkb3duXG4gICAgMHgyNWJkOiAweDBhZTQsIC8vIFhLX29wZW50cmlidWxsZXRkb3duXG4gICAgMHgyNWMwOiAweDBhZGMsIC8vIFhLX2ZpbGxlZGxlZnR0cmlidWxsZXRcbiAgICAweDI1YzE6IDB4MGFjYywgLy8gWEtfbGVmdG9wZW50cmlhbmdsZVxuICAgIDB4MjVjNjogMHgwOWUwLCAvLyBYS19zb2xpZGRpYW1vbmRcbiAgICAweDI1Y2I6IDB4MGFjZSwgLy8gWEtfZW1vcGVuY2lyY2xlXG4gICAgMHgyNWNmOiAweDBhZGUsIC8vIFhLX2VtZmlsbGVkY2lyY2xlXG4gICAgMHgyNWU2OiAweDBhZTAsIC8vIFhLX2Vub3BlbmNpcmNidWxsZXRcbiAgICAweDI2MDY6IDB4MGFlNSwgLy8gWEtfb3BlbnN0YXJcbiAgICAweDI2MGU6IDB4MGFmOSwgLy8gWEtfdGVsZXBob25lXG4gICAgMHgyNjEzOiAweDBhY2EsIC8vIFhLX3NpZ25hdHVyZW1hcmtcbiAgICAweDI2MWM6IDB4MGFlYSwgLy8gWEtfbGVmdHBvaW50ZXJcbiAgICAweDI2MWU6IDB4MGFlYiwgLy8gWEtfcmlnaHRwb2ludGVyXG4gICAgMHgyNjQwOiAweDBhZjgsIC8vIFhLX2ZlbWFsZXN5bWJvbFxuICAgIDB4MjY0MjogMHgwYWY3LCAvLyBYS19tYWxlc3ltYm9sXG4gICAgMHgyNjYzOiAweDBhZWMsIC8vIFhLX2NsdWJcbiAgICAweDI2NjU6IDB4MGFlZSwgLy8gWEtfaGVhcnRcbiAgICAweDI2NjY6IDB4MGFlZCwgLy8gWEtfZGlhbW9uZFxuICAgIDB4MjY2ZDogMHgwYWY2LCAvLyBYS19tdXNpY2FsZmxhdFxuICAgIDB4MjY2ZjogMHgwYWY1LCAvLyBYS19tdXNpY2Fsc2hhcnBcbiAgICAweDI3MTM6IDB4MGFmMywgLy8gWEtfY2hlY2ttYXJrXG4gICAgMHgyNzE3OiAweDBhZjQsIC8vIFhLX2JhbGxvdGNyb3NzXG4gICAgMHgyNzFkOiAweDBhZDksIC8vIFhLX2xhdGluY3Jvc3NcbiAgICAweDI3MjA6IDB4MGFmMCwgLy8gWEtfbWFsdGVzZWNyb3NzXG4gICAgMHgyN2U4OiAweDBhYmMsIC8vIFhLX2xlZnRhbmdsZWJyYWNrZXRcbiAgICAweDI3ZTk6IDB4MGFiZSwgLy8gWEtfcmlnaHRhbmdsZWJyYWNrZXRcbiAgICAweDMwMDE6IDB4MDRhNCwgLy8gWEtfa2FuYV9jb21tYVxuICAgIDB4MzAwMjogMHgwNGExLCAvLyBYS19rYW5hX2Z1bGxzdG9wXG4gICAgMHgzMDBjOiAweDA0YTIsIC8vIFhLX2thbmFfb3BlbmluZ2JyYWNrZXRcbiAgICAweDMwMGQ6IDB4MDRhMywgLy8gWEtfa2FuYV9jbG9zaW5nYnJhY2tldFxuICAgIDB4MzA5YjogMHgwNGRlLCAvLyBYS192b2ljZWRzb3VuZFxuICAgIDB4MzA5YzogMHgwNGRmLCAvLyBYS19zZW1pdm9pY2Vkc291bmRcbiAgICAweDMwYTE6IDB4MDRhNywgLy8gWEtfa2FuYV9hXG4gICAgMHgzMGEyOiAweDA0YjEsIC8vIFhLX2thbmFfQVxuICAgIDB4MzBhMzogMHgwNGE4LCAvLyBYS19rYW5hX2lcbiAgICAweDMwYTQ6IDB4MDRiMiwgLy8gWEtfa2FuYV9JXG4gICAgMHgzMGE1OiAweDA0YTksIC8vIFhLX2thbmFfdVxuICAgIDB4MzBhNjogMHgwNGIzLCAvLyBYS19rYW5hX1VcbiAgICAweDMwYTc6IDB4MDRhYSwgLy8gWEtfa2FuYV9lXG4gICAgMHgzMGE4OiAweDA0YjQsIC8vIFhLX2thbmFfRVxuICAgIDB4MzBhOTogMHgwNGFiLCAvLyBYS19rYW5hX29cbiAgICAweDMwYWE6IDB4MDRiNSwgLy8gWEtfa2FuYV9PXG4gICAgMHgzMGFiOiAweDA0YjYsIC8vIFhLX2thbmFfS0FcbiAgICAweDMwYWQ6IDB4MDRiNywgLy8gWEtfa2FuYV9LSVxuICAgIDB4MzBhZjogMHgwNGI4LCAvLyBYS19rYW5hX0tVXG4gICAgMHgzMGIxOiAweDA0YjksIC8vIFhLX2thbmFfS0VcbiAgICAweDMwYjM6IDB4MDRiYSwgLy8gWEtfa2FuYV9LT1xuICAgIDB4MzBiNTogMHgwNGJiLCAvLyBYS19rYW5hX1NBXG4gICAgMHgzMGI3OiAweDA0YmMsIC8vIFhLX2thbmFfU0hJXG4gICAgMHgzMGI5OiAweDA0YmQsIC8vIFhLX2thbmFfU1VcbiAgICAweDMwYmI6IDB4MDRiZSwgLy8gWEtfa2FuYV9TRVxuICAgIDB4MzBiZDogMHgwNGJmLCAvLyBYS19rYW5hX1NPXG4gICAgMHgzMGJmOiAweDA0YzAsIC8vIFhLX2thbmFfVEFcbiAgICAweDMwYzE6IDB4MDRjMSwgLy8gWEtfa2FuYV9DSElcbiAgICAweDMwYzM6IDB4MDRhZiwgLy8gWEtfa2FuYV90c3VcbiAgICAweDMwYzQ6IDB4MDRjMiwgLy8gWEtfa2FuYV9UU1VcbiAgICAweDMwYzY6IDB4MDRjMywgLy8gWEtfa2FuYV9URVxuICAgIDB4MzBjODogMHgwNGM0LCAvLyBYS19rYW5hX1RPXG4gICAgMHgzMGNhOiAweDA0YzUsIC8vIFhLX2thbmFfTkFcbiAgICAweDMwY2I6IDB4MDRjNiwgLy8gWEtfa2FuYV9OSVxuICAgIDB4MzBjYzogMHgwNGM3LCAvLyBYS19rYW5hX05VXG4gICAgMHgzMGNkOiAweDA0YzgsIC8vIFhLX2thbmFfTkVcbiAgICAweDMwY2U6IDB4MDRjOSwgLy8gWEtfa2FuYV9OT1xuICAgIDB4MzBjZjogMHgwNGNhLCAvLyBYS19rYW5hX0hBXG4gICAgMHgzMGQyOiAweDA0Y2IsIC8vIFhLX2thbmFfSElcbiAgICAweDMwZDU6IDB4MDRjYywgLy8gWEtfa2FuYV9GVVxuICAgIDB4MzBkODogMHgwNGNkLCAvLyBYS19rYW5hX0hFXG4gICAgMHgzMGRiOiAweDA0Y2UsIC8vIFhLX2thbmFfSE9cbiAgICAweDMwZGU6IDB4MDRjZiwgLy8gWEtfa2FuYV9NQVxuICAgIDB4MzBkZjogMHgwNGQwLCAvLyBYS19rYW5hX01JXG4gICAgMHgzMGUwOiAweDA0ZDEsIC8vIFhLX2thbmFfTVVcbiAgICAweDMwZTE6IDB4MDRkMiwgLy8gWEtfa2FuYV9NRVxuICAgIDB4MzBlMjogMHgwNGQzLCAvLyBYS19rYW5hX01PXG4gICAgMHgzMGUzOiAweDA0YWMsIC8vIFhLX2thbmFfeWFcbiAgICAweDMwZTQ6IDB4MDRkNCwgLy8gWEtfa2FuYV9ZQVxuICAgIDB4MzBlNTogMHgwNGFkLCAvLyBYS19rYW5hX3l1XG4gICAgMHgzMGU2OiAweDA0ZDUsIC8vIFhLX2thbmFfWVVcbiAgICAweDMwZTc6IDB4MDRhZSwgLy8gWEtfa2FuYV95b1xuICAgIDB4MzBlODogMHgwNGQ2LCAvLyBYS19rYW5hX1lPXG4gICAgMHgzMGU5OiAweDA0ZDcsIC8vIFhLX2thbmFfUkFcbiAgICAweDMwZWE6IDB4MDRkOCwgLy8gWEtfa2FuYV9SSVxuICAgIDB4MzBlYjogMHgwNGQ5LCAvLyBYS19rYW5hX1JVXG4gICAgMHgzMGVjOiAweDA0ZGEsIC8vIFhLX2thbmFfUkVcbiAgICAweDMwZWQ6IDB4MDRkYiwgLy8gWEtfa2FuYV9ST1xuICAgIDB4MzBlZjogMHgwNGRjLCAvLyBYS19rYW5hX1dBXG4gICAgMHgzMGYyOiAweDA0YTYsIC8vIFhLX2thbmFfV09cbiAgICAweDMwZjM6IDB4MDRkZCwgLy8gWEtfa2FuYV9OXG4gICAgMHgzMGZiOiAweDA0YTUsIC8vIFhLX2thbmFfY29uanVuY3RpdmVcbiAgICAweDMwZmM6IDB4MDRiMCwgLy8gWEtfcHJvbG9uZ2Vkc291bmRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBsb29rdXAodSkge1xuICAgICAgICAvLyBMYXRpbi0xIGlzIG9uZS10by1vbmUgbWFwcGluZ1xuICAgICAgICBpZiAoKHUgPj0gMHgyMCkgJiYgKHUgPD0gMHhmZikpIHtcbiAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9va3VwIHRhYmxlIChmYWlybHkgcmFuZG9tKVxuICAgICAgICBjb25zdCBrZXlzeW0gPSBjb2RlcG9pbnRzW3VdO1xuICAgICAgICBpZiAoa2V5c3ltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlzeW07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmFsIG1hcHBpbmcgYXMgZmluYWwgZmFsbGJhY2tcbiAgICAgICAgcmV0dXJuIDB4MDEwMDAwMDAgfCB1O1xuICAgIH0sXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCB7IGlzVG91Y2hEZXZpY2UgfSBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHsgc2V0Q2FwdHVyZSwgc3RvcEV2ZW50LCBnZXRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50cy5qcyc7XG5cbmNvbnN0IFdIRUVMX1NURVAgPSAxMDsgLy8gRGVsdGEgdGhyZXNob2xkIGZvciBhIG1vdXNlIHdoZWVsIHN0ZXBcbmNvbnN0IFdIRUVMX1NURVBfVElNRU9VVCA9IDUwOyAvLyBtc1xuY29uc3QgV0hFRUxfTElORV9IRUlHSFQgPSAxOTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91c2Uge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQgfHwgZG9jdW1lbnQ7XG5cbiAgICAgICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhc3RUb3VjaFBvcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2hlZWxTdGVwWFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2hlZWxTdGVwWVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA9IDA7XG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPSAwO1xuXG4gICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICAgICAnbW91c2Vkb3duJzogdGhpcy5faGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyksXG4gICAgICAgICAgICAnbW91c2V1cCc6IHRoaXMuX2hhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICdtb3VzZW1vdmUnOiB0aGlzLl9oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICdtb3VzZXdoZWVsJzogdGhpcy5faGFuZGxlTW91c2VXaGVlbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgJ21vdXNlZGlzYWJsZSc6IHRoaXMuX2hhbmRsZU1vdXNlRGlzYWJsZS5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgICAgIHRoaXMudG91Y2hCdXR0b24gPSAxOyAgICAgICAgICAgICAgICAgLy8gQnV0dG9uIG1hc2sgKDEsIDIsIDQpIGZvciB0b3VjaCBkZXZpY2VzICgwIG1lYW5zIGlnbm9yZSBjbGlja3MpXG5cbiAgICAgICAgLy8gPT09PT0gRVZFTlQgSEFORExFUlMgPT09PT1cblxuICAgICAgICB0aGlzLm9ubW91c2VidXR0b24gPSAoKSA9PiB7fTsgLy8gSGFuZGxlciBmb3IgbW91c2UgYnV0dG9uIGNsaWNrL3JlbGVhc2VcbiAgICAgICAgdGhpcy5vbm1vdXNlbW92ZSA9ICgpID0+IHt9OyAvLyBIYW5kbGVyIGZvciBtb3VzZSBtb3ZlbWVudFxuICAgIH1cblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX3Jlc2V0RG91YmxlQ2xpY2tUaW1lcigpIHtcbiAgICAgICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlQnV0dG9uKGUsIGRvd24pIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlTW91c2VQb3NpdGlvbihlKTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuX3BvcztcblxuICAgICAgICBsZXQgYm1hc2s7XG4gICAgICAgIGlmIChlLnRvdWNoZXMgfHwgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgLy8gVG91Y2ggZGV2aWNlXG5cbiAgICAgICAgICAgIC8vIFdoZW4gdHdvIHRvdWNoZXMgb2NjdXIgd2l0aGluIDUwMCBtcyBvZiBlYWNoIG90aGVyIGFuZCBhcmVcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaCB0b2dldGhlciBhIGRvdWJsZSBjbGljayBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAgICBpZiAoZG93biA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RvdWJsZUNsaWNrVGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRvdWNoUG9zID0gcG9zO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kb3VibGVDbGlja1RpbWVyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdG91Y2hlcyBpcyBzbWFsbCBlbm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXR0ZXIgdG91Y2ggdG8gdGhlIHBvc2l0aW9uIG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdC5cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4cyA9IHRoaXMuX2xhc3RUb3VjaFBvcy54IC0gcG9zLng7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlzID0gdGhpcy5fbGFzdFRvdWNoUG9zLnkgLSBwb3MueTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydCgoeHMgKiB4cykgKyAoeXMgKiB5cykpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBnb2FsIGlzIHRvIHRyaWdnZXIgb24gYSBjZXJ0YWluIHBoeXNpY2FsIHdpZHRoLCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV2aWNlUGl4ZWxSYXRpbyBicmluZ3MgdXMgYSBiaXQgY2xvc2VyIGJ1dCBpcyBub3Qgb3B0aW1hbC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhyZXNob2xkID0gMjAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLl9sYXN0VG91Y2hQb3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXREb3VibGVDbGlja1RpbWVyLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibWFzayA9IHRoaXMudG91Y2hCdXR0b247XG4gICAgICAgICAgICAvLyBJZiBibWFzayBpcyBzZXRcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoKSB7XG4gICAgICAgICAgICAvKiBldmVyeXRoaW5nIGV4Y2VwdCBJRSAqL1xuICAgICAgICAgICAgYm1hc2sgPSAxIDw8IGUuYnV0dG9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogSUUgaW5jbHVkaW5nIDkgKi9cbiAgICAgICAgICAgIGJtYXNrID0gKGUuYnV0dG9uICYgMHgxKSArICAgICAgLy8gTGVmdFxuICAgICAgICAgICAgICAgICAgICAoZS5idXR0b24gJiAweDIpICogMiArICAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICAoZS5idXR0b24gJiAweDQpIC8gMjsgICAvLyBNaWRkbGVcbiAgICAgICAgfVxuXG4gICAgICAgIExvZy5EZWJ1ZyhcIm9ubW91c2VidXR0b24gXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArXG4gICAgICAgICAgICAgICAgICBcIiwgeDogXCIgKyBwb3MueCArIFwiLCB5OiBcIiArIHBvcy55ICsgXCIsIGJtYXNrOiBcIiArIGJtYXNrKTtcbiAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHBvcy54LCBwb3MueSwgZG93biwgYm1hc2spO1xuXG4gICAgICAgIHN0b3BFdmVudChlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgLy8gVG91Y2ggZXZlbnRzIGhhdmUgaW1wbGljaXQgY2FwdHVyZVxuICAgICAgICBpZiAoZS50eXBlID09PSBcIm1vdXNlZG93blwiKSB7XG4gICAgICAgICAgICBzZXRDYXB0dXJlKHRoaXMuX3RhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUJ1dHRvbihlLCAxKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VVcChlKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlQnV0dG9uKGUsIDApO1xuICAgIH1cblxuICAgIC8vIE1vdXNlIHdoZWVsIGV2ZW50cyBhcmUgc2VudCBpbiBzdGVwcyBvdmVyIFZOQy4gVGhpcyBtZWFucyB0aGF0IHRoZSBWTkNcbiAgICAvLyBwcm90b2NvbCBjYW4ndCBoYW5kbGUgYSB3aGVlbCBldmVudCB3aXRoIHNwZWNpZmljIGRpc3RhbmNlIG9yIHNwZWVkLlxuICAgIC8vIFRoZXJlZm9yLCBpZiB3ZSBnZXQgYSBsb3Qgb2Ygc21hbGwgbW91c2Ugd2hlZWwgZXZlbnRzIHdlIGNvbWJpbmUgdGhlbS5cbiAgICBfZ2VuZXJhdGVXaGVlbFN0ZXBYKCkge1xuXG4gICAgICAgIGlmICh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMSwgMSA8PCA1KTtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDAsIDEgPDwgNSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgNik7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA9IDA7XG4gICAgfVxuXG4gICAgX2dlbmVyYXRlV2hlZWxTdGVwWSgpIHtcblxuICAgICAgICBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgMyk7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAxLCAxIDw8IDQpO1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMCwgMSA8PCA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPSAwO1xuICAgIH1cblxuICAgIF9yZXNldFdoZWVsU3RlcFRpbWVycygpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl93aGVlbFN0ZXBYVGltZXIpO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3doZWVsU3RlcFlUaW1lcik7XG4gICAgICAgIHRoaXMuX3doZWVsU3RlcFhUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3doZWVsU3RlcFlUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlV2hlZWwoZSkge1xuICAgICAgICB0aGlzLl9yZXNldFdoZWVsU3RlcFRpbWVycygpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9zaXRpb24oZSk7XG5cbiAgICAgICAgbGV0IGRYID0gZS5kZWx0YVg7XG4gICAgICAgIGxldCBkWSA9IGUuZGVsdGFZO1xuXG4gICAgICAgIC8vIFBpeGVsIHVuaXRzIHVubGVzcyBpdCdzIG5vbi16ZXJvLlxuICAgICAgICAvLyBOb3RlIHRoYXQgaWYgZGVsdGFtb2RlIGlzIGxpbmUgb3IgcGFnZSB3b24ndCBtYXR0ZXIgc2luY2Ugd2UgYXJlbid0XG4gICAgICAgIC8vIHNlbmRpbmcgdGhlIG1vdXNlIHdoZWVsIGRlbHRhIHRvIHRoZSBzZXJ2ZXIgYW55d2F5LlxuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHBpeGVsIGFuZCBsaW5lIGNhbiBiZSBpbXBvcnRhbnQgaG93ZXZlciBzaW5jZVxuICAgICAgICAvLyB3ZSBoYXZlIGEgdGhyZXNob2xkIHRoYXQgY2FuIGJlIHNtYWxsZXIgdGhhbiB0aGUgbGluZSBoZWlnaHQuXG4gICAgICAgIGlmIChlLmRlbHRhTW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgZFggKj0gV0hFRUxfTElORV9IRUlHSFQ7XG4gICAgICAgICAgICBkWSAqPSBXSEVFTF9MSU5FX0hFSUdIVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggKz0gZFg7XG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgKz0gZFk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYSBtb3VzZSB3aGVlbCBzdGVwIGV2ZW50IHdoZW4gdGhlIGFjY3VtdWxhdGVkIGRlbHRhXG4gICAgICAgIC8vIGZvciBvbmUgb2YgdGhlIGF4ZXMgaXMgbGFyZ2UgZW5vdWdoLlxuICAgICAgICAvLyBTbWFsbCBkZWx0YSBldmVudHMgdGhhdCBkbyBub3QgcGFzcyB0aGUgdGhyZXNob2xkIGdldCBzZW50XG4gICAgICAgIC8vIGFmdGVyIGEgdGltZW91dC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVgpID4gV0hFRUxfU1RFUCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBYKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl93aGVlbFN0ZXBYVGltZXIgPVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRUVMX1NURVBfVElNRU9VVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkpID4gV0hFRUxfU1RFUCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBZKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl93aGVlbFN0ZXBZVGltZXIgPVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRUVMX1NURVBfVElNRU9VVCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIHRoaXMub25tb3VzZW1vdmUodGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55KTtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb3VzZURpc2FibGUoZSkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBTdG9wIHByb3BhZ2F0aW9uIGlmIGluc2lkZSBjYW52YXMgYXJlYVxuICAgICAgICAgKiBOb3RlOiBUaGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgJ2NsaWNrJyBldmVudCBhcyBpdCBmYWlsc1xuICAgICAgICAgKiAgICAgICB0byBmaXJlIHByb3Blcmx5IGZvciB0aGUgdGFyZ2V0IGVsZW1lbnQgc28gd2UgaGF2ZVxuICAgICAgICAgKiAgICAgICB0byBsaXN0ZW4gb24gdGhlIGRvY3VtZW50IGVsZW1lbnQgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChlLnRhcmdldCA9PSB0aGlzLl90YXJnZXQpIHtcbiAgICAgICAgICAgIHN0b3BFdmVudChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0YXJnZXRcbiAgICBfdXBkYXRlTW91c2VQb3NpdGlvbihlKSB7XG4gICAgICAgIGUgPSBnZXRQb2ludGVyRXZlbnQoZSk7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX3RhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHg7XG4gICAgICAgIGxldCB5O1xuICAgICAgICAvLyBDbGlwIHRvIHRhcmdldCBib3VuZHNcbiAgICAgICAgaWYgKGUuY2xpZW50WCA8IGJvdW5kcy5sZWZ0KSB7XG4gICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFggPj0gYm91bmRzLnJpZ2h0KSB7XG4gICAgICAgICAgICB4ID0gYm91bmRzLndpZHRoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBlLmNsaWVudFggLSBib3VuZHMubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5jbGllbnRZIDwgYm91bmRzLnRvcCkge1xuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5jbGllbnRZID49IGJvdW5kcy5ib3R0b20pIHtcbiAgICAgICAgICAgIHkgPSBib3VuZHMuaGVpZ2h0IC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSBlLmNsaWVudFkgLSBib3VuZHMudG9wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BvcyA9IHt4OiB4LCB5OiB5fTtcbiAgICB9XG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgZ3JhYigpIHtcbiAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vkb3duKTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW1vdmUpO1xuICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNld2hlZWwpO1xuXG4gICAgICAgIC8qIFByZXZlbnQgbWlkZGxlLWNsaWNrIHBhc3RpbmcgKHNlZSBhYm92ZSBmb3Igd2h5IHdlIGJpbmQgdG8gZG9jdW1lbnQpICovXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuXG4gICAgICAgIC8qIHByZXZlbnREZWZhdWx0KCkgb24gbW91c2Vkb3duIGRvZXNuJ3Qgc3RvcCB0aGlzIGV2ZW50IGZvciBzb21lXG4gICAgICAgICAgIHJlYXNvbiBzbyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgYmxvY2sgaXQgKi9cbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuICAgIH1cblxuICAgIHVuZ3JhYigpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRXaGVlbFN0ZXBUaW1lcnMoKTtcblxuICAgICAgICBpZiAoaXNUb3VjaERldmljZSkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZG93bik7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCk7XG4gICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V3aGVlbCk7XG5cbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZGlzYWJsZSk7XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCBrZXlzeW1zIGZyb20gXCIuL2tleXN5bWRlZi5qc1wiO1xuaW1wb3J0IHZrZXlzIGZyb20gXCIuL3ZrZXlzLmpzXCI7XG5pbXBvcnQgZml4ZWRrZXlzIGZyb20gXCIuL2ZpeGVka2V5cy5qc1wiO1xuaW1wb3J0IERPTUtleVRhYmxlIGZyb20gXCIuL2RvbWtleXRhYmxlLmpzXCI7XG5pbXBvcnQgKiBhcyBicm93c2VyIGZyb20gXCIuLi91dGlsL2Jyb3dzZXIuanNcIjtcblxuLy8gR2V0ICdLZXlib2FyZEV2ZW50LmNvZGUnLCBoYW5kbGluZyBsZWdhY3kgYnJvd3NlcnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXljb2RlKGV2dCkge1xuICAgIC8vIEFyZSB3ZSBnZXR0aW5nIHByb3BlciBrZXkgaWRlbnRpZmllcnM/XG4gICAgLy8gKHVuZm9ydHVuYXRlbHkgRmlyZWZveCBhbmQgQ2hyb21lIGFyZSBjcmFwcHkgaGVyZSBhbmQgZ2l2ZXNcbiAgICAvLyB1cyBhbiBlbXB0eSBzdHJpbmcgb24gc29tZSBwbGF0Zm9ybXMsIHJhdGhlciB0aGFuIGxlYXZpbmcgaXRcbiAgICAvLyB1bmRlZmluZWQpXG4gICAgaWYgKGV2dC5jb2RlKSB7XG4gICAgICAgIC8vIE1vemlsbGEgaXNuJ3QgZnVsbHkgaW4gc3luYyB3aXRoIHRoZSBzcGVjIHlldFxuICAgICAgICBzd2l0Y2ggKGV2dC5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdPU0xlZnQnOiByZXR1cm4gJ01ldGFMZWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ09TUmlnaHQnOiByZXR1cm4gJ01ldGFSaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZ0LmNvZGU7XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlLWZhY3RvIHN0YW5kYXJkIGlzIHRvIHVzZSBXaW5kb3dzIFZpcnR1YWwtS2V5IGNvZGVzXG4gICAgLy8gaW4gdGhlICdrZXlDb2RlJyBmaWVsZCBmb3Igbm9uLXByaW50YWJsZSBjaGFyYWN0ZXJzLiBIb3dldmVyXG4gICAgLy8gV2Via2l0IHNldHMgaXQgdG8gdGhlIHNhbWUgYXMgY2hhckNvZGUgaW4gJ2tleXByZXNzJyBldmVudHMuXG4gICAgaWYgKChldnQudHlwZSAhPT0gJ2tleXByZXNzJykgJiYgKGV2dC5rZXlDb2RlIGluIHZrZXlzKSkge1xuICAgICAgICBsZXQgY29kZSA9IHZrZXlzW2V2dC5rZXlDb2RlXTtcblxuICAgICAgICAvLyBtYWNPUyBoYXMgbWVzc2VkIHVwIHRoaXMgY29kZSBmb3Igc29tZSByZWFzb25cbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSAmJiAoY29kZSA9PT0gJ0NvbnRleHRNZW51JykpIHtcbiAgICAgICAgICAgIGNvZGUgPSAnTWV0YVJpZ2h0JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBrZXlDb2RlIGRvZXNuJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBsZWZ0IGFuZCByaWdodFxuICAgICAgICAvLyBmb3IgdGhlIHN0YW5kYXJkIG1vZGlmaWVyc1xuICAgICAgICBpZiAoZXZ0LmxvY2F0aW9uID09PSAyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdTaGlmdExlZnQnOiByZXR1cm4gJ1NoaWZ0UmlnaHQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRyb2xMZWZ0JzogcmV0dXJuICdDb250cm9sUmlnaHQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FsdExlZnQnOiByZXR1cm4gJ0FsdFJpZ2h0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vciBhIGJ1bmNoIG9mIHRoZSBudW1wYWQga2V5c1xuICAgICAgICBpZiAoZXZ0LmxvY2F0aW9uID09PSAzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdEZWxldGUnOiByZXR1cm4gJ051bXBhZERlY2ltYWwnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0luc2VydCc6IHJldHVybiAnTnVtcGFkMCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnRW5kJzogcmV0dXJuICdOdW1wYWQxJztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOiByZXR1cm4gJ051bXBhZDInO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BhZ2VEb3duJzogcmV0dXJuICdOdW1wYWQzJztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOiByZXR1cm4gJ051bXBhZDQnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOiByZXR1cm4gJ051bXBhZDYnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0hvbWUnOiByZXR1cm4gJ051bXBhZDcnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOiByZXR1cm4gJ051bXBhZDgnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BhZ2VVcCc6IHJldHVybiAnTnVtcGFkOSc7XG4gICAgICAgICAgICAgICAgY2FzZSAnRW50ZXInOiByZXR1cm4gJ051bXBhZEVudGVyJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIHJldHVybiAnVW5pZGVudGlmaWVkJztcbn1cblxuLy8gR2V0ICdLZXlib2FyZEV2ZW50LmtleScsIGhhbmRsaW5nIGxlZ2FjeSBicm93c2Vyc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleShldnQpIHtcbiAgICAvLyBBcmUgd2UgZ2V0dGluZyBhIHByb3BlciBrZXkgdmFsdWU/XG4gICAgaWYgKGV2dC5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBJRSBhbmQgRWRnZSB1c2Ugc29tZSBhbmNpZW50IHZlcnNpb24gb2YgdGhlIHNwZWNcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODg2MDU3MS9cbiAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdTcGFjZWJhcic6IHJldHVybiAnICc7XG4gICAgICAgICAgICBjYXNlICdFc2MnOiByZXR1cm4gJ0VzY2FwZSc7XG4gICAgICAgICAgICBjYXNlICdTY3JvbGwnOiByZXR1cm4gJ1Njcm9sbExvY2snO1xuICAgICAgICAgICAgY2FzZSAnV2luJzogcmV0dXJuICdNZXRhJztcbiAgICAgICAgICAgIGNhc2UgJ0FwcHMnOiByZXR1cm4gJ0NvbnRleHRNZW51JztcbiAgICAgICAgICAgIGNhc2UgJ1VwJzogcmV0dXJuICdBcnJvd1VwJztcbiAgICAgICAgICAgIGNhc2UgJ0xlZnQnOiByZXR1cm4gJ0Fycm93TGVmdCc7XG4gICAgICAgICAgICBjYXNlICdSaWdodCc6IHJldHVybiAnQXJyb3dSaWdodCc7XG4gICAgICAgICAgICBjYXNlICdEb3duJzogcmV0dXJuICdBcnJvd0Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnRGVsJzogcmV0dXJuICdEZWxldGUnO1xuICAgICAgICAgICAgY2FzZSAnRGl2aWRlJzogcmV0dXJuICcvJztcbiAgICAgICAgICAgIGNhc2UgJ011bHRpcGx5JzogcmV0dXJuICcqJztcbiAgICAgICAgICAgIGNhc2UgJ1N1YnRyYWN0JzogcmV0dXJuICctJztcbiAgICAgICAgICAgIGNhc2UgJ0FkZCc6IHJldHVybiAnKyc7XG4gICAgICAgICAgICBjYXNlICdEZWNpbWFsJzogcmV0dXJuIGV2dC5jaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW96aWxsYSBpc24ndCBmdWxseSBpbiBzeW5jIHdpdGggdGhlIHNwZWMgeWV0XG4gICAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnT1MnOiByZXR1cm4gJ01ldGEnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaU9TIGxlYWtzIHNvbWUgT1MgbmFtZXNcbiAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0VXBBcnJvdyc6IHJldHVybiAnQXJyb3dVcCc7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0RG93bkFycm93JzogcmV0dXJuICdBcnJvd0Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dExlZnRBcnJvdyc6IHJldHVybiAnQXJyb3dMZWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRSaWdodEFycm93JzogcmV0dXJuICdBcnJvd1JpZ2h0JztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRFc2NhcGUnOiByZXR1cm4gJ0VzY2FwZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJRSBhbmQgRWRnZSBoYXZlIGJyb2tlbiBoYW5kbGluZyBvZiBBbHRHcmFwaCBzbyB3ZSBjYW5ub3RcbiAgICAgICAgLy8gdHJ1c3QgdGhlbSBmb3IgcHJpbnRhYmxlIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKChldnQua2V5Lmxlbmd0aCAhPT0gMSkgfHwgKCFicm93c2VyLmlzSUUoKSAmJiAhYnJvd3Nlci5pc0VkZ2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBldnQua2V5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGRlZHVjZSBpdCBiYXNlZCBvbiB0aGUgcGh5c2ljYWwga2V5XG4gICAgY29uc3QgY29kZSA9IGdldEtleWNvZGUoZXZ0KTtcbiAgICBpZiAoY29kZSBpbiBmaXhlZGtleXMpIHtcbiAgICAgICAgcmV0dXJuIGZpeGVka2V5c1tjb2RlXTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGF0IGZhaWxlZCwgdGhlbiBzZWUgaWYgd2UgaGF2ZSBhIHByaW50YWJsZSBjaGFyYWN0ZXJcbiAgICBpZiAoZXZ0LmNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2dC5jaGFyQ29kZSk7XG4gICAgfVxuXG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBoYXZlIG5vdGhpbmcgbGVmdCB0byBnbyBvblxuICAgIHJldHVybiAnVW5pZGVudGlmaWVkJztcbn1cblxuLy8gR2V0IHRoZSBtb3N0IHJlbGlhYmxlIGtleXN5bSB2YWx1ZSB3ZSBjYW4gZ2V0IGZyb20gYSBrZXkgZXZlbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlzeW0oZXZ0KSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KGV2dCk7XG5cbiAgICBpZiAoa2V5ID09PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCBsb29rIHVwIHNwZWNpYWwga2V5c1xuICAgIGlmIChrZXkgaW4gRE9NS2V5VGFibGUpIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gZXZ0LmxvY2F0aW9uO1xuXG4gICAgICAgIC8vIFNhZmFyaSBzY3Jld3MgdXAgbG9jYXRpb24gZm9yIHRoZSByaWdodCBjbWQga2V5XG4gICAgICAgIGlmICgoa2V5ID09PSAnTWV0YScpICYmIChsb2NhdGlvbiA9PT0gMCkpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgobG9jYXRpb24gPT09IHVuZGVmaW5lZCkgfHwgKGxvY2F0aW9uID4gMykpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBET01LZXlUYWJsZVtrZXldW2xvY2F0aW9uXTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgbmVlZCB0byBsb29rIGF0IHRoZSBVbmljb2RlIHN5bWJvbCBpbnN0ZWFkXG5cbiAgICAvLyBTcGVjaWFsIGtleT8gKEZJWE1FOiBTaG91bGQgaGF2ZSBiZWVuIGNhdWdodCBlYXJsaWVyKVxuICAgIGlmIChrZXkubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNvZGVwb2ludCA9IGtleS5jaGFyQ29kZUF0KCk7XG4gICAgaWYgKGNvZGVwb2ludCkge1xuICAgICAgICByZXR1cm4ga2V5c3ltcy5sb29rdXAoY29kZXBvaW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE4IFRoZSBub1ZOQyBBdXRob3JzXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuLypcbiAqIE1hcHBpbmcgYmV0d2VlbiBNaWNyb3NvZnTCriBXaW5kb3dzwq4gVmlydHVhbC1LZXkgY29kZXMgYW5kXG4gKiBIVE1MIGtleSBjb2Rlcy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgMHgwODogJ0JhY2tzcGFjZScsXG4gICAgMHgwOTogJ1RhYicsXG4gICAgMHgwYTogJ051bXBhZENsZWFyJyxcbiAgICAweDBjOiAnTnVtcGFkNScsIC8vIElFMTEgc2VuZHMgZXZ0LmtleUNvZGU6IDEyIHdoZW4gbnVtbG9jayBpcyBvZmZcbiAgICAweDBkOiAnRW50ZXInLFxuICAgIDB4MTA6ICdTaGlmdExlZnQnLFxuICAgIDB4MTE6ICdDb250cm9sTGVmdCcsXG4gICAgMHgxMjogJ0FsdExlZnQnLFxuICAgIDB4MTM6ICdQYXVzZScsXG4gICAgMHgxNDogJ0NhcHNMb2NrJyxcbiAgICAweDE1OiAnTGFuZzEnLFxuICAgIDB4MTk6ICdMYW5nMicsXG4gICAgMHgxYjogJ0VzY2FwZScsXG4gICAgMHgxYzogJ0NvbnZlcnQnLFxuICAgIDB4MWQ6ICdOb25Db252ZXJ0JyxcbiAgICAweDIwOiAnU3BhY2UnLFxuICAgIDB4MjE6ICdQYWdlVXAnLFxuICAgIDB4MjI6ICdQYWdlRG93bicsXG4gICAgMHgyMzogJ0VuZCcsXG4gICAgMHgyNDogJ0hvbWUnLFxuICAgIDB4MjU6ICdBcnJvd0xlZnQnLFxuICAgIDB4MjY6ICdBcnJvd1VwJyxcbiAgICAweDI3OiAnQXJyb3dSaWdodCcsXG4gICAgMHgyODogJ0Fycm93RG93bicsXG4gICAgMHgyOTogJ1NlbGVjdCcsXG4gICAgMHgyYzogJ1ByaW50U2NyZWVuJyxcbiAgICAweDJkOiAnSW5zZXJ0JyxcbiAgICAweDJlOiAnRGVsZXRlJyxcbiAgICAweDJmOiAnSGVscCcsXG4gICAgMHgzMDogJ0RpZ2l0MCcsXG4gICAgMHgzMTogJ0RpZ2l0MScsXG4gICAgMHgzMjogJ0RpZ2l0MicsXG4gICAgMHgzMzogJ0RpZ2l0MycsXG4gICAgMHgzNDogJ0RpZ2l0NCcsXG4gICAgMHgzNTogJ0RpZ2l0NScsXG4gICAgMHgzNjogJ0RpZ2l0NicsXG4gICAgMHgzNzogJ0RpZ2l0NycsXG4gICAgMHgzODogJ0RpZ2l0OCcsXG4gICAgMHgzOTogJ0RpZ2l0OScsXG4gICAgMHg1YjogJ01ldGFMZWZ0JyxcbiAgICAweDVjOiAnTWV0YVJpZ2h0JyxcbiAgICAweDVkOiAnQ29udGV4dE1lbnUnLFxuICAgIDB4NWY6ICdTbGVlcCcsXG4gICAgMHg2MDogJ051bXBhZDAnLFxuICAgIDB4NjE6ICdOdW1wYWQxJyxcbiAgICAweDYyOiAnTnVtcGFkMicsXG4gICAgMHg2MzogJ051bXBhZDMnLFxuICAgIDB4NjQ6ICdOdW1wYWQ0JyxcbiAgICAweDY1OiAnTnVtcGFkNScsXG4gICAgMHg2NjogJ051bXBhZDYnLFxuICAgIDB4Njc6ICdOdW1wYWQ3JyxcbiAgICAweDY4OiAnTnVtcGFkOCcsXG4gICAgMHg2OTogJ051bXBhZDknLFxuICAgIDB4NmE6ICdOdW1wYWRNdWx0aXBseScsXG4gICAgMHg2YjogJ051bXBhZEFkZCcsXG4gICAgMHg2YzogJ051bXBhZERlY2ltYWwnLFxuICAgIDB4NmQ6ICdOdW1wYWRTdWJ0cmFjdCcsXG4gICAgMHg2ZTogJ051bXBhZERlY2ltYWwnLCAvLyBEdXBsaWNhdGUsIGJlY2F1c2UgYnVnZ3kgb24gV2luZG93c1xuICAgIDB4NmY6ICdOdW1wYWREaXZpZGUnLFxuICAgIDB4NzA6ICdGMScsXG4gICAgMHg3MTogJ0YyJyxcbiAgICAweDcyOiAnRjMnLFxuICAgIDB4NzM6ICdGNCcsXG4gICAgMHg3NDogJ0Y1JyxcbiAgICAweDc1OiAnRjYnLFxuICAgIDB4NzY6ICdGNycsXG4gICAgMHg3NzogJ0Y4JyxcbiAgICAweDc4OiAnRjknLFxuICAgIDB4Nzk6ICdGMTAnLFxuICAgIDB4N2E6ICdGMTEnLFxuICAgIDB4N2I6ICdGMTInLFxuICAgIDB4N2M6ICdGMTMnLFxuICAgIDB4N2Q6ICdGMTQnLFxuICAgIDB4N2U6ICdGMTUnLFxuICAgIDB4N2Y6ICdGMTYnLFxuICAgIDB4ODA6ICdGMTcnLFxuICAgIDB4ODE6ICdGMTgnLFxuICAgIDB4ODI6ICdGMTknLFxuICAgIDB4ODM6ICdGMjAnLFxuICAgIDB4ODQ6ICdGMjEnLFxuICAgIDB4ODU6ICdGMjInLFxuICAgIDB4ODY6ICdGMjMnLFxuICAgIDB4ODc6ICdGMjQnLFxuICAgIDB4OTA6ICdOdW1Mb2NrJyxcbiAgICAweDkxOiAnU2Nyb2xsTG9jaycsXG4gICAgMHhhNjogJ0Jyb3dzZXJCYWNrJyxcbiAgICAweGE3OiAnQnJvd3NlckZvcndhcmQnLFxuICAgIDB4YTg6ICdCcm93c2VyUmVmcmVzaCcsXG4gICAgMHhhOTogJ0Jyb3dzZXJTdG9wJyxcbiAgICAweGFhOiAnQnJvd3NlclNlYXJjaCcsXG4gICAgMHhhYjogJ0Jyb3dzZXJGYXZvcml0ZXMnLFxuICAgIDB4YWM6ICdCcm93c2VySG9tZScsXG4gICAgMHhhZDogJ0F1ZGlvVm9sdW1lTXV0ZScsXG4gICAgMHhhZTogJ0F1ZGlvVm9sdW1lRG93bicsXG4gICAgMHhhZjogJ0F1ZGlvVm9sdW1lVXAnLFxuICAgIDB4YjA6ICdNZWRpYVRyYWNrTmV4dCcsXG4gICAgMHhiMTogJ01lZGlhVHJhY2tQcmV2aW91cycsXG4gICAgMHhiMjogJ01lZGlhU3RvcCcsXG4gICAgMHhiMzogJ01lZGlhUGxheVBhdXNlJyxcbiAgICAweGI0OiAnTGF1bmNoTWFpbCcsXG4gICAgMHhiNTogJ01lZGlhU2VsZWN0JyxcbiAgICAweGI2OiAnTGF1bmNoQXBwMScsXG4gICAgMHhiNzogJ0xhdW5jaEFwcDInLFxuICAgIDB4ZTE6ICdBbHRSaWdodCcsIC8vIE9ubHkgd2hlbiBpdCBpcyBBbHRHcmFwaFxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgZnJvbSBrZXltYXBzLmNzdiBvbiAyMDE3LTA1LTMxIDE2OjIwXG4gKiBEYXRhYmFzZSBjaGVja3N1bSBzaGEyNTYoOTJmZDE2NTUwN2YyYTNiOGM1YjNmYTU2ZTQyNWQ0NTc4OGRiY2I5OGNmMDY3YTMwNzUyN2Q5MWNlMjJjYWI5NClcbiAqIFRvIHJlLWdlbmVyYXRlLCBydW46XG4gKiAgIGtleW1hcC1nZW4gLS1sYW5nPWpzIGNvZGUtbWFwIGtleW1hcHMuY3N2IGh0bWwgYXRzZXQxXG4qL1xuZXhwb3J0IGRlZmF1bHQge1xuICBcIkFnYWluXCI6IDB4ZTAwNSwgLyogaHRtbDpBZ2FpbiAoQWdhaW4pIC0+IGxpbnV4OjEyOSAoS0VZX0FHQUlOKSAtPiBhdHNldDE6NTczNDkgKi9cbiAgXCJBbHRMZWZ0XCI6IDB4MzgsIC8qIGh0bWw6QWx0TGVmdCAoQWx0TGVmdCkgLT4gbGludXg6NTYgKEtFWV9MRUZUQUxUKSAtPiBhdHNldDE6NTYgKi9cbiAgXCJBbHRSaWdodFwiOiAweGUwMzgsIC8qIGh0bWw6QWx0UmlnaHQgKEFsdFJpZ2h0KSAtPiBsaW51eDoxMDAgKEtFWV9SSUdIVEFMVCkgLT4gYXRzZXQxOjU3NDAwICovXG4gIFwiQXJyb3dEb3duXCI6IDB4ZTA1MCwgLyogaHRtbDpBcnJvd0Rvd24gKEFycm93RG93bikgLT4gbGludXg6MTA4IChLRVlfRE9XTikgLT4gYXRzZXQxOjU3NDI0ICovXG4gIFwiQXJyb3dMZWZ0XCI6IDB4ZTA0YiwgLyogaHRtbDpBcnJvd0xlZnQgKEFycm93TGVmdCkgLT4gbGludXg6MTA1IChLRVlfTEVGVCkgLT4gYXRzZXQxOjU3NDE5ICovXG4gIFwiQXJyb3dSaWdodFwiOiAweGUwNGQsIC8qIGh0bWw6QXJyb3dSaWdodCAoQXJyb3dSaWdodCkgLT4gbGludXg6MTA2IChLRVlfUklHSFQpIC0+IGF0c2V0MTo1NzQyMSAqL1xuICBcIkFycm93VXBcIjogMHhlMDQ4LCAvKiBodG1sOkFycm93VXAgKEFycm93VXApIC0+IGxpbnV4OjEwMyAoS0VZX1VQKSAtPiBhdHNldDE6NTc0MTYgKi9cbiAgXCJBdWRpb1ZvbHVtZURvd25cIjogMHhlMDJlLCAvKiBodG1sOkF1ZGlvVm9sdW1lRG93biAoQXVkaW9Wb2x1bWVEb3duKSAtPiBsaW51eDoxMTQgKEtFWV9WT0xVTUVET1dOKSAtPiBhdHNldDE6NTczOTAgKi9cbiAgXCJBdWRpb1ZvbHVtZU11dGVcIjogMHhlMDIwLCAvKiBodG1sOkF1ZGlvVm9sdW1lTXV0ZSAoQXVkaW9Wb2x1bWVNdXRlKSAtPiBsaW51eDoxMTMgKEtFWV9NVVRFKSAtPiBhdHNldDE6NTczNzYgKi9cbiAgXCJBdWRpb1ZvbHVtZVVwXCI6IDB4ZTAzMCwgLyogaHRtbDpBdWRpb1ZvbHVtZVVwIChBdWRpb1ZvbHVtZVVwKSAtPiBsaW51eDoxMTUgKEtFWV9WT0xVTUVVUCkgLT4gYXRzZXQxOjU3MzkyICovXG4gIFwiQmFja3F1b3RlXCI6IDB4MjksIC8qIGh0bWw6QmFja3F1b3RlIChCYWNrcXVvdGUpIC0+IGxpbnV4OjQxIChLRVlfR1JBVkUpIC0+IGF0c2V0MTo0MSAqL1xuICBcIkJhY2tzbGFzaFwiOiAweDJiLCAvKiBodG1sOkJhY2tzbGFzaCAoQmFja3NsYXNoKSAtPiBsaW51eDo0MyAoS0VZX0JBQ0tTTEFTSCkgLT4gYXRzZXQxOjQzICovXG4gIFwiQmFja3NwYWNlXCI6IDB4ZSwgLyogaHRtbDpCYWNrc3BhY2UgKEJhY2tzcGFjZSkgLT4gbGludXg6MTQgKEtFWV9CQUNLU1BBQ0UpIC0+IGF0c2V0MToxNCAqL1xuICBcIkJyYWNrZXRMZWZ0XCI6IDB4MWEsIC8qIGh0bWw6QnJhY2tldExlZnQgKEJyYWNrZXRMZWZ0KSAtPiBsaW51eDoyNiAoS0VZX0xFRlRCUkFDRSkgLT4gYXRzZXQxOjI2ICovXG4gIFwiQnJhY2tldFJpZ2h0XCI6IDB4MWIsIC8qIGh0bWw6QnJhY2tldFJpZ2h0IChCcmFja2V0UmlnaHQpIC0+IGxpbnV4OjI3IChLRVlfUklHSFRCUkFDRSkgLT4gYXRzZXQxOjI3ICovXG4gIFwiQnJvd3NlckJhY2tcIjogMHhlMDZhLCAvKiBodG1sOkJyb3dzZXJCYWNrIChCcm93c2VyQmFjaykgLT4gbGludXg6MTU4IChLRVlfQkFDSykgLT4gYXRzZXQxOjU3NDUwICovXG4gIFwiQnJvd3NlckZhdm9yaXRlc1wiOiAweGUwNjYsIC8qIGh0bWw6QnJvd3NlckZhdm9yaXRlcyAoQnJvd3NlckZhdm9yaXRlcykgLT4gbGludXg6MTU2IChLRVlfQk9PS01BUktTKSAtPiBhdHNldDE6NTc0NDYgKi9cbiAgXCJCcm93c2VyRm9yd2FyZFwiOiAweGUwNjksIC8qIGh0bWw6QnJvd3NlckZvcndhcmQgKEJyb3dzZXJGb3J3YXJkKSAtPiBsaW51eDoxNTkgKEtFWV9GT1JXQVJEKSAtPiBhdHNldDE6NTc0NDkgKi9cbiAgXCJCcm93c2VySG9tZVwiOiAweGUwMzIsIC8qIGh0bWw6QnJvd3NlckhvbWUgKEJyb3dzZXJIb21lKSAtPiBsaW51eDoxNzIgKEtFWV9IT01FUEFHRSkgLT4gYXRzZXQxOjU3Mzk0ICovXG4gIFwiQnJvd3NlclJlZnJlc2hcIjogMHhlMDY3LCAvKiBodG1sOkJyb3dzZXJSZWZyZXNoIChCcm93c2VyUmVmcmVzaCkgLT4gbGludXg6MTczIChLRVlfUkVGUkVTSCkgLT4gYXRzZXQxOjU3NDQ3ICovXG4gIFwiQnJvd3NlclNlYXJjaFwiOiAweGUwNjUsIC8qIGh0bWw6QnJvd3NlclNlYXJjaCAoQnJvd3NlclNlYXJjaCkgLT4gbGludXg6MjE3IChLRVlfU0VBUkNIKSAtPiBhdHNldDE6NTc0NDUgKi9cbiAgXCJCcm93c2VyU3RvcFwiOiAweGUwNjgsIC8qIGh0bWw6QnJvd3NlclN0b3AgKEJyb3dzZXJTdG9wKSAtPiBsaW51eDoxMjggKEtFWV9TVE9QKSAtPiBhdHNldDE6NTc0NDggKi9cbiAgXCJDYXBzTG9ja1wiOiAweDNhLCAvKiBodG1sOkNhcHNMb2NrIChDYXBzTG9jaykgLT4gbGludXg6NTggKEtFWV9DQVBTTE9DSykgLT4gYXRzZXQxOjU4ICovXG4gIFwiQ29tbWFcIjogMHgzMywgLyogaHRtbDpDb21tYSAoQ29tbWEpIC0+IGxpbnV4OjUxIChLRVlfQ09NTUEpIC0+IGF0c2V0MTo1MSAqL1xuICBcIkNvbnRleHRNZW51XCI6IDB4ZTA1ZCwgLyogaHRtbDpDb250ZXh0TWVudSAoQ29udGV4dE1lbnUpIC0+IGxpbnV4OjEyNyAoS0VZX0NPTVBPU0UpIC0+IGF0c2V0MTo1NzQzNyAqL1xuICBcIkNvbnRyb2xMZWZ0XCI6IDB4MWQsIC8qIGh0bWw6Q29udHJvbExlZnQgKENvbnRyb2xMZWZ0KSAtPiBsaW51eDoyOSAoS0VZX0xFRlRDVFJMKSAtPiBhdHNldDE6MjkgKi9cbiAgXCJDb250cm9sUmlnaHRcIjogMHhlMDFkLCAvKiBodG1sOkNvbnRyb2xSaWdodCAoQ29udHJvbFJpZ2h0KSAtPiBsaW51eDo5NyAoS0VZX1JJR0hUQ1RSTCkgLT4gYXRzZXQxOjU3MzczICovXG4gIFwiQ29udmVydFwiOiAweDc5LCAvKiBodG1sOkNvbnZlcnQgKENvbnZlcnQpIC0+IGxpbnV4OjkyIChLRVlfSEVOS0FOKSAtPiBhdHNldDE6MTIxICovXG4gIFwiQ29weVwiOiAweGUwNzgsIC8qIGh0bWw6Q29weSAoQ29weSkgLT4gbGludXg6MTMzIChLRVlfQ09QWSkgLT4gYXRzZXQxOjU3NDY0ICovXG4gIFwiQ3V0XCI6IDB4ZTAzYywgLyogaHRtbDpDdXQgKEN1dCkgLT4gbGludXg6MTM3IChLRVlfQ1VUKSAtPiBhdHNldDE6NTc0MDQgKi9cbiAgXCJEZWxldGVcIjogMHhlMDUzLCAvKiBodG1sOkRlbGV0ZSAoRGVsZXRlKSAtPiBsaW51eDoxMTEgKEtFWV9ERUxFVEUpIC0+IGF0c2V0MTo1NzQyNyAqL1xuICBcIkRpZ2l0MFwiOiAweGIsIC8qIGh0bWw6RGlnaXQwIChEaWdpdDApIC0+IGxpbnV4OjExIChLRVlfMCkgLT4gYXRzZXQxOjExICovXG4gIFwiRGlnaXQxXCI6IDB4MiwgLyogaHRtbDpEaWdpdDEgKERpZ2l0MSkgLT4gbGludXg6MiAoS0VZXzEpIC0+IGF0c2V0MToyICovXG4gIFwiRGlnaXQyXCI6IDB4MywgLyogaHRtbDpEaWdpdDIgKERpZ2l0MikgLT4gbGludXg6MyAoS0VZXzIpIC0+IGF0c2V0MTozICovXG4gIFwiRGlnaXQzXCI6IDB4NCwgLyogaHRtbDpEaWdpdDMgKERpZ2l0MykgLT4gbGludXg6NCAoS0VZXzMpIC0+IGF0c2V0MTo0ICovXG4gIFwiRGlnaXQ0XCI6IDB4NSwgLyogaHRtbDpEaWdpdDQgKERpZ2l0NCkgLT4gbGludXg6NSAoS0VZXzQpIC0+IGF0c2V0MTo1ICovXG4gIFwiRGlnaXQ1XCI6IDB4NiwgLyogaHRtbDpEaWdpdDUgKERpZ2l0NSkgLT4gbGludXg6NiAoS0VZXzUpIC0+IGF0c2V0MTo2ICovXG4gIFwiRGlnaXQ2XCI6IDB4NywgLyogaHRtbDpEaWdpdDYgKERpZ2l0NikgLT4gbGludXg6NyAoS0VZXzYpIC0+IGF0c2V0MTo3ICovXG4gIFwiRGlnaXQ3XCI6IDB4OCwgLyogaHRtbDpEaWdpdDcgKERpZ2l0NykgLT4gbGludXg6OCAoS0VZXzcpIC0+IGF0c2V0MTo4ICovXG4gIFwiRGlnaXQ4XCI6IDB4OSwgLyogaHRtbDpEaWdpdDggKERpZ2l0OCkgLT4gbGludXg6OSAoS0VZXzgpIC0+IGF0c2V0MTo5ICovXG4gIFwiRGlnaXQ5XCI6IDB4YSwgLyogaHRtbDpEaWdpdDkgKERpZ2l0OSkgLT4gbGludXg6MTAgKEtFWV85KSAtPiBhdHNldDE6MTAgKi9cbiAgXCJFamVjdFwiOiAweGUwN2QsIC8qIGh0bWw6RWplY3QgKEVqZWN0KSAtPiBsaW51eDoxNjIgKEtFWV9FSkVDVENMT1NFQ0QpIC0+IGF0c2V0MTo1NzQ2OSAqL1xuICBcIkVuZFwiOiAweGUwNGYsIC8qIGh0bWw6RW5kIChFbmQpIC0+IGxpbnV4OjEwNyAoS0VZX0VORCkgLT4gYXRzZXQxOjU3NDIzICovXG4gIFwiRW50ZXJcIjogMHgxYywgLyogaHRtbDpFbnRlciAoRW50ZXIpIC0+IGxpbnV4OjI4IChLRVlfRU5URVIpIC0+IGF0c2V0MToyOCAqL1xuICBcIkVxdWFsXCI6IDB4ZCwgLyogaHRtbDpFcXVhbCAoRXF1YWwpIC0+IGxpbnV4OjEzIChLRVlfRVFVQUwpIC0+IGF0c2V0MToxMyAqL1xuICBcIkVzY2FwZVwiOiAweDEsIC8qIGh0bWw6RXNjYXBlIChFc2NhcGUpIC0+IGxpbnV4OjEgKEtFWV9FU0MpIC0+IGF0c2V0MToxICovXG4gIFwiRjFcIjogMHgzYiwgLyogaHRtbDpGMSAoRjEpIC0+IGxpbnV4OjU5IChLRVlfRjEpIC0+IGF0c2V0MTo1OSAqL1xuICBcIkYxMFwiOiAweDQ0LCAvKiBodG1sOkYxMCAoRjEwKSAtPiBsaW51eDo2OCAoS0VZX0YxMCkgLT4gYXRzZXQxOjY4ICovXG4gIFwiRjExXCI6IDB4NTcsIC8qIGh0bWw6RjExIChGMTEpIC0+IGxpbnV4Ojg3IChLRVlfRjExKSAtPiBhdHNldDE6ODcgKi9cbiAgXCJGMTJcIjogMHg1OCwgLyogaHRtbDpGMTIgKEYxMikgLT4gbGludXg6ODggKEtFWV9GMTIpIC0+IGF0c2V0MTo4OCAqL1xuICBcIkYxM1wiOiAweDVkLCAvKiBodG1sOkYxMyAoRjEzKSAtPiBsaW51eDoxODMgKEtFWV9GMTMpIC0+IGF0c2V0MTo5MyAqL1xuICBcIkYxNFwiOiAweDVlLCAvKiBodG1sOkYxNCAoRjE0KSAtPiBsaW51eDoxODQgKEtFWV9GMTQpIC0+IGF0c2V0MTo5NCAqL1xuICBcIkYxNVwiOiAweDVmLCAvKiBodG1sOkYxNSAoRjE1KSAtPiBsaW51eDoxODUgKEtFWV9GMTUpIC0+IGF0c2V0MTo5NSAqL1xuICBcIkYxNlwiOiAweDU1LCAvKiBodG1sOkYxNiAoRjE2KSAtPiBsaW51eDoxODYgKEtFWV9GMTYpIC0+IGF0c2V0MTo4NSAqL1xuICBcIkYxN1wiOiAweGUwMDMsIC8qIGh0bWw6RjE3IChGMTcpIC0+IGxpbnV4OjE4NyAoS0VZX0YxNykgLT4gYXRzZXQxOjU3MzQ3ICovXG4gIFwiRjE4XCI6IDB4ZTA3NywgLyogaHRtbDpGMTggKEYxOCkgLT4gbGludXg6MTg4IChLRVlfRjE4KSAtPiBhdHNldDE6NTc0NjMgKi9cbiAgXCJGMTlcIjogMHhlMDA0LCAvKiBodG1sOkYxOSAoRjE5KSAtPiBsaW51eDoxODkgKEtFWV9GMTkpIC0+IGF0c2V0MTo1NzM0OCAqL1xuICBcIkYyXCI6IDB4M2MsIC8qIGh0bWw6RjIgKEYyKSAtPiBsaW51eDo2MCAoS0VZX0YyKSAtPiBhdHNldDE6NjAgKi9cbiAgXCJGMjBcIjogMHg1YSwgLyogaHRtbDpGMjAgKEYyMCkgLT4gbGludXg6MTkwIChLRVlfRjIwKSAtPiBhdHNldDE6OTAgKi9cbiAgXCJGMjFcIjogMHg3NCwgLyogaHRtbDpGMjEgKEYyMSkgLT4gbGludXg6MTkxIChLRVlfRjIxKSAtPiBhdHNldDE6MTE2ICovXG4gIFwiRjIyXCI6IDB4ZTA3OSwgLyogaHRtbDpGMjIgKEYyMikgLT4gbGludXg6MTkyIChLRVlfRjIyKSAtPiBhdHNldDE6NTc0NjUgKi9cbiAgXCJGMjNcIjogMHg2ZCwgLyogaHRtbDpGMjMgKEYyMykgLT4gbGludXg6MTkzIChLRVlfRjIzKSAtPiBhdHNldDE6MTA5ICovXG4gIFwiRjI0XCI6IDB4NmYsIC8qIGh0bWw6RjI0IChGMjQpIC0+IGxpbnV4OjE5NCAoS0VZX0YyNCkgLT4gYXRzZXQxOjExMSAqL1xuICBcIkYzXCI6IDB4M2QsIC8qIGh0bWw6RjMgKEYzKSAtPiBsaW51eDo2MSAoS0VZX0YzKSAtPiBhdHNldDE6NjEgKi9cbiAgXCJGNFwiOiAweDNlLCAvKiBodG1sOkY0IChGNCkgLT4gbGludXg6NjIgKEtFWV9GNCkgLT4gYXRzZXQxOjYyICovXG4gIFwiRjVcIjogMHgzZiwgLyogaHRtbDpGNSAoRjUpIC0+IGxpbnV4OjYzIChLRVlfRjUpIC0+IGF0c2V0MTo2MyAqL1xuICBcIkY2XCI6IDB4NDAsIC8qIGh0bWw6RjYgKEY2KSAtPiBsaW51eDo2NCAoS0VZX0Y2KSAtPiBhdHNldDE6NjQgKi9cbiAgXCJGN1wiOiAweDQxLCAvKiBodG1sOkY3IChGNykgLT4gbGludXg6NjUgKEtFWV9GNykgLT4gYXRzZXQxOjY1ICovXG4gIFwiRjhcIjogMHg0MiwgLyogaHRtbDpGOCAoRjgpIC0+IGxpbnV4OjY2IChLRVlfRjgpIC0+IGF0c2V0MTo2NiAqL1xuICBcIkY5XCI6IDB4NDMsIC8qIGh0bWw6RjkgKEY5KSAtPiBsaW51eDo2NyAoS0VZX0Y5KSAtPiBhdHNldDE6NjcgKi9cbiAgXCJGaW5kXCI6IDB4ZTA0MSwgLyogaHRtbDpGaW5kIChGaW5kKSAtPiBsaW51eDoxMzYgKEtFWV9GSU5EKSAtPiBhdHNldDE6NTc0MDkgKi9cbiAgXCJIZWxwXCI6IDB4ZTA3NSwgLyogaHRtbDpIZWxwIChIZWxwKSAtPiBsaW51eDoxMzggKEtFWV9IRUxQKSAtPiBhdHNldDE6NTc0NjEgKi9cbiAgXCJIaXJhZ2FuYVwiOiAweDc3LCAvKiBodG1sOkhpcmFnYW5hIChMYW5nNCkgLT4gbGludXg6OTEgKEtFWV9ISVJBR0FOQSkgLT4gYXRzZXQxOjExOSAqL1xuICBcIkhvbWVcIjogMHhlMDQ3LCAvKiBodG1sOkhvbWUgKEhvbWUpIC0+IGxpbnV4OjEwMiAoS0VZX0hPTUUpIC0+IGF0c2V0MTo1NzQxNSAqL1xuICBcIkluc2VydFwiOiAweGUwNTIsIC8qIGh0bWw6SW5zZXJ0IChJbnNlcnQpIC0+IGxpbnV4OjExMCAoS0VZX0lOU0VSVCkgLT4gYXRzZXQxOjU3NDI2ICovXG4gIFwiSW50bEJhY2tzbGFzaFwiOiAweDU2LCAvKiBodG1sOkludGxCYWNrc2xhc2ggKEludGxCYWNrc2xhc2gpIC0+IGxpbnV4Ojg2IChLRVlfMTAyTkQpIC0+IGF0c2V0MTo4NiAqL1xuICBcIkludGxSb1wiOiAweDczLCAvKiBodG1sOkludGxSbyAoSW50bFJvKSAtPiBsaW51eDo4OSAoS0VZX1JPKSAtPiBhdHNldDE6MTE1ICovXG4gIFwiSW50bFllblwiOiAweDdkLCAvKiBodG1sOkludGxZZW4gKEludGxZZW4pIC0+IGxpbnV4OjEyNCAoS0VZX1lFTikgLT4gYXRzZXQxOjEyNSAqL1xuICBcIkthbmFNb2RlXCI6IDB4NzAsIC8qIGh0bWw6S2FuYU1vZGUgKEthbmFNb2RlKSAtPiBsaW51eDo5MyAoS0VZX0tBVEFLQU5BSElSQUdBTkEpIC0+IGF0c2V0MToxMTIgKi9cbiAgXCJLYXRha2FuYVwiOiAweDc4LCAvKiBodG1sOkthdGFrYW5hIChMYW5nMykgLT4gbGludXg6OTAgKEtFWV9LQVRBS0FOQSkgLT4gYXRzZXQxOjEyMCAqL1xuICBcIktleUFcIjogMHgxZSwgLyogaHRtbDpLZXlBIChLZXlBKSAtPiBsaW51eDozMCAoS0VZX0EpIC0+IGF0c2V0MTozMCAqL1xuICBcIktleUJcIjogMHgzMCwgLyogaHRtbDpLZXlCIChLZXlCKSAtPiBsaW51eDo0OCAoS0VZX0IpIC0+IGF0c2V0MTo0OCAqL1xuICBcIktleUNcIjogMHgyZSwgLyogaHRtbDpLZXlDIChLZXlDKSAtPiBsaW51eDo0NiAoS0VZX0MpIC0+IGF0c2V0MTo0NiAqL1xuICBcIktleURcIjogMHgyMCwgLyogaHRtbDpLZXlEIChLZXlEKSAtPiBsaW51eDozMiAoS0VZX0QpIC0+IGF0c2V0MTozMiAqL1xuICBcIktleUVcIjogMHgxMiwgLyogaHRtbDpLZXlFIChLZXlFKSAtPiBsaW51eDoxOCAoS0VZX0UpIC0+IGF0c2V0MToxOCAqL1xuICBcIktleUZcIjogMHgyMSwgLyogaHRtbDpLZXlGIChLZXlGKSAtPiBsaW51eDozMyAoS0VZX0YpIC0+IGF0c2V0MTozMyAqL1xuICBcIktleUdcIjogMHgyMiwgLyogaHRtbDpLZXlHIChLZXlHKSAtPiBsaW51eDozNCAoS0VZX0cpIC0+IGF0c2V0MTozNCAqL1xuICBcIktleUhcIjogMHgyMywgLyogaHRtbDpLZXlIIChLZXlIKSAtPiBsaW51eDozNSAoS0VZX0gpIC0+IGF0c2V0MTozNSAqL1xuICBcIktleUlcIjogMHgxNywgLyogaHRtbDpLZXlJIChLZXlJKSAtPiBsaW51eDoyMyAoS0VZX0kpIC0+IGF0c2V0MToyMyAqL1xuICBcIktleUpcIjogMHgyNCwgLyogaHRtbDpLZXlKIChLZXlKKSAtPiBsaW51eDozNiAoS0VZX0opIC0+IGF0c2V0MTozNiAqL1xuICBcIktleUtcIjogMHgyNSwgLyogaHRtbDpLZXlLIChLZXlLKSAtPiBsaW51eDozNyAoS0VZX0spIC0+IGF0c2V0MTozNyAqL1xuICBcIktleUxcIjogMHgyNiwgLyogaHRtbDpLZXlMIChLZXlMKSAtPiBsaW51eDozOCAoS0VZX0wpIC0+IGF0c2V0MTozOCAqL1xuICBcIktleU1cIjogMHgzMiwgLyogaHRtbDpLZXlNIChLZXlNKSAtPiBsaW51eDo1MCAoS0VZX00pIC0+IGF0c2V0MTo1MCAqL1xuICBcIktleU5cIjogMHgzMSwgLyogaHRtbDpLZXlOIChLZXlOKSAtPiBsaW51eDo0OSAoS0VZX04pIC0+IGF0c2V0MTo0OSAqL1xuICBcIktleU9cIjogMHgxOCwgLyogaHRtbDpLZXlPIChLZXlPKSAtPiBsaW51eDoyNCAoS0VZX08pIC0+IGF0c2V0MToyNCAqL1xuICBcIktleVBcIjogMHgxOSwgLyogaHRtbDpLZXlQIChLZXlQKSAtPiBsaW51eDoyNSAoS0VZX1ApIC0+IGF0c2V0MToyNSAqL1xuICBcIktleVFcIjogMHgxMCwgLyogaHRtbDpLZXlRIChLZXlRKSAtPiBsaW51eDoxNiAoS0VZX1EpIC0+IGF0c2V0MToxNiAqL1xuICBcIktleVJcIjogMHgxMywgLyogaHRtbDpLZXlSIChLZXlSKSAtPiBsaW51eDoxOSAoS0VZX1IpIC0+IGF0c2V0MToxOSAqL1xuICBcIktleVNcIjogMHgxZiwgLyogaHRtbDpLZXlTIChLZXlTKSAtPiBsaW51eDozMSAoS0VZX1MpIC0+IGF0c2V0MTozMSAqL1xuICBcIktleVRcIjogMHgxNCwgLyogaHRtbDpLZXlUIChLZXlUKSAtPiBsaW51eDoyMCAoS0VZX1QpIC0+IGF0c2V0MToyMCAqL1xuICBcIktleVVcIjogMHgxNiwgLyogaHRtbDpLZXlVIChLZXlVKSAtPiBsaW51eDoyMiAoS0VZX1UpIC0+IGF0c2V0MToyMiAqL1xuICBcIktleVZcIjogMHgyZiwgLyogaHRtbDpLZXlWIChLZXlWKSAtPiBsaW51eDo0NyAoS0VZX1YpIC0+IGF0c2V0MTo0NyAqL1xuICBcIktleVdcIjogMHgxMSwgLyogaHRtbDpLZXlXIChLZXlXKSAtPiBsaW51eDoxNyAoS0VZX1cpIC0+IGF0c2V0MToxNyAqL1xuICBcIktleVhcIjogMHgyZCwgLyogaHRtbDpLZXlYIChLZXlYKSAtPiBsaW51eDo0NSAoS0VZX1gpIC0+IGF0c2V0MTo0NSAqL1xuICBcIktleVlcIjogMHgxNSwgLyogaHRtbDpLZXlZIChLZXlZKSAtPiBsaW51eDoyMSAoS0VZX1kpIC0+IGF0c2V0MToyMSAqL1xuICBcIktleVpcIjogMHgyYywgLyogaHRtbDpLZXlaIChLZXlaKSAtPiBsaW51eDo0NCAoS0VZX1opIC0+IGF0c2V0MTo0NCAqL1xuICBcIkxhbmczXCI6IDB4NzgsIC8qIGh0bWw6TGFuZzMgKExhbmczKSAtPiBsaW51eDo5MCAoS0VZX0tBVEFLQU5BKSAtPiBhdHNldDE6MTIwICovXG4gIFwiTGFuZzRcIjogMHg3NywgLyogaHRtbDpMYW5nNCAoTGFuZzQpIC0+IGxpbnV4OjkxIChLRVlfSElSQUdBTkEpIC0+IGF0c2V0MToxMTkgKi9cbiAgXCJMYW5nNVwiOiAweDc2LCAvKiBodG1sOkxhbmc1IChMYW5nNSkgLT4gbGludXg6ODUgKEtFWV9aRU5LQUtVSEFOS0FLVSkgLT4gYXRzZXQxOjExOCAqL1xuICBcIkxhdW5jaEFwcDFcIjogMHhlMDZiLCAvKiBodG1sOkxhdW5jaEFwcDEgKExhdW5jaEFwcDEpIC0+IGxpbnV4OjE1NyAoS0VZX0NPTVBVVEVSKSAtPiBhdHNldDE6NTc0NTEgKi9cbiAgXCJMYXVuY2hBcHAyXCI6IDB4ZTAyMSwgLyogaHRtbDpMYXVuY2hBcHAyIChMYXVuY2hBcHAyKSAtPiBsaW51eDoxNDAgKEtFWV9DQUxDKSAtPiBhdHNldDE6NTczNzcgKi9cbiAgXCJMYXVuY2hNYWlsXCI6IDB4ZTA2YywgLyogaHRtbDpMYXVuY2hNYWlsIChMYXVuY2hNYWlsKSAtPiBsaW51eDoxNTUgKEtFWV9NQUlMKSAtPiBhdHNldDE6NTc0NTIgKi9cbiAgXCJNZWRpYVBsYXlQYXVzZVwiOiAweGUwMjIsIC8qIGh0bWw6TWVkaWFQbGF5UGF1c2UgKE1lZGlhUGxheVBhdXNlKSAtPiBsaW51eDoxNjQgKEtFWV9QTEFZUEFVU0UpIC0+IGF0c2V0MTo1NzM3OCAqL1xuICBcIk1lZGlhU2VsZWN0XCI6IDB4ZTA2ZCwgLyogaHRtbDpNZWRpYVNlbGVjdCAoTWVkaWFTZWxlY3QpIC0+IGxpbnV4OjIyNiAoS0VZX01FRElBKSAtPiBhdHNldDE6NTc0NTMgKi9cbiAgXCJNZWRpYVN0b3BcIjogMHhlMDI0LCAvKiBodG1sOk1lZGlhU3RvcCAoTWVkaWFTdG9wKSAtPiBsaW51eDoxNjYgKEtFWV9TVE9QQ0QpIC0+IGF0c2V0MTo1NzM4MCAqL1xuICBcIk1lZGlhVHJhY2tOZXh0XCI6IDB4ZTAxOSwgLyogaHRtbDpNZWRpYVRyYWNrTmV4dCAoTWVkaWFUcmFja05leHQpIC0+IGxpbnV4OjE2MyAoS0VZX05FWFRTT05HKSAtPiBhdHNldDE6NTczNjkgKi9cbiAgXCJNZWRpYVRyYWNrUHJldmlvdXNcIjogMHhlMDEwLCAvKiBodG1sOk1lZGlhVHJhY2tQcmV2aW91cyAoTWVkaWFUcmFja1ByZXZpb3VzKSAtPiBsaW51eDoxNjUgKEtFWV9QUkVWSU9VU1NPTkcpIC0+IGF0c2V0MTo1NzM2MCAqL1xuICBcIk1ldGFMZWZ0XCI6IDB4ZTA1YiwgLyogaHRtbDpNZXRhTGVmdCAoTWV0YUxlZnQpIC0+IGxpbnV4OjEyNSAoS0VZX0xFRlRNRVRBKSAtPiBhdHNldDE6NTc0MzUgKi9cbiAgXCJNZXRhUmlnaHRcIjogMHhlMDVjLCAvKiBodG1sOk1ldGFSaWdodCAoTWV0YVJpZ2h0KSAtPiBsaW51eDoxMjYgKEtFWV9SSUdIVE1FVEEpIC0+IGF0c2V0MTo1NzQzNiAqL1xuICBcIk1pbnVzXCI6IDB4YywgLyogaHRtbDpNaW51cyAoTWludXMpIC0+IGxpbnV4OjEyIChLRVlfTUlOVVMpIC0+IGF0c2V0MToxMiAqL1xuICBcIk5vbkNvbnZlcnRcIjogMHg3YiwgLyogaHRtbDpOb25Db252ZXJ0IChOb25Db252ZXJ0KSAtPiBsaW51eDo5NCAoS0VZX01VSEVOS0FOKSAtPiBhdHNldDE6MTIzICovXG4gIFwiTnVtTG9ja1wiOiAweDQ1LCAvKiBodG1sOk51bUxvY2sgKE51bUxvY2spIC0+IGxpbnV4OjY5IChLRVlfTlVNTE9DSykgLT4gYXRzZXQxOjY5ICovXG4gIFwiTnVtcGFkMFwiOiAweDUyLCAvKiBodG1sOk51bXBhZDAgKE51bXBhZDApIC0+IGxpbnV4OjgyIChLRVlfS1AwKSAtPiBhdHNldDE6ODIgKi9cbiAgXCJOdW1wYWQxXCI6IDB4NGYsIC8qIGh0bWw6TnVtcGFkMSAoTnVtcGFkMSkgLT4gbGludXg6NzkgKEtFWV9LUDEpIC0+IGF0c2V0MTo3OSAqL1xuICBcIk51bXBhZDJcIjogMHg1MCwgLyogaHRtbDpOdW1wYWQyIChOdW1wYWQyKSAtPiBsaW51eDo4MCAoS0VZX0tQMikgLT4gYXRzZXQxOjgwICovXG4gIFwiTnVtcGFkM1wiOiAweDUxLCAvKiBodG1sOk51bXBhZDMgKE51bXBhZDMpIC0+IGxpbnV4OjgxIChLRVlfS1AzKSAtPiBhdHNldDE6ODEgKi9cbiAgXCJOdW1wYWQ0XCI6IDB4NGIsIC8qIGh0bWw6TnVtcGFkNCAoTnVtcGFkNCkgLT4gbGludXg6NzUgKEtFWV9LUDQpIC0+IGF0c2V0MTo3NSAqL1xuICBcIk51bXBhZDVcIjogMHg0YywgLyogaHRtbDpOdW1wYWQ1IChOdW1wYWQ1KSAtPiBsaW51eDo3NiAoS0VZX0tQNSkgLT4gYXRzZXQxOjc2ICovXG4gIFwiTnVtcGFkNlwiOiAweDRkLCAvKiBodG1sOk51bXBhZDYgKE51bXBhZDYpIC0+IGxpbnV4Ojc3IChLRVlfS1A2KSAtPiBhdHNldDE6NzcgKi9cbiAgXCJOdW1wYWQ3XCI6IDB4NDcsIC8qIGh0bWw6TnVtcGFkNyAoTnVtcGFkNykgLT4gbGludXg6NzEgKEtFWV9LUDcpIC0+IGF0c2V0MTo3MSAqL1xuICBcIk51bXBhZDhcIjogMHg0OCwgLyogaHRtbDpOdW1wYWQ4IChOdW1wYWQ4KSAtPiBsaW51eDo3MiAoS0VZX0tQOCkgLT4gYXRzZXQxOjcyICovXG4gIFwiTnVtcGFkOVwiOiAweDQ5LCAvKiBodG1sOk51bXBhZDkgKE51bXBhZDkpIC0+IGxpbnV4OjczIChLRVlfS1A5KSAtPiBhdHNldDE6NzMgKi9cbiAgXCJOdW1wYWRBZGRcIjogMHg0ZSwgLyogaHRtbDpOdW1wYWRBZGQgKE51bXBhZEFkZCkgLT4gbGludXg6NzggKEtFWV9LUFBMVVMpIC0+IGF0c2V0MTo3OCAqL1xuICBcIk51bXBhZENvbW1hXCI6IDB4N2UsIC8qIGh0bWw6TnVtcGFkQ29tbWEgKE51bXBhZENvbW1hKSAtPiBsaW51eDoxMjEgKEtFWV9LUENPTU1BKSAtPiBhdHNldDE6MTI2ICovXG4gIFwiTnVtcGFkRGVjaW1hbFwiOiAweDUzLCAvKiBodG1sOk51bXBhZERlY2ltYWwgKE51bXBhZERlY2ltYWwpIC0+IGxpbnV4OjgzIChLRVlfS1BET1QpIC0+IGF0c2V0MTo4MyAqL1xuICBcIk51bXBhZERpdmlkZVwiOiAweGUwMzUsIC8qIGh0bWw6TnVtcGFkRGl2aWRlIChOdW1wYWREaXZpZGUpIC0+IGxpbnV4Ojk4IChLRVlfS1BTTEFTSCkgLT4gYXRzZXQxOjU3Mzk3ICovXG4gIFwiTnVtcGFkRW50ZXJcIjogMHhlMDFjLCAvKiBodG1sOk51bXBhZEVudGVyIChOdW1wYWRFbnRlcikgLT4gbGludXg6OTYgKEtFWV9LUEVOVEVSKSAtPiBhdHNldDE6NTczNzIgKi9cbiAgXCJOdW1wYWRFcXVhbFwiOiAweDU5LCAvKiBodG1sOk51bXBhZEVxdWFsIChOdW1wYWRFcXVhbCkgLT4gbGludXg6MTE3IChLRVlfS1BFUVVBTCkgLT4gYXRzZXQxOjg5ICovXG4gIFwiTnVtcGFkTXVsdGlwbHlcIjogMHgzNywgLyogaHRtbDpOdW1wYWRNdWx0aXBseSAoTnVtcGFkTXVsdGlwbHkpIC0+IGxpbnV4OjU1IChLRVlfS1BBU1RFUklTSykgLT4gYXRzZXQxOjU1ICovXG4gIFwiTnVtcGFkUGFyZW5MZWZ0XCI6IDB4ZTA3NiwgLyogaHRtbDpOdW1wYWRQYXJlbkxlZnQgKE51bXBhZFBhcmVuTGVmdCkgLT4gbGludXg6MTc5IChLRVlfS1BMRUZUUEFSRU4pIC0+IGF0c2V0MTo1NzQ2MiAqL1xuICBcIk51bXBhZFBhcmVuUmlnaHRcIjogMHhlMDdiLCAvKiBodG1sOk51bXBhZFBhcmVuUmlnaHQgKE51bXBhZFBhcmVuUmlnaHQpIC0+IGxpbnV4OjE4MCAoS0VZX0tQUklHSFRQQVJFTikgLT4gYXRzZXQxOjU3NDY3ICovXG4gIFwiTnVtcGFkU3VidHJhY3RcIjogMHg0YSwgLyogaHRtbDpOdW1wYWRTdWJ0cmFjdCAoTnVtcGFkU3VidHJhY3QpIC0+IGxpbnV4Ojc0IChLRVlfS1BNSU5VUykgLT4gYXRzZXQxOjc0ICovXG4gIFwiT3BlblwiOiAweDY0LCAvKiBodG1sOk9wZW4gKE9wZW4pIC0+IGxpbnV4OjEzNCAoS0VZX09QRU4pIC0+IGF0c2V0MToxMDAgKi9cbiAgXCJQYWdlRG93blwiOiAweGUwNTEsIC8qIGh0bWw6UGFnZURvd24gKFBhZ2VEb3duKSAtPiBsaW51eDoxMDkgKEtFWV9QQUdFRE9XTikgLT4gYXRzZXQxOjU3NDI1ICovXG4gIFwiUGFnZVVwXCI6IDB4ZTA0OSwgLyogaHRtbDpQYWdlVXAgKFBhZ2VVcCkgLT4gbGludXg6MTA0IChLRVlfUEFHRVVQKSAtPiBhdHNldDE6NTc0MTcgKi9cbiAgXCJQYXN0ZVwiOiAweDY1LCAvKiBodG1sOlBhc3RlIChQYXN0ZSkgLT4gbGludXg6MTM1IChLRVlfUEFTVEUpIC0+IGF0c2V0MToxMDEgKi9cbiAgXCJQYXVzZVwiOiAweGUwNDYsIC8qIGh0bWw6UGF1c2UgKFBhdXNlKSAtPiBsaW51eDoxMTkgKEtFWV9QQVVTRSkgLT4gYXRzZXQxOjU3NDE0ICovXG4gIFwiUGVyaW9kXCI6IDB4MzQsIC8qIGh0bWw6UGVyaW9kIChQZXJpb2QpIC0+IGxpbnV4OjUyIChLRVlfRE9UKSAtPiBhdHNldDE6NTIgKi9cbiAgXCJQb3dlclwiOiAweGUwNWUsIC8qIGh0bWw6UG93ZXIgKFBvd2VyKSAtPiBsaW51eDoxMTYgKEtFWV9QT1dFUikgLT4gYXRzZXQxOjU3NDM4ICovXG4gIFwiUHJpbnRTY3JlZW5cIjogMHg1NCwgLyogaHRtbDpQcmludFNjcmVlbiAoUHJpbnRTY3JlZW4pIC0+IGxpbnV4Ojk5IChLRVlfU1lTUlEpIC0+IGF0c2V0MTo4NCAqL1xuICBcIlByb3BzXCI6IDB4ZTAwNiwgLyogaHRtbDpQcm9wcyAoUHJvcHMpIC0+IGxpbnV4OjEzMCAoS0VZX1BST1BTKSAtPiBhdHNldDE6NTczNTAgKi9cbiAgXCJRdW90ZVwiOiAweDI4LCAvKiBodG1sOlF1b3RlIChRdW90ZSkgLT4gbGludXg6NDAgKEtFWV9BUE9TVFJPUEhFKSAtPiBhdHNldDE6NDAgKi9cbiAgXCJTY3JvbGxMb2NrXCI6IDB4NDYsIC8qIGh0bWw6U2Nyb2xsTG9jayAoU2Nyb2xsTG9jaykgLT4gbGludXg6NzAgKEtFWV9TQ1JPTExMT0NLKSAtPiBhdHNldDE6NzAgKi9cbiAgXCJTZW1pY29sb25cIjogMHgyNywgLyogaHRtbDpTZW1pY29sb24gKFNlbWljb2xvbikgLT4gbGludXg6MzkgKEtFWV9TRU1JQ09MT04pIC0+IGF0c2V0MTozOSAqL1xuICBcIlNoaWZ0TGVmdFwiOiAweDJhLCAvKiBodG1sOlNoaWZ0TGVmdCAoU2hpZnRMZWZ0KSAtPiBsaW51eDo0MiAoS0VZX0xFRlRTSElGVCkgLT4gYXRzZXQxOjQyICovXG4gIFwiU2hpZnRSaWdodFwiOiAweDM2LCAvKiBodG1sOlNoaWZ0UmlnaHQgKFNoaWZ0UmlnaHQpIC0+IGxpbnV4OjU0IChLRVlfUklHSFRTSElGVCkgLT4gYXRzZXQxOjU0ICovXG4gIFwiU2xhc2hcIjogMHgzNSwgLyogaHRtbDpTbGFzaCAoU2xhc2gpIC0+IGxpbnV4OjUzIChLRVlfU0xBU0gpIC0+IGF0c2V0MTo1MyAqL1xuICBcIlNsZWVwXCI6IDB4ZTA1ZiwgLyogaHRtbDpTbGVlcCAoU2xlZXApIC0+IGxpbnV4OjE0MiAoS0VZX1NMRUVQKSAtPiBhdHNldDE6NTc0MzkgKi9cbiAgXCJTcGFjZVwiOiAweDM5LCAvKiBodG1sOlNwYWNlIChTcGFjZSkgLT4gbGludXg6NTcgKEtFWV9TUEFDRSkgLT4gYXRzZXQxOjU3ICovXG4gIFwiU3VzcGVuZFwiOiAweGUwMjUsIC8qIGh0bWw6U3VzcGVuZCAoU3VzcGVuZCkgLT4gbGludXg6MjA1IChLRVlfU1VTUEVORCkgLT4gYXRzZXQxOjU3MzgxICovXG4gIFwiVGFiXCI6IDB4ZiwgLyogaHRtbDpUYWIgKFRhYikgLT4gbGludXg6MTUgKEtFWV9UQUIpIC0+IGF0c2V0MToxNSAqL1xuICBcIlVuZG9cIjogMHhlMDA3LCAvKiBodG1sOlVuZG8gKFVuZG8pIC0+IGxpbnV4OjEzMSAoS0VZX1VORE8pIC0+IGF0c2V0MTo1NzM1MSAqL1xuICBcIldha2VVcFwiOiAweGUwNjMsIC8qIGh0bWw6V2FrZVVwIChXYWtlVXApIC0+IGxpbnV4OjE0MyAoS0VZX1dBS0VVUCkgLT4gYXRzZXQxOjU3NDQzICovXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi91dGlsL2xvZ2dpbmcuanMnO1xuaW1wb3J0IHsgZGVjb2RlVVRGOCB9IGZyb20gJy4vdXRpbC9zdHJpbmdzLmpzJztcbmltcG9ydCB7IGRyYWdUaHJlc2hvbGQgfSBmcm9tICcuL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgRXZlbnRUYXJnZXRNaXhpbiBmcm9tICcuL3V0aWwvZXZlbnR0YXJnZXQuanMnO1xuaW1wb3J0IERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheS5qc1wiO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gXCIuL2lucHV0L2tleWJvYXJkLmpzXCI7XG5pbXBvcnQgTW91c2UgZnJvbSBcIi4vaW5wdXQvbW91c2UuanNcIjtcbmltcG9ydCBDdXJzb3IgZnJvbSBcIi4vdXRpbC9jdXJzb3IuanNcIjtcbmltcG9ydCBXZWJzb2NrIGZyb20gXCIuL3dlYnNvY2suanNcIjtcbmltcG9ydCBERVMgZnJvbSBcIi4vZGVzLmpzXCI7XG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4vaW5wdXQva2V5c3ltLmpzXCI7XG5pbXBvcnQgWHRTY2FuY29kZSBmcm9tIFwiLi9pbnB1dC94dHNjYW5jb2Rlcy5qc1wiO1xuaW1wb3J0IHsgZW5jb2RpbmdzIH0gZnJvbSBcIi4vZW5jb2RpbmdzLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWwvcG9seWZpbGwuanNcIjtcblxuaW1wb3J0IFJhd0RlY29kZXIgZnJvbSBcIi4vZGVjb2RlcnMvcmF3LmpzXCI7XG5pbXBvcnQgQ29weVJlY3REZWNvZGVyIGZyb20gXCIuL2RlY29kZXJzL2NvcHlyZWN0LmpzXCI7XG5pbXBvcnQgUlJFRGVjb2RlciBmcm9tIFwiLi9kZWNvZGVycy9ycmUuanNcIjtcbmltcG9ydCBIZXh0aWxlRGVjb2RlciBmcm9tIFwiLi9kZWNvZGVycy9oZXh0aWxlLmpzXCI7XG5pbXBvcnQgVGlnaHREZWNvZGVyIGZyb20gXCIuL2RlY29kZXJzL3RpZ2h0LmpzXCI7XG5pbXBvcnQgVGlnaHRQTkdEZWNvZGVyIGZyb20gXCIuL2RlY29kZXJzL3RpZ2h0cG5nLmpzXCI7XG5cbi8vIEhvdyBtYW55IHNlY29uZHMgdG8gd2FpdCBmb3IgYSBkaXNjb25uZWN0IHRvIGZpbmlzaFxuY29uc3QgRElTQ09OTkVDVF9USU1FT1VUID0gMztcbmNvbnN0IERFRkFVTFRfQkFDS0dST1VORCA9ICdyZ2IoNDAsIDQwLCA0MCknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSRkIgZXh0ZW5kcyBFdmVudFRhcmdldE1peGluIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IHRhcmdldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IFVSTFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XG5cbiAgICAgICAgLy8gQ29ubmVjdGlvbiBkZXRhaWxzXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHt9O1xuICAgICAgICB0aGlzLl9zaGFyZWQgPSAnc2hhcmVkJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnNoYXJlZCA6IHRydWU7XG4gICAgICAgIHRoaXMuX3JlcGVhdGVySUQgPSBvcHRpb25zLnJlcGVhdGVySUQgfHwgJyc7XG4gICAgICAgIHRoaXMuX3Nob3dEb3RDdXJzb3IgPSBvcHRpb25zLnNob3dEb3RDdXJzb3IgfHwgZmFsc2U7XG5cbiAgICAgICAgLy8gSW50ZXJuYWwgc3RhdGVcbiAgICAgICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPSAnJztcbiAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnJztcbiAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gLTE7XG4gICAgICAgIHRoaXMuX3JmYl9jbGVhbl9kaXNjb25uZWN0ID0gdHJ1ZTtcblxuICAgICAgICAvLyBTZXJ2ZXIgY2FwYWJpbGl0aWVzXG4gICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMDtcbiAgICAgICAgdGhpcy5fcmZiX21heF92ZXJzaW9uID0gMy44O1xuICAgICAgICB0aGlzLl9yZmJfdGlnaHR2bmMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmZiX3h2cF92ZXIgPSAwO1xuXG4gICAgICAgIHRoaXMuX2ZiX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gMDtcblxuICAgICAgICB0aGlzLl9mYl9uYW1lID0gXCJcIjtcblxuICAgICAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSB7IHBvd2VyOiBmYWxzZSB9O1xuXG4gICAgICAgIHRoaXMuX3N1cHBvcnRzRmVuY2UgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9zdXBwb3J0c0NvbnRpbnVvdXNVcGRhdGVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2NyZWVuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fc2NyZWVuX2ZsYWdzID0gMDtcblxuICAgICAgICB0aGlzLl9xZW11RXh0S2V5RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBJbnRlcm5hbCBvYmplY3RzXG4gICAgICAgIHRoaXMuX3NvY2sgPSBudWxsOyAgICAgICAgICAgICAgLy8gV2Vic29jayBvYmplY3RcbiAgICAgICAgdGhpcy5fZGlzcGxheSA9IG51bGw7ICAgICAgICAgICAvLyBEaXNwbGF5IG9iamVjdFxuICAgICAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlOyAgICAgICAgIC8vIERpc3BsYXkgZmx1c2hpbmcgc3RhdGVcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBudWxsOyAgICAgICAgICAvLyBLZXlib2FyZCBpbnB1dCBoYW5kbGVyIG9iamVjdFxuICAgICAgICB0aGlzLl9tb3VzZSA9IG51bGw7ICAgICAgICAgICAgIC8vIE1vdXNlIGlucHV0IGhhbmRsZXIgb2JqZWN0XG5cbiAgICAgICAgLy8gVGltZXJzXG4gICAgICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IG51bGw7ICAgICAgLy8gZGlzY29ubmVjdGlvbiB0aW1lclxuICAgICAgICB0aGlzLl9yZXNpemVUaW1lb3V0ID0gbnVsbDsgICAgIC8vIHJlc2l6ZSByYXRlIGxpbWl0aW5nXG5cbiAgICAgICAgLy8gRGVjb2RlciBzdGF0ZXNcbiAgICAgICAgdGhpcy5fZGVjb2RlcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl9GQlUgPSB7XG4gICAgICAgICAgICByZWN0czogMCxcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBlbmNvZGluZzogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNb3VzZSBzdGF0ZVxuICAgICAgICB0aGlzLl9tb3VzZV9idXR0b25NYXNrID0gMDtcbiAgICAgICAgdGhpcy5fbW91c2VfYXJyID0gW107XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnUG9zID0ge307XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBCb3VuZCBldmVudCBoYW5kbGVyc1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0ge1xuICAgICAgICAgICAgZm9jdXNDYW52YXM6IHRoaXMuX2ZvY3VzQ2FudmFzLmJpbmQodGhpcyksXG4gICAgICAgICAgICB3aW5kb3dSZXNpemU6IHRoaXMuX3dpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG1haW4gc2V0dXBcbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gUkZCLmNvbnN0cnVjdG9yXCIpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBET00gZWxlbWVudHNcbiAgICAgICAgdGhpcy5fc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLl9zY3JlZW4uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5fc2NyZWVuLnN0eWxlLmJhY2tncm91bmQgPSBERUZBVUxUX0JBQ0tHUk9VTkQ7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICAvLyBTb21lIGJyb3dzZXJzIGFkZCBhbiBvdXRsaW5lIG9uIGZvY3VzXG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuICAgICAgICAvLyBJRSBtaXNjYWxjdWxhdGVzIHdpZHRoIHdpdGhvdXQgdGhpcyA6KFxuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuZmxleFNocmluayA9ICcwJztcbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbnZhcy50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLl9zY3JlZW4uYXBwZW5kQ2hpbGQodGhpcy5fY2FudmFzKTtcblxuICAgICAgICAvLyBDdXJzb3JcbiAgICAgICAgdGhpcy5fY3Vyc29yID0gbmV3IEN1cnNvcigpO1xuXG4gICAgICAgIC8vIFhYWDogVGlnaHRWTkMgMi44LjExIHNlbmRzIG5vIGN1cnNvciBhdCBhbGwgdW50aWwgV2luZG93cyBjaGFuZ2VzXG4gICAgICAgIC8vIGl0LiBSZXN1bHQ6IG5vIGN1cnNvciBhdCBhbGwgdW50aWwgYSB3aW5kb3cgYm9yZGVyIG9yIGFuIGVkaXQgZmllbGRcbiAgICAgICAgLy8gaXMgaGl0IGJsaW5kbHkuIEJ1dCB0aGVyZSBhcmUgYWxzbyBWTkMgc2VydmVycyB0aGF0IGRyYXcgdGhlIGN1cnNvclxuICAgICAgICAvLyBpbiB0aGUgZnJhbWVidWZmZXIgYW5kIGRvbid0IHNlbmQgdGhlIGVtcHR5IGxvY2FsIGN1cnNvci4gVGhlcmUgaXNcbiAgICAgICAgLy8gbm8gd2F5IHRvIHNhdGlzZnkgYm90aCBzaWRlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHNwZWMgaXMgdW5jbGVhciBvbiB0aGlzIFwiaW5pdGlhbCBjdXJzb3JcIiBpc3N1ZS4gTWFueSBvdGhlclxuICAgICAgICAvLyB2aWV3ZXJzIChUaWdlclZOQywgUmVhbFZOQywgUmVtbWluYSkgZGlzcGxheSBhbiBhcnJvdyBhcyB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBjdXJzb3IgaW5zdGVhZC5cbiAgICAgICAgdGhpcy5fY3Vyc29ySW1hZ2UgPSBSRkIuY3Vyc29ycy5ub25lO1xuXG4gICAgICAgIC8vIHBvcHVsYXRlIGRlY29kZXIgYXJyYXkgd2l0aCBvYmplY3RzXG4gICAgICAgIHRoaXMuX2RlY29kZXJzW2VuY29kaW5ncy5lbmNvZGluZ1Jhd10gPSBuZXcgUmF3RGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9kZWNvZGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdDb3B5UmVjdF0gPSBuZXcgQ29weVJlY3REZWNvZGVyKCk7XG4gICAgICAgIHRoaXMuX2RlY29kZXJzW2VuY29kaW5ncy5lbmNvZGluZ1JSRV0gPSBuZXcgUlJFRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9kZWNvZGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdIZXh0aWxlXSA9IG5ldyBIZXh0aWxlRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9kZWNvZGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdUaWdodF0gPSBuZXcgVGlnaHREZWNvZGVyKCk7XG4gICAgICAgIHRoaXMuX2RlY29kZXJzW2VuY29kaW5ncy5lbmNvZGluZ1RpZ2h0UE5HXSA9IG5ldyBUaWdodFBOR0RlY29kZXIoKTtcblxuICAgICAgICAvLyBOQjogbm90aGluZyB0aGF0IG5lZWRzIGV4cGxpY2l0IHRlYXJkb3duIHNob3VsZCBiZSBkb25lXG4gICAgICAgIC8vIGJlZm9yZSB0aGlzIHBvaW50LCBzaW5jZSB0aGlzIGNhbiB0aHJvdyBhbiBleGNlcHRpb25cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkgPSBuZXcgRGlzcGxheSh0aGlzLl9jYW52YXMpO1xuICAgICAgICB9IGNhdGNoIChleGMpIHtcbiAgICAgICAgICAgIExvZy5FcnJvcihcIkRpc3BsYXkgZXhjZXB0aW9uOiBcIiArIGV4Yyk7XG4gICAgICAgICAgICB0aHJvdyBleGM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzcGxheS5vbmZsdXNoID0gdGhpcy5fb25GbHVzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQodGhpcy5fY2FudmFzKTtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQub25rZXlldmVudCA9IHRoaXMuX2hhbmRsZUtleUV2ZW50LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fbW91c2UgPSBuZXcgTW91c2UodGhpcy5fY2FudmFzKTtcbiAgICAgICAgdGhpcy5fbW91c2Uub25tb3VzZWJ1dHRvbiA9IHRoaXMuX2hhbmRsZU1vdXNlQnV0dG9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21vdXNlLm9ubW91c2Vtb3ZlID0gdGhpcy5faGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fc29jayA9IG5ldyBXZWJzb2NrKCk7XG4gICAgICAgIHRoaXMuX3NvY2sub24oJ21lc3NhZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVfbWVzc2FnZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc29jay5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICgodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPT09ICdjb25uZWN0aW5nJykgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5fcmZiX2luaXRfc3RhdGUgPT09ICcnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1Byb3RvY29sVmVyc2lvbic7XG4gICAgICAgICAgICAgICAgTG9nLkRlYnVnKFwiU3RhcnRpbmcgVk5DIGhhbmRzaGFrZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIGNvbm5lY3Rpb24gd2hpbGUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc29jay5vbignY2xvc2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiV2ViU29ja2V0IG9uLWNsb3NlIGV2ZW50XCIpO1xuICAgICAgICAgICAgbGV0IG1zZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgbXNnID0gXCIoY29kZTogXCIgKyBlLmNvZGU7XG4gICAgICAgICAgICAgICAgaWYgKGUucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIiwgcmVhc29uOiBcIiArIGUucmVhc29uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtc2cgKz0gXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJDb25uZWN0aW9uIGNsb3NlZCBcIiArIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkaXNjb25uZWN0cyB0aGF0IHdlcmUgaW5pdGlhdGVkIHNlcnZlci1zaWRlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGluZycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIGRpc2Nvbm5lY3Rpb24gcGF0aFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgZGlzY29ubmVjdCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aGVuIGFscmVhZHkgZGlzY29ubmVjdGVkIFwiICsgbXNnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIGRpc2Nvbm5lY3QgYmVmb3JlIGNvbm5lY3RpbmcgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5vZmYoJ2Nsb3NlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zb2NrLm9uKCdlcnJvcicsIGUgPT4gTG9nLldhcm4oXCJXZWJTb2NrZXQgb24tZXJyb3IgZXZlbnRcIikpO1xuXG4gICAgICAgIC8vIFNsaWdodCBkZWxheSBvZiB0aGUgYWN0dWFsIGNvbm5lY3Rpb24gc28gdGhhdCB0aGUgY2FsbGVyIGhhc1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBjYWxsYmFja3NcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUuYmluZCh0aGlzLCAnY29ubmVjdGluZycpKTtcblxuICAgICAgICBMb2cuRGVidWcoXCI8PCBSRkIuY29uc3RydWN0b3JcIik7XG5cbiAgICAgICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgICAgIHRoaXMuZHJhZ1ZpZXdwb3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9jdXNPbkNsaWNrID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl92aWV3T25seSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jbGlwVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2NhbGVWaWV3cG9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXNpemVTZXNzaW9uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgZ2V0IHZpZXdPbmx5KCkgeyByZXR1cm4gdGhpcy5fdmlld09ubHk7IH1cbiAgICBzZXQgdmlld09ubHkodmlld09ubHkpIHtcbiAgICAgICAgdGhpcy5fdmlld09ubHkgPSB2aWV3T25seTtcblxuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPT09IFwiY29ubmVjdGluZ1wiIHx8XG4gICAgICAgICAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgaWYgKHZpZXdPbmx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmQudW5ncmFiKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2UudW5ncmFiKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmdyYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZS5ncmFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgY2FwYWJpbGl0aWVzKCkgeyByZXR1cm4gdGhpcy5fY2FwYWJpbGl0aWVzOyB9XG5cbiAgICBnZXQgdG91Y2hCdXR0b24oKSB7IHJldHVybiB0aGlzLl9tb3VzZS50b3VjaEJ1dHRvbjsgfVxuICAgIHNldCB0b3VjaEJ1dHRvbihidXR0b24pIHsgdGhpcy5fbW91c2UudG91Y2hCdXR0b24gPSBidXR0b247IH1cblxuICAgIGdldCBjbGlwVmlld3BvcnQoKSB7IHJldHVybiB0aGlzLl9jbGlwVmlld3BvcnQ7IH1cbiAgICBzZXQgY2xpcFZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMuX2NsaXBWaWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgfVxuXG4gICAgZ2V0IHNjYWxlVmlld3BvcnQoKSB7IHJldHVybiB0aGlzLl9zY2FsZVZpZXdwb3J0OyB9XG4gICAgc2V0IHNjYWxlVmlld3BvcnQoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5fc2NhbGVWaWV3cG9ydCA9IHNjYWxlO1xuICAgICAgICAvLyBTY2FsaW5nIHRydW1wcyBjbGlwcGluZywgc28gd2UgbWF5IG5lZWQgdG8gYWRqdXN0XG4gICAgICAgIC8vIGNsaXBwaW5nIHdoZW4gZW5hYmxpbmcgb3IgZGlzYWJsaW5nIHNjYWxpbmdcbiAgICAgICAgaWYgKHNjYWxlICYmIHRoaXMuX2NsaXBWaWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlKCk7XG4gICAgICAgIGlmICghc2NhbGUgJiYgdGhpcy5fY2xpcFZpZXdwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcmVzaXplU2Vzc2lvbigpIHsgcmV0dXJuIHRoaXMuX3Jlc2l6ZVNlc3Npb247IH1cbiAgICBzZXQgcmVzaXplU2Vzc2lvbihyZXNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplU2Vzc2lvbiA9IHJlc2l6ZTtcbiAgICAgICAgaWYgKHJlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFJlbW90ZVJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNob3dEb3RDdXJzb3IoKSB7IHJldHVybiB0aGlzLl9zaG93RG90Q3Vyc29yOyB9XG4gICAgc2V0IHNob3dEb3RDdXJzb3Ioc2hvdykge1xuICAgICAgICB0aGlzLl9zaG93RG90Q3Vyc29yID0gc2hvdztcbiAgICAgICAgdGhpcy5fcmVmcmVzaEN1cnNvcigpO1xuICAgIH1cblxuICAgIGdldCBiYWNrZ3JvdW5kKCkgeyByZXR1cm4gdGhpcy5fc2NyZWVuLnN0eWxlLmJhY2tncm91bmQ7IH1cbiAgICBzZXQgYmFja2dyb3VuZChjc3NWYWx1ZSkgeyB0aGlzLl9zY3JlZW4uc3R5bGUuYmFja2dyb3VuZCA9IGNzc1ZhbHVlOyB9XG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0aW5nJyk7XG4gICAgICAgIHRoaXMuX3NvY2sub2ZmKCdlcnJvcicpO1xuICAgICAgICB0aGlzLl9zb2NrLm9mZignbWVzc2FnZScpO1xuICAgICAgICB0aGlzLl9zb2NrLm9mZignb3BlbicpO1xuICAgIH1cblxuICAgIHNlbmRDcmVkZW50aWFscyhjcmVkcykge1xuICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMgPSBjcmVkcztcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLl9pbml0X21zZy5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG5cbiAgICBzZW5kQ3RybEFsdERlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJyB8fCB0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH1cbiAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIEN0cmwtQWx0LURlbFwiKTtcblxuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIHRydWUpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQWx0X0wsIFwiQWx0TGVmdFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0RlbGV0ZSwgXCJEZWxldGVcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19EZWxldGUsIFwiRGVsZXRlXCIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0FsdF9MLCBcIkFsdExlZnRcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQ29udHJvbF9MLCBcIkNvbnRyb2xMZWZ0XCIsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBtYWNoaW5lU2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuX3h2cE9wKDEsIDIpO1xuICAgIH1cblxuICAgIG1hY2hpbmVSZWJvb3QoKSB7XG4gICAgICAgIHRoaXMuX3h2cE9wKDEsIDMpO1xuICAgIH1cblxuICAgIG1hY2hpbmVSZXNldCgpIHtcbiAgICAgICAgdGhpcy5feHZwT3AoMSwgNCk7XG4gICAgfVxuXG4gICAgLy8gU2VuZCBhIGtleSBwcmVzcy4gSWYgJ2Rvd24nIGlzIG5vdCBzcGVjaWZpZWQgdGhlbiBzZW5kIGEgZG93biBrZXlcbiAgICAvLyBmb2xsb3dlZCBieSBhbiB1cCBrZXkuXG4gICAgc2VuZEtleShrZXlzeW0sIGNvZGUsIGRvd24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJyB8fCB0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoZG93biA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRLZXkoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEtleShrZXlzeW0sIGNvZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjYW5jb2RlID0gWHRTY2FuY29kZVtjb2RlXTtcblxuICAgICAgICBpZiAodGhpcy5fcWVtdUV4dEtleUV2ZW50U3VwcG9ydGVkICYmIHNjYW5jb2RlKSB7XG4gICAgICAgICAgICAvLyAwIGlzIE5vU3ltYm9sXG4gICAgICAgICAgICBrZXlzeW0gPSBrZXlzeW0gfHwgMDtcblxuICAgICAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIGtleSAoXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArIFwiKToga2V5c3ltIFwiICsga2V5c3ltICsgXCIsIHNjYW5jb2RlIFwiICsgc2NhbmNvZGUpO1xuXG4gICAgICAgICAgICBSRkIubWVzc2FnZXMuUUVNVUV4dGVuZGVkS2V5RXZlbnQodGhpcy5fc29jaywga2V5c3ltLCBkb3duLCBzY2FuY29kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWtleXN5bSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvZy5JbmZvKFwiU2VuZGluZyBrZXlzeW0gKFwiICsgKGRvd24gPyBcImRvd25cIiA6IFwidXBcIikgKyBcIik6IFwiICsga2V5c3ltKTtcbiAgICAgICAgICAgIFJGQi5tZXNzYWdlcy5rZXlFdmVudCh0aGlzLl9zb2NrLCBrZXlzeW0sIGRvd24gPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzLmJsdXIoKTtcbiAgICB9XG5cbiAgICBjbGlwYm9hcmRQYXN0ZUZyb20odGV4dCkge1xuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnIHx8IHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfVxuICAgICAgICBSRkIubWVzc2FnZXMuY2xpZW50Q3V0VGV4dCh0aGlzLl9zb2NrLCB0ZXh0KTtcbiAgICB9XG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9jb25uZWN0KCkge1xuICAgICAgICBMb2cuRGVidWcoXCI+PiBSRkIuY29ubmVjdFwiKTtcblxuICAgICAgICBMb2cuSW5mbyhcImNvbm5lY3RpbmcgdG8gXCIgKyB0aGlzLl91cmwpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXZWJTb2NrZXQub25vcGVuIHRyYW5zaXRpb25zIHRvIHRoZSBSRkIgaW5pdCBzdGF0ZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2sub3Blbih0aGlzLl91cmwsIFsnYmluYXJ5J10pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIkludmFsaWQgaG9zdCBvciBwb3J0IChcIiArIGUgKyBcIilcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJFcnJvciB3aGVuIG9wZW5pbmcgc29ja2V0IChcIiArIGUgKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIG91ciBlbGVtZW50cyBwYXJ0IG9mIHRoZSBwYWdlXG4gICAgICAgIHRoaXMuX3RhcmdldC5hcHBlbmRDaGlsZCh0aGlzLl9zY3JlZW4pO1xuXG4gICAgICAgIHRoaXMuX2N1cnNvci5hdHRhY2godGhpcy5fY2FudmFzKTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaEN1cnNvcigpO1xuXG4gICAgICAgIC8vIE1vbml0b3Igc2l6ZSBjaGFuZ2VzIG9mIHRoZSBzY3JlZW5cbiAgICAgICAgLy8gRklYTUU6IFVzZSBSZXNpemVPYnNlcnZlciwgb3IgaGlkZGVuIG92ZXJmbG93XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLndpbmRvd1Jlc2l6ZSk7XG5cbiAgICAgICAgLy8gQWx3YXlzIGdyYWIgZm9jdXMgb24gc29tZSBraW5kIG9mIGNsaWNrIGV2ZW50XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG5cbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgUkZCLmNvbm5lY3RcIik7XG4gICAgfVxuXG4gICAgX2Rpc2Nvbm5lY3QoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IFJGQi5kaXNjb25uZWN0XCIpO1xuICAgICAgICB0aGlzLl9jdXJzb3IuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLndpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIHRoaXMuX2tleWJvYXJkLnVuZ3JhYigpO1xuICAgICAgICB0aGlzLl9tb3VzZS51bmdyYWIoKTtcbiAgICAgICAgdGhpcy5fc29jay5jbG9zZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUNoaWxkKHRoaXMuX3NjcmVlbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgY2FzZXMgd2hlcmUgdGhlIGluaXRpYWwgY29ubmVjdGlvbiBmYWlsc1xuICAgICAgICAgICAgICAgIC8vIGNhbiBkaXNjb25uZWN0IGJlZm9yZSB0aGUgX3NjcmVlbiBpcyBjcmVhdGVkXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICBMb2cuRGVidWcoXCI8PCBSRkIuZGlzY29ubmVjdFwiKTtcbiAgICB9XG5cbiAgICBfZm9jdXNDYW52YXMoZXZlbnQpIHtcbiAgICAgICAgLy8gUmVzcGVjdCBlYXJsaWVyIGhhbmRsZXJzJyByZXF1ZXN0IHRvIG5vdCBkbyBzaWRlLWVmZmVjdHNcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5mb2N1c09uQ2xpY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBfd2luZG93UmVzaXplKGV2ZW50KSB7XG4gICAgICAgIC8vIElmIHRoZSB3aW5kb3cgcmVzaXplZCB0aGVuIG91ciBzY3JlZW4gZWxlbWVudCBtaWdodCBoYXZlXG4gICAgICAgIC8vIGFzIHdlbGwuIFVwZGF0ZSB0aGUgdmlld3BvcnQgZGltZW5zaW9ucy5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTY2FsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzaXplU2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gUmVxdWVzdCBjaGFuZ2luZyB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVtb3RlIGRpc3BsYXkgdG9cbiAgICAgICAgICAgIC8vIHRoZSBzaXplIG9mIHRoZSBsb2NhbCBicm93c2VyIHZpZXdwb3J0LlxuXG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBub3Qgc2VuZCBtdWx0aXBsZSByZXF1ZXN0cyBiZWZvcmUgdGhlIGJyb3dzZXItcmVzaXplXG4gICAgICAgICAgICAvLyBpcyBmaW5pc2hlZCB3ZSB3YWl0IDAuNSBzZWNvbmRzIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVxdWVzdFJlbW90ZVJlc2l6ZS5iaW5kKHRoaXMpLCA1MDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHN0YXRlIG9mIGNsaXBwaW5nIGluIERpc3BsYXkgb2JqZWN0LCBhbmQgbWFrZSBzdXJlIHRoZVxuICAgIC8vIGNvbmZpZ3VyZWQgdmlld3BvcnQgbWF0Y2hlcyB0aGUgY3VycmVudCBzY3JlZW4gc2l6ZVxuICAgIF91cGRhdGVDbGlwKCkge1xuICAgICAgICBjb25zdCBjdXJfY2xpcCA9IHRoaXMuX2Rpc3BsYXkuY2xpcFZpZXdwb3J0O1xuICAgICAgICBsZXQgbmV3X2NsaXAgPSB0aGlzLl9jbGlwVmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NjYWxlVmlld3BvcnQpIHtcbiAgICAgICAgICAgIC8vIERpc2FibGUgdmlld3BvcnQgY2xpcHBpbmcgaWYgd2UgYXJlIHNjYWxpbmdcbiAgICAgICAgICAgIG5ld19jbGlwID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VyX2NsaXAgIT09IG5ld19jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmNsaXBWaWV3cG9ydCA9IG5ld19jbGlwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld19jbGlwKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGNsaXBwaW5nIGlzIGVuYWJsZWQsIHRoZSBzY3JlZW4gaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnZpZXdwb3J0Q2hhbmdlU2l6ZShzaXplLncsIHNpemUuaCk7XG4gICAgICAgICAgICB0aGlzLl9maXhTY3JvbGxiYXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlU2NhbGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NhbGVWaWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5zY2FsZSA9IDEuMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmF1dG9zY2FsZShzaXplLncsIHNpemUuaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZml4U2Nyb2xsYmFycygpO1xuICAgIH1cblxuICAgIC8vIFJlcXVlc3RzIGEgY2hhbmdlIG9mIHJlbW90ZSBkZXNrdG9wIHNpemUuIFRoaXMgbWVzc2FnZSBpcyBhbiBleHRlbnNpb25cbiAgICAvLyBhbmQgbWF5IG9ubHkgYmUgc2VudCBpZiB3ZSBoYXZlIHJlY2VpdmVkIGFuIEV4dGVuZGVkRGVza3RvcFNpemUgbWVzc2FnZVxuICAgIF9yZXF1ZXN0UmVtb3RlUmVzaXplKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplVGltZW91dCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIGlmICghdGhpcy5fcmVzaXplU2Vzc2lvbiB8fCB0aGlzLl92aWV3T25seSB8fFxuICAgICAgICAgICAgIXRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgIFJGQi5tZXNzYWdlcy5zZXREZXNrdG9wU2l6ZSh0aGlzLl9zb2NrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzaXplLncpLCBNYXRoLmZsb29yKHNpemUuaCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JlZW5faWQsIHRoaXMuX3NjcmVlbl9mbGFncyk7XG5cbiAgICAgICAgTG9nLkRlYnVnKCdSZXF1ZXN0ZWQgbmV3IGRlc2t0b3Agc2l6ZTogJyArXG4gICAgICAgICAgICAgICAgICAgc2l6ZS53ICsgJ3gnICsgc2l6ZS5oKTtcbiAgICB9XG5cbiAgICAvLyBHZXRzIHRoZSB0aGUgc2l6ZSBvZiB0aGUgYXZhaWxhYmxlIHNjcmVlblxuICAgIF9zY3JlZW5TaXplKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuX3NjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHsgdzogci53aWR0aCwgaDogci5oZWlnaHQgfTtcbiAgICB9XG5cbiAgICBfZml4U2Nyb2xsYmFycygpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGhhY2sgYmVjYXVzZSBDaHJvbWUgc2NyZXdzIHVwIHRoZSBjYWxjdWxhdGlvblxuICAgICAgICAvLyBmb3Igd2hlbiBzY3JvbGxiYXJzIGFyZSBuZWVkZWQuIFNvIHRvIGZpeCBpdCB3ZSB0ZW1wb3JhcmlseVxuICAgICAgICAvLyB0b2dnbGUgdGhlbSBvZmYgYW5kIG9uLlxuICAgICAgICBjb25zdCBvcmlnID0gdGhpcy5fc2NyZWVuLnN0eWxlLm92ZXJmbG93O1xuICAgICAgICB0aGlzLl9zY3JlZW4uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgLy8gRm9yY2UgQ2hyb21lIHRvIHJlY2FsY3VsYXRlIHRoZSBsYXlvdXQgYnkgYXNraW5nIGZvclxuICAgICAgICAvLyBhbiBlbGVtZW50J3MgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLl9zY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdyA9IG9yaWc7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBDb25uZWN0aW9uIHN0YXRlczpcbiAgICAgKiAgIGNvbm5lY3RpbmdcbiAgICAgKiAgIGNvbm5lY3RlZFxuICAgICAqICAgZGlzY29ubmVjdGluZ1xuICAgICAqICAgZGlzY29ubmVjdGVkIC0gcGVybWFuZW50IHN0YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZShzdGF0ZSkge1xuICAgICAgICBjb25zdCBvbGRzdGF0ZSA9IHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gb2xkc3RhdGUpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIkFscmVhZHkgaW4gc3RhdGUgJ1wiICsgc3RhdGUgKyBcIicsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlICdkaXNjb25uZWN0ZWQnIHN0YXRlIGlzIHBlcm1hbmVudCBmb3IgZWFjaCBSRkIgb2JqZWN0XG4gICAgICAgIGlmIChvbGRzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIExvZy5FcnJvcihcIlRyaWVkIGNoYW5naW5nIHN0YXRlIG9mIGEgZGlzY29ubmVjdGVkIFJGQiBvYmplY3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHRyYW5zaXRpb25zIGJlZm9yZSBkb2luZyBhbnl0aGluZ1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIGlmIChvbGRzdGF0ZSAhPT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGNvbm5lY3RlZCBzdGF0ZSwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXMgY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBvbGRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnZGlzY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiQmFkIHRyYW5zaXRpb24gdG8gZGlzY29ubmVjdGVkIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJCYWQgdHJhbnNpdGlvbiB0byBjb25uZWN0aW5nIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnY29ubmVjdGVkJyAmJiBvbGRzdGF0ZSAhPT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGRpc2Nvbm5lY3Rpbmcgc3RhdGUsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZpb3VzIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgb2xkc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIlVua25vd24gY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhdGUgY2hhbmdlIGFjdGlvbnNcblxuICAgICAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIExvZy5EZWJ1ZyhcIk5ldyBzdGF0ZSAnXCIgKyBzdGF0ZSArIFwiJywgd2FzICdcIiArIG9sZHN0YXRlICsgXCInLlwiKTtcblxuICAgICAgICBpZiAodGhpcy5fZGlzY29ublRpbWVyICYmIHN0YXRlICE9PSAnZGlzY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIkNsZWFyaW5nIGRpc2Nvbm5lY3QgdGltZXJcIik7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGlzY29ublRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBnZXQgYSBkb3VibGUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuX3NvY2sub2ZmKCdjbG9zZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjb25uZWN0XCIsIHsgZGV0YWlsOiB7fSB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJEaXNjb25uZWN0aW9uIHRpbWVkIG91dC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSwgRElTQ09OTkVDVF9USU1FT1VUICogMTAwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICAgICAgXCJkaXNjb25uZWN0XCIsIHsgZGV0YWlsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGVhbjogdGhpcy5fcmZiX2NsZWFuX2Rpc2Nvbm5lY3QgfSB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBQcmludCBlcnJvcnMgYW5kIGRpc2Nvbm5lY3RcbiAgICAgKlxuICAgICAqIFRoZSBwYXJhbWV0ZXIgJ2RldGFpbHMnIGlzIHVzZWQgZm9yIGluZm9ybWF0aW9uIHRoYXRcbiAgICAgKiBzaG91bGQgYmUgbG9nZ2VkIGJ1dCBub3Qgc2VudCB0byB0aGUgdXNlciBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgX2ZhaWwoZGV0YWlscykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJGYWlsZWQgd2hlbiBkaXNjb25uZWN0aW5nOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJGYWlsZWQgd2hpbGUgY29ubmVjdGVkOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiRmFpbGVkIHdoZW4gY29ubmVjdGluZzogXCIgKyBkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiUkZCIGZhaWx1cmU6IFwiICsgZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmZiX2NsZWFuX2Rpc2Nvbm5lY3QgPSBmYWxzZTsgLy9UaGlzIGlzIHNlbnQgdG8gdGhlIFVJXG5cbiAgICAgICAgLy8gVHJhbnNpdGlvbiB0byBkaXNjb25uZWN0ZWQgd2l0aG91dCB3YWl0aW5nIGZvciBzb2NrZXQgdG8gY2xvc2VcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0aW5nJyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9zZXRDYXBhYmlsaXR5KGNhcCwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2NhcGFiaWxpdGllc1tjYXBdID0gdmFsO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2FwYWJpbGl0aWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgY2FwYWJpbGl0aWVzOiB0aGlzLl9jYXBhYmlsaXRpZXMgfSB9KSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZV9tZXNzYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbiA9PT0gMCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJoYW5kbGVfbWVzc2FnZSBjYWxsZWQgb24gYW4gZW1wdHkgcmVjZWl2ZSBxdWV1ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiR290IGRhdGEgd2hpbGUgZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmx1c2hpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbm9ybWFsX21zZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCBkb3duKSB7XG4gICAgICAgIHRoaXMuc2VuZEtleShrZXlzeW0sIGNvZGUsIGRvd24pO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb3VzZUJ1dHRvbih4LCB5LCBkb3duLCBibWFzaykge1xuICAgICAgICBpZiAoZG93bikge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VfYnV0dG9uTWFzayB8PSBibWFzaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlX2J1dHRvbk1hc2sgJj0gfmJtYXNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZHJhZ1ZpZXdwb3J0KSB7XG4gICAgICAgICAgICBpZiAoZG93biAmJiAhdGhpcy5fdmlld3BvcnREcmFnZ2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ1BvcyA9IHsneCc6IHgsICd5JzogeX07XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnRIYXNNb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBzZW5kaW5nIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYWN0dWFsbHkgcGVyZm9ybWVkIGEgZHJhZyB0aGVuIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgLy8gaGVyZSBhbmQgc2hvdWxkIG5vdCBzZW5kIGFueSBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlld3BvcnRIYXNNb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIHRyZWF0IHRoaXMgYXMgYSBtb3VzZSBjbGljayBldmVudC5cbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBidXR0b24gZG93biBldmVudCBoZXJlLCBhcyB0aGUgYnV0dG9uIHVwXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgaXMgc2VudCBhdCB0aGUgZW5kIG9mIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hYnNYKHgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hYnNZKHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfSAvLyBWaWV3IG9ubHksIHNraXAgbW91c2UgZXZlbnRzXG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJykgeyByZXR1cm47IH1cbiAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLCB0aGlzLl9kaXNwbGF5LmFic1goeCksIHRoaXMuX2Rpc3BsYXkuYWJzWSh5KSwgdGhpcy5fbW91c2VfYnV0dG9uTWFzayk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlTW92ZSh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLl92aWV3cG9ydERyYWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVggPSB0aGlzLl92aWV3cG9ydERyYWdQb3MueCAtIHg7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVkgPSB0aGlzLl92aWV3cG9ydERyYWdQb3MueSAtIHk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl92aWV3cG9ydEhhc01vdmVkIHx8IChNYXRoLmFicyhkZWx0YVgpID4gZHJhZ1RocmVzaG9sZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGRlbHRhWSkgPiBkcmFnVGhyZXNob2xkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnUG9zID0geyd4JzogeCwgJ3knOiB5fTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnZpZXdwb3J0Q2hhbmdlUG9zKGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2tpcCBzZW5kaW5nIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfSAvLyBWaWV3IG9ubHksIHNraXAgbW91c2UgZXZlbnRzXG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJykgeyByZXR1cm47IH1cbiAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLCB0aGlzLl9kaXNwbGF5LmFic1goeCksIHRoaXMuX2Rpc3BsYXkuYWJzWSh5KSwgdGhpcy5fbW91c2VfYnV0dG9uTWFzayk7XG4gICAgfVxuXG4gICAgLy8gTWVzc2FnZSBIYW5kbGVyc1xuXG4gICAgX25lZ290aWF0ZV9wcm90b2NvbF92ZXJzaW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJ2ZXJzaW9uXCIsIDEyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3ZlcnNpb24gPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoMTIpLnN1YnN0cig0LCA3KTtcbiAgICAgICAgTG9nLkluZm8oXCJTZXJ2ZXIgUHJvdG9jb2xWZXJzaW9uOiBcIiArIHN2ZXJzaW9uKTtcbiAgICAgICAgbGV0IGlzX3JlcGVhdGVyID0gMDtcbiAgICAgICAgc3dpdGNoIChzdmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSBcIjAwMC4wMDBcIjogIC8vIFVsdHJhVk5DIHJlcGVhdGVyXG4gICAgICAgICAgICAgICAgaXNfcmVwZWF0ZXIgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDNcIjpcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuMDA2XCI6ICAvLyBVbHRyYVZOQ1xuICAgICAgICAgICAgY2FzZSBcIjAwMy44ODlcIjogIC8vIEFwcGxlIFJlbW90ZSBEZXNrdG9wXG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX3ZlcnNpb24gPSAzLjM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMDAzLjAwN1wiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMy43O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDhcIjpcbiAgICAgICAgICAgIGNhc2UgXCIwMDQuMDAwXCI6ICAvLyBJbnRlbCBBTVQgS1ZNXG4gICAgICAgICAgICBjYXNlIFwiMDA0LjAwMVwiOiAgLy8gUmVhbFZOQyA0LjZcbiAgICAgICAgICAgIGNhc2UgXCIwMDUuMDAwXCI6ICAvLyBSZWFsVk5DIDUuM1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMy44O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIkludmFsaWQgc2VydmVyIHZlcnNpb24gXCIgKyBzdmVyc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNfcmVwZWF0ZXIpIHtcbiAgICAgICAgICAgIGxldCByZXBlYXRlcklEID0gXCJJRDpcIiArIHRoaXMuX3JlcGVhdGVySUQ7XG4gICAgICAgICAgICB3aGlsZSAocmVwZWF0ZXJJRC5sZW5ndGggPCAyNTApIHtcbiAgICAgICAgICAgICAgICByZXBlYXRlcklEICs9IFwiXFwwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmRfc3RyaW5nKHJlcGVhdGVySUQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmZiX3ZlcnNpb24gPiB0aGlzLl9yZmJfbWF4X3ZlcnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gdGhpcy5fcmZiX21heF92ZXJzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3ZlcnNpb24gPSBcIjAwXCIgKyBwYXJzZUludCh0aGlzLl9yZmJfdmVyc2lvbiwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgXCIuMDBcIiArICgodGhpcy5fcmZiX3ZlcnNpb24gKiAxMCkgJSAxMCk7XG4gICAgICAgIHRoaXMuX3NvY2suc2VuZF9zdHJpbmcoXCJSRkIgXCIgKyBjdmVyc2lvbiArIFwiXFxuXCIpO1xuICAgICAgICBMb2cuRGVidWcoJ1NlbnQgUHJvdG9jb2xWZXJzaW9uOiAnICsgY3ZlcnNpb24pO1xuXG4gICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlY3VyaXR5JztcbiAgICB9XG5cbiAgICBfbmVnb3RpYXRlX3NlY3VyaXR5KCkge1xuICAgICAgICAvLyBQb2x5ZmlsbCBzaW5jZSBJRSBhbmQgUGhhbnRvbUpTIGRvZXNuJ3QgaGF2ZVxuICAgICAgICAvLyBUeXBlZEFycmF5LmluY2x1ZGVzKClcbiAgICAgICAgZnVuY3Rpb24gaW5jbHVkZXMoaXRlbSwgYXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl92ZXJzaW9uID49IDMuNykge1xuICAgICAgICAgICAgLy8gU2VydmVyIHNlbmRzIHN1cHBvcnRlZCBsaXN0LCBjbGllbnQgZGVjaWRlc1xuICAgICAgICAgICAgY29uc3QgbnVtX3R5cGVzID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic2VjdXJpdHkgdHlwZVwiLCBudW1fdHlwZXMsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICBpZiAobnVtX3R5cGVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSBcIlNlY3VyaXR5UmVhc29uXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VjdXJpdHlfY29udGV4dCA9IFwibm8gc2VjdXJpdHkgdHlwZXNcIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWN1cml0eV9zdGF0dXMgPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0eXBlcyA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKG51bV90eXBlcyk7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJTZXJ2ZXIgc2VjdXJpdHkgdHlwZXM6IFwiICsgdHlwZXMpO1xuXG4gICAgICAgICAgICAvLyBMb29rIGZvciBlYWNoIGF1dGggaW4gcHJlZmVycmVkIG9yZGVyXG4gICAgICAgICAgICBpZiAoaW5jbHVkZXMoMSwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMTsgLy8gTm9uZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcygyMiwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMjI7IC8vIFhWUFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcygxNiwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMTY7IC8vIFRpZ2h0XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKDIsIHR5cGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDI7IC8vIFZOQyBBdXRoXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgc2VjdXJpdHkgdHlwZXMgKHR5cGVzOiBcIiArIHR5cGVzICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoW3RoaXMuX3JmYl9hdXRoX3NjaGVtZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIGRlY2lkZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInNlY3VyaXR5IHNjaGVtZVwiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gXCJTZWN1cml0eVJlYXNvblwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlY3VyaXR5X2NvbnRleHQgPSBcImF1dGhlbnRpY2F0aW9uIHNjaGVtZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlY3VyaXR5X3N0YXR1cyA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdBdXRoZW50aWNhdGlvbic7XG4gICAgICAgIExvZy5EZWJ1ZygnQXV0aGVudGljYXRpbmcgdXNpbmcgc2NoZW1lOiAnICsgdGhpcy5fcmZiX2F1dGhfc2NoZW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTsgLy8ganVtcCB0byBhdXRoZW50aWNhdGlvblxuICAgIH1cblxuICAgIF9oYW5kbGVfc2VjdXJpdHlfcmVhc29uKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJyZWFzb24gbGVuZ3RoXCIsIDQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RybGVuID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgbGV0IHJlYXNvbiA9IFwiXCI7XG5cbiAgICAgICAgaWYgKHN0cmxlbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInJlYXNvblwiLCBzdHJsZW4sIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgcmVhc29uID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKHN0cmxlbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVhc29uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgIFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgc3RhdHVzOiB0aGlzLl9zZWN1cml0eV9zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24gfSB9KSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VjdXJpdHkgbmVnb3RpYXRpb24gZmFpbGVkIG9uIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlY3VyaXR5X2NvbnRleHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKHJlYXNvbjogXCIgKyByZWFzb24gKyBcIilcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgIFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgc3RhdHVzOiB0aGlzLl9zZWN1cml0eV9zdGF0dXMgfSB9KSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VjdXJpdHkgbmVnb3RpYXRpb24gZmFpbGVkIG9uIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlY3VyaXR5X2NvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXV0aGVudGljYXRpb25cbiAgICBfbmVnb3RpYXRlX3h2cF9hdXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZSB8fFxuICAgICAgICAgICAgIXRoaXMuX3JmYl9jcmVkZW50aWFscy5wYXNzd29yZCB8fFxuICAgICAgICAgICAgIXRoaXMuX3JmYl9jcmVkZW50aWFscy50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgdHlwZXM6IFtcInVzZXJuYW1lXCIsIFwicGFzc3dvcmRcIiwgXCJ0YXJnZXRcIl0gfSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB4dnBfYXV0aF9zdHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZS5sZW5ndGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5fcmZiX2NyZWRlbnRpYWxzLnRhcmdldC5sZW5ndGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMudGFyZ2V0O1xuICAgICAgICB0aGlzLl9zb2NrLnNlbmRfc3RyaW5nKHh2cF9hdXRoX3N0cik7XG4gICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDI7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfYXV0aGVudGljYXRpb24oKTtcbiAgICB9XG5cbiAgICBfbmVnb3RpYXRlX3N0ZF92bmNfYXV0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiYXV0aCBjaGFsbGVuZ2VcIiwgMTYpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIGlmICghdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgIFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHR5cGVzOiBbXCJwYXNzd29yZFwiXSB9IH0pKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8oZGlyZWN0eG1hbjEyKTogbWFrZSBnZW5ERVMgbm90IHJlcXVpcmUgYW4gQXJyYXlcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoMTYpKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBSRkIuZ2VuREVTKHRoaXMuX3JmYl9jcmVkZW50aWFscy5wYXNzd29yZCwgY2hhbGxlbmdlKTtcbiAgICAgICAgdGhpcy5fc29jay5zZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSBcIlNlY3VyaXR5UmVzdWx0XCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF9uZWdvdGlhdGVfdGlnaHRfdHVubmVscyhudW1UdW5uZWxzKSB7XG4gICAgICAgIGNvbnN0IGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzID0ge1xuICAgICAgICAgICAgMDogeyB2ZW5kb3I6ICdUR0hUJywgc2lnbmF0dXJlOiAnTk9UVU5ORUwnIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXMgPSB7fTtcbiAgICAgICAgLy8gcmVjZWl2ZSB0dW5uZWwgY2FwYWJpbGl0aWVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVHVubmVsczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjYXBfY29kZSA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgICAgICBjb25zdCBjYXBfdmVuZG9yID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKDQpO1xuICAgICAgICAgICAgY29uc3QgY2FwX3NpZ25hdHVyZSA9IHRoaXMuX3NvY2suclFzaGlmdFN0cig4KTtcbiAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzW2NhcF9jb2RlXSA9IHsgdmVuZG9yOiBjYXBfdmVuZG9yLCBzaWduYXR1cmU6IGNhcF9zaWduYXR1cmUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIExvZy5EZWJ1ZyhcIlNlcnZlciBUaWdodCB0dW5uZWwgdHlwZXM6IFwiICsgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXMpO1xuXG4gICAgICAgIC8vIFNpZW1lbnMgdG91Y2ggcGFuZWxzIGhhdmUgYSBWTkMgc2VydmVyIHRoYXQgc3VwcG9ydHMgTk9UVU5ORUwsXG4gICAgICAgIC8vIGJ1dCBmb3JnZXRzIHRvIGFkdmVydGlzZSBpdC4gVHJ5IHRvIGRldGVjdCBzdWNoIHNlcnZlcnMgYnlcbiAgICAgICAgLy8gbG9va2luZyBmb3IgdGhlaXIgY3VzdG9tIHR1bm5lbCB0eXBlLlxuICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMV0gJiZcbiAgICAgICAgICAgIChzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1sxXS52ZW5kb3IgPT09IFwiU0lDUlwiKSAmJlxuICAgICAgICAgICAgKHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzWzFdLnNpZ25hdHVyZSA9PT0gXCJTQ0hBTk5FTFwiKSkge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiRGV0ZWN0ZWQgU2llbWVucyBzZXJ2ZXIuIEFzc3VtaW5nIE5PVFVOTkVMIHN1cHBvcnQuXCIpO1xuICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0gPSB7IHZlbmRvcjogJ1RHSFQnLCBzaWduYXR1cmU6ICdOT1RVTk5FTCcgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNob29zZSB0aGUgbm90dW5uZWwgdHlwZVxuICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0pIHtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXS52ZW5kb3IgIT0gY2xpZW50U3VwcG9ydGVkVHVubmVsVHlwZXNbMF0udmVuZG9yIHx8XG4gICAgICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0uc2lnbmF0dXJlICE9IGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdLnNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiQ2xpZW50J3MgdHVubmVsIHR5cGUgaGFkIHRoZSBpbmNvcnJlY3QgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmVuZG9yIG9yIHNpZ25hdHVyZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlNlbGVjdGVkIHR1bm5lbCB0eXBlOiBcIiArIGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdKTtcbiAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZChbMCwgMCwgMCwgMF0pOyAgLy8gdXNlIE5PVFVOTkVMXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHdhaXQgdW50aWwgd2UgcmVjZWl2ZSB0aGUgc3ViIGF1dGggY291bnQgdG8gY29udGludWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VydmVyIHdhbnRlZCB0dW5uZWxzLCBidXQgZG9lc24ndCBzdXBwb3J0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhlIG5vdHVubmVsIHR5cGVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbmVnb3RpYXRlX3RpZ2h0X2F1dGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmZiX3RpZ2h0dm5jKSB7ICAvLyBmaXJzdCBwYXNzLCBkbyB0aGUgdHVubmVsIG5lZ290aWF0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJudW0gdHVubmVsc1wiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGNvbnN0IG51bVR1bm5lbHMgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICAgICAgaWYgKG51bVR1bm5lbHMgPiAwICYmIHRoaXMuX3NvY2suclF3YWl0KFwidHVubmVsIGNhcGFiaWxpdGllc1wiLCAxNiAqIG51bVR1bm5lbHMsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZmJfdGlnaHR2bmMgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAobnVtVHVubmVscyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWdvdGlhdGVfdGlnaHRfdHVubmVscyhudW1UdW5uZWxzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAvLyB3YWl0IHVudGlsIHdlIHJlY2VpdmUgdGhlIHN1YiBhdXRoIHRvIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWNvbmQgcGFzcywgZG8gdGhlIHN1Yi1hdXRoIG5lZ290aWF0aW9uXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInN1YiBhdXRoIGNvdW50XCIsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICBjb25zdCBzdWJBdXRoQ291bnQgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAoc3ViQXV0aENvdW50ID09PSAwKSB7ICAvLyBlbXB0eSBzdWItYXV0aCBsaXN0IHJlY2VpdmVkIG1lYW5zICdubyBhdXRoJyBzdWJ0eXBlIHNlbGVjdGVkXG4gICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZWN1cml0eVJlc3VsdCc7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInN1YiBhdXRoIGNhcGFiaWxpdGllc1wiLCAxNiAqIHN1YkF1dGhDb3VudCwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgY29uc3QgY2xpZW50U3VwcG9ydGVkVHlwZXMgPSB7XG4gICAgICAgICAgICAnU1REVk5PQVVUSF9fJzogMSxcbiAgICAgICAgICAgICdTVERWVk5DQVVUSF8nOiAyXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2VydmVyU3VwcG9ydGVkVHlwZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YkF1dGhDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2hpZnQzMigpOyAvLyBjYXBOdW1cbiAgICAgICAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHRoaXMuX3NvY2suclFzaGlmdFN0cigxMik7XG4gICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRUeXBlcy5wdXNoKGNhcGFiaWxpdGllcyk7XG4gICAgICAgIH1cblxuICAgICAgICBMb2cuRGVidWcoXCJTZXJ2ZXIgVGlnaHQgYXV0aGVudGljYXRpb24gdHlwZXM6IFwiICsgc2VydmVyU3VwcG9ydGVkVHlwZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGF1dGhUeXBlIGluIGNsaWVudFN1cHBvcnRlZFR5cGVzKSB7XG4gICAgICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHlwZXMuaW5kZXhPZihhdXRoVHlwZSkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoWzAsIDAsIDAsIGNsaWVudFN1cHBvcnRlZFR5cGVzW2F1dGhUeXBlXV0pO1xuICAgICAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlNlbGVjdGVkIGF1dGhlbnRpY2F0aW9uIHR5cGU6IFwiICsgYXV0aFR5cGUpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhdXRoVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTVERWTk9BVVRIX18nOiAgLy8gbm8gYXV0aFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHlSZXN1bHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NURFZWTkNBVVRIXyc6IC8vIFZOQyBhdXRoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIHRpbnkgYXV0aCBzY2hlbWUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIoc2NoZW1lOiBcIiArIGF1dGhUeXBlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiTm8gc3VwcG9ydGVkIHN1Yi1hdXRoIHR5cGVzIVwiKTtcbiAgICB9XG5cbiAgICBfbmVnb3RpYXRlX2F1dGhlbnRpY2F0aW9uKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9hdXRoX3NjaGVtZSkge1xuICAgICAgICAgICAgY2FzZSAxOiAgLy8gbm8gYXV0aFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+PSAzLjgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHlSZXN1bHQnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnQ2xpZW50SW5pdGlhbGlzYXRpb24nO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpO1xuXG4gICAgICAgICAgICBjYXNlIDIyOiAgLy8gWFZQIGF1dGhcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3h2cF9hdXRoKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjogIC8vIFZOQyBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc3RkX3ZuY19hdXRoKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTY6ICAvLyBUaWdodFZOQyBTZWN1cml0eSBUeXBlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV90aWdodF9hdXRoKCk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCBhdXRoIHNjaGVtZSAoc2NoZW1lOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZV9zZWN1cml0eV9yZXN1bHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdCgnVk5DIGF1dGggcmVzcG9uc2UgJywgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7IC8vIE9LXG4gICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdDbGllbnRJbml0aWFsaXNhdGlvbic7XG4gICAgICAgICAgICBMb2cuRGVidWcoJ0F1dGhlbnRpY2F0aW9uIE9LJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+PSAzLjgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9IFwiU2VjdXJpdHlSZWFzb25cIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWN1cml0eV9jb250ZXh0ID0gXCJzZWN1cml0eSByZXN1bHRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWN1cml0eV9zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHN0YXR1czogc3RhdHVzIH0gfSkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJTZWN1cml0eSBoYW5kc2hha2UgZmFpbGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX25lZ290aWF0ZV9zZXJ2ZXJfaW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic2VydmVyIGluaXRpYWxpemF0aW9uXCIsIDI0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAvKiBTY3JlZW4gc2l6ZSAqL1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG5cbiAgICAgICAgLyogUElYRUxfRk9STUFUICovXG4gICAgICAgIGNvbnN0IGJwcCAgICAgICAgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICBjb25zdCBkZXB0aCAgICAgICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgY29uc3QgYmlnX2VuZGlhbiAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIGNvbnN0IHRydWVfY29sb3IgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuXG4gICAgICAgIGNvbnN0IHJlZF9tYXggICAgID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgY29uc3QgZ3JlZW5fbWF4ICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICBjb25zdCBibHVlX21heCAgICA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIGNvbnN0IHJlZF9zaGlmdCAgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICBjb25zdCBncmVlbl9zaGlmdCA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgY29uc3QgYmx1ZV9zaGlmdCAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7ICAvLyBwYWRkaW5nXG5cbiAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogd2UgZG9uJ3Qgd2FudCB0byBjYWxsIGFueSBjYWxsYmFja3Mgb3IgcHJpbnQgbWVzc2FnZXMgdW50aWxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgKmFmdGVyKiB3ZSdyZSBwYXN0IHRoZSBwb2ludCB3aGVyZSB3ZSBjb3VsZCBiYWNrdHJhY2tcblxuICAgICAgICAvKiBDb25uZWN0aW9uIG5hbWUvdGl0bGUgKi9cbiAgICAgICAgY29uc3QgbmFtZV9sZW5ndGggPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ3NlcnZlciBpbml0IG5hbWUnLCBuYW1lX2xlbmd0aCwgMjQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9mYl9uYW1lID0gZGVjb2RlVVRGOCh0aGlzLl9zb2NrLnJRc2hpZnRTdHIobmFtZV9sZW5ndGgpKTtcblxuICAgICAgICBpZiAodGhpcy5fcmZiX3RpZ2h0dm5jKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ1RpZ2h0Vk5DIGV4dGVuZGVkIHNlcnZlciBpbml0IGhlYWRlcicsIDgsIDI0ICsgbmFtZV9sZW5ndGgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgLy8gSW4gVGlnaHRWTkMgbW9kZSwgU2VydmVySW5pdCBtZXNzYWdlIGlzIGV4dGVuZGVkXG4gICAgICAgICAgICBjb25zdCBudW1TZXJ2ZXJNZXNzYWdlcyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICBjb25zdCBudW1DbGllbnRNZXNzYWdlcyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICBjb25zdCBudW1FbmNvZGluZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgIC8vIHBhZGRpbmdcblxuICAgICAgICAgICAgY29uc3QgdG90YWxNZXNzYWdlc0xlbmd0aCA9IChudW1TZXJ2ZXJNZXNzYWdlcyArIG51bUNsaWVudE1lc3NhZ2VzICsgbnVtRW5jb2RpbmdzKSAqIDE2O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KCdUaWdodFZOQyBleHRlbmRlZCBzZXJ2ZXIgaW5pdCBoZWFkZXInLCB0b3RhbE1lc3NhZ2VzTGVuZ3RoLCAzMiArIG5hbWVfbGVuZ3RoKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgYWN0dWFsbHkgZG8gYW55dGhpbmcgd2l0aCB0aGUgY2FwYWJpbGl0eSBpbmZvcm1hdGlvbiB0aGF0IFRJR0hUIHNlbmRzLFxuICAgICAgICAgICAgLy8gc28gd2UganVzdCBza2lwIHRoZSBhbGwgb2YgdGhpcy5cblxuICAgICAgICAgICAgLy8gVElHSFQgc2VydmVyIG1lc3NhZ2UgY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDE2ICogbnVtU2VydmVyTWVzc2FnZXMpO1xuXG4gICAgICAgICAgICAvLyBUSUdIVCBjbGllbnQgbWVzc2FnZSBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMTYgKiBudW1DbGllbnRNZXNzYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFRJR0hUIGVuY29kaW5nIGNhcGFiaWxpdGllc1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNiAqIG51bUVuY29kaW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiB0aGVzZSBhcmUgZG93biBoZXJlIHNvIHRoYXQgd2UgZG9uJ3QgcnVuIHRoZW0gbXVsdGlwbGUgdGltZXNcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgaWYgd2UgYmFja3RyYWNrXG4gICAgICAgIExvZy5JbmZvKFwiU2NyZWVuOiBcIiArIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgXCIsIGJwcDogXCIgKyBicHAgKyBcIiwgZGVwdGg6IFwiICsgZGVwdGggK1xuICAgICAgICAgICAgICAgICAgXCIsIGJpZ19lbmRpYW46IFwiICsgYmlnX2VuZGlhbiArXG4gICAgICAgICAgICAgICAgICBcIiwgdHJ1ZV9jb2xvcjogXCIgKyB0cnVlX2NvbG9yICtcbiAgICAgICAgICAgICAgICAgIFwiLCByZWRfbWF4OiBcIiArIHJlZF9tYXggK1xuICAgICAgICAgICAgICAgICAgXCIsIGdyZWVuX21heDogXCIgKyBncmVlbl9tYXggK1xuICAgICAgICAgICAgICAgICAgXCIsIGJsdWVfbWF4OiBcIiArIGJsdWVfbWF4ICtcbiAgICAgICAgICAgICAgICAgIFwiLCByZWRfc2hpZnQ6IFwiICsgcmVkX3NoaWZ0ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBncmVlbl9zaGlmdDogXCIgKyBncmVlbl9zaGlmdCArXG4gICAgICAgICAgICAgICAgICBcIiwgYmx1ZV9zaGlmdDogXCIgKyBibHVlX3NoaWZ0KTtcblxuICAgICAgICBpZiAoYmlnX2VuZGlhbiAhPT0gMCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgbmF0aXZlIGVuZGlhbiBpcyBub3QgbGl0dGxlIGVuZGlhblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWRfc2hpZnQgIT09IDE2KSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBuYXRpdmUgcmVkLXNoaWZ0IGlzIG5vdCAxNlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChibHVlX3NoaWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBuYXRpdmUgYmx1ZS1zaGlmdCBpcyBub3QgMFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlJ3JlIHBhc3QgdGhlIHBvaW50IHdoZXJlIHdlIGNvdWxkIGJhY2t0cmFjaywgc28gaXQncyBzYWZlIHRvIGNhbGwgdGhpc1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgXCJkZXNrdG9wbmFtZVwiLFxuICAgICAgICAgICAgeyBkZXRhaWw6IHsgbmFtZTogdGhpcy5fZmJfbmFtZSB9IH0pKTtcblxuICAgICAgICB0aGlzLl9yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl92aWV3T25seSkgeyB0aGlzLl9rZXlib2FyZC5ncmFiKCk7IH1cbiAgICAgICAgaWYgKCF0aGlzLl92aWV3T25seSkgeyB0aGlzLl9tb3VzZS5ncmFiKCk7IH1cblxuICAgICAgICB0aGlzLl9mYl9kZXB0aCA9IDI0O1xuXG4gICAgICAgIGlmICh0aGlzLl9mYl9uYW1lID09PSBcIkludGVsKHIpIEFNVCBLVk1cIikge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJJbnRlbCBBTVQgS1ZNIG9ubHkgc3VwcG9ydHMgOC8xNiBiaXQgZGVwdGhzLiBVc2luZyBsb3cgY29sb3IgbW9kZS5cIik7XG4gICAgICAgICAgICB0aGlzLl9mYl9kZXB0aCA9IDg7XG4gICAgICAgIH1cblxuICAgICAgICBSRkIubWVzc2FnZXMucGl4ZWxGb3JtYXQodGhpcy5fc29jaywgdGhpcy5fZmJfZGVwdGgsIHRydWUpO1xuICAgICAgICB0aGlzLl9zZW5kRW5jb2RpbmdzKCk7XG4gICAgICAgIFJGQi5tZXNzYWdlcy5mYlVwZGF0ZVJlcXVlc3QodGhpcy5fc29jaywgZmFsc2UsIDAsIDAsIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnY29ubmVjdGVkJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF9zZW5kRW5jb2RpbmdzKCkge1xuICAgICAgICBjb25zdCBlbmNzID0gW107XG5cbiAgICAgICAgLy8gSW4gcHJlZmVyZW5jZSBvcmRlclxuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nQ29weVJlY3QpO1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnRlZCB3aXRoIGZ1bGwgZGVwdGggc3VwcG9ydFxuICAgICAgICBpZiAodGhpcy5fZmJfZGVwdGggPT0gMjQpIHtcbiAgICAgICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdUaWdodCk7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nVGlnaHRQTkcpO1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ0hleHRpbGUpO1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ1JSRSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ1Jhdyk7XG5cbiAgICAgICAgLy8gUHN1ZWRvLWVuY29kaW5nIHNldHRpbmdzXG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdRdWFsaXR5TGV2ZWwwICsgNik7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDb21wcmVzc0xldmVsMCArIDIpO1xuXG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdEZXNrdG9wU2l6ZSk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdMYXN0UmVjdCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdRRU1VRXh0ZW5kZWRLZXlFdmVudCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdFeHRlbmRlZERlc2t0b3BTaXplKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1h2cCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdGZW5jZSk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDb250aW51b3VzVXBkYXRlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZiX2RlcHRoID09IDI0KSB7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nQ3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFJGQi5tZXNzYWdlcy5jbGllbnRFbmNvZGluZ3ModGhpcy5fc29jaywgZW5jcyk7XG4gICAgfVxuXG4gICAgLyogUkZCIHByb3RvY29sIGluaXRpYWxpemF0aW9uIHN0YXRlczpcbiAgICAgKiAgIFByb3RvY29sVmVyc2lvblxuICAgICAqICAgU2VjdXJpdHlcbiAgICAgKiAgIEF1dGhlbnRpY2F0aW9uXG4gICAgICogICBTZWN1cml0eVJlc3VsdFxuICAgICAqICAgQ2xpZW50SW5pdGlhbGl6YXRpb24gLSBub3QgdHJpZ2dlcmVkIGJ5IHNlcnZlciBtZXNzYWdlXG4gICAgICogICBTZXJ2ZXJJbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIF9pbml0X21zZygpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfaW5pdF9zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnUHJvdG9jb2xWZXJzaW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3Byb3RvY29sX3ZlcnNpb24oKTtcblxuICAgICAgICAgICAgY2FzZSAnU2VjdXJpdHknOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc2VjdXJpdHkoKTtcblxuICAgICAgICAgICAgY2FzZSAnQXV0aGVudGljYXRpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfYXV0aGVudGljYXRpb24oKTtcblxuICAgICAgICAgICAgY2FzZSAnU2VjdXJpdHlSZXN1bHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VjdXJpdHlfcmVzdWx0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ1NlY3VyaXR5UmVhc29uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlY3VyaXR5X3JlYXNvbigpO1xuXG4gICAgICAgICAgICBjYXNlICdDbGllbnRJbml0aWFsaXNhdGlvbic6XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kKFt0aGlzLl9zaGFyZWQgPyAxIDogMF0pOyAvLyBDbGllbnRJbml0aWFsaXNhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlcnZlckluaXRpYWxpc2F0aW9uJztcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSAnU2VydmVySW5pdGlhbGlzYXRpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc2VydmVyX2luaXQoKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVua25vd24gaW5pdCBzdGF0ZSAoc3RhdGU6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVfc2V0X2NvbG91cl9tYXBfbXNnKCkge1xuICAgICAgICBMb2cuRGVidWcoXCJTZXRDb2xvck1hcEVudHJpZXNcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIFNldENvbG9yTWFwRW50cmllcyBtZXNzYWdlXCIpO1xuICAgIH1cblxuICAgIF9oYW5kbGVfc2VydmVyX2N1dF90ZXh0KCkge1xuICAgICAgICBMb2cuRGVidWcoXCJTZXJ2ZXJDdXRUZXh0XCIpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckN1dFRleHQgaGVhZGVyXCIsIDcsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAgLy8gUGFkZGluZ1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJTZXJ2ZXJDdXRUZXh0XCIsIGxlbmd0aCwgOCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3NvY2suclFzaGlmdFN0cihsZW5ndGgpO1xuXG4gICAgICAgIGlmICh0aGlzLl92aWV3T25seSkgeyByZXR1cm4gdHJ1ZTsgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICBcImNsaXBib2FyZFwiLFxuICAgICAgICAgICAgeyBkZXRhaWw6IHsgdGV4dDogdGV4dCB9IH0pKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfaGFuZGxlX3NlcnZlcl9mZW5jZV9tc2coKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckZlbmNlIGhlYWRlclwiLCA4LCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTsgLy8gUGFkZGluZ1xuICAgICAgICBsZXQgZmxhZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckZlbmNlIHBheWxvYWRcIiwgbGVuZ3RoLCA5KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBpZiAobGVuZ3RoID4gNjQpIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiQmFkIHBheWxvYWQgbGVuZ3RoIChcIiArIGxlbmd0aCArIFwiKSBpbiBmZW5jZSByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IDY0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuX3NvY2suclFzaGlmdFN0cihsZW5ndGgpO1xuXG4gICAgICAgIHRoaXMuX3N1cHBvcnRzRmVuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIEZlbmNlIGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqICAoMTw8MCkgIC0gQmxvY2tCZWZvcmVcbiAgICAgICAgICogICgxPDwxKSAgLSBCbG9ja0FmdGVyXG4gICAgICAgICAqICAoMTw8MikgIC0gU3luY05leHRcbiAgICAgICAgICogICgxPDwzMSkgLSBSZXF1ZXN0XG4gICAgICAgICAqL1xuXG4gICAgICAgIGlmICghKGZsYWdzICYgKDE8PDMxKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBmZW5jZSByZXNwb25zZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbHRlciBvdXQgdW5zdXBwb3J0ZWQgZmxhZ3NcbiAgICAgICAgLy8gRklYTUU6IHN1cHBvcnQgc3luY05leHRcbiAgICAgICAgZmxhZ3MgJj0gKDE8PDApIHwgKDE8PDEpO1xuXG4gICAgICAgIC8vIEJsb2NrQmVmb3JlIGFuZCBCbG9ja0FmdGVyIGFyZSBhdXRvbWF0aWNhbGx5IGhhbmRsZWQgYnlcbiAgICAgICAgLy8gdGhlIGZhY3QgdGhhdCB3ZSBwcm9jZXNzIGVhY2ggaW5jb21pbmcgbWVzc2FnZVxuICAgICAgICAvLyBzeW5jaHJvbnVvc2x5LlxuICAgICAgICBSRkIubWVzc2FnZXMuY2xpZW50RmVuY2UodGhpcy5fc29jaywgZmxhZ3MsIHBheWxvYWQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF9oYW5kbGVfeHZwX21zZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiWFZQIHZlcnNpb24gYW5kIG1lc3NhZ2VcIiwgMywgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMSk7ICAvLyBQYWRkaW5nXG4gICAgICAgIGNvbnN0IHh2cF92ZXIgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIGNvbnN0IHh2cF9tc2cgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG5cbiAgICAgICAgc3dpdGNoICh4dnBfbXNnKSB7XG4gICAgICAgICAgICBjYXNlIDA6ICAvLyBYVlBfRkFJTFxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIlhWUCBPcGVyYXRpb24gRmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOiAgLy8gWFZQX0lOSVRcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfeHZwX3ZlciA9IHh2cF92ZXI7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJYVlAgZXh0ZW5zaW9ucyBlbmFibGVkICh2ZXJzaW9uIFwiICsgdGhpcy5fcmZiX3h2cF92ZXIgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2FwYWJpbGl0eShcInBvd2VyXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiSWxsZWdhbCBzZXJ2ZXIgWFZQIG1lc3NhZ2UgKG1zZzogXCIgKyB4dnBfbXNnICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX25vcm1hbF9tc2coKSB7XG4gICAgICAgIGxldCBtc2dfdHlwZTtcbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5yZWN0cyA+IDApIHtcbiAgICAgICAgICAgIG1zZ190eXBlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZ190eXBlID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpcnN0LCByZXQ7XG4gICAgICAgIHN3aXRjaCAobXNnX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMDogIC8vIEZyYW1lYnVmZmVyVXBkYXRlXG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5fZnJhbWVidWZmZXJVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ICYmICF0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLmZiVXBkYXRlUmVxdWVzdCh0aGlzLl9zb2NrLCB0cnVlLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuXG4gICAgICAgICAgICBjYXNlIDE6ICAvLyBTZXRDb2xvck1hcEVudHJpZXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NldF9jb2xvdXJfbWFwX21zZygpO1xuXG4gICAgICAgICAgICBjYXNlIDI6ICAvLyBCZWxsXG4gICAgICAgICAgICAgICAgTG9nLkRlYnVnKFwiQmVsbFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBcImJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHt9IH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSAzOiAgLy8gU2VydmVyQ3V0VGV4dFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VydmVyX2N1dF90ZXh0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTUwOiAvLyBFbmRPZkNvbnRpbnVvdXNVcGRhdGVzXG4gICAgICAgICAgICAgICAgZmlyc3QgPSAhdGhpcy5fc3VwcG9ydHNDb250aW51b3VzVXBkYXRlcztcbiAgICAgICAgICAgICAgICB0aGlzLl9zdXBwb3J0c0NvbnRpbnVvdXNVcGRhdGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29udGludW91c1VwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkluZm8oXCJFbmFibGluZyBjb250aW51b3VzIHVwZGF0ZXMuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBuZWVkIHRvIHNlbmQgYSBmcmFtZWJ1ZmZlcnVwZGF0ZXJlcXVlc3QgaGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhZGQgc3VwcG9ydCBmb3IgdHVybmluZyBvZmYgY29udGludW91cyB1cGRhdGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIDI0ODogLy8gU2VydmVyRmVuY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlcnZlcl9mZW5jZV9tc2coKTtcblxuICAgICAgICAgICAgY2FzZSAyNTA6ICAvLyBYVlBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3h2cF9tc2coKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBzZXJ2ZXIgbWVzc2FnZSAodHlwZSBcIiArIG1zZ190eXBlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIExvZy5EZWJ1ZyhcInNvY2suclFzbGljZSgwLCAzMCk6IFwiICsgdGhpcy5fc29jay5yUXNsaWNlKDAsIDMwKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25GbHVzaCgpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gUmVzdW1lIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclFsZW4gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVfbWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZyYW1lYnVmZmVyVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fRkJVLnJlY3RzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJGQlUgaGVhZGVyXCIsIDMsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxKTsgIC8vIFBhZGRpbmdcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5yZWN0cyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJldmlvdXMgZnJhbWUgaXMgZnVsbHkgcmVuZGVyZWQgZmlyc3RcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIGJ1aWxkaW5nIHVwIGFuIGV4Y2Vzc2l2ZSBxdWV1ZVxuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BsYXkucGVuZGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmx1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5fRkJVLnJlY3RzID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5lbmNvZGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInJlY3QgaGVhZGVyXCIsIDEyKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICAvKiBOZXcgRnJhbWVidWZmZXJVcGRhdGUgKi9cblxuICAgICAgICAgICAgICAgIGNvbnN0IGhkciA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDEyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUueCAgICAgICAgPSAoaGRyWzBdIDw8IDgpICsgaGRyWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS55ICAgICAgICA9IChoZHJbMl0gPDwgOCkgKyBoZHJbM107XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLndpZHRoICAgID0gKGhkcls0XSA8PCA4KSArIGhkcls1XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuaGVpZ2h0ICAgPSAoaGRyWzZdIDw8IDgpICsgaGRyWzddO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5lbmNvZGluZyA9IHBhcnNlSW50KChoZHJbOF0gPDwgMjQpICsgKGhkcls5XSA8PCAxNikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChoZHJbMTBdIDw8IDgpICsgaGRyWzExXSwgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hhbmRsZVJlY3QoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG4gICAgICAgICAgICB0aGlzLl9GQlUuZW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGlzcGxheS5mbGlwKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7ICAvLyBXZSBmaW5pc2hlZCB0aGlzIEZCVVxuICAgIH1cblxuICAgIF9oYW5kbGVSZWN0KCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX0ZCVS5lbmNvZGluZykge1xuICAgICAgICAgICAgY2FzZSBlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdMYXN0UmVjdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUucmVjdHMgPSAxOyAvLyBXaWxsIGJlIGRlY3JlYXNlZCB3aGVuIHdlIHJldHVyblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0N1cnNvcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlQ3Vyc29yKCk7XG5cbiAgICAgICAgICAgIGNhc2UgZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nUUVNVUV4dGVuZGVkS2V5RXZlbnQ6XG4gICAgICAgICAgICAgICAgLy8gT2xkIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgY3JlYXRpbmcga2V5Ym9hcmQgZXZlbnRzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5Ym9hcmRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwia2V5Ym9hcmRFdmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9xZW11RXh0S2V5RXZlbnRTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRGVza3RvcFNpemU6XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplKHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRXh0ZW5kZWREZXNrdG9wU2l6ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXh0ZW5kZWREZXNrdG9wU2l6ZSgpO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVEYXRhUmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUN1cnNvcigpIHtcbiAgICAgICAgY29uc3QgaG90eCA9IHRoaXMuX0ZCVS54OyAgLy8gaG90c3BvdC14XG4gICAgICAgIGNvbnN0IGhvdHkgPSB0aGlzLl9GQlUueTsgIC8vIGhvdHNwb3QteVxuICAgICAgICBjb25zdCB3ID0gdGhpcy5fRkJVLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5fRkJVLmhlaWdodDtcblxuICAgICAgICBjb25zdCBwaXhlbHNsZW5ndGggPSB3ICogaCAqIDQ7XG4gICAgICAgIGNvbnN0IG1hc2tsZW5ndGggPSBNYXRoLmNlaWwodyAvIDgpICogaDtcblxuICAgICAgICBsZXQgYnl0ZXMgPSBwaXhlbHNsZW5ndGggKyBtYXNrbGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJjdXJzb3IgZW5jb2RpbmdcIiwgYnl0ZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWNvZGUgZnJvbSBCR1JYIHBpeGVscyArIGJpdCBtYXNrIHRvIFJHQkFcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMocGl4ZWxzbGVuZ3RoKTtcbiAgICAgICAgY29uc3QgbWFzayA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKG1hc2tsZW5ndGgpO1xuICAgICAgICBsZXQgcmdiYSA9IG5ldyBVaW50OEFycmF5KHcgKiBoICogNCk7XG5cbiAgICAgICAgbGV0IHBpeF9pZHggPSAwO1xuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGg7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3OyB4KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFza19pZHggPSB5ICogTWF0aC5jZWlsKHcgLyA4KSArIE1hdGguZmxvb3IoeCAvIDgpO1xuICAgICAgICAgICAgICAgIGxldCBhbHBoYSA9IChtYXNrW21hc2tfaWR4XSA8PCAoeCAlIDgpKSAmIDB4ODAgPyAyNTUgOiAwO1xuICAgICAgICAgICAgICAgIHJnYmFbcGl4X2lkeCAgICBdID0gcGl4ZWxzW3BpeF9pZHggKyAyXTtcbiAgICAgICAgICAgICAgICByZ2JhW3BpeF9pZHggKyAxXSA9IHBpeGVsc1twaXhfaWR4ICsgMV07XG4gICAgICAgICAgICAgICAgcmdiYVtwaXhfaWR4ICsgMl0gPSBwaXhlbHNbcGl4X2lkeF07XG4gICAgICAgICAgICAgICAgcmdiYVtwaXhfaWR4ICsgM10gPSBhbHBoYTtcbiAgICAgICAgICAgICAgICBwaXhfaWR4ICs9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVDdXJzb3IocmdiYSwgaG90eCwgaG90eSwgdywgaCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX2hhbmRsZUV4dGVuZGVkRGVza3RvcFNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkV4dGVuZGVkRGVza3RvcFNpemVcIiwgNCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG51bWJlcl9vZl9zY3JlZW5zID0gdGhpcy5fc29jay5yUXBlZWs4KCk7XG5cbiAgICAgICAgbGV0IGJ5dGVzID0gNCArIChudW1iZXJfb2Zfc2NyZWVucyAqIDE2KTtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiRXh0ZW5kZWREZXNrdG9wU2l6ZVwiLCBieXRlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0VXBkYXRlID0gIXRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemU7XG4gICAgICAgIHRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUgPSB0cnVlO1xuXG4gICAgICAgIC8vIE5vcm1hbGx5IHdlIG9ubHkgYXBwbHkgdGhlIGN1cnJlbnQgcmVzaXplIG1vZGUgYWZ0ZXIgYVxuICAgICAgICAvLyB3aW5kb3cgcmVzaXplIGV2ZW50LiBIb3dldmVyIHRoZXJlIGlzIG5vIHN1Y2ggdHJpZ2dlciBvbiB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBjb25uZWN0LiBBbmQgd2UgZG9uJ3Qga25vdyBpZiB0aGUgc2VydmVyIHN1cHBvcnRzXG4gICAgICAgIC8vIHJlc2l6aW5nIHVudGlsIHdlJ3ZlIGdvdHRlbiBoZXJlLlxuICAgICAgICBpZiAoZmlyc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RSZW1vdGVSZXNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMSk7ICAvLyBudW1iZXItb2Ytc2NyZWVuc1xuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAgLy8gcGFkZGluZ1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyX29mX3NjcmVlbnM7IGkgKz0gMSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgaWQgYW5kIGZsYWdzIG9mIHRoZSBmaXJzdCBzY3JlZW5cbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NyZWVuX2lkID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoNCk7ICAgIC8vIGlkXG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHgtcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgICAgICAgICAgICAgICAgICAgICAgLy8geS1wb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aFxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyBoZWlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JlZW5fZmxhZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyg0KTsgLy8gZmxhZ3NcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgeC1wb3NpdGlvbiBpbmRpY2F0ZXMgdGhlIHJlYXNvbiBmb3IgdGhlIGNoYW5nZTpcbiAgICAgICAgICpcbiAgICAgICAgICogIDAgLSBzZXJ2ZXIgcmVzaXplZCBvbiBpdHMgb3duXG4gICAgICAgICAqICAxIC0gdGhpcyBjbGllbnQgcmVxdWVzdGVkIHRoZSByZXNpemVcbiAgICAgICAgICogIDIgLSBhbm90aGVyIGNsaWVudCByZXF1ZXN0ZWQgdGhlIHJlc2l6ZVxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBlcnJvcnMgd2hlbiB3ZSByZXF1ZXN0ZWQgdGhlIHJlc2l6ZS5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS54ID09PSAxICYmIHRoaXMuX0ZCVS55ICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgbXNnID0gXCJcIjtcbiAgICAgICAgICAgIC8vIFRoZSB5LXBvc2l0aW9uIGluZGljYXRlcyB0aGUgc3RhdHVzIGNvZGUgZnJvbSB0aGUgc2VydmVyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX0ZCVS55KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIlJlc2l6ZSBpcyBhZG1pbmlzdHJhdGl2ZWx5IHByb2hpYml0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIk91dCBvZiByZXNvdXJjZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIkludmFsaWQgc2NyZWVuIGxheW91dFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIlVua25vd24gcmVhc29uXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgZGlkIG5vdCBhY2NlcHQgdGhlIHJlc2l6ZSByZXF1ZXN0OiBcIlxuICAgICAgICAgICAgICAgICAgICAgKyBtc2cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplKHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfaGFuZGxlRGF0YVJlY3QoKSB7XG4gICAgICAgIGxldCBkZWNvZGVyID0gdGhpcy5fZGVjb2RlcnNbdGhpcy5fRkJVLmVuY29kaW5nXTtcbiAgICAgICAgaWYgKCFkZWNvZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgZW5jb2RpbmcgKGVuY29kaW5nOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5lbmNvZGluZyArIFwiKVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVSZWN0KHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLCB0aGlzLl9kaXNwbGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYl9kZXB0aCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5fZmFpbChcIkVycm9yIGRlY29kaW5nIHJlY3Q6IFwiICsgZXJyKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVDb250aW51b3VzVXBkYXRlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgUkZCLm1lc3NhZ2VzLmVuYWJsZUNvbnRpbnVvdXNVcGRhdGVzKHRoaXMuX3NvY2ssIHRydWUsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBfcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fZmJfd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZmJfaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkucmVzaXplKHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuXG4gICAgICAgIC8vIEFkanVzdCB0aGUgdmlzaWJsZSB2aWV3cG9ydCBiYXNlZCBvbiB0aGUgbmV3IGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTY2FsZSgpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRpbnVvdXNVcGRhdGVzKCk7XG4gICAgfVxuXG4gICAgX3h2cE9wKHZlciwgb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl94dnBfdmVyIDwgdmVyKSB7IHJldHVybjsgfVxuICAgICAgICBMb2cuSW5mbyhcIlNlbmRpbmcgWFZQIG9wZXJhdGlvbiBcIiArIG9wICsgXCIgKHZlcnNpb24gXCIgKyB2ZXIgKyBcIilcIik7XG4gICAgICAgIFJGQi5tZXNzYWdlcy54dnBPcCh0aGlzLl9zb2NrLCB2ZXIsIG9wKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ3Vyc29yKHJnYmEsIGhvdHgsIGhvdHksIHcsIGgpIHtcbiAgICAgICAgdGhpcy5fY3Vyc29ySW1hZ2UgPSB7XG4gICAgICAgICAgICByZ2JhUGl4ZWxzOiByZ2JhLFxuICAgICAgICAgICAgaG90eDogaG90eCwgaG90eTogaG90eSwgdzogdywgaDogaCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaEN1cnNvcigpO1xuICAgIH1cblxuICAgIF9zaG91bGRTaG93RG90Q3Vyc29yKCkge1xuICAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGlzLl9jdXJzb3JJbWFnZSBpcyB1cGRhdGVkXG4gICAgICAgIGlmICghdGhpcy5fc2hvd0RvdEN1cnNvcikge1xuICAgICAgICAgICAgLy8gVXNlciBkb2VzIG5vdCB3YW50IHRvIHNlZSB0aGUgZG90LCBzby4uLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIGRvdCBzaG91bGQgbm90IGJlIHNob3duIGlmIHRoZSBjdXJzb3IgaXMgYWxyZWFkeSB2aXNpYmxlLFxuICAgICAgICAvLyBpLmUuIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBub3QtZnVsbHktdHJhbnNwYXJlbnQgcGl4ZWwuXG4gICAgICAgIC8vIFNvIGl0ZXJhdGUgdGhyb3VnaCBhbGwgYWxwaGEgYnl0ZXMgaW4gcmdiYSBhbmQgc3RvcCBhdCB0aGVcbiAgICAgICAgLy8gZmlyc3Qgbm9uLXplcm8uXG4gICAgICAgIGZvciAobGV0IGkgPSAzOyBpIDwgdGhpcy5fY3Vyc29ySW1hZ2UucmdiYVBpeGVscy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnNvckltYWdlLnJnYmFQaXhlbHNbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBrbm93IHRoYXQgdGhlIGN1cnNvciBpcyBmdWxseSB0cmFuc3BhcmVudCwgYW5kXG4gICAgICAgIC8vIHRoZSB1c2VyIHdhbnRzIHRvIHNlZSB0aGUgZG90IGluc3RlYWQgb2YgdGhpcy5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX3JlZnJlc2hDdXJzb3IoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5fc2hvdWxkU2hvd0RvdEN1cnNvcigpID8gUkZCLmN1cnNvcnMuZG90IDogdGhpcy5fY3Vyc29ySW1hZ2U7XG4gICAgICAgIHRoaXMuX2N1cnNvci5jaGFuZ2UoaW1hZ2UucmdiYVBpeGVscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5ob3R4LCBpbWFnZS5ob3R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLncsIGltYWdlLmhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuREVTKHBhc3N3b3JkLCBjaGFsbGVuZ2UpIHtcbiAgICAgICAgY29uc3QgcGFzc3dvcmRDaGFycyA9IHBhc3N3b3JkLnNwbGl0KCcnKS5tYXAoYyA9PiBjLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICByZXR1cm4gKG5ldyBERVMocGFzc3dvcmRDaGFycykpLmVuY3J5cHQoY2hhbGxlbmdlKTtcbiAgICB9XG59XG5cbi8vIENsYXNzIE1ldGhvZHNcblJGQi5tZXNzYWdlcyA9IHtcbiAgICBrZXlFdmVudChzb2NrLCBrZXlzeW0sIGRvd24pIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSA0OyAgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IGRvd247XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSAwO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSAoa2V5c3ltID4+IDI0KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IChrZXlzeW0gPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gKGtleXN5bSA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGtleXN5bTtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA4O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIFFFTVVFeHRlbmRlZEtleUV2ZW50KHNvY2ssIGtleXN5bSwgZG93biwga2V5Y29kZSkge1xuICAgICAgICBmdW5jdGlvbiBnZXRSRkJrZXljb2RlKHh0X3NjYW5jb2RlKSB7XG4gICAgICAgICAgICBjb25zdCB1cHBlckJ5dGUgPSAoa2V5Y29kZSA+PiA4KTtcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyQnl0ZSA9IChrZXljb2RlICYgMHgwMGZmKTtcbiAgICAgICAgICAgIGlmICh1cHBlckJ5dGUgPT09IDB4ZTAgJiYgbG93ZXJCeXRlIDwgMHg3Zikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb3dlckJ5dGUgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHh0X3NjYW5jb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNTU7IC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBzdWIgbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gKGRvd24gPj4gOCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSBkb3duO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSAoa2V5c3ltID4+IDI0KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IChrZXlzeW0gPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gKGtleXN5bSA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGtleXN5bTtcblxuICAgICAgICBjb25zdCBSRkJrZXljb2RlID0gZ2V0UkZCa2V5Y29kZShrZXljb2RlKTtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gKFJGQmtleWNvZGUgPj4gMjQpO1xuICAgICAgICBidWZmW29mZnNldCArIDldID0gKFJGQmtleWNvZGUgPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDEwXSA9IChSRkJrZXljb2RlID4+IDgpO1xuICAgICAgICBidWZmW29mZnNldCArIDExXSA9IFJGQmtleWNvZGU7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMTI7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgcG9pbnRlckV2ZW50KHNvY2ssIHgsIHksIG1hc2spIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSA1OyAvLyBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSBtYXNrO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB4ID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB4O1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSB5ID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSB5O1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDY7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgLy8gVE9ETyhkaXJlY3R4bWFuMTIpOiBtYWtlIHRoaXMgdW5pY29kZSBjb21wYXRpYmxlP1xuICAgIGNsaWVudEN1dFRleHQoc29jaywgdGV4dCkge1xuICAgICAgICBjb25zdCBidWZmID0gc29jay5fc1E7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDY7IC8vIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7IC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBsZXQgbGVuZ3RoID0gdGV4dC5sZW5ndGg7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IGxlbmd0aCA+PiAyNDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IGxlbmd0aCA+PiAxNjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IGxlbmd0aCA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDddID0gbGVuZ3RoO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDg7XG5cbiAgICAgICAgLy8gV2UgaGF2ZSB0byBrZWVwIHRyYWNrIG9mIGZyb20gd2hlcmUgaW4gdGhlIHRleHQgd2UgYmVnaW4gY3JlYXRpbmcgdGhlXG4gICAgICAgIC8vIGJ1ZmZlciBmb3IgdGhlIGZsdXNoIGluIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgICAgbGV0IHRleHRPZmZzZXQgPSAwO1xuXG4gICAgICAgIGxldCByZW1haW5pbmcgPSBsZW5ndGg7XG4gICAgICAgIHdoaWxlIChyZW1haW5pbmcgPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBmbHVzaFNpemUgPSBNYXRoLm1pbihyZW1haW5pbmcsIChzb2NrLl9zUWJ1ZmZlclNpemUgLSBzb2NrLl9zUWxlbikpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbHVzaFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ1ZmZbc29jay5fc1FsZW4gKyBpXSA9ICB0ZXh0LmNoYXJDb2RlQXQodGV4dE9mZnNldCArIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb2NrLl9zUWxlbiArPSBmbHVzaFNpemU7XG4gICAgICAgICAgICBzb2NrLmZsdXNoKCk7XG5cbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSBmbHVzaFNpemU7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ICs9IGZsdXNoU2l6ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXREZXNrdG9wU2l6ZShzb2NrLCB3aWR0aCwgaGVpZ2h0LCBpZCwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyNTE7ICAgICAgICAgICAgICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgICAgICAgICAgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB3aWR0aCA+PiA4OyAgIC8vIHdpZHRoXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB3aWR0aDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IGhlaWdodCA+PiA4OyAgLy8gaGVpZ2h0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSBoZWlnaHQ7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IDE7ICAgICAgICAgICAgLy8gbnVtYmVyLW9mLXNjcmVlbnNcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IDA7ICAgICAgICAgICAgLy8gcGFkZGluZ1xuXG4gICAgICAgIC8vIHNjcmVlbiBhcnJheVxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gaWQgPj4gMjQ7ICAgICAvLyBpZFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gaWQgPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTBdID0gaWQgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMV0gPSBpZDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMl0gPSAwOyAgICAgICAgICAgLy8geC1wb3NpdGlvblxuICAgICAgICBidWZmW29mZnNldCArIDEzXSA9IDA7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTRdID0gMDsgICAgICAgICAgIC8vIHktcG9zaXRpb25cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNV0gPSAwO1xuICAgICAgICBidWZmW29mZnNldCArIDE2XSA9IHdpZHRoID4+IDg7ICAvLyB3aWR0aFxuICAgICAgICBidWZmW29mZnNldCArIDE3XSA9IHdpZHRoO1xuICAgICAgICBidWZmW29mZnNldCArIDE4XSA9IGhlaWdodCA+PiA4OyAvLyBoZWlnaHRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxOV0gPSBoZWlnaHQ7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjBdID0gZmxhZ3MgPj4gMjQ7IC8vIGZsYWdzXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjFdID0gZmxhZ3MgPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjJdID0gZmxhZ3MgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyM10gPSBmbGFncztcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAyNDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBjbGllbnRGZW5jZShzb2NrLCBmbGFncywgcGF5bG9hZCkge1xuICAgICAgICBjb25zdCBidWZmID0gc29jay5fc1E7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI0ODsgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBmbGFncyA+PiAyNDsgLy8gZmxhZ3NcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IGZsYWdzID4+IDE2O1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gZmxhZ3MgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGZsYWdzO1xuXG4gICAgICAgIGNvbnN0IG4gPSBwYXlsb2FkLmxlbmd0aDtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gbjsgLy8gbGVuZ3RoXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOSArIGldID0gcGF5bG9hZC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gOSArIG47XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgZW5hYmxlQ29udGludW91c1VwZGF0ZXMoc29jaywgZW5hYmxlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMTUwOyAgICAgICAgICAgICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gZW5hYmxlOyAgICAgIC8vIGVuYWJsZS1mbGFnXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IHggPj4gODsgICAgICAvLyB4XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB4O1xuICAgICAgICBidWZmW29mZnNldCArIDRdID0geSA+PiA4OyAgICAgIC8vIHlcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IHk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSB3aWR0aCA+PiA4OyAgLy8gd2lkdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IHdpZHRoO1xuICAgICAgICBidWZmW29mZnNldCArIDhdID0gaGVpZ2h0ID4+IDg7IC8vIGhlaWdodFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gaGVpZ2h0O1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDEwO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHBpeGVsRm9ybWF0KHNvY2ssIGRlcHRoLCB0cnVlX2NvbG9yKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgbGV0IGJwcDtcblxuICAgICAgICBpZiAoZGVwdGggPiAxNikge1xuICAgICAgICAgICAgYnBwID0gMzI7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPiA4KSB7XG4gICAgICAgICAgICBicHAgPSAxNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJwcCA9IDg7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiaXRzID0gTWF0aC5mbG9vcihkZXB0aC8zKTtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAwOyAgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBicHA7ICAgICAgICAgICAgICAgICAvLyBiaXRzLXBlci1waXhlbFxuICAgICAgICBidWZmW29mZnNldCArIDVdID0gZGVwdGg7ICAgICAgICAgICAgICAgLy8gZGVwdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIGxpdHRsZS1lbmRpYW5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IHRydWVfY29sb3IgPyAxIDogMDsgIC8vIHRydWUtY29sb3JcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gMDsgICAgLy8gcmVkLW1heFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gKDEgPDwgYml0cykgLSAxOyAgLy8gcmVkLW1heFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTBdID0gMDsgICAvLyBncmVlbi1tYXhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMV0gPSAoMSA8PCBiaXRzKSAtIDE7IC8vIGdyZWVuLW1heFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTJdID0gMDsgICAvLyBibHVlLW1heFxuICAgICAgICBidWZmW29mZnNldCArIDEzXSA9ICgxIDw8IGJpdHMpIC0gMTsgLy8gYmx1ZS1tYXhcblxuICAgICAgICBidWZmW29mZnNldCArIDE0XSA9IGJpdHMgKiAyOyAvLyByZWQtc2hpZnRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNV0gPSBiaXRzICogMTsgLy8gZ3JlZW4tc2hpZnRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNl0gPSBiaXRzICogMDsgLy8gYmx1ZS1zaGlmdFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTddID0gMDsgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMThdID0gMDsgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTldID0gMDsgICAvLyBwYWRkaW5nXG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMjA7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgY2xpZW50RW5jb2RpbmdzKHNvY2ssIGVuY29kaW5ncykge1xuICAgICAgICBjb25zdCBidWZmID0gc29jay5fc1E7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI7IC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IGVuY29kaW5ncy5sZW5ndGggPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IGVuY29kaW5ncy5sZW5ndGg7XG5cbiAgICAgICAgbGV0IGogPSBvZmZzZXQgKyA0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW5jID0gZW5jb2RpbmdzW2ldO1xuICAgICAgICAgICAgYnVmZltqXSA9IGVuYyA+PiAyNDtcbiAgICAgICAgICAgIGJ1ZmZbaiArIDFdID0gZW5jID4+IDE2O1xuICAgICAgICAgICAgYnVmZltqICsgMl0gPSBlbmMgPj4gODtcbiAgICAgICAgICAgIGJ1ZmZbaiArIDNdID0gZW5jO1xuXG4gICAgICAgICAgICBqICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBzb2NrLl9zUWxlbiArPSBqIC0gb2Zmc2V0O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIGZiVXBkYXRlUmVxdWVzdChzb2NrLCBpbmNyZW1lbnRhbCwgeCwgeSwgdywgaCkge1xuICAgICAgICBjb25zdCBidWZmID0gc29jay5fc1E7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGlmICh0eXBlb2YoeCkgPT09IFwidW5kZWZpbmVkXCIpIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHR5cGVvZih5KSA9PT0gXCJ1bmRlZmluZWRcIikgeyB5ID0gMDsgfVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDM7ICAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gaW5jcmVtZW50YWwgPyAxIDogMDtcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gKHggPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0geCAmIDB4RkY7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9ICh5ID4+IDgpICYgMHhGRjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IHkgJiAweEZGO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAodyA+PiA4KSAmIDB4RkY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSB3ICYgMHhGRjtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gKGggPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDldID0gaCAmIDB4RkY7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMTA7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgeHZwT3Aoc29jaywgdmVyLCBvcCkge1xuICAgICAgICBjb25zdCBidWZmID0gc29jay5fc1E7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI1MDsgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gdmVyO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gb3A7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gNDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH1cbn07XG5cblJGQi5jdXJzb3JzID0ge1xuICAgIG5vbmU6IHtcbiAgICAgICAgcmdiYVBpeGVsczogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgdzogMCwgaDogMCxcbiAgICAgICAgaG90eDogMCwgaG90eTogMCxcbiAgICB9LFxuXG4gICAgZG90OiB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICAgICAgICByZ2JhUGl4ZWxzOiBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsICAgMCwgICAwLCAgIDAsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgICAwLCAgIDAsICAgMCwgMjU1LCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgMCwgIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgICAwLCAgIDAsICAgMCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgICAgIF0pLFxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuICAgICAgICB3OiAzLCBoOiAzLFxuICAgICAgICBob3R4OiAxLCBob3R5OiAxLFxuICAgIH1cbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxOCBUaGUgbm9WTkMgQXV0aG9yc1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vbG9nZ2luZy5qcyc7XG5cbi8vIFRvdWNoIGRldGVjdGlvblxuZXhwb3J0IGxldCBpc1RvdWNoRGV2aWNlID0gKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVyaWVkIGZvciBDaHJvbWUgZGVidWdnZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5vbnRvdWNoc3RhcnQgIT09IHVuZGVmaW5lZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciBNUyBTdXJmYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiBvbkZpcnN0VG91Y2goKSB7XG4gICAgaXNUb3VjaERldmljZSA9IHRydWU7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkZpcnN0VG91Y2gsIGZhbHNlKTtcbn0sIGZhbHNlKTtcblxuXG4vLyBUaGUgZ29hbCBpcyB0byBmaW5kIGEgY2VydGFpbiBwaHlzaWNhbCB3aWR0aCwgdGhlIGRldmljZVBpeGVsUmF0aW9cbi8vIGJyaW5ncyB1cyBhIGJpdCBjbG9zZXIgYnV0IGlzIG5vdCBvcHRpbWFsLlxuZXhwb3J0IGxldCBkcmFnVGhyZXNob2xkID0gMTAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG5cbmxldCBfc3VwcG9ydHNDdXJzb3JVUklzID0gZmFsc2U7XG5cbnRyeSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICd1cmwoXCJkYXRhOmltYWdlL3gtaWNvbjtiYXNlNjQsQUFBQ0FBRUFDQWdBQUFJQUFnQTRBUUFBRmdBQUFDZ0FBQUFJQUFBQUVBQUFBQUVBSUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PVwiKSAyIDIsIGRlZmF1bHQnO1xuXG4gICAgaWYgKHRhcmdldC5zdHlsZS5jdXJzb3IpIHtcbiAgICAgICAgTG9nLkluZm8oXCJEYXRhIFVSSSBzY2hlbWUgY3Vyc29yIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgX3N1cHBvcnRzQ3Vyc29yVVJJcyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgTG9nLldhcm4oXCJEYXRhIFVSSSBzY2hlbWUgY3Vyc29yIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxufSBjYXRjaCAoZXhjKSB7XG4gICAgTG9nLkVycm9yKFwiRGF0YSBVUkkgc2NoZW1lIGN1cnNvciB0ZXN0IGV4Y2VwdGlvbjogXCIgKyBleGMpO1xufVxuXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNDdXJzb3JVUklzID0gX3N1cHBvcnRzQ3Vyc29yVVJJcztcblxubGV0IF9zdXBwb3J0c0ltYWdlTWV0YWRhdGEgPSBmYWxzZTtcbnRyeSB7XG4gICAgbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoNCksIDEsIDEpO1xuICAgIF9zdXBwb3J0c0ltYWdlTWV0YWRhdGEgPSB0cnVlO1xufSBjYXRjaCAoZXgpIHtcbiAgICAvLyBpZ25vcmUgZmFpbHVyZVxufVxuZXhwb3J0IGNvbnN0IHN1cHBvcnRzSW1hZ2VNZXRhZGF0YSA9IF9zdXBwb3J0c0ltYWdlTWV0YWRhdGE7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hYygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC9tYWMvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNXaW5kb3dzKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL3dpbi9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0lPUygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmXG4gICAgICAgICAgICghISgvaXBhZC9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSkgfHxcbiAgICAgICAgICAgICEhKC9pcGhvbmUvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pIHx8XG4gICAgICAgICAgICAhISgvaXBvZC9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBbmRyb2lkKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL2FuZHJvaWQvaSkuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJRSgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC90cmlkZW50L2kpLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VkZ2UoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiAhISgvZWRnZS9pKS5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGaXJlZm94KCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL2ZpcmVmb3gvaSkuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgeyBzdXBwb3J0c0N1cnNvclVSSXMsIGlzVG91Y2hEZXZpY2UgfSBmcm9tICcuL2Jyb3dzZXIuanMnO1xuXG5jb25zdCB1c2VGYWxsYmFjayA9ICFzdXBwb3J0c0N1cnNvclVSSXMgfHwgaXNUb3VjaERldmljZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBpZiAodXNlRmFsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuekluZGV4ID0gJzY1NTM1JztcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgdXNlIFwiZGlzcGxheVwiIGJlY2F1c2Ugb2YgRmlyZWZveCBidWcgIzE0NDU5OTdcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICB0aGlzLl9ob3RTcG90ID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgICAgICdtb3VzZW92ZXInOiB0aGlzLl9oYW5kbGVNb3VzZU92ZXIuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICdtb3VzZWxlYXZlJzogdGhpcy5faGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgJ21vdXNlbW92ZSc6IHRoaXMuX2hhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgJ21vdXNldXAnOiB0aGlzLl9oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyksXG4gICAgICAgICAgICAndG91Y2hzdGFydCc6IHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICd0b3VjaG1vdmUnOiB0aGlzLl9oYW5kbGVUb3VjaE1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICd0b3VjaGVuZCc6IHRoaXMuX2hhbmRsZVRvdWNoRW5kLmJpbmQodGhpcyksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXR0YWNoKHRhcmdldCkge1xuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgIGlmICh1c2VGYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRoZXNlIGRvbid0IGZpcmUgcHJvcGVybHkgZXhjZXB0IGZvciBtb3VzZVxuICAgICAgICAgICAgLy8vICAgICAgIG1vdmVtZW50IGluIElFLiBXZSB3YW50IHRvIGFsc28gY2FwdHVyZSBlbGVtZW50XG4gICAgICAgICAgICAvLyAgICAgICAgbW92ZW1lbnQsIHNpemUgY2hhbmdlcywgdmlzaWJpbGl0eSwgZXRjLlxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2VvdmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWxlYXZlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIFwidG91Y2hsZWF2ZVwiIHNvIHdlIG1vbml0b3IgdG91Y2hzdGFydCBnbG9iYWxseVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLnRvdWNoc3RhcnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMudG91Y2htb3ZlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMudG91Y2hlbmQsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKHVzZUZhbGxiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0geyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH07XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW92ZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbGVhdmUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLnRvdWNoc3RhcnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMudG91Y2htb3ZlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMudG91Y2hlbmQsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjaGFuZ2UocmdiYSwgaG90eCwgaG90eSwgdywgaCkge1xuICAgICAgICBpZiAoKHcgPT09IDApIHx8IChoID09PSAwKSkge1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zaXRpb24ueCA9IHRoaXMuX3Bvc2l0aW9uLnggKyB0aGlzLl9ob3RTcG90LnggLSBob3R4O1xuICAgICAgICB0aGlzLl9wb3NpdGlvbi55ID0gdGhpcy5fcG9zaXRpb24ueSArIHRoaXMuX2hvdFNwb3QueSAtIGhvdHk7XG4gICAgICAgIHRoaXMuX2hvdFNwb3QueCA9IGhvdHg7XG4gICAgICAgIHRoaXMuX2hvdFNwb3QueSA9IGhvdHk7XG5cbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHc7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBoO1xuXG4gICAgICAgIGxldCBpbWc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJRSBkb2Vzbid0IHN1cHBvcnQgdGhpc1xuICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkocmdiYSksIHcsIGgpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgaW1nID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3LCBoKTtcbiAgICAgICAgICAgIGltZy5kYXRhLnNldChuZXcgVWludDhDbGFtcGVkQXJyYXkocmdiYSkpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaCk7XG4gICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1nLCAwLCAwKTtcblxuICAgICAgICBpZiAodXNlRmFsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5fY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICd1cmwoJyArIHVybCArICcpJyArIGhvdHggKyAnICcgKyBob3R5ICsgJywgZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICdub25lJztcbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uLnggPSB0aGlzLl9wb3NpdGlvbi54ICsgdGhpcy5faG90U3BvdC54O1xuICAgICAgICB0aGlzLl9wb3NpdGlvbi55ID0gdGhpcy5fcG9zaXRpb24ueSArIHRoaXMuX2hvdFNwb3QueTtcbiAgICAgICAgdGhpcy5faG90U3BvdC54ID0gMDtcbiAgICAgICAgdGhpcy5faG90U3BvdC55ID0gMDtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgICAgIC8vIFRoaXMgZXZlbnQgY291bGQgYmUgYmVjYXVzZSB3ZSdyZSBlbnRlcmluZyB0aGUgdGFyZ2V0LCBvclxuICAgICAgICAvLyBtb3ZpbmcgYXJvdW5kIGFtb25nc3QgaXRzIHN1YiBlbGVtZW50cy4gTGV0IHRoZSBtb3ZlIGhhbmRsZXJcbiAgICAgICAgLy8gc29ydCB0aGluZ3Mgb3V0LlxuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb3VzZUxlYXZlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2hpZGVDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICB0aGlzLl9wb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuX2hvdFNwb3QueDtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24ueSA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLl9ob3RTcG90Lnk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VVcChldmVudCkge1xuICAgICAgICAvLyBXZSBtaWdodCBnZXQgdGhpcyBldmVudCBiZWNhdXNlIG9mIGEgZHJhZyBvcGVyYXRpb24gdGhhdFxuICAgICAgICAvLyBtb3ZlZCBvdXRzaWRlIG9mIHRoZSB0YXJnZXQuIENoZWNrIHdoYXQncyB1bmRlciB0aGUgY3Vyc29yXG4gICAgICAgIC8vIG5vdyBhbmQgYWRqdXN0IHZpc2liaWxpdHkgYmFzZWQgb24gdGhhdC5cbiAgICAgICAgbGV0IHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBfaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuICAgICAgICAvLyBKdXN0IGFzIGZvciBtb3VzZW92ZXIsIHdlIGxldCB0aGUgbW92ZSBoYW5kbGVyIGRlYWwgd2l0aCBpdFxuICAgICAgICB0aGlzLl9oYW5kbGVUb3VjaE1vdmUoZXZlbnQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eShldmVudC50YXJnZXQpO1xuXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uLnggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gdGhpcy5faG90U3BvdC54O1xuICAgICAgICB0aGlzLl9wb3NpdGlvbi55ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHRoaXMuX2hvdFNwb3QueTtcblxuICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIF9oYW5kbGVUb3VjaEVuZChldmVudCkge1xuICAgICAgICAvLyBTYW1lIHByaW5jaXBsZSBhcyBmb3IgbW91c2V1cFxuICAgICAgICBsZXQgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eSh0YXJnZXQpO1xuICAgIH1cblxuICAgIF9zaG93Q3Vyc29yKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hpZGVDdXJzb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMuc3R5bGUudmlzaWJpbGl0eSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaG91bGQgd2UgY3VycmVudGx5IGRpc3BsYXkgdGhlIGN1cnNvcj9cbiAgICAvLyAoaS5lLiBhcmUgd2Ugb3ZlciB0aGUgdGFyZ2V0LCBvciBhIGNoaWxkIG9mIHRoZSB0YXJnZXQgd2l0aG91dCBhXG4gICAgLy8gZGlmZmVyZW50IGN1cnNvciBzZXQpXG4gICAgX3Nob3VsZFNob3dDdXJzb3IodGFyZ2V0KSB7XG4gICAgICAgIC8vIEVhc3kgY2FzZVxuICAgICAgICBpZiAodGFyZ2V0ID09PSB0aGlzLl90YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyIHBhcnQgb2YgdGhlIERPTT9cbiAgICAgICAgaWYgKCF0aGlzLl90YXJnZXQuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhcyB0aGUgY2hpbGQgaXRzIG93biBjdXJzb3I/XG4gICAgICAgIC8vIEZJWE1FOiBIb3cgY2FuIHdlIHRlbGwgdGhhdCBhIHN1YiBlbGVtZW50IGhhcyBhblxuICAgICAgICAvLyAgICAgICAgZXhwbGljaXQgXCJjdXJzb3I6IG5vbmU7XCI/XG4gICAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmN1cnNvciAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVZpc2liaWxpdHkodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRTaG93Q3Vyc29yKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dDdXJzb3IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVDdXJzb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmxlZnQgPSB0aGlzLl9wb3NpdGlvbi54ICsgXCJweFwiO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUudG9wID0gdGhpcy5fcG9zaXRpb24ueSArIFwicHhcIjtcbiAgICB9XG59XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxOCBUaGUgbm9WTkMgQXV0aG9yc1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuLypcbiAqIENyb3NzLWJyb3dzZXIgZXZlbnQgYW5kIHBvc2l0aW9uIHJvdXRpbmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJFdmVudChlKSB7XG4gICAgcmV0dXJuIGUuY2hhbmdlZFRvdWNoZXMgPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BFdmVudChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5cbi8vIEVtdWxhdGUgRWxlbWVudC5zZXRDYXB0dXJlKCkgd2hlbiBub3Qgc3VwcG9ydGVkXG5sZXQgX2NhcHR1cmVSZWN1cnNpb24gPSBmYWxzZTtcbmxldCBfY2FwdHVyZUVsZW0gPSBudWxsO1xuZnVuY3Rpb24gX2NhcHR1cmVQcm94eShlKSB7XG4gICAgLy8gUmVjdXJzaW9uIHByb3RlY3Rpb24gYXMgd2UnbGwgc2VlIG91ciBvd24gZXZlbnRcbiAgICBpZiAoX2NhcHR1cmVSZWN1cnNpb24pIHJldHVybjtcblxuICAgIC8vIENsb25lIHRoZSBldmVudCBhcyB3ZSBjYW5ub3QgZGlzcGF0Y2ggYW4gYWxyZWFkeSBkaXNwYXRjaGVkIGV2ZW50XG4gICAgY29uc3QgbmV3RXYgPSBuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpO1xuXG4gICAgX2NhcHR1cmVSZWN1cnNpb24gPSB0cnVlO1xuICAgIF9jYXB0dXJlRWxlbS5kaXNwYXRjaEV2ZW50KG5ld0V2KTtcbiAgICBfY2FwdHVyZVJlY3Vyc2lvbiA9IGZhbHNlO1xuXG4gICAgLy8gQXZvaWQgZG91YmxlIGV2ZW50c1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBSZXNwZWN0IHRoZSB3aXNoZXMgb2YgdGhlIHJlZGlyZWN0ZWQgZXZlbnQgaGFuZGxlcnNcbiAgICBpZiAobmV3RXYuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gSW1wbGljaXRseSByZWxlYXNlIHRoZSBjYXB0dXJlIG9uIGJ1dHRvbiByZWxlYXNlXG4gICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZXVwXCIpIHtcbiAgICAgICAgcmVsZWFzZUNhcHR1cmUoKTtcbiAgICB9XG59XG5cbi8vIEZvbGxvdyBjdXJzb3Igc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnRcbmZ1bmN0aW9uIF9jYXB0dXJlRWxlbUNoYW5nZWQoKSB7XG4gICAgY29uc3QgY2FwdHVyZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vVk5DX21vdXNlX2NhcHR1cmVfZWxlbVwiKTtcbiAgICBjYXB0dXJlRWxlbS5zdHlsZS5jdXJzb3IgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfY2FwdHVyZUVsZW0pLmN1cnNvcjtcbn1cblxuY29uc3QgX2NhcHR1cmVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKF9jYXB0dXJlRWxlbUNoYW5nZWQpO1xuXG5sZXQgX2NhcHR1cmVJbmRleCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDYXB0dXJlKGVsZW0pIHtcbiAgICBpZiAoZWxlbS5zZXRDYXB0dXJlKSB7XG5cbiAgICAgICAgZWxlbS5zZXRDYXB0dXJlKCk7XG5cbiAgICAgICAgLy8gSUUgcmVsZWFzZXMgY2FwdHVyZSBvbiAnY2xpY2snIGV2ZW50cyB3aGljaCBtaWdodCBub3QgdHJpZ2dlclxuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCByZWxlYXNlQ2FwdHVyZSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWxlYXNlIGFueSBleGlzdGluZyBjYXB0dXJlIGluIGNhc2UgdGhpcyBtZXRob2QgaXNcbiAgICAgICAgLy8gY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdpdGhvdXQgY29vcmRpbmF0aW9uXG4gICAgICAgIHJlbGVhc2VDYXB0dXJlKCk7XG5cbiAgICAgICAgbGV0IGNhcHR1cmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub1ZOQ19tb3VzZV9jYXB0dXJlX2VsZW1cIik7XG5cbiAgICAgICAgaWYgKGNhcHR1cmVFbGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5pZCA9IFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLnpJbmRleCA9IDEwMDAwO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYXB0dXJlRWxlbSk7XG5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gbWFrZSBzdXJlIGNhbGxlcnMgZG9uJ3QgZ2V0IGNvbmZ1c2VkIGJ5IGhhdmluZ1xuICAgICAgICAgICAgLy8gb3VyIGJsb2NraW5nIGVsZW1lbnQgYXMgdGhlIHRhcmdldFxuICAgICAgICAgICAgY2FwdHVyZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBfY2FwdHVyZVByb3h5KTtcblxuICAgICAgICAgICAgY2FwdHVyZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY2FwdHVyZUVsZW0gPSBlbGVtO1xuICAgICAgICBfY2FwdHVyZUluZGV4Kys7XG5cbiAgICAgICAgLy8gVHJhY2sgY3Vyc29yIGFuZCBnZXQgaW5pdGlhbCBjdXJzb3JcbiAgICAgICAgX2NhcHR1cmVPYnNlcnZlci5vYnNlcnZlKGVsZW0sIHthdHRyaWJ1dGVzOiB0cnVlfSk7XG4gICAgICAgIF9jYXB0dXJlRWxlbUNoYW5nZWQoKTtcblxuICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblxuICAgICAgICAvLyBXZSBsaXN0ZW4gdG8gZXZlbnRzIG9uIHdpbmRvdyBpbiBvcmRlciB0byBrZWVwIHRyYWNraW5nIGlmIGl0XG4gICAgICAgIC8vIGhhcHBlbnMgdG8gbGVhdmUgdGhlIHZpZXdwb3J0XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfY2FwdHVyZVByb3h5KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfY2FwdHVyZVByb3h5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlQ2FwdHVyZSgpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVsZWFzZUNhcHR1cmUpIHtcblxuICAgICAgICBkb2N1bWVudC5yZWxlYXNlQ2FwdHVyZSgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFfY2FwdHVyZUVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGV2ZW50cyBhbHJlYWR5IHF1ZXVlZCwgc28gd2UgbmVlZCB0byB3YWl0IGZvclxuICAgICAgICAvLyB0aGVtIHRvIGZsdXNoLiBFLmcuIGNvbnRleHRtZW51IGluIE1pY3Jvc29mdCBFZGdlXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KChleHBlY3RlZCkgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBjbGVhciBpdCBpZiBpdCdzIHRoZSBleHBlY3RlZCBncmFiIChpLmUuIG5vIG9uZVxuICAgICAgICAgICAgLy8gZWxzZSBoYXMgaW5pdGlhdGVkIGEgbmV3IGdyYWIpXG4gICAgICAgICAgICBpZiAoX2NhcHR1cmVJbmRleCA9PT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBfY2FwdHVyZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwLCBfY2FwdHVyZUluZGV4KTtcblxuICAgICAgICBfY2FwdHVyZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblxuICAgICAgICBjb25zdCBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCIpO1xuICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF9jYXB0dXJlUHJveHkpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9jYXB0dXJlUHJveHkpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE4IFRoZSBub1ZOQyBBdXRob3JzXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudFRhcmdldE1peGluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KHR5cGUsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldCh0eXBlKS5hZGQoY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycy5oYXModHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5nZXQodHlwZSkuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMuaGFzKGV2ZW50LnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50LnR5cGUpXG4gICAgICAgICAgICAuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjay5jYWxsKHRoaXMsIGV2ZW50KSk7XG4gICAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG59XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxOCBUaGUgbm9WTkMgQXV0aG9yc1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuLypcbiAqIExvZ2dpbmcvZGVidWcgcm91dGluZXNcbiAqL1xuXG5sZXQgX2xvZ19sZXZlbCA9ICd3YXJuJztcblxubGV0IERlYnVnID0gKCkgPT4ge307XG5sZXQgSW5mbyA9ICgpID0+IHt9O1xubGV0IFdhcm4gPSAoKSA9PiB7fTtcbmxldCBFcnJvciA9ICgpID0+IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9sb2dnaW5nKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbGV2ZWwgPSBfbG9nX2xldmVsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIF9sb2dfbGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBEZWJ1ZyA9IEluZm8gPSBXYXJuID0gRXJyb3IgPSAoKSA9PiB7fTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93LmNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSwgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIERlYnVnID0gY29uc29sZS5kZWJ1Zy5iaW5kKHdpbmRvdy5jb25zb2xlKTtcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIEluZm8gID0gY29uc29sZS5pbmZvLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICAgICAgV2FybiAgPSBjb25zb2xlLndhcm4uYmluZCh3aW5kb3cuY29uc29sZSk7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgRXJyb3IgPSBjb25zb2xlLmVycm9yLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3aW5kb3cuRXJyb3IoXCJpbnZhbGlkIGxvZ2dpbmcgdHlwZSAnXCIgKyBsZXZlbCArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUsIG5vLWZhbGx0aHJvdWdoICovXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xvZ2dpbmcoKSB7XG4gICAgcmV0dXJuIF9sb2dfbGV2ZWw7XG59XG5cbmV4cG9ydCB7IERlYnVnLCBJbmZvLCBXYXJuLCBFcnJvciB9O1xuXG4vLyBJbml0aWFsaXplIGxvZ2dpbmcgbGV2ZWxcbmluaXRfbG9nZ2luZygpO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG4vKiBQb2x5ZmlsbHMgdG8gcHJvdmlkZSBuZXcgQVBJcyBpbiBvbGQgYnJvd3NlcnMgKi9cblxuLyogT2JqZWN0LmFzc2lnbigpICh0YWtlbiBmcm9tIE1ETikgKi9cbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gTXVzdCBiZSB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsIFwiYXNzaWduXCIsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHZhckFyZ3MpIHsgLy8gLmxlbmd0aCBvZiBmdW5jdGlvbiBpcyAyXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHsgLy8gVHlwZUVycm9yIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG4vKiBDdXN0b21FdmVudCBjb25zdHJ1Y3RvciAodGFrZW4gZnJvbSBNRE4pICovXG4oKCkgPT4ge1xuICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9O1xuICAgICAgICBjb25zdCBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCggJ0N1c3RvbUV2ZW50JyApO1xuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XG4gICAgICAgIHJldHVybiBldnQ7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG4gICAgfVxufSkoKTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE4IFRoZSBub1ZOQyBBdXRob3JzXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG4vKlxuICogRGVjb2RlIGZyb20gVVRGLThcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVVURjgodXRmOHN0cmluZykge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHV0ZjhzdHJpbmcpKTtcbn1cbiIsIi8qXG4gKiBXZWJzb2NrOiBoaWdoLXBlcmZvcm1hbmNlIGJpbmFyeSBXZWJTb2NrZXRzXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggVGhlIG5vVk5DIEF1dGhvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBXZWJzb2NrIGlzIHNpbWlsYXIgdG8gdGhlIHN0YW5kYXJkIFdlYlNvY2tldCBvYmplY3QgYnV0IHdpdGggZXh0cmFcbiAqIGJ1ZmZlciBoYW5kbGluZy5cbiAqXG4gKiBXZWJzb2NrIGhhcyBidWlsdC1pbiByZWNlaXZlIHF1ZXVlIGJ1ZmZlcmluZzsgdGhlIG1lc3NhZ2UgZXZlbnRcbiAqIGRvZXMgbm90IGNvbnRhaW4gYWN0dWFsIGRhdGEgYnV0IGlzIHNpbXBseSBhIG5vdGlmaWNhdGlvbiB0aGF0XG4gKiB0aGVyZSBpcyBuZXcgZGF0YSBhdmFpbGFibGUuIFNldmVyYWwgclEqIG1ldGhvZHMgYXJlIGF2YWlsYWJsZSB0b1xuICogcmVhZCBiaW5hcnkgZGF0YSBvZmYgb2YgdGhlIHJlY2VpdmUgcXVldWUuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcblxuLy8gdGhpcyBoYXMgcGVyZm9ybWFuY2UgaXNzdWVzIGluIHNvbWUgdmVyc2lvbnMgQ2hyb21pdW0sIGFuZFxuLy8gZG9lc24ndCBnYWluIGEgdHJlbWVuZG91cyBhbW91bnQgb2YgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW4gRmlyZWZveFxuLy8gYXQgdGhlIG1vbWVudC4gIEl0IG1heSBiZSB2YWx1YWJsZSB0byB0dXJuIGl0IG9uIGluIHRoZSBmdXR1cmUuXG5jb25zdCBFTkFCTEVfQ09QWVdJVEhJTiA9IGZhbHNlO1xuY29uc3QgTUFYX1JRX0dST1dfU0laRSA9IDQwICogMTAyNCAqIDEwMjQ7ICAvLyA0MCBNaUJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2Vic29jayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldCA9IG51bGw7ICAvLyBXZWJTb2NrZXQgb2JqZWN0XG5cbiAgICAgICAgdGhpcy5fclFpID0gMDsgICAgICAgICAgIC8vIFJlY2VpdmUgcXVldWUgaW5kZXhcbiAgICAgICAgdGhpcy5fclFsZW4gPSAwOyAgICAgICAgIC8vIE5leHQgd3JpdGUgcG9zaXRpb24gaW4gdGhlIHJlY2VpdmUgcXVldWVcbiAgICAgICAgdGhpcy5fclFidWZmZXJTaXplID0gMTAyNCAqIDEwMjQgKiA0OyAvLyBSZWNlaXZlIHF1ZXVlIGJ1ZmZlciBzaXplICg0IE1pQilcbiAgICAgICAgdGhpcy5fclFtYXggPSB0aGlzLl9yUWJ1ZmZlclNpemUgLyA4O1xuICAgICAgICAvLyBjYWxsZWQgaW4gaW5pdDogdGhpcy5fclEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUWJ1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9yUSA9IG51bGw7IC8vIFJlY2VpdmUgcXVldWVcblxuICAgICAgICB0aGlzLl9zUWJ1ZmZlclNpemUgPSAxMDI0ICogMTA7ICAvLyAxMCBLaUJcbiAgICAgICAgLy8gY2FsbGVkIGluIGluaXQ6IHRoaXMuX3NRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc1FidWZmZXJTaXplKTtcbiAgICAgICAgdGhpcy5fc1FsZW4gPSAwO1xuICAgICAgICB0aGlzLl9zUSA9IG51bGw7ICAvLyBTZW5kIHF1ZXVlXG5cbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICgpID0+IHt9LFxuICAgICAgICAgICAgb3BlbjogKCkgPT4ge30sXG4gICAgICAgICAgICBjbG9zZTogKCkgPT4ge30sXG4gICAgICAgICAgICBlcnJvcjogKCkgPT4ge31cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzXG4gICAgZ2V0IHNRKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc1E7XG4gICAgfVxuXG4gICAgZ2V0IHJRKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclE7XG4gICAgfVxuXG4gICAgZ2V0IHJRaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRaTtcbiAgICB9XG5cbiAgICBzZXQgclFpKHZhbCkge1xuICAgICAgICB0aGlzLl9yUWkgPSB2YWw7XG4gICAgfVxuXG4gICAgLy8gUmVjZWl2ZSBRdWV1ZVxuICAgIGdldCByUWxlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpO1xuICAgIH1cblxuICAgIHJRcGVlazgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUVt0aGlzLl9yUWldO1xuICAgIH1cblxuICAgIHJRc2tpcEJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgIHRoaXMuX3JRaSArPSBieXRlcztcbiAgICB9XG5cbiAgICByUXNoaWZ0OCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRc2hpZnQoMSk7XG4gICAgfVxuXG4gICAgclFzaGlmdDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclFzaGlmdCgyKTtcbiAgICB9XG5cbiAgICByUXNoaWZ0MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUXNoaWZ0KDQpO1xuICAgIH1cblxuICAgIC8vIFRPRE8oZGlyZWN0eG1hbjEyKTogdGVzdCBwZXJmb3JtYW5jZSB3aXRoIHRoZXNlIHZzIGEgRGF0YVZpZXdcbiAgICBfclFzaGlmdChieXRlcykge1xuICAgICAgICBsZXQgcmVzID0gMDtcbiAgICAgICAgZm9yIChsZXQgYnl0ZSA9IGJ5dGVzIC0gMTsgYnl0ZSA+PSAwOyBieXRlLS0pIHtcbiAgICAgICAgICAgIHJlcyArPSB0aGlzLl9yUVt0aGlzLl9yUWkrK10gPDwgKGJ5dGUgKiA4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHJRc2hpZnRTdHIobGVuKSB7XG4gICAgICAgIGlmICh0eXBlb2YobGVuKSA9PT0gJ3VuZGVmaW5lZCcpIHsgbGVuID0gdGhpcy5yUWxlbjsgfVxuICAgICAgICBsZXQgc3RyID0gXCJcIjtcbiAgICAgICAgLy8gSGFuZGxlIGxhcmdlIGFycmF5cyBpbiBzdGVwcyB0byBhdm9pZCBsb25nIHN0cmluZ3Mgb24gdGhlIHN0YWNrXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDQwOTYpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0ID0gdGhpcy5yUXNoaWZ0Qnl0ZXMoTWF0aC5taW4oNDA5NiwgbGVuIC0gaSkpO1xuICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgcGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICByUXNoaWZ0Qnl0ZXMobGVuKSB7XG4gICAgICAgIGlmICh0eXBlb2YobGVuKSA9PT0gJ3VuZGVmaW5lZCcpIHsgbGVuID0gdGhpcy5yUWxlbjsgfVxuICAgICAgICB0aGlzLl9yUWkgKz0gbGVuO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkgLSBsZW4sIGxlbik7XG4gICAgfVxuXG4gICAgclFzaGlmdFRvKHRhcmdldCwgbGVuKSB7XG4gICAgICAgIGlmIChsZW4gPT09IHVuZGVmaW5lZCkgeyBsZW4gPSB0aGlzLnJRbGVuOyB9XG4gICAgICAgIC8vIFRPRE86IG1ha2UgdGhpcyBqdXN0IHVzZSBzZXQgd2l0aCB2aWV3cyB3aGVuIHVzaW5nIGEgQXJyYXlCdWZmZXIgdG8gc3RvcmUgdGhlIHJRXG4gICAgICAgIHRhcmdldC5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWksIGxlbikpO1xuICAgICAgICB0aGlzLl9yUWkgKz0gbGVuO1xuICAgIH1cblxuICAgIHJRc2xpY2Uoc3RhcnQsIGVuZCA9IHRoaXMuclFsZW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpICsgc3RhcnQsIGVuZCAtIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgbXVzdCB3YWl0IGZvciAnbnVtJyBieXRlcyAoZGVmYXVsdCB0byBGQlUuYnl0ZXMpXG4gICAgLy8gdG8gYmUgYXZhaWxhYmxlIGluIHRoZSByZWNlaXZlIHF1ZXVlLiBSZXR1cm4gdHJ1ZSBpZiB3ZSBuZWVkIHRvXG4gICAgLy8gd2FpdCAoYW5kIHBvc3NpYmx5IHByaW50IGEgZGVidWcgbWVzc2FnZSksIG90aGVyd2lzZSBmYWxzZS5cbiAgICByUXdhaXQobXNnLCBudW0sIGdvYmFjaykge1xuICAgICAgICBpZiAodGhpcy5yUWxlbiA8IG51bSkge1xuICAgICAgICAgICAgaWYgKGdvYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yUWkgPCBnb2JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiclF3YWl0IGNhbm5vdCBiYWNrdXAgXCIgKyBnb2JhY2sgKyBcIiBieXRlc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fclFpIC09IGdvYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyB0cnVlIG1lYW5zIG5lZWQgbW9yZSBkYXRhXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFNlbmQgUXVldWVcblxuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fc1FsZW4gPiAwICYmIHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy5fd2Vic29ja2V0LnNlbmQodGhpcy5fZW5jb2RlX21lc3NhZ2UoKSk7XG4gICAgICAgICAgICB0aGlzLl9zUWxlbiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZW5kKGFycikge1xuICAgICAgICB0aGlzLl9zUS5zZXQoYXJyLCB0aGlzLl9zUWxlbik7XG4gICAgICAgIHRoaXMuX3NRbGVuICs9IGFyci5sZW5ndGg7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG5cbiAgICBzZW5kX3N0cmluZyhzdHIpIHtcbiAgICAgICAgdGhpcy5zZW5kKHN0ci5zcGxpdCgnJykubWFwKGNociA9PiBjaHIuY2hhckNvZGVBdCgwKSkpO1xuICAgIH1cblxuICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgb2ZmKGV2dCkge1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzW2V2dF0gPSAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBvbihldnQsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyc1tldnRdID0gaGFuZGxlcjtcbiAgICB9XG5cbiAgICBfYWxsb2NhdGVfYnVmZmVycygpIHtcbiAgICAgICAgdGhpcy5fclEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUWJ1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9zUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3NRYnVmZmVyU2l6ZSk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fYWxsb2NhdGVfYnVmZmVycygpO1xuICAgICAgICB0aGlzLl9yUWkgPSAwO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQgPSBudWxsO1xuICAgIH1cblxuICAgIG9wZW4odXJpLCBwcm90b2NvbHMpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5fd2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25tZXNzYWdlID0gdGhpcy5fcmVjdl9tZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBMb2cuRGVidWcoJz4+IFdlYlNvY2sub25vcGVuJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2Vic29ja2V0LnByb3RvY29sKSB7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJTZXJ2ZXIgY2hvb3NlIHN1Yi1wcm90b2NvbDogXCIgKyB0aGlzLl93ZWJzb2NrZXQucHJvdG9jb2wpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLm9wZW4oKTtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIjw8IFdlYlNvY2sub25vcGVuXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25jbG9zZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI+PiBXZWJTb2NrLm9uY2xvc2VcIik7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLmNsb3NlKGUpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPDwgV2ViU29jay5vbmNsb3NlXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI+PiBXZWJTb2NrLm9uZXJyb3I6IFwiICsgZSk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLmVycm9yKGUpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPDwgV2ViU29jay5vbmVycm9yOiBcIiArIGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vic29ja2V0KSB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykpIHtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIkNsb3NpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vic29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbm1lc3NhZ2UgPSAoKSA9PiB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIF9lbmNvZGVfbWVzc2FnZSgpIHtcbiAgICAgICAgLy8gUHV0IGluIGEgYmluYXJ5IGFycmF5YnVmZmVyXG4gICAgICAgIC8vIGFjY29yZGluZyB0byB0aGUgc3BlYywgeW91IGNhbiBzZW5kIEFycmF5QnVmZmVyVmlld3Mgd2l0aCB0aGUgc2VuZCBtZXRob2RcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3NRLmJ1ZmZlciwgMCwgdGhpcy5fc1FsZW4pO1xuICAgIH1cblxuICAgIF9leHBhbmRfY29tcGFjdF9yUShtaW5fZml0KSB7XG4gICAgICAgIGNvbnN0IHJlc2l6ZU5lZWRlZCA9IG1pbl9maXQgfHwgdGhpcy5yUWxlbiA+IHRoaXMuX3JRYnVmZmVyU2l6ZSAvIDI7XG4gICAgICAgIGlmIChyZXNpemVOZWVkZWQpIHtcbiAgICAgICAgICAgIGlmICghbWluX2ZpdCkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3QgZG91YmxlIHRoZSBzaXplIGlmIHdlIG5lZWQgdG8gZG8gY29tcGFjdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSAqPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIG1ha2Ugc3VyZSB3ZSBzYXRpc3kgclFsZW4gLSByUWkgKyBtaW5fZml0IDwgclFidWZmZXJTaXplIC8gOFxuICAgICAgICAgICAgICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSA9ICh0aGlzLnJRbGVuICsgbWluX2ZpdCkgKiA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBncm93IHVuYm91bmRlZGx5XG4gICAgICAgIGlmICh0aGlzLl9yUWJ1ZmZlclNpemUgPiBNQVhfUlFfR1JPV19TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9yUWJ1ZmZlclNpemUgPSBNQVhfUlFfR1JPV19TSVpFO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JRYnVmZmVyU2l6ZSAtIHRoaXMuclFsZW4gPCBtaW5fZml0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZSBRdWV1ZSBidWZmZXIgZXhjZWVkZWQgXCIgKyBNQVhfUlFfR1JPV19TSVpFICsgXCIgYnl0ZXMsIGFuZCB0aGUgbmV3IG1lc3NhZ2UgY291bGQgbm90IGZpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNpemVOZWVkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZF9yUWJ1ZmZlciA9IHRoaXMuX3JRLmJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuX3JRbWF4ID0gdGhpcy5fclFidWZmZXJTaXplIC8gODtcbiAgICAgICAgICAgIHRoaXMuX3JRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclFidWZmZXJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuX3JRLnNldChuZXcgVWludDhBcnJheShvbGRfclFidWZmZXIsIHRoaXMuX3JRaSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEVOQUJMRV9DT1BZV0lUSElOKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fclEuY29weVdpdGhpbigwLCB0aGlzLl9yUWkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JRbGVuID0gdGhpcy5fclFsZW4gLSB0aGlzLl9yUWk7XG4gICAgICAgIHRoaXMuX3JRaSA9IDA7XG4gICAgfVxuXG4gICAgX2RlY29kZV9tZXNzYWdlKGRhdGEpIHtcbiAgICAgICAgLy8gcHVzaCBhcnJheWJ1ZmZlciB2YWx1ZXMgb250byB0aGUgZW5kXG4gICAgICAgIGNvbnN0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgIGlmICh1OC5sZW5ndGggPiB0aGlzLl9yUWJ1ZmZlclNpemUgLSB0aGlzLl9yUWxlbikge1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NvbXBhY3RfclEodTgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yUS5zZXQodTgsIHRoaXMuX3JRbGVuKTtcbiAgICAgICAgdGhpcy5fclFsZW4gKz0gdTgubGVuZ3RoO1xuICAgIH1cblxuICAgIF9yZWN2X21lc3NhZ2UoZSkge1xuICAgICAgICB0aGlzLl9kZWNvZGVfbWVzc2FnZShlLmRhdGEpO1xuICAgICAgICBpZiAodGhpcy5yUWxlbiA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMubWVzc2FnZSgpO1xuICAgICAgICAgICAgLy8gQ29tcGFjdCB0aGUgcmVjZWl2ZSBxdWV1ZVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JRbGVuID09IHRoaXMuX3JRaSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JRbGVuID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUWkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9yUWxlbiA+IHRoaXMuX3JRbWF4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NvbXBhY3RfclEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIklnbm9yaW5nIGVtcHR5IG1lc3NhZ2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyByZWR1Y2UgYnVmZmVyIHNpemUsIGF2b2lkaW5nIG1lbSBjb3B5XG5leHBvcnQgZnVuY3Rpb24gc2hyaW5rQnVmIChidWYsIHNpemUpIHtcbiAgaWYgKGJ1Zi5sZW5ndGggPT09IHNpemUpIHsgcmV0dXJuIGJ1ZjsgfVxuICBpZiAoYnVmLnN1YmFycmF5KSB7IHJldHVybiBidWYuc3ViYXJyYXkoMCwgc2l6ZSk7IH1cbiAgYnVmLmxlbmd0aCA9IHNpemU7XG4gIHJldHVybiBidWY7XG59O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVNldCAoZGVzdCwgc3JjLCBzcmNfb2ZmcywgbGVuLCBkZXN0X29mZnMpIHtcbiAgaWYgKHNyYy5zdWJhcnJheSAmJiBkZXN0LnN1YmFycmF5KSB7XG4gICAgZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLCBzcmNfb2ZmcyArIGxlbiksIGRlc3Rfb2Zmcyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIEZhbGxiYWNrIHRvIG9yZGluYXJ5IGFycmF5XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZXN0W2Rlc3Rfb2ZmcyArIGldID0gc3JjW3NyY19vZmZzICsgaV07XG4gIH1cbn1cblxuLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5DaHVua3MgKGNodW5rcykge1xuICB2YXIgaSwgbCwgbGVuLCBwb3MsIGNodW5rLCByZXN1bHQ7XG5cbiAgLy8gY2FsY3VsYXRlIGRhdGEgbGVuZ3RoXG4gIGxlbiA9IDA7XG4gIGZvciAoaSA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGVuICs9IGNodW5rc1tpXS5sZW5ndGg7XG4gIH1cblxuICAvLyBqb2luIGNodW5rc1xuICByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICBwb3MgPSAwO1xuICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNodW5rID0gY2h1bmtzW2ldO1xuICAgIHJlc3VsdC5zZXQoY2h1bmssIHBvcyk7XG4gICAgcG9zICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB2YXIgQnVmOCAgPSBVaW50OEFycmF5O1xuZXhwb3J0IHZhciBCdWYxNiA9IFVpbnQxNkFycmF5O1xuZXhwb3J0IHZhciBCdWYzMiA9IEludDMyQXJyYXk7XG4iLCIvLyBOb3RlOiBhZGxlcjMyIHRha2VzIDEyJSBmb3IgbGV2ZWwgMCBhbmQgMiUgZm9yIGxldmVsIDYuXG4vLyBJdCBkb2Vzbid0IHdvcnRoIHRvIG1ha2UgYWRkaXRpb25hbCBvcHRpbWl6YXRpb25hIGFzIGluIG9yaWdpbmFsLlxuLy8gU21hbGwgc2l6ZSBpcyBwcmVmZXJhYmxlLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGxlcjMyKGFkbGVyLCBidWYsIGxlbiwgcG9zKSB7XG4gIHZhciBzMSA9IChhZGxlciAmIDB4ZmZmZikgfDAsXG4gICAgICBzMiA9ICgoYWRsZXIgPj4+IDE2KSAmIDB4ZmZmZikgfDAsXG4gICAgICBuID0gMDtcblxuICB3aGlsZSAobGVuICE9PSAwKSB7XG4gICAgLy8gU2V0IGxpbWl0IH4gdHdpY2UgbGVzcyB0aGFuIDU1NTIsIHRvIGtlZXBcbiAgICAvLyBzMiBpbiAzMS1iaXRzLCBiZWNhdXNlIHdlIGZvcmNlIHNpZ25lZCBpbnRzLlxuICAgIC8vIGluIG90aGVyIGNhc2UgJT0gd2lsbCBmYWlsLlxuICAgIG4gPSBsZW4gPiAyMDAwID8gMjAwMCA6IGxlbjtcbiAgICBsZW4gLT0gbjtcblxuICAgIGRvIHtcbiAgICAgIHMxID0gKHMxICsgYnVmW3BvcysrXSkgfDA7XG4gICAgICBzMiA9IChzMiArIHMxKSB8MDtcbiAgICB9IHdoaWxlICgtLW4pO1xuXG4gICAgczEgJT0gNjU1MjE7XG4gICAgczIgJT0gNjU1MjE7XG4gIH1cblxuICByZXR1cm4gKHMxIHwgKHMyIDw8IDE2KSkgfDA7XG59XG4iLCIvLyBOb3RlOiB3ZSBjYW4ndCBnZXQgc2lnbmlmaWNhbnQgc3BlZWQgYm9vc3QgaGVyZS5cbi8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbi8vIGFuZCBhcnJheSB0b29scyBkZXBlbmRlbmNpZXMuXG5cblxuLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgdmFyIGMsIHRhYmxlID0gW107XG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCAyNTY7IG4rKykge1xuICAgIGMgPSBuO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgODsgaysrKSB7XG4gICAgICBjID0gKChjICYgMSkgPyAoMHhFREI4ODMyMCBeIChjID4+PiAxKSkgOiAoYyA+Pj4gMSkpO1xuICAgIH1cbiAgICB0YWJsZVtuXSA9IGM7XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59XG5cbi8vIENyZWF0ZSB0YWJsZSBvbiBsb2FkLiBKdXN0IDI1NSBzaWduZWQgbG9uZ3MuIE5vdCBhIHByb2JsZW0uXG52YXIgY3JjVGFibGUgPSBtYWtlVGFibGUoKTtcblxuXG5mdW5jdGlvbiBjcmMzMihjcmMsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHQgPSBjcmNUYWJsZSxcbiAgICAgIGVuZCA9IHBvcyArIGxlbjtcblxuICBjcmMgXj0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhGRl07XG4gIH1cblxuICByZXR1cm4gKGNyYyBeICgtMSkpOyAvLyA+Pj4gMDtcbn1cbiIsIi8vIFNlZSBzdGF0ZSBkZWZzIGZyb20gaW5mbGF0ZS5qc1xudmFyIEJBRCA9IDMwOyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgVFlQRSA9IDEyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cblxuLypcbiAgIERlY29kZSBsaXRlcmFsLCBsZW5ndGgsIGFuZCBkaXN0YW5jZSBjb2RlcyBhbmQgd3JpdGUgb3V0IHRoZSByZXN1bHRpbmdcbiAgIGxpdGVyYWwgYW5kIG1hdGNoIGJ5dGVzIHVudGlsIGVpdGhlciBub3QgZW5vdWdoIGlucHV0IG9yIG91dHB1dCBpc1xuICAgYXZhaWxhYmxlLCBhbiBlbmQtb2YtYmxvY2sgaXMgZW5jb3VudGVyZWQsIG9yIGEgZGF0YSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgIFdoZW4gbGFyZ2UgZW5vdWdoIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBhcmUgc3VwcGxpZWQgdG8gaW5mbGF0ZSgpLCBmb3JcbiAgIGV4YW1wbGUsIGEgMTZLIGlucHV0IGJ1ZmZlciBhbmQgYSA2NEsgb3V0cHV0IGJ1ZmZlciwgbW9yZSB0aGFuIDk1JSBvZiB0aGVcbiAgIGluZmxhdGUgZXhlY3V0aW9uIHRpbWUgaXMgc3BlbnQgaW4gdGhpcyByb3V0aW5lLlxuXG4gICBFbnRyeSBhc3N1bXB0aW9uczpcblxuICAgICAgICBzdGF0ZS5tb2RlID09PSBMRU5cbiAgICAgICAgc3RybS5hdmFpbF9pbiA+PSA2XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID49IDI1OFxuICAgICAgICBzdGFydCA+PSBzdHJtLmF2YWlsX291dFxuICAgICAgICBzdGF0ZS5iaXRzIDwgOFxuXG4gICBPbiByZXR1cm4sIHN0YXRlLm1vZGUgaXMgb25lIG9mOlxuXG4gICAgICAgIExFTiAtLSByYW4gb3V0IG9mIGVub3VnaCBvdXRwdXQgc3BhY2Ugb3IgZW5vdWdoIGF2YWlsYWJsZSBpbnB1dFxuICAgICAgICBUWVBFIC0tIHJlYWNoZWQgZW5kIG9mIGJsb2NrIGNvZGUsIGluZmxhdGUoKSB0byBpbnRlcnByZXQgbmV4dCBibG9ja1xuICAgICAgICBCQUQgLS0gZXJyb3IgaW4gYmxvY2sgZGF0YVxuXG4gICBOb3RlczpcblxuICAgIC0gVGhlIG1heGltdW0gaW5wdXQgYml0cyB1c2VkIGJ5IGEgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgaXMgMTUgYml0cyBmb3IgdGhlXG4gICAgICBsZW5ndGggY29kZSwgNSBiaXRzIGZvciB0aGUgbGVuZ3RoIGV4dHJhLCAxNSBiaXRzIGZvciB0aGUgZGlzdGFuY2UgY29kZSxcbiAgICAgIGFuZCAxMyBiaXRzIGZvciB0aGUgZGlzdGFuY2UgZXh0cmEuICBUaGlzIHRvdGFscyA0OCBiaXRzLCBvciBzaXggYnl0ZXMuXG4gICAgICBUaGVyZWZvcmUgaWYgc3RybS5hdmFpbF9pbiA+PSA2LCB0aGVuIHRoZXJlIGlzIGVub3VnaCBpbnB1dCB0byBhdm9pZFxuICAgICAgY2hlY2tpbmcgZm9yIGF2YWlsYWJsZSBpbnB1dCB3aGlsZSBkZWNvZGluZy5cblxuICAgIC0gVGhlIG1heGltdW0gYnl0ZXMgdGhhdCBhIHNpbmdsZSBsZW5ndGgvZGlzdGFuY2UgcGFpciBjYW4gb3V0cHV0IGlzIDI1OFxuICAgICAgYnl0ZXMsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIGxlbmd0aCB0aGF0IGNhbiBiZSBjb2RlZC4gIGluZmxhdGVfZmFzdCgpXG4gICAgICByZXF1aXJlcyBzdHJtLmF2YWlsX291dCA+PSAyNTggZm9yIGVhY2ggbG9vcCB0byBhdm9pZCBjaGVja2luZyBmb3JcbiAgICAgIG91dHB1dCBzcGFjZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5mbGF0ZV9mYXN0KHN0cm0sIHN0YXJ0KSB7XG4gIHZhciBzdGF0ZTtcbiAgdmFyIF9pbjsgICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaW5wdXQgKi9cbiAgdmFyIGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIGhhdmUgZW5vdWdoIGlucHV0IHdoaWxlIGluIDwgbGFzdCAqL1xuICB2YXIgX291dDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGJlZzsgICAgICAgICAgICAgICAgICAgIC8qIGluZmxhdGUoKSdzIGluaXRpYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHdoaWxlIG91dCA8IGVuZCwgZW5vdWdoIHNwYWNlIGF2YWlsYWJsZSAqL1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgdmFyIGRtYXg7ICAgICAgICAgICAgICAgICAgIC8qIG1heGltdW0gZGlzdGFuY2UgZnJvbSB6bGliIGhlYWRlciAqL1xuLy8jZW5kaWZcbiAgdmFyIHdzaXplOyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB2YXIgd2hhdmU7ICAgICAgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB2YXIgd25leHQ7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIC8vIFVzZSBgc193aW5kb3dgIGluc3RlYWQgYHdpbmRvd2AsIGF2b2lkIGNvbmZsaWN0IHdpdGggaW5zdHJ1bWVudGF0aW9uIHRvb2xzXG4gIHZhciBzX3dpbmRvdzsgICAgICAgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIHdzaXplICE9IDAgKi9cbiAgdmFyIGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaG9sZCAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5iaXRzICovXG4gIHZhciBsY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmxlbmNvZGUgKi9cbiAgdmFyIGRjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uZGlzdGNvZGUgKi9cbiAgdmFyIGxtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGxlbmd0aCBjb2RlcyAqL1xuICB2YXIgZG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgdmFyIGhlcmU7ICAgICAgICAgICAgICAgICAgIC8qIHJldHJpZXZlZCB0YWJsZSBlbnRyeSAqL1xuICB2YXIgb3A7ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBiaXRzLCBvcGVyYXRpb24sIGV4dHJhIGJpdHMsIG9yICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAgd2luZG93IHBvc2l0aW9uLCB3aW5kb3cgYnl0ZXMgdG8gY29weSAqL1xuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoLCB1bnVzZWQgYnl0ZXMgKi9cbiAgdmFyIGRpc3Q7ICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGRpc3RhbmNlICovXG4gIHZhciBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGZyb20gKi9cbiAgdmFyIGZyb21fc291cmNlO1xuXG5cbiAgdmFyIGlucHV0LCBvdXRwdXQ7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcblxuICAvKiBjb3B5IHN0YXRlIHRvIGxvY2FsIHZhcmlhYmxlcyAqL1xuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIC8vaGVyZSA9IHN0YXRlLmhlcmU7XG4gIF9pbiA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBsYXN0ID0gX2luICsgKHN0cm0uYXZhaWxfaW4gLSA1KTtcbiAgX291dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBiZWcgPSBfb3V0IC0gKHN0YXJ0IC0gc3RybS5hdmFpbF9vdXQpO1xuICBlbmQgPSBfb3V0ICsgKHN0cm0uYXZhaWxfb3V0IC0gMjU3KTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIGRtYXggPSBzdGF0ZS5kbWF4O1xuLy8jZW5kaWZcbiAgd3NpemUgPSBzdGF0ZS53c2l6ZTtcbiAgd2hhdmUgPSBzdGF0ZS53aGF2ZTtcbiAgd25leHQgPSBzdGF0ZS53bmV4dDtcbiAgc193aW5kb3cgPSBzdGF0ZS53aW5kb3c7XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgbGNvZGUgPSBzdGF0ZS5sZW5jb2RlO1xuICBkY29kZSA9IHN0YXRlLmRpc3Rjb2RlO1xuICBsbWFzayA9ICgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMTtcbiAgZG1hc2sgPSAoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxO1xuXG5cbiAgLyogZGVjb2RlIGxpdGVyYWxzIGFuZCBsZW5ndGgvZGlzdGFuY2VzIHVudGlsIGVuZC1vZi1ibG9jayBvciBub3QgZW5vdWdoXG4gICAgIGlucHV0IGRhdGEgb3Igb3V0cHV0IHNwYWNlICovXG5cbiAgdG9wOlxuICBkbyB7XG4gICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgfVxuXG4gICAgaGVyZSA9IGxjb2RlW2hvbGQgJiBsbWFza107XG5cbiAgICBkb2xlbjpcbiAgICBmb3IgKDs7KSB7IC8vIEdvdG8gZW11bGF0aW9uXG4gICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgIGJpdHMgLT0gb3A7XG4gICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG4gICAgICBpZiAob3AgPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxpdGVyYWwgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgb3V0cHV0W19vdXQrK10gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBiYXNlICovXG4gICAgICAgIGxlbiA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgIGlmIChvcCkge1xuICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIGxlbikpO1xuICAgICAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgaGVyZSA9IGRjb2RlW2hvbGQgJiBkbWFza107XG5cbiAgICAgICAgZG9kaXN0OlxuICAgICAgICBmb3IgKDs7KSB7IC8vIGdvdG8gZW11bGF0aW9uXG4gICAgICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuXG4gICAgICAgICAgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFzZSAqL1xuICAgICAgICAgICAgZGlzdCA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXN0ICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICAgICAgaWYgKGRpc3QgPiBkbWF4KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIGRpc3QpKTtcbiAgICAgICAgICAgIG9wID0gX291dCAtIGJlZzsgICAgICAgICAgICAgICAgLyogbWF4IGRpc3RhbmNlIGluIG91dHB1dCAqL1xuICAgICAgICAgICAgaWYgKGRpc3QgPiBvcCkgeyAgICAgICAgICAgICAgICAvKiBzZWUgaWYgY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBvcCA9IGRpc3QgLSBvcDsgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBpZiAob3AgPiB3aGF2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgICAgIH1cblxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhaWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgICAgICAgaWYgKGxlbiA8PSBvcCAtIHdoYXZlKSB7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgbGVuIC09IG9wIC0gd2hhdmU7XG4vLyAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3AgPiB3aGF2ZSk7XG4vLyAgICAgICAgICAgICAgICBpZiAob3AgPT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0O1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyb20gPSAwOyAvLyB3aW5kb3cgaW5kZXhcbiAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBzX3dpbmRvdztcbiAgICAgICAgICAgICAgaWYgKHduZXh0ID09PSAwKSB7ICAgICAgICAgICAvKiB2ZXJ5IGNvbW1vbiBjYXNlICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAod25leHQgPCBvcCkgeyAgICAgIC8qIHdyYXAgYXJvdW5kIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgKyB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIG9wIC09IHduZXh0O1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSBlbmQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgICAgICAgICAgICBpZiAod25leHQgPCBsZW4pIHsgIC8qIHNvbWUgZnJvbSBzdGFydCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgICAgb3AgPSB3bmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvKiBjb250aWd1b3VzIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlIChsZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAgICAgLyogY29weSBkaXJlY3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgZG8geyAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1pbmltdW0gbGVuZ3RoIGlzIHRocmVlICovXG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGxlbiA+IDIpO1xuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgIC8qIDJuZCBsZXZlbCBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgICAgICBoZXJlID0gZGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgICAgIGNvbnRpbnVlIGRvZGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgICAgIC8qIDJuZCBsZXZlbCBsZW5ndGggY29kZSAqL1xuICAgICAgICBoZXJlID0gbGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgY29udGludWUgZG9sZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDMyKSB7ICAgICAgICAgICAgICAgICAgICAgLyogZW5kLW9mLWJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgfVxuICB9IHdoaWxlIChfaW4gPCBsYXN0ICYmIF9vdXQgPCBlbmQpO1xuXG4gIC8qIHJldHVybiB1bnVzZWQgYnl0ZXMgKG9uIGVudHJ5LCBiaXRzIDwgOCwgc28gaW4gd29uJ3QgZ28gdG9vIGZhciBiYWNrKSAqL1xuICBsZW4gPSBiaXRzID4+IDM7XG4gIF9pbiAtPSBsZW47XG4gIGJpdHMgLT0gbGVuIDw8IDM7XG4gIGhvbGQgJj0gKDEgPDwgYml0cykgLSAxO1xuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmV0dXJuICovXG4gIHN0cm0ubmV4dF9pbiA9IF9pbjtcbiAgc3RybS5uZXh0X291dCA9IF9vdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSAoX2luIDwgbGFzdCA/IDUgKyAobGFzdCAtIF9pbikgOiA1IC0gKF9pbiAtIGxhc3QpKTtcbiAgc3RybS5hdmFpbF9vdXQgPSAoX291dCA8IGVuZCA/IDI1NyArIChlbmQgLSBfb3V0KSA6IDI1NyAtIChfb3V0IC0gZW5kKSk7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgcmV0dXJuO1xufTtcbiIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi91dGlscy9jb21tb24uanNcIjtcbmltcG9ydCBhZGxlcjMyIGZyb20gXCIuL2FkbGVyMzIuanNcIjtcbmltcG9ydCBjcmMzMiBmcm9tIFwiLi9jcmMzMi5qc1wiO1xuaW1wb3J0IGluZmxhdGVfZmFzdCBmcm9tIFwiLi9pbmZmYXN0LmpzXCI7XG5pbXBvcnQgaW5mbGF0ZV90YWJsZSBmcm9tIFwiLi9pbmZ0cmVlcy5qc1wiO1xuXG52YXIgQ09ERVMgPSAwO1xudmFyIExFTlMgPSAxO1xudmFyIERJU1RTID0gMjtcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuLyogQWxsb3dlZCBmbHVzaCB2YWx1ZXM7IHNlZSBkZWZsYXRlKCkgYW5kIGluZmxhdGUoKSBiZWxvdyBmb3IgZGV0YWlscyAqL1xuLy92YXIgWl9OT19GTFVTSCAgICAgID0gMDtcbi8vdmFyIFpfUEFSVElBTF9GTFVTSCA9IDE7XG4vL3ZhciBaX1NZTkNfRkxVU0ggICAgPSAyO1xuLy92YXIgWl9GVUxMX0ZMVVNIICAgID0gMztcbnZhciBaX0ZJTklTSCAgICAgICAgPSA0O1xudmFyIFpfQkxPQ0sgICAgICAgICA9IDU7XG52YXIgWl9UUkVFUyAgICAgICAgID0gNjtcblxuXG4vKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gKi9cbnZhciBaX09LICAgICAgICAgICAgPSAwO1xudmFyIFpfU1RSRUFNX0VORCAgICA9IDE7XG52YXIgWl9ORUVEX0RJQ1QgICAgID0gMjtcbi8vdmFyIFpfRVJSTk8gICAgICAgICA9IC0xO1xudmFyIFpfU1RSRUFNX0VSUk9SICA9IC0yO1xudmFyIFpfREFUQV9FUlJPUiAgICA9IC0zO1xudmFyIFpfTUVNX0VSUk9SICAgICA9IC00O1xudmFyIFpfQlVGX0VSUk9SICAgICA9IC01O1xuLy92YXIgWl9WRVJTSU9OX0VSUk9SID0gLTY7XG5cbi8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xudmFyIFpfREVGTEFURUQgID0gODtcblxuXG4vKiBTVEFURVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG52YXIgICAgSEVBRCA9IDE7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1hZ2ljIGhlYWRlciAqL1xudmFyICAgIEZMQUdTID0gMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtZXRob2QgYW5kIGZsYWdzIChnemlwKSAqL1xudmFyICAgIFRJTUUgPSAzOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtb2RpZmljYXRpb24gdGltZSAoZ3ppcCkgKi9cbnZhciAgICBPUyA9IDQ7ICAgICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgZmxhZ3MgYW5kIG9wZXJhdGluZyBzeXN0ZW0gKGd6aXApICovXG52YXIgICAgRVhMRU4gPSA1OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGxlbmd0aCAoZ3ppcCkgKi9cbnZhciAgICBFWFRSQSA9IDY7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgYnl0ZXMgKGd6aXApICovXG52YXIgICAgTkFNRSA9IDc7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBmaWxlIG5hbWUgKGd6aXApICovXG52YXIgICAgQ09NTUVOVCA9IDg7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBjb21tZW50IChnemlwKSAqL1xudmFyICAgIEhDUkMgPSA5OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBoZWFkZXIgY3JjIChnemlwKSAqL1xudmFyICAgIERJQ1RJRCA9IDEwOyAgICAvKiBpOiB3YWl0aW5nIGZvciBkaWN0aW9uYXJ5IGNoZWNrIHZhbHVlICovXG52YXIgICAgRElDVCA9IDExOyAgICAgIC8qIHdhaXRpbmcgZm9yIGluZmxhdGVTZXREaWN0aW9uYXJ5KCkgY2FsbCAqL1xudmFyICAgICAgICBUWVBFID0gMTI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xudmFyICAgICAgICBUWVBFRE8gPSAxMzsgICAgLyogaTogc2FtZSwgYnV0IHNraXAgY2hlY2sgdG8gZXhpdCBpbmZsYXRlIG9uIG5ldyBibG9jayAqL1xudmFyICAgICAgICBTVE9SRUQgPSAxNDsgICAgLyogaTogd2FpdGluZyBmb3Igc3RvcmVkIHNpemUgKGxlbmd0aCBhbmQgY29tcGxlbWVudCkgKi9cbnZhciAgICAgICAgQ09QWV8gPSAxNTsgICAgIC8qIGkvbzogc2FtZSBhcyBDT1BZIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG52YXIgICAgICAgIENPUFkgPSAxNjsgICAgICAvKiBpL286IHdhaXRpbmcgZm9yIGlucHV0IG9yIG91dHB1dCB0byBjb3B5IHN0b3JlZCBibG9jayAqL1xudmFyICAgICAgICBUQUJMRSA9IDE3OyAgICAgLyogaTogd2FpdGluZyBmb3IgZHluYW1pYyBibG9jayB0YWJsZSBsZW5ndGhzICovXG52YXIgICAgICAgIExFTkxFTlMgPSAxODsgICAvKiBpOiB3YWl0aW5nIGZvciBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgQ09ERUxFTlMgPSAxOTsgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQgYW5kIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xudmFyICAgICAgICAgICAgTEVOXyA9IDIwOyAgICAgIC8qIGk6IHNhbWUgYXMgTEVOIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG52YXIgICAgICAgICAgICBMRU4gPSAyMTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdC9lb2IgY29kZSAqL1xudmFyICAgICAgICAgICAgTEVORVhUID0gMjI7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aCBleHRyYSBiaXRzICovXG52YXIgICAgICAgICAgICBESVNUID0gMjM7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgY29kZSAqL1xudmFyICAgICAgICAgICAgRElTVEVYVCA9IDI0OyAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGV4dHJhIGJpdHMgKi9cbnZhciAgICAgICAgICAgIE1BVENIID0gMjU7ICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gY29weSBzdHJpbmcgKi9cbnZhciAgICAgICAgICAgIExJVCA9IDI2OyAgICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gd3JpdGUgbGl0ZXJhbCAqL1xudmFyICAgIENIRUNLID0gMjc7ICAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgY2hlY2sgdmFsdWUgKi9cbnZhciAgICBMRU5HVEggPSAyODsgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGxlbmd0aCAoZ3ppcCkgKi9cbnZhciAgICBET05FID0gMjk7ICAgICAgLyogZmluaXNoZWQgY2hlY2ssIGRvbmUgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBCQUQgPSAzMDsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIE1FTSA9IDMxOyAgICAgICAvKiBnb3QgYW4gaW5mbGF0ZSgpIG1lbW9yeSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIFNZTkMgPSAzMjsgICAgICAvKiBsb29raW5nIGZvciBzeW5jaHJvbml6YXRpb24gYnl0ZXMgdG8gcmVzdGFydCBpbmZsYXRlKCkgKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5cbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAgKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xudmFyIERFRl9XQklUUyA9IE1BWF9XQklUUztcblxuXG5mdW5jdGlvbiB6c3dhcDMyKHEpIHtcbiAgcmV0dXJuICAoKChxID4+PiAyNCkgJiAweGZmKSArXG4gICAgICAgICAgKChxID4+PiA4KSAmIDB4ZmYwMCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYwMCkgPDwgOCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYpIDw8IDI0KSk7XG59XG5cblxuZnVuY3Rpb24gSW5mbGF0ZVN0YXRlKCkge1xuICB0aGlzLm1vZGUgPSAwOyAgICAgICAgICAgICAvKiBjdXJyZW50IGluZmxhdGUgbW9kZSAqL1xuICB0aGlzLmxhc3QgPSBmYWxzZTsgICAgICAgICAgLyogdHJ1ZSBpZiBwcm9jZXNzaW5nIGxhc3QgYmxvY2sgKi9cbiAgdGhpcy53cmFwID0gMDsgICAgICAgICAgICAgIC8qIGJpdCAwIHRydWUgZm9yIHpsaWIsIGJpdCAxIHRydWUgZm9yIGd6aXAgKi9cbiAgdGhpcy5oYXZlZGljdCA9IGZhbHNlOyAgICAgIC8qIHRydWUgaWYgZGljdGlvbmFyeSBwcm92aWRlZCAqL1xuICB0aGlzLmZsYWdzID0gMDsgICAgICAgICAgICAgLyogZ3ppcCBoZWFkZXIgbWV0aG9kIGFuZCBmbGFncyAoMCBpZiB6bGliKSAqL1xuICB0aGlzLmRtYXggPSAwOyAgICAgICAgICAgICAgLyogemxpYiBoZWFkZXIgbWF4IGRpc3RhbmNlIChJTkZMQVRFX1NUUklDVCkgKi9cbiAgdGhpcy5jaGVjayA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIGNoZWNrIHZhbHVlICovXG4gIHRoaXMudG90YWwgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBvdXRwdXQgY291bnQgKi9cbiAgLy8gVE9ETzogbWF5IGJlIHt9XG4gIHRoaXMuaGVhZCA9IG51bGw7ICAgICAgICAgICAvKiB3aGVyZSB0byBzYXZlIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uICovXG5cbiAgLyogc2xpZGluZyB3aW5kb3cgKi9cbiAgdGhpcy53Yml0cyA9IDA7ICAgICAgICAgICAgIC8qIGxvZyBiYXNlIDIgb2YgcmVxdWVzdGVkIHdpbmRvdyBzaXplICovXG4gIHRoaXMud3NpemUgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgdGhpcy53aGF2ZSA9IDA7ICAgICAgICAgICAgIC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgdGhpcy53bmV4dCA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICB0aGlzLndpbmRvdyA9IG51bGw7ICAgICAgICAgLyogYWxsb2NhdGVkIHNsaWRpbmcgd2luZG93LCBpZiBuZWVkZWQgKi9cblxuICAvKiBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5ob2xkID0gMDsgICAgICAgICAgICAgIC8qIGlucHV0IGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmJpdHMgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGJpdHMgaW4gXCJpblwiICovXG5cbiAgLyogZm9yIHN0cmluZyBhbmQgc3RvcmVkIGJsb2NrIGNvcHlpbmcgKi9cbiAgdGhpcy5sZW5ndGggPSAwOyAgICAgICAgICAgIC8qIGxpdGVyYWwgb3IgbGVuZ3RoIG9mIGRhdGEgdG8gY29weSAqL1xuICB0aGlzLm9mZnNldCA9IDA7ICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFjayB0byBjb3B5IHN0cmluZyBmcm9tICovXG5cbiAgLyogZm9yIHRhYmxlIGFuZCBjb2RlIGRlY29kaW5nICovXG4gIHRoaXMuZXh0cmEgPSAwOyAgICAgICAgICAgICAvKiBleHRyYSBiaXRzIG5lZWRlZCAqL1xuXG4gIC8qIGZpeGVkIGFuZCBkeW5hbWljIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuY29kZSA9IG51bGw7ICAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAqL1xuICB0aGlzLmRpc3Rjb2RlID0gbnVsbDsgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKi9cbiAgdGhpcy5sZW5iaXRzID0gMDsgICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGxlbmNvZGUgKi9cbiAgdGhpcy5kaXN0Yml0cyA9IDA7ICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGRpc3Rjb2RlICovXG5cbiAgLyogZHluYW1pYyB0YWJsZSBidWlsZGluZyAqL1xuICB0aGlzLm5jb2RlID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5sZW4gPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5uZGlzdCA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5oYXZlID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aHMgaW4gbGVuc1tdICovXG4gIHRoaXMubmV4dCA9IG51bGw7ICAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiBjb2Rlc1tdICovXG5cbiAgdGhpcy5sZW5zID0gbmV3IHV0aWxzLkJ1ZjE2KDMyMCk7IC8qIHRlbXBvcmFyeSBzdG9yYWdlIGZvciBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy53b3JrID0gbmV3IHV0aWxzLkJ1ZjE2KDI4OCk7IC8qIHdvcmsgYXJlYSBmb3IgY29kZSB0YWJsZSBidWlsZGluZyAqL1xuXG4gIC8qXG4gICBiZWNhdXNlIHdlIGRvbid0IGhhdmUgcG9pbnRlcnMgaW4ganMsIHdlIHVzZSBsZW5jb2RlIGFuZCBkaXN0Y29kZSBkaXJlY3RseVxuICAgYXMgYnVmZmVycyBzbyB3ZSBkb24ndCBuZWVkIGNvZGVzXG4gICovXG4gIC8vdGhpcy5jb2RlcyA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0gpOyAgICAgICAvKiBzcGFjZSBmb3IgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5keW4gPSBudWxsOyAgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLmRpc3RkeW4gPSBudWxsOyAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuc2FuZSA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGlmIGZhbHNlLCBhbGxvdyBpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgKi9cbiAgdGhpcy5iYWNrID0gMDsgICAgICAgICAgICAgICAgICAgLyogYml0cyBiYWNrIG9mIGxhc3QgdW5wcm9jZXNzZWQgbGVuZ3RoL2xpdCAqL1xuICB0aGlzLndhcyA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBpbml0aWFsIGxlbmd0aCBvZiBtYXRjaCAqL1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdHJtLnRvdGFsX2luID0gc3RybS50b3RhbF9vdXQgPSBzdGF0ZS50b3RhbCA9IDA7XG4gIHN0cm0ubXNnID0gJyc7IC8qWl9OVUxMKi9cbiAgaWYgKHN0YXRlLndyYXApIHsgICAgICAgLyogdG8gc3VwcG9ydCBpbGwtY29uY2VpdmVkIEphdmEgdGVzdCBzdWl0ZSAqL1xuICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS53cmFwICYgMTtcbiAgfVxuICBzdGF0ZS5tb2RlID0gSEVBRDtcbiAgc3RhdGUubGFzdCA9IDA7XG4gIHN0YXRlLmhhdmVkaWN0ID0gMDtcbiAgc3RhdGUuZG1heCA9IDMyNzY4O1xuICBzdGF0ZS5oZWFkID0gbnVsbC8qWl9OVUxMKi87XG4gIHN0YXRlLmhvbGQgPSAwO1xuICBzdGF0ZS5iaXRzID0gMDtcbiAgLy9zdGF0ZS5sZW5jb2RlID0gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5sZW5keW4gPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0xFTlMpO1xuICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW4gPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0RJU1RTKTtcblxuICBzdGF0ZS5zYW5lID0gMTtcbiAgc3RhdGUuYmFjayA9IC0xO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IHJlc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldChzdHJtKSB7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RhdGUud3NpemUgPSAwO1xuICBzdGF0ZS53aGF2ZSA9IDA7XG4gIHN0YXRlLnduZXh0ID0gMDtcbiAgcmV0dXJuIGluZmxhdGVSZXNldEtlZXAoc3RybSk7XG5cbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKSB7XG4gIHZhciB3cmFwO1xuICB2YXIgc3RhdGU7XG5cbiAgLyogZ2V0IHRoZSBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBleHRyYWN0IHdyYXAgcmVxdWVzdCBmcm9tIHdpbmRvd0JpdHMgcGFyYW1ldGVyICovXG4gIGlmICh3aW5kb3dCaXRzIDwgMCkge1xuICAgIHdyYXAgPSAwO1xuICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgfVxuICBlbHNlIHtcbiAgICB3cmFwID0gKHdpbmRvd0JpdHMgPj4gNCkgKyAxO1xuICAgIGlmICh3aW5kb3dCaXRzIDwgNDgpIHtcbiAgICAgIHdpbmRvd0JpdHMgJj0gMTU7XG4gICAgfVxuICB9XG5cbiAgLyogc2V0IG51bWJlciBvZiB3aW5kb3cgYml0cywgZnJlZSB3aW5kb3cgaWYgZGlmZmVyZW50ICovXG4gIGlmICh3aW5kb3dCaXRzICYmICh3aW5kb3dCaXRzIDwgOCB8fCB3aW5kb3dCaXRzID4gMTUpKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG4gIGlmIChzdGF0ZS53aW5kb3cgIT09IG51bGwgJiYgc3RhdGUud2JpdHMgIT09IHdpbmRvd0JpdHMpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXNldCB0aGUgcmVzdCBvZiBpdCAqL1xuICBzdGF0ZS53cmFwID0gd3JhcDtcbiAgc3RhdGUud2JpdHMgPSB3aW5kb3dCaXRzO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0KHN0cm0pO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlSW5pdDIoc3RybSwgd2luZG93Qml0cykge1xuICB2YXIgcmV0O1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICAvL3N0cm0ubXNnID0gWl9OVUxMOyAgICAgICAgICAgICAgICAgLyogaW4gY2FzZSB3ZSByZXR1cm4gYW4gZXJyb3IgKi9cblxuICBzdGF0ZSA9IG5ldyBJbmZsYXRlU3RhdGUoKTtcblxuICAvL2lmIChzdGF0ZSA9PT0gWl9OVUxMKSByZXR1cm4gWl9NRU1fRVJST1I7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogYWxsb2NhdGVkXFxuXCIpKTtcbiAgc3RybS5zdGF0ZSA9IHN0YXRlO1xuICBzdGF0ZS53aW5kb3cgPSBudWxsLypaX05VTEwqLztcbiAgcmV0ID0gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKTtcbiAgaWYgKHJldCAhPT0gWl9PSykge1xuICAgIHN0cm0uc3RhdGUgPSBudWxsLypaX05VTEwqLztcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlSW5pdChzdHJtKSB7XG4gIHJldHVybiBpbmZsYXRlSW5pdDIoc3RybSwgREVGX1dCSVRTKTtcbn1cblxuXG4vKlxuIFJldHVybiBzdGF0ZSB3aXRoIGxlbmd0aCBhbmQgZGlzdGFuY2UgZGVjb2RpbmcgdGFibGVzIGFuZCBpbmRleCBzaXplcyBzZXQgdG9cbiBmaXhlZCBjb2RlIGRlY29kaW5nLiAgTm9ybWFsbHkgdGhpcyByZXR1cm5zIGZpeGVkIHRhYmxlcyBmcm9tIGluZmZpeGVkLmguXG4gSWYgQlVJTERGSVhFRCBpcyBkZWZpbmVkLCB0aGVuIGluc3RlYWQgdGhpcyByb3V0aW5lIGJ1aWxkcyB0aGUgdGFibGVzIHRoZVxuIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCByZXR1cm5zIHRob3NlIHRhYmxlcyB0aGUgZmlyc3QgdGltZSBhbmRcbiB0aGVyZWFmdGVyLiAgVGhpcyByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBjb2RlIGJ5IGFib3V0IDJLIGJ5dGVzLCBpblxuIGV4Y2hhbmdlIGZvciBhIGxpdHRsZSBleGVjdXRpb24gdGltZS4gIEhvd2V2ZXIsIEJVSUxERklYRUQgc2hvdWxkIG5vdCBiZVxuIHVzZWQgZm9yIHRocmVhZGVkIGFwcGxpY2F0aW9ucywgc2luY2UgdGhlIHJld3JpdGluZyBvZiB0aGUgdGFibGVzIGFuZCB2aXJnaW5cbiBtYXkgbm90IGJlIHRocmVhZC1zYWZlLlxuICovXG52YXIgdmlyZ2luID0gdHJ1ZTtcblxudmFyIGxlbmZpeCwgZGlzdGZpeDsgLy8gV2UgaGF2ZSBubyBwb2ludGVycyBpbiBKUywgc28ga2VlcCB0YWJsZXMgc2VwYXJhdGVcblxuZnVuY3Rpb24gZml4ZWR0YWJsZXMoc3RhdGUpIHtcbiAgLyogYnVpbGQgZml4ZWQgaHVmZm1hbiB0YWJsZXMgaWYgZmlyc3QgY2FsbCAobWF5IG5vdCBiZSB0aHJlYWQgc2FmZSkgKi9cbiAgaWYgKHZpcmdpbikge1xuICAgIHZhciBzeW07XG5cbiAgICBsZW5maXggPSBuZXcgdXRpbHMuQnVmMzIoNTEyKTtcbiAgICBkaXN0Zml4ID0gbmV3IHV0aWxzLkJ1ZjMyKDMyKTtcblxuICAgIC8qIGxpdGVyYWwvbGVuZ3RoIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMTQ0KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuICAgIHdoaWxlIChzeW0gPCAyNTYpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA5OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4MCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDc7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjg4KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuXG4gICAgaW5mbGF0ZV90YWJsZShMRU5TLCAgc3RhdGUubGVucywgMCwgMjg4LCBsZW5maXgsICAgMCwgc3RhdGUud29yaywgeyBiaXRzOiA5IH0pO1xuXG4gICAgLyogZGlzdGFuY2UgdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAzMikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDU7IH1cblxuICAgIGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIDAsIDMyLCAgIGRpc3RmaXgsIDAsIHN0YXRlLndvcmssIHsgYml0czogNSB9KTtcblxuICAgIC8qIGRvIHRoaXMganVzdCBvbmNlICovXG4gICAgdmlyZ2luID0gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5sZW5jb2RlID0gbGVuZml4O1xuICBzdGF0ZS5sZW5iaXRzID0gOTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBkaXN0Zml4O1xuICBzdGF0ZS5kaXN0Yml0cyA9IDU7XG59XG5cblxuLypcbiBVcGRhdGUgdGhlIHdpbmRvdyB3aXRoIHRoZSBsYXN0IHdzaXplIChub3JtYWxseSAzMkspIGJ5dGVzIHdyaXR0ZW4gYmVmb3JlXG4gcmV0dXJuaW5nLiAgSWYgd2luZG93IGRvZXMgbm90IGV4aXN0IHlldCwgY3JlYXRlIGl0LiAgVGhpcyBpcyBvbmx5IGNhbGxlZFxuIHdoZW4gYSB3aW5kb3cgaXMgYWxyZWFkeSBpbiB1c2UsIG9yIHdoZW4gb3V0cHV0IGhhcyBiZWVuIHdyaXR0ZW4gZHVyaW5nIHRoaXNcbiBpbmZsYXRlIGNhbGwsIGJ1dCB0aGUgZW5kIG9mIHRoZSBkZWZsYXRlIHN0cmVhbSBoYXMgbm90IGJlZW4gcmVhY2hlZCB5ZXQuXG4gSXQgaXMgYWxzbyBjYWxsZWQgdG8gY3JlYXRlIGEgd2luZG93IGZvciBkaWN0aW9uYXJ5IGRhdGEgd2hlbiBhIGRpY3Rpb25hcnlcbiBpcyBsb2FkZWQuXG5cbiBQcm92aWRpbmcgb3V0cHV0IGJ1ZmZlcnMgbGFyZ2VyIHRoYW4gMzJLIHRvIGluZmxhdGUoKSBzaG91bGQgcHJvdmlkZSBhIHNwZWVkXG4gYWR2YW50YWdlLCBzaW5jZSBvbmx5IHRoZSBsYXN0IDMySyBvZiBvdXRwdXQgaXMgY29waWVkIHRvIHRoZSBzbGlkaW5nIHdpbmRvd1xuIHVwb24gcmV0dXJuIGZyb20gaW5mbGF0ZSgpLCBhbmQgc2luY2UgYWxsIGRpc3RhbmNlcyBhZnRlciB0aGUgZmlyc3QgMzJLIG9mXG4gb3V0cHV0IHdpbGwgZmFsbCBpbiB0aGUgb3V0cHV0IGRhdGEsIG1ha2luZyBtYXRjaCBjb3BpZXMgc2ltcGxlciBhbmQgZmFzdGVyLlxuIFRoZSBhZHZhbnRhZ2UgbWF5IGJlIGRlcGVuZGVudCBvbiB0aGUgc2l6ZSBvZiB0aGUgcHJvY2Vzc29yJ3MgZGF0YSBjYWNoZXMuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZXdpbmRvdyhzdHJtLCBzcmMsIGVuZCwgY29weSkge1xuICB2YXIgZGlzdDtcbiAgdmFyIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBpZiBpdCBoYXNuJ3QgYmVlbiBkb25lIGFscmVhZHksIGFsbG9jYXRlIHNwYWNlIGZvciB0aGUgd2luZG93ICovXG4gIGlmIChzdGF0ZS53aW5kb3cgPT09IG51bGwpIHtcbiAgICBzdGF0ZS53c2l6ZSA9IDEgPDwgc3RhdGUud2JpdHM7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gMDtcblxuICAgIHN0YXRlLndpbmRvdyA9IG5ldyB1dGlscy5CdWY4KHN0YXRlLndzaXplKTtcbiAgfVxuXG4gIC8qIGNvcHkgc3RhdGUtPndzaXplIG9yIGxlc3Mgb3V0cHV0IGJ5dGVzIGludG8gdGhlIGNpcmN1bGFyIHdpbmRvdyAqL1xuICBpZiAoY29weSA+PSBzdGF0ZS53c2l6ZSkge1xuICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBzdGF0ZS53c2l6ZSwgc3RhdGUud3NpemUsIDApO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICB9XG4gIGVsc2Uge1xuICAgIGRpc3QgPSBzdGF0ZS53c2l6ZSAtIHN0YXRlLnduZXh0O1xuICAgIGlmIChkaXN0ID4gY29weSkge1xuICAgICAgZGlzdCA9IGNvcHk7XG4gICAgfVxuICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93ICsgc3RhdGUtPnduZXh0LCBlbmQgLSBjb3B5LCBkaXN0KTtcbiAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gY29weSwgZGlzdCwgc3RhdGUud25leHQpO1xuICAgIGNvcHkgLT0gZGlzdDtcbiAgICBpZiAoY29weSkge1xuICAgICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3csIGVuZCAtIGNvcHksIGNvcHkpO1xuICAgICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIGNvcHksIGNvcHksIDApO1xuICAgICAgc3RhdGUud25leHQgPSBjb3B5O1xuICAgICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGF0ZS53bmV4dCArPSBkaXN0O1xuICAgICAgaWYgKHN0YXRlLnduZXh0ID09PSBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53bmV4dCA9IDA7IH1cbiAgICAgIGlmIChzdGF0ZS53aGF2ZSA8IHN0YXRlLndzaXplKSB7IHN0YXRlLndoYXZlICs9IGRpc3Q7IH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGUoc3RybSwgZmx1c2gpIHtcbiAgdmFyIHN0YXRlO1xuICB2YXIgaW5wdXQsIG91dHB1dDsgICAgICAgICAgLy8gaW5wdXQvb3V0cHV0IGJ1ZmZlcnNcbiAgdmFyIG5leHQ7ICAgICAgICAgICAgICAgICAgIC8qIG5leHQgaW5wdXQgSU5ERVggKi9cbiAgdmFyIHB1dDsgICAgICAgICAgICAgICAgICAgIC8qIG5leHQgb3V0cHV0IElOREVYICovXG4gIHZhciBoYXZlLCBsZWZ0OyAgICAgICAgICAgICAvKiBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICB2YXIgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogYml0IGJ1ZmZlciAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAgLyogYml0cyBpbiBiaXQgYnVmZmVyICovXG4gIHZhciBfaW4sIF9vdXQ7ICAgICAgICAgICAgICAvKiBzYXZlIHN0YXJ0aW5nIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIHZhciBjb3B5OyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2Ygc3RvcmVkIG9yIG1hdGNoIGJ5dGVzIHRvIGNvcHkgKi9cbiAgdmFyIGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggYnl0ZXMgZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG4gIHZhciBoZXJlID0gMDsgICAgICAgICAgICAgICAvKiBjdXJyZW50IGRlY29kaW5nIHRhYmxlIGVudHJ5ICovXG4gIHZhciBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsOyAvLyBwYWtlZCBcImhlcmVcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICAvL3ZhciBsYXN0OyAgICAgICAgICAgICAgICAgICAvKiBwYXJlbnQgdGFibGUgZW50cnkgKi9cbiAgdmFyIGxhc3RfYml0cywgbGFzdF9vcCwgbGFzdF92YWw7IC8vIHBha2VkIFwibGFzdFwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggdG8gY29weSBmb3IgcmVwZWF0cywgYml0cyB0byBkcm9wICovXG4gIHZhciByZXQ7ICAgICAgICAgICAgICAgICAgICAvKiByZXR1cm4gY29kZSAqL1xuICB2YXIgaGJ1ZiA9IG5ldyB1dGlscy5CdWY4KDQpOyAgICAvKiBidWZmZXIgZm9yIGd6aXAgaGVhZGVyIGNyYyBjYWxjdWxhdGlvbiAqL1xuICB2YXIgb3B0cztcblxuICB2YXIgbjsgLy8gdGVtcG9yYXJ5IHZhciBmb3IgTkVFRF9CSVRTXG5cbiAgdmFyIG9yZGVyID0gLyogcGVybXV0YXRpb24gb2YgY29kZSBsZW5ndGhzICovXG4gICAgWyAxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1IF07XG5cblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHwgIXN0cm0ub3V0cHV0IHx8XG4gICAgICAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7IHN0YXRlLm1vZGUgPSBUWVBFRE87IH0gICAgLyogc2tpcCBjaGVjayAqL1xuXG5cbiAgLy8tLS0gTE9BRCgpIC0tLVxuICBwdXQgPSBzdHJtLm5leHRfb3V0O1xuICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICBob2xkID0gc3RhdGUuaG9sZDtcbiAgYml0cyA9IHN0YXRlLmJpdHM7XG4gIC8vLS0tXG5cbiAgX2luID0gaGF2ZTtcbiAgX291dCA9IGxlZnQ7XG4gIHJldCA9IFpfT0s7XG5cbiAgaW5mX2xlYXZlOiAvLyBnb3RvIGVtdWxhdGlvblxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChzdGF0ZS5tb2RlKSB7XG4gICAgY2FzZSBIRUFEOlxuICAgICAgaWYgKHN0YXRlLndyYXAgPT09IDApIHtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEVETztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLz09PSBORUVEQklUUygxNik7XG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoKHN0YXRlLndyYXAgJiAyKSAmJiBob2xkID09PSAweDhiMWYpIHsgIC8qIGd6aXAgaGVhZGVyICovXG4gICAgICAgIHN0YXRlLmNoZWNrID0gMC8qY3JjMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAvLz09PS8vXG5cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBGTEFHUztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5mbGFncyA9IDA7ICAgICAgICAgICAvKiBleHBlY3QgemxpYiBoZWFkZXIgKi9cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEoc3RhdGUud3JhcCAmIDEpIHx8ICAgLyogY2hlY2sgaWYgemxpYiBoZWFkZXIgYWxsb3dlZCAqL1xuICAgICAgICAoKChob2xkICYgMHhmZikvKkJJVFMoOCkqLyA8PCA4KSArIChob2xkID4+IDgpKSAlIDMxKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBoZWFkZXIgY2hlY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICgoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gNDtcbiAgICAgIGJpdHMgLT0gNDtcbiAgICAgIC8vLS0tLy9cbiAgICAgIGxlbiA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDg7XG4gICAgICBpZiAoc3RhdGUud2JpdHMgPT09IDApIHtcbiAgICAgICAgc3RhdGUud2JpdHMgPSBsZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW4gPiBzdGF0ZS53Yml0cykge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHdpbmRvdyBzaXplJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5kbWF4ID0gMSA8PCBsZW47XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgemxpYiBoZWFkZXIgb2tcXG5cIikpO1xuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgc3RhdGUubW9kZSA9IGhvbGQgJiAweDIwMCA/IERJQ1RJRCA6IFRZUEU7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRkxBR1M6XG4gICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5mbGFncyA9IGhvbGQ7XG4gICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHhmZikgIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4ZTAwMCkge1xuICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGhlYWRlciBmbGFncyBzZXQnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQudGV4dCA9ICgoaG9sZCA+PiA4KSAmIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgLy89PT0vL1xuICAgICAgfVxuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gVElNRTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIFRJTUU6XG4gICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLnRpbWUgPSBob2xkO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IENSQzQoc3RhdGUuY2hlY2ssIGhvbGQpXG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGhidWZbMl0gPSAoaG9sZCA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgaGJ1ZlszXSA9IChob2xkID4+PiAyNCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCA0LCAwKTtcbiAgICAgICAgLy89PT1cbiAgICAgIH1cbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IE9TO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgT1M6XG4gICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLnhmbGFncyA9IChob2xkICYgMHhmZik7XG4gICAgICAgIHN0YXRlLmhlYWQub3MgPSAoaG9sZCA+PiA4KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgIH1cbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IEVYTEVOO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRVhMRU46XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQ7XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9sZW4gPSBob2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBudWxsLypaX05VTEwqLztcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBFWFRSQTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIEVYVFJBOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwNDAwKSB7XG4gICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICBsZW4gPSBzdGF0ZS5oZWFkLmV4dHJhX2xlbiAtIHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICghc3RhdGUuaGVhZC5leHRyYSkge1xuICAgICAgICAgICAgICAvLyBVc2UgdW50eXBlZCBhcnJheSBmb3IgbW9yZSBjb252ZW5pZW5kIHByb2Nlc3NpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dGlscy5hcnJheVNldChcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICAgIC8vIGV4dHJhIGZpZWxkIGlzIGxpbWl0ZWQgdG8gNjU1MzYgYnl0ZXNcbiAgICAgICAgICAgICAgLy8gLSBubyBuZWVkIGZvciBhZGRpdGlvbmFsIHNpemUgY2hlY2tcbiAgICAgICAgICAgICAgY29weSxcbiAgICAgICAgICAgICAgLypsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gPyBzdGF0ZS5oZWFkLmV4dHJhX21heCA6IGNvcHksKi9cbiAgICAgICAgICAgICAgbGVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy96bWVtY3B5KHN0YXRlLmhlYWQuZXh0cmEgKyBsZW4sIG5leHQsXG4gICAgICAgICAgICAvLyAgICAgICAgbGVuICsgY29weSA+IHN0YXRlLmhlYWQuZXh0cmFfbWF4ID9cbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA6IGNvcHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUubGVuZ3RoKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBOQU1FO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDgwMCkge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvLyBUT0RPOiAyIG9yIDEgYnl0ZXM/XG4gICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5uYW1lX21heCovKSkge1xuICAgICAgICAgICAgc3RhdGUuaGVhZC5uYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLm5hbWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBDT01NRU5UO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgQ09NTUVOVDpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MTAwMCkge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLmNvbW1fbWF4Ki8pKSB7XG4gICAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IEhDUkM7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBIQ1JDOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoaG9sZCAhPT0gKHN0YXRlLmNoZWNrICYgMHhmZmZmKSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2hlYWRlciBjcmMgbWlzbWF0Y2gnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmhjcmMgPSAoKHN0YXRlLmZsYWdzID4+IDkpICYgMSk7XG4gICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIERJQ1RJRDpcbiAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IHpzd2FwMzIoaG9sZCk7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBESUNUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRElDVDpcbiAgICAgIGlmIChzdGF0ZS5oYXZlZGljdCA9PT0gMCkge1xuICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgLy8tLS1cbiAgICAgICAgcmV0dXJuIFpfTkVFRF9ESUNUO1xuICAgICAgfVxuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBUWVBFOlxuICAgICAgaWYgKGZsdXNoID09PSBaX0JMT0NLIHx8IGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgVFlQRURPOlxuICAgICAgaWYgKHN0YXRlLmxhc3QpIHtcbiAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubW9kZSA9IENIRUNLO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vPT09IE5FRURCSVRTKDMpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5sYXN0ID0gKGhvbGQgJiAweDAxKS8qQklUUygxKSovO1xuICAgICAgLy8tLS0gRFJPUEJJVFMoMSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSAxO1xuICAgICAgYml0cyAtPSAxO1xuICAgICAgLy8tLS0vL1xuXG4gICAgICBzd2l0Y2ggKChob2xkICYgMHgwMykvKkJJVFMoMikqLykge1xuICAgICAgY2FzZSAwOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogc3RvcmVkIGJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIHN0b3JlZCBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBTVE9SRUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZml4ZWQgYmxvY2sgKi9cbiAgICAgICAgZml4ZWR0YWJsZXMoc3RhdGUpO1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBmaXhlZCBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fOyAgICAgICAgICAgICAvKiBkZWNvZGUgY29kZXMgKi9cbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGR5bmFtaWMgYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZHluYW1pYyBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUQUJMRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYmxvY2sgdHlwZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICBiaXRzIC09IDI7XG4gICAgICAvLy0tLS8vXG4gICAgICBicmVhaztcbiAgICBjYXNlIFNUT1JFRDpcbiAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy8gLyogZ28gdG8gYnl0ZSBib3VuZGFyeSAqL1xuICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgYml0cyAtPSBiaXRzICYgNztcbiAgICAgIC8vLS0tLy9cbiAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIGlmICgoaG9sZCAmIDB4ZmZmZikgIT09ICgoaG9sZCA+Pj4gMTYpIF4gMHhmZmZmKSkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5sZW5ndGggPSBob2xkICYgMHhmZmZmO1xuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgbGVuZ3RoICV1XFxuXCIsXG4gICAgICAvLyAgICAgICAgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBDT1BZXztcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPUFlfOlxuICAgICAgc3RhdGUubW9kZSA9IENPUFk7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBDT1BZOlxuICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgICAgaWYgKGNvcHkgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8vLS0tIHptZW1jcHkocHV0LCBuZXh0LCBjb3B5KTsgLS0tXG4gICAgICAgIHV0aWxzLmFycmF5U2V0KG91dHB1dCwgaW5wdXQsIG5leHQsIGNvcHksIHB1dCk7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgICAgcHV0ICs9IGNvcHk7XG4gICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGVuZFxcblwiKSk7XG4gICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVEFCTEU6XG4gICAgICAvLz09PSBORUVEQklUUygxNCk7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE0KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5ubGVuID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMjU3O1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgYml0cyAtPSA1O1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUubmRpc3QgPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAxO1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgYml0cyAtPSA1O1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUubmNvZGUgPSAoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gKyA0O1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgYml0cyAtPSA0O1xuICAgICAgLy8tLS0vL1xuLy8jaWZuZGVmIFBLWklQX0JVR19XT1JLQVJPVU5EXG4gICAgICBpZiAoc3RhdGUubmxlbiA+IDI4NiB8fCBzdGF0ZS5uZGlzdCA+IDMwKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ3RvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4vLyNlbmRpZlxuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICB0YWJsZSBzaXplcyBva1xcblwiKSk7XG4gICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5MRU5TO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOTEVOUzpcbiAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmNvZGUpIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gKGhvbGQgJiAweDA3KTsvL0JJVFMoMyk7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICBiaXRzIC09IDM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgMTkpIHtcbiAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IDA7XG4gICAgICB9XG4gICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgLy9zdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gICAgICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluO1xuICAgICAgc3RhdGUubGVuYml0cyA9IDc7XG5cbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoQ09ERVMsIHN0YXRlLmxlbnMsIDAsIDE5LCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIGNvZGUgbGVuZ3RocyBva1xcblwiKSk7XG4gICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBDT0RFTEVOUztcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPREVMRU5TOlxuICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07LypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfdmFsIDwgMTYpIHtcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gaGVyZV92YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGhlcmVfdmFsID09PSAxNikge1xuICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMik7XG4gICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMjtcbiAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVuID0gc3RhdGUubGVuc1tzdGF0ZS5oYXZlIC0gMV07XG4gICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwMyk7Ly9CSVRTKDIpO1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChoZXJlX3ZhbCA9PT0gMTcpIHtcbiAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDMpO1xuICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDM7XG4gICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDcpO1xuICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDc7XG4gICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBjb3B5ID0gMTEgKyAoaG9sZCAmIDB4N2YpOy8vQklUUyg3KTtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDcpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gNztcbiAgICAgICAgICAgIGJpdHMgLT0gNztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmhhdmUgKyBjb3B5ID4gc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGNvcHktLSkge1xuICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gbGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBoYW5kbGUgZXJyb3IgYnJlYWtzIGluIHdoaWxlICovXG4gICAgICBpZiAoc3RhdGUubW9kZSA9PT0gQkFEKSB7IGJyZWFrOyB9XG5cbiAgICAgIC8qIGNoZWNrIGZvciBlbmQtb2YtYmxvY2sgY29kZSAoYmV0dGVyIGhhdmUgb25lKSAqL1xuICAgICAgaWYgKHN0YXRlLmxlbnNbMjU2XSA9PT0gMCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLyogYnVpbGQgY29kZSB0YWJsZXMgLS0gbm90ZTogZG8gbm90IGNoYW5nZSB0aGUgbGVuYml0cyBvciBkaXN0Yml0c1xuICAgICAgICAgdmFsdWVzIGhlcmUgKDkgYW5kIDYpIHdpdGhvdXQgcmVhZGluZyB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgICAgICAgY29uY2VybmluZyB0aGUgRU5PVUdIIGNvbnN0YW50cywgd2hpY2ggZGVwZW5kIG9uIHRob3NlIHZhbHVlcyAqL1xuICAgICAgc3RhdGUubGVuYml0cyA9IDk7XG5cbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoTEVOUywgc3RhdGUubGVucywgMCwgc3RhdGUubmxlbiwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy8gc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmRpc3RiaXRzID0gNjtcbiAgICAgIC8vc3RhdGUuZGlzdGNvZGUuY29weShzdGF0ZS5jb2Rlcyk7XG4gICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5bjtcbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmRpc3RiaXRzIH07XG4gICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKERJU1RTLCBzdGF0ZS5sZW5zLCBzdGF0ZS5ubGVuLCBzdGF0ZS5uZGlzdCwgc3RhdGUuZGlzdGNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgc3RhdGUuZGlzdGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvLyBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZXMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCAnaW5mbGF0ZTogICAgICAgY29kZXMgb2tcXG4nKSk7XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOXztcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTl86XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOOlxuICAgICAgaWYgKGhhdmUgPj0gNiAmJiBsZWZ0ID49IDI1OCkge1xuICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgLy8tLS1cbiAgICAgICAgaW5mbGF0ZV9mYXN0KHN0cm0sIF9vdXQpO1xuICAgICAgICAvLy0tLSBMT0FEKCkgLS0tXG4gICAgICAgIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gICAgICAgIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICAgICAgICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgIG5leHQgPSBzdHJtLm5leHRfaW47XG4gICAgICAgIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgICAgICAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICAgICAgICBiaXRzID0gc3RhdGUuYml0cztcbiAgICAgICAgLy8tLS1cblxuICAgICAgICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkge1xuICAgICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmJhY2sgPSAwO1xuICAgICAgZm9yICg7Oykge1xuICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOyAgLypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgIGlmIChoZXJlX2JpdHMgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIGlmIChoZXJlX29wICYmIChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAvLy0tLS8vXG4gICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgIHN0YXRlLmxlbmd0aCA9IGhlcmVfdmFsO1xuICAgICAgaWYgKGhlcmVfb3AgPT09IDApIHtcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExJVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaGVyZV9vcCAmIDMyKSB7XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUuZXh0cmEgPSBoZXJlX29wICYgMTU7XG4gICAgICBzdGF0ZS5tb2RlID0gTEVORVhUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVORVhUOlxuICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubGVuZ3RoICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgc3RhdGUud2FzID0gc3RhdGUubGVuZ3RoO1xuICAgICAgc3RhdGUubW9kZSA9IERJU1Q7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBESVNUOlxuICAgICAgZm9yICg7Oykge1xuICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxKV07LypCSVRTKHN0YXRlLmRpc3RiaXRzKSovXG4gICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIGlmICgoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgIC8vLS0tLy9cbiAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLm9mZnNldCA9IGhlcmVfdmFsO1xuICAgICAgc3RhdGUuZXh0cmEgPSAoaGVyZV9vcCkgJiAxNTtcbiAgICAgIHN0YXRlLm1vZGUgPSBESVNURVhUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRElTVEVYVDpcbiAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm9mZnNldCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICB9XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IHN0YXRlLmRtYXgpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIHN0YXRlLm9mZnNldCkpO1xuICAgICAgc3RhdGUubW9kZSA9IE1BVENIO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTUFUQ0g6XG4gICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIGNvcHkgPSBfb3V0IC0gbGVmdDtcbiAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBjb3B5KSB7ICAgICAgICAgLyogY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICBjb3B5ID0gc3RhdGUub2Zmc2V0IC0gY29weTtcbiAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53aGF2ZSkge1xuICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhaWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgVHJhY2UoKHN0ZGVyciwgXCJpbmZsYXRlLmMgdG9vIGZhclxcblwiKSk7XG4vLyAgICAgICAgICBjb3B5IC09IHN0YXRlLndoYXZlO1xuLy8gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuLy8gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4vLyAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4vLyAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbi8vICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IDA7XG4vLyAgICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuLy8gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4vLyAgICAgICAgICBicmVhaztcbi8vI2VuZGlmXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53bmV4dCkge1xuICAgICAgICAgIGNvcHkgLT0gc3RhdGUud25leHQ7XG4gICAgICAgICAgZnJvbSA9IHN0YXRlLndzaXplIC0gY29weTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmcm9tID0gc3RhdGUud25leHQgLSBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbiAgICAgICAgZnJvbV9zb3VyY2UgPSBzdGF0ZS53aW5kb3c7XG4gICAgICB9XG4gICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjb3B5IGZyb20gb3V0cHV0ICovXG4gICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICBmcm9tID0gcHV0IC0gc3RhdGUub2Zmc2V0O1xuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgIGRvIHtcbiAgICAgICAgb3V0cHV0W3B1dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICB9IHdoaWxlICgtLWNvcHkpO1xuICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIExJVDpcbiAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgb3V0cHV0W3B1dCsrXSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIGxlZnQtLTtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICBicmVhaztcbiAgICBjYXNlIENIRUNLOlxuICAgICAgaWYgKHN0YXRlLndyYXApIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIC8vIFVzZSAnfCcgaW5zZGVhZCBvZiAnKycgdG8gbWFrZSBzdXJlIHRoYXQgcmVzdWx0IGlzIHNpZ25lZFxuICAgICAgICAgIGhvbGQgfD0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIF9vdXQgLT0gbGVmdDtcbiAgICAgICAgc3RybS50b3RhbF9vdXQgKz0gX291dDtcbiAgICAgICAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgICAgICAgaWYgKF9vdXQpIHtcbiAgICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPVxuICAgICAgICAgICAgICAvKlVQREFURShzdGF0ZS5jaGVjaywgcHV0IC0gX291dCwgX291dCk7Ki9cbiAgICAgICAgICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkgOiBhZGxlcjMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpKTtcblxuICAgICAgICB9XG4gICAgICAgIF9vdXQgPSBsZWZ0O1xuICAgICAgICAvLyBOQjogY3JjMzIgc3RvcmVkIGFzIHNpZ25lZCAzMi1iaXQgaW50LCB6c3dhcDMyIHJldHVybnMgc2lnbmVkIHRvb1xuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzID8gaG9sZCA6IHpzd2FwMzIoaG9sZCkpICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBkYXRhIGNoZWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgY2hlY2sgbWF0Y2hlcyB0cmFpbGVyXFxuXCIpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5HVEg7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU5HVEg6XG4gICAgICBpZiAoc3RhdGUud3JhcCAmJiBzdGF0ZS5mbGFncykge1xuICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS50b3RhbCAmIDB4ZmZmZmZmZmYpKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGxlbmd0aCBjaGVjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGxlbmd0aCBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IERPTkU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBET05FOlxuICAgICAgcmV0ID0gWl9TVFJFQU1fRU5EO1xuICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgIGNhc2UgQkFEOlxuICAgICAgcmV0ID0gWl9EQVRBX0VSUk9SO1xuICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgIGNhc2UgTUVNOlxuICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAgIGNhc2UgU1lOQzpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgIH1cbiAgfVxuXG4gIC8vIGluZl9sZWF2ZSA8LSBoZXJlIGlzIHJlYWwgcGxhY2UgZm9yIFwiZ290byBpbmZfbGVhdmVcIiwgZW11bGF0ZWQgdmlhIFwiYnJlYWsgaW5mX2xlYXZlXCJcblxuICAvKlxuICAgICBSZXR1cm4gZnJvbSBpbmZsYXRlKCksIHVwZGF0aW5nIHRoZSB0b3RhbCBjb3VudHMgYW5kIHRoZSBjaGVjayB2YWx1ZS5cbiAgICAgSWYgdGhlcmUgd2FzIG5vIHByb2dyZXNzIGR1cmluZyB0aGUgaW5mbGF0ZSgpIGNhbGwsIHJldHVybiBhIGJ1ZmZlclxuICAgICBlcnJvci4gIENhbGwgdXBkYXRld2luZG93KCkgdG8gY3JlYXRlIGFuZC9vciB1cGRhdGUgdGhlIHdpbmRvdyBzdGF0ZS5cbiAgICAgTm90ZTogYSBtZW1vcnkgZXJyb3IgZnJvbSBpbmZsYXRlKCkgaXMgbm9uLXJlY292ZXJhYmxlLlxuICAgKi9cblxuICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgLy8tLS1cblxuICBpZiAoc3RhdGUud3NpemUgfHwgKF9vdXQgIT09IHN0cm0uYXZhaWxfb3V0ICYmIHN0YXRlLm1vZGUgPCBCQUQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA8IENIRUNLIHx8IGZsdXNoICE9PSBaX0ZJTklTSCkpKSB7XG4gICAgaWYgKHVwZGF0ZXdpbmRvdyhzdHJtLCBzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCwgX291dCAtIHN0cm0uYXZhaWxfb3V0KSkge1xuICAgICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgX2luIC09IHN0cm0uYXZhaWxfaW47XG4gIF9vdXQgLT0gc3RybS5hdmFpbF9vdXQ7XG4gIHN0cm0udG90YWxfaW4gKz0gX2luO1xuICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICBpZiAoc3RhdGUud3JhcCAmJiBfb3V0KSB7XG4gICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gLypVUERBVEUoc3RhdGUuY2hlY2ssIHN0cm0ubmV4dF9vdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpIDogYWRsZXIzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkpO1xuICB9XG4gIHN0cm0uZGF0YV90eXBlID0gc3RhdGUuYml0cyArIChzdGF0ZS5sYXN0ID8gNjQgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBUWVBFID8gMTI4IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gTEVOXyB8fCBzdGF0ZS5tb2RlID09PSBDT1BZXyA/IDI1NiA6IDApO1xuICBpZiAoKChfaW4gPT09IDAgJiYgX291dCA9PT0gMCkgfHwgZmx1c2ggPT09IFpfRklOSVNIKSAmJiByZXQgPT09IFpfT0spIHtcbiAgICByZXQgPSBaX0JVRl9FUlJPUjtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlRW5kKHN0cm0pIHtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgLyp8fCBzdHJtLT56ZnJlZSA9PSAoZnJlZV9mdW5jKTAqLykge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS53aW5kb3cpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUdldEhlYWRlcihzdHJtLCBoZWFkKSB7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKChzdGF0ZS53cmFwICYgMikgPT09IDApIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG5cbiAgLyogc2F2ZSBoZWFkZXIgc3RydWN0dXJlICovXG4gIHN0YXRlLmhlYWQgPSBoZWFkO1xuICBoZWFkLmRvbmUgPSBmYWxzZTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgdmFyIGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICB2YXIgc3RhdGU7XG4gIHZhciBkaWN0aWQ7XG4gIHZhciByZXQ7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIC8qID09IFpfTlVMTCAqLyB8fCAhc3RybS5zdGF0ZSAvKiA9PSBaX05VTEwgKi8pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICBpZiAoc3RhdGUud3JhcCAhPT0gMCAmJiBzdGF0ZS5tb2RlICE9PSBESUNUKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGNvcnJlY3QgZGljdGlvbmFyeSBpZGVudGlmaWVyICovXG4gIGlmIChzdGF0ZS5tb2RlID09PSBESUNUKSB7XG4gICAgZGljdGlkID0gMTsgLyogYWRsZXIzMigwLCBudWxsLCAwKSovXG4gICAgLyogZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICBpZiAoZGljdGlkICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgcmV0dXJuIFpfREFUQV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgLyogY29weSBkaWN0aW9uYXJ5IHRvIHdpbmRvdyB1c2luZyB1cGRhdGV3aW5kb3coKSwgd2hpY2ggd2lsbCBhbWVuZCB0aGVcbiAgIGV4aXN0aW5nIGRpY3Rpb25hcnkgaWYgYXBwcm9wcmlhdGUgKi9cbiAgcmV0ID0gdXBkYXRld2luZG93KHN0cm0sIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIGRpY3RMZW5ndGgpO1xuICBpZiAocmV0KSB7XG4gICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gIH1cbiAgc3RhdGUuaGF2ZWRpY3QgPSAxO1xuICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGRpY3Rpb25hcnkgc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmV4cG9ydCB7IGluZmxhdGVSZXNldCwgaW5mbGF0ZVJlc2V0MiwgaW5mbGF0ZVJlc2V0S2VlcCwgaW5mbGF0ZUluaXQsIGluZmxhdGVJbml0MiwgaW5mbGF0ZSwgaW5mbGF0ZUVuZCwgaW5mbGF0ZUdldEhlYWRlciwgaW5mbGF0ZVNldERpY3Rpb25hcnkgfTtcbmV4cG9ydCB2YXIgaW5mbGF0ZUluZm8gPSAncGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5pbmZsYXRlQ29weSA9IGluZmxhdGVDb3B5O1xuZXhwb3J0cy5pbmZsYXRlR2V0RGljdGlvbmFyeSA9IGluZmxhdGVHZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5pbmZsYXRlTWFyayA9IGluZmxhdGVNYXJrO1xuZXhwb3J0cy5pbmZsYXRlUHJpbWUgPSBpbmZsYXRlUHJpbWU7XG5leHBvcnRzLmluZmxhdGVTeW5jID0gaW5mbGF0ZVN5bmM7XG5leHBvcnRzLmluZmxhdGVTeW5jUG9pbnQgPSBpbmZsYXRlU3luY1BvaW50O1xuZXhwb3J0cy5pbmZsYXRlVW5kZXJtaW5lID0gaW5mbGF0ZVVuZGVybWluZTtcbiovXG4iLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi4vdXRpbHMvY29tbW9uLmpzXCI7XG5cbnZhciBNQVhCSVRTID0gMTU7XG52YXIgRU5PVUdIX0xFTlMgPSA4NTI7XG52YXIgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy92YXIgRU5PVUdIID0gKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG52YXIgbGJhc2UgPSBbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBiYXNlICovXG4gIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTMsIDE1LCAxNywgMTksIDIzLCAyNywgMzEsXG4gIDM1LCA0MywgNTEsIDU5LCA2NywgODMsIDk5LCAxMTUsIDEzMSwgMTYzLCAxOTUsIDIyNywgMjU4LCAwLCAwXG5dO1xuXG52YXIgbGV4dCA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LFxuICAxOSwgMTksIDE5LCAxOSwgMjAsIDIwLCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAxNiwgNzIsIDc4XG5dO1xuXG52YXIgZGJhc2UgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGJhc2UgKi9cbiAgMSwgMiwgMywgNCwgNSwgNywgOSwgMTMsIDE3LCAyNSwgMzMsIDQ5LCA2NSwgOTcsIDEyOSwgMTkzLFxuICAyNTcsIDM4NSwgNTEzLCA3NjksIDEwMjUsIDE1MzcsIDIwNDksIDMwNzMsIDQwOTcsIDYxNDUsXG4gIDgxOTMsIDEyMjg5LCAxNjM4NSwgMjQ1NzcsIDAsIDBcbl07XG5cbnZhciBkZXh0ID0gWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxOCwgMTgsIDE5LCAxOSwgMjAsIDIwLCAyMSwgMjEsIDIyLCAyMixcbiAgMjMsIDIzLCAyNCwgMjQsIDI1LCAyNSwgMjYsIDI2LCAyNywgMjcsXG4gIDI4LCAyOCwgMjksIDI5LCA2NCwgNjRcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluZmxhdGVfdGFibGUodHlwZSwgbGVucywgbGVuc19pbmRleCwgY29kZXMsIHRhYmxlLCB0YWJsZV9pbmRleCwgd29yaywgb3B0cylcbntcbiAgdmFyIGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvL2hlcmUgPSBvcHRzLmhlcmU7IC8qIHRhYmxlIGVudHJ5IGZvciBkdXBsaWNhdGlvbiAqL1xuXG4gIHZhciBsZW4gPSAwOyAgICAgICAgICAgICAgIC8qIGEgY29kZSdzIGxlbmd0aCBpbiBiaXRzICovXG4gIHZhciBzeW0gPSAwOyAgICAgICAgICAgICAgIC8qIGluZGV4IG9mIGNvZGUgc3ltYm9scyAqL1xuICB2YXIgbWluID0gMCwgbWF4ID0gMDsgICAgICAgICAgLyogbWluaW11bSBhbmQgbWF4aW11bSBjb2RlIGxlbmd0aHMgKi9cbiAgdmFyIHJvb3QgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHJvb3QgdGFibGUgKi9cbiAgdmFyIGN1cnIgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIGN1cnJlbnQgdGFibGUgKi9cbiAgdmFyIGRyb3AgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBiaXRzIHRvIGRyb3AgZm9yIHN1Yi10YWJsZSAqL1xuICB2YXIgbGVmdCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBwcmVmaXggY29kZXMgYXZhaWxhYmxlICovXG4gIHZhciB1c2VkID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgZW50cmllcyBpbiB0YWJsZSB1c2VkICovXG4gIHZhciBodWZmID0gMDsgICAgICAgICAgICAgIC8qIEh1ZmZtYW4gY29kZSAqL1xuICB2YXIgaW5jcjsgICAgICAgICAgICAgIC8qIGZvciBpbmNyZW1lbnRpbmcgY29kZSwgaW5kZXggKi9cbiAgdmFyIGZpbGw7ICAgICAgICAgICAgICAvKiBpbmRleCBmb3IgcmVwbGljYXRpbmcgZW50cmllcyAqL1xuICB2YXIgbG93OyAgICAgICAgICAgICAgIC8qIGxvdyBiaXRzIGZvciBjdXJyZW50IHJvb3QgZW50cnkgKi9cbiAgdmFyIG1hc2s7ICAgICAgICAgICAgICAvKiBtYXNrIGZvciBsb3cgcm9vdCBiaXRzICovXG4gIHZhciBuZXh0OyAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiB0YWJsZSAqL1xuICB2YXIgYmFzZSA9IG51bGw7ICAgICAvKiBiYXNlIHZhbHVlIHRhYmxlIHRvIHVzZSAqL1xuICB2YXIgYmFzZV9pbmRleCA9IDA7XG4vLyAgdmFyIHNob2V4dHJhOyAgICAvKiBleHRyYSBiaXRzIHRhYmxlIHRvIHVzZSAqL1xuICB2YXIgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogdXNlIGJhc2UgYW5kIGV4dHJhIGZvciBzeW1ib2wgPiBlbmQgKi9cbiAgdmFyIGNvdW50ID0gbmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgLyogbnVtYmVyIG9mIGNvZGVzIG9mIGVhY2ggbGVuZ3RoICovXG4gIHZhciBvZmZzID0gbmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgIC8qIG9mZnNldHMgaW4gdGFibGUgZm9yIGVhY2ggbGVuZ3RoICovXG4gIHZhciBleHRyYSA9IG51bGw7XG4gIHZhciBleHRyYV9pbmRleCA9IDA7XG5cbiAgdmFyIGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7XG5cbiAgLypcbiAgIFByb2Nlc3MgYSBzZXQgb2YgY29kZSBsZW5ndGhzIHRvIGNyZWF0ZSBhIGNhbm9uaWNhbCBIdWZmbWFuIGNvZGUuICBUaGVcbiAgIGNvZGUgbGVuZ3RocyBhcmUgbGVuc1swLi5jb2Rlcy0xXS4gIEVhY2ggbGVuZ3RoIGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgc3ltYm9scyAwLi5jb2Rlcy0xLiAgVGhlIEh1ZmZtYW4gY29kZSBpcyBnZW5lcmF0ZWQgYnkgZmlyc3Qgc29ydGluZyB0aGVcbiAgIHN5bWJvbHMgYnkgbGVuZ3RoIGZyb20gc2hvcnQgdG8gbG9uZywgYW5kIHJldGFpbmluZyB0aGUgc3ltYm9sIG9yZGVyXG4gICBmb3IgY29kZXMgd2l0aCBlcXVhbCBsZW5ndGhzLiAgVGhlbiB0aGUgY29kZSBzdGFydHMgd2l0aCBhbGwgemVybyBiaXRzXG4gICBmb3IgdGhlIGZpcnN0IGNvZGUgb2YgdGhlIHNob3J0ZXN0IGxlbmd0aCwgYW5kIHRoZSBjb2RlcyBhcmUgaW50ZWdlclxuICAgaW5jcmVtZW50cyBmb3IgdGhlIHNhbWUgbGVuZ3RoLCBhbmQgemVyb3MgYXJlIGFwcGVuZGVkIGFzIHRoZSBsZW5ndGhcbiAgIGluY3JlYXNlcy4gIEZvciB0aGUgZGVmbGF0ZSBmb3JtYXQsIHRoZXNlIGJpdHMgYXJlIHN0b3JlZCBiYWNrd2FyZHNcbiAgIGZyb20gdGhlaXIgbW9yZSBuYXR1cmFsIGludGVnZXIgaW5jcmVtZW50IG9yZGVyaW5nLCBhbmQgc28gd2hlbiB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcyBhcmUgYnVpbHQgaW4gdGhlIGxhcmdlIGxvb3AgYmVsb3csIHRoZSBpbnRlZ2VyIGNvZGVzXG4gICBhcmUgaW5jcmVtZW50ZWQgYmFja3dhcmRzLlxuXG4gICBUaGlzIHJvdXRpbmUgYXNzdW1lcywgYnV0IGRvZXMgbm90IGNoZWNrLCB0aGF0IGFsbCBvZiB0aGUgZW50cmllcyBpblxuICAgbGVuc1tdIGFyZSBpbiB0aGUgcmFuZ2UgMC4uTUFYQklUUy4gIFRoZSBjYWxsZXIgbXVzdCBhc3N1cmUgdGhpcy5cbiAgIDEuLk1BWEJJVFMgaXMgaW50ZXJwcmV0ZWQgYXMgdGhhdCBjb2RlIGxlbmd0aC4gIHplcm8gbWVhbnMgdGhhdCB0aGF0XG4gICBzeW1ib2wgZG9lcyBub3Qgb2NjdXIgaW4gdGhpcyBjb2RlLlxuXG4gICBUaGUgY29kZXMgYXJlIHNvcnRlZCBieSBjb21wdXRpbmcgYSBjb3VudCBvZiBjb2RlcyBmb3IgZWFjaCBsZW5ndGgsXG4gICBjcmVhdGluZyBmcm9tIHRoYXQgYSB0YWJsZSBvZiBzdGFydGluZyBpbmRpY2VzIGZvciBlYWNoIGxlbmd0aCBpbiB0aGVcbiAgIHNvcnRlZCB0YWJsZSwgYW5kIHRoZW4gZW50ZXJpbmcgdGhlIHN5bWJvbHMgaW4gb3JkZXIgaW4gdGhlIHNvcnRlZFxuICAgdGFibGUuICBUaGUgc29ydGVkIHRhYmxlIGlzIHdvcmtbXSwgd2l0aCB0aGF0IHNwYWNlIGJlaW5nIHByb3ZpZGVkIGJ5XG4gICB0aGUgY2FsbGVyLlxuXG4gICBUaGUgbGVuZ3RoIGNvdW50cyBhcmUgdXNlZCBmb3Igb3RoZXIgcHVycG9zZXMgYXMgd2VsbCwgaS5lLiBmaW5kaW5nXG4gICB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggY29kZXMsIGRldGVybWluaW5nIGlmIHRoZXJlIGFyZSBhbnlcbiAgIGNvZGVzIGF0IGFsbCwgY2hlY2tpbmcgZm9yIGEgdmFsaWQgc2V0IG9mIGxlbmd0aHMsIGFuZCBsb29raW5nIGFoZWFkXG4gICBhdCBsZW5ndGggY291bnRzIHRvIGRldGVybWluZSBzdWItdGFibGUgc2l6ZXMgd2hlbiBidWlsZGluZyB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcy5cbiAgICovXG5cbiAgLyogYWNjdW11bGF0ZSBsZW5ndGhzIGZvciBjb2RlcyAoYXNzdW1lcyBsZW5zW10gYWxsIGluIDAuLk1BWEJJVFMpICovXG4gIGZvciAobGVuID0gMDsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgY291bnRbbGVuXSA9IDA7XG4gIH1cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBjb3VudFtsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrO1xuICB9XG5cbiAgLyogYm91bmQgY29kZSBsZW5ndGhzLCBmb3JjZSByb290IHRvIGJlIHdpdGhpbiBjb2RlIGxlbmd0aHMgKi9cbiAgcm9vdCA9IGJpdHM7XG4gIGZvciAobWF4ID0gTUFYQklUUzsgbWF4ID49IDE7IG1heC0tKSB7XG4gICAgaWYgKGNvdW50W21heF0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA+IG1heCkge1xuICAgIHJvb3QgPSBtYXg7XG4gIH1cbiAgaWYgKG1heCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgIC8qIG5vIHN5bWJvbHMgdG8gY29kZSBhdCBhbGwgKi9cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7ICAvL2hlcmUub3AgPSAodmFyIGNoYXIpNjQ7ICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxOyAgIC8vaGVyZS5iaXRzID0gKHZhciBjaGFyKTE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7ICAgLy9oZXJlLnZhbCA9ICh2YXIgc2hvcnQpMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG5cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7XG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG4gICAgb3B0cy5iaXRzID0gMTtcbiAgICByZXR1cm4gMDsgICAgIC8qIG5vIHN5bWJvbHMsIGJ1dCB3YWl0IGZvciBkZWNvZGluZyB0byByZXBvcnQgZXJyb3IgKi9cbiAgfVxuICBmb3IgKG1pbiA9IDE7IG1pbiA8IG1heDsgbWluKyspIHtcbiAgICBpZiAoY291bnRbbWluXSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290IDwgbWluKSB7XG4gICAgcm9vdCA9IG1pbjtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBhbiBvdmVyLXN1YnNjcmliZWQgb3IgaW5jb21wbGV0ZSBzZXQgb2YgbGVuZ3RocyAqL1xuICBsZWZ0ID0gMTtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBsZWZ0IDw8PSAxO1xuICAgIGxlZnQgLT0gY291bnRbbGVuXTtcbiAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9ICAgICAgICAvKiBvdmVyLXN1YnNjcmliZWQgKi9cbiAgfVxuICBpZiAobGVmdCA+IDAgJiYgKHR5cGUgPT09IENPREVTIHx8IG1heCAhPT0gMSkpIHtcbiAgICByZXR1cm4gLTE7ICAgICAgICAgICAgICAgICAgICAgIC8qIGluY29tcGxldGUgc2V0ICovXG4gIH1cblxuICAvKiBnZW5lcmF0ZSBvZmZzZXRzIGludG8gc3ltYm9sIHRhYmxlIGZvciBlYWNoIGxlbmd0aCBmb3Igc29ydGluZyAqL1xuICBvZmZzWzFdID0gMDtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPCBNQVhCSVRTOyBsZW4rKykge1xuICAgIG9mZnNbbGVuICsgMV0gPSBvZmZzW2xlbl0gKyBjb3VudFtsZW5dO1xuICB9XG5cbiAgLyogc29ydCBzeW1ib2xzIGJ5IGxlbmd0aCwgYnkgc3ltYm9sIG9yZGVyIHdpdGhpbiBlYWNoIGxlbmd0aCAqL1xuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGlmIChsZW5zW2xlbnNfaW5kZXggKyBzeW1dICE9PSAwKSB7XG4gICAgICB3b3JrW29mZnNbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rK10gPSBzeW07XG4gICAgfVxuICB9XG5cbiAgLypcbiAgIENyZWF0ZSBhbmQgZmlsbCBpbiBkZWNvZGluZyB0YWJsZXMuICBJbiB0aGlzIGxvb3AsIHRoZSB0YWJsZSBiZWluZ1xuICAgZmlsbGVkIGlzIGF0IG5leHQgYW5kIGhhcyBjdXJyIGluZGV4IGJpdHMuICBUaGUgY29kZSBiZWluZyB1c2VkIGlzIGh1ZmZcbiAgIHdpdGggbGVuZ3RoIGxlbi4gIFRoYXQgY29kZSBpcyBjb252ZXJ0ZWQgdG8gYW4gaW5kZXggYnkgZHJvcHBpbmcgZHJvcFxuICAgYml0cyBvZmYgb2YgdGhlIGJvdHRvbS4gIEZvciBjb2RlcyB3aGVyZSBsZW4gaXMgbGVzcyB0aGFuIGRyb3AgKyBjdXJyLFxuICAgdGhvc2UgdG9wIGRyb3AgKyBjdXJyIC0gbGVuIGJpdHMgYXJlIGluY3JlbWVudGVkIHRocm91Z2ggYWxsIHZhbHVlcyB0b1xuICAgZmlsbCB0aGUgdGFibGUgd2l0aCByZXBsaWNhdGVkIGVudHJpZXMuXG5cbiAgIHJvb3QgaXMgdGhlIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciB0aGUgcm9vdCB0YWJsZS4gIFdoZW4gbGVuIGV4Y2VlZHNcbiAgIHJvb3QsIHN1Yi10YWJsZXMgYXJlIGNyZWF0ZWQgcG9pbnRlZCB0byBieSB0aGUgcm9vdCBlbnRyeSB3aXRoIGFuIGluZGV4XG4gICBvZiB0aGUgbG93IHJvb3QgYml0cyBvZiBodWZmLiAgVGhpcyBpcyBzYXZlZCBpbiBsb3cgdG8gY2hlY2sgZm9yIHdoZW4gYVxuICAgbmV3IHN1Yi10YWJsZSBzaG91bGQgYmUgc3RhcnRlZC4gIGRyb3AgaXMgemVybyB3aGVuIHRoZSByb290IHRhYmxlIGlzXG4gICBiZWluZyBmaWxsZWQsIGFuZCBkcm9wIGlzIHJvb3Qgd2hlbiBzdWItdGFibGVzIGFyZSBiZWluZyBmaWxsZWQuXG5cbiAgIFdoZW4gYSBuZXcgc3ViLXRhYmxlIGlzIG5lZWRlZCwgaXQgaXMgbmVjZXNzYXJ5IHRvIGxvb2sgYWhlYWQgaW4gdGhlXG4gICBjb2RlIGxlbmd0aHMgdG8gZGV0ZXJtaW5lIHdoYXQgc2l6ZSBzdWItdGFibGUgaXMgbmVlZGVkLiAgVGhlIGxlbmd0aFxuICAgY291bnRzIGFyZSB1c2VkIGZvciB0aGlzLCBhbmQgc28gY291bnRbXSBpcyBkZWNyZW1lbnRlZCBhcyBjb2RlcyBhcmVcbiAgIGVudGVyZWQgaW4gdGhlIHRhYmxlcy5cblxuICAgdXNlZCBrZWVwcyB0cmFjayBvZiBob3cgbWFueSB0YWJsZSBlbnRyaWVzIGhhdmUgYmVlbiBhbGxvY2F0ZWQgZnJvbSB0aGVcbiAgIHByb3ZpZGVkICp0YWJsZSBzcGFjZS4gIEl0IGlzIGNoZWNrZWQgZm9yIExFTlMgYW5kIERJU1QgdGFibGVzIGFnYWluc3RcbiAgIHRoZSBjb25zdGFudHMgRU5PVUdIX0xFTlMgYW5kIEVOT1VHSF9ESVNUUyB0byBndWFyZCBhZ2FpbnN0IGNoYW5nZXMgaW5cbiAgIHRoZSBpbml0aWFsIHJvb3QgdGFibGUgc2l6ZSBjb25zdGFudHMuICBTZWUgdGhlIGNvbW1lbnRzIGluIGluZnRyZWVzLmhcbiAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICBzeW0gaW5jcmVtZW50cyB0aHJvdWdoIGFsbCBzeW1ib2xzLCBhbmQgdGhlIGxvb3AgdGVybWluYXRlcyB3aGVuXG4gICBhbGwgY29kZXMgb2YgbGVuZ3RoIG1heCwgaS5lLiBhbGwgY29kZXMsIGhhdmUgYmVlbiBwcm9jZXNzZWQuICBUaGlzXG4gICByb3V0aW5lIHBlcm1pdHMgaW5jb21wbGV0ZSBjb2Rlcywgc28gYW5vdGhlciBsb29wIGFmdGVyIHRoaXMgb25lIGZpbGxzXG4gICBpbiB0aGUgcmVzdCBvZiB0aGUgZGVjb2RpbmcgdGFibGVzIHdpdGggaW52YWxpZCBjb2RlIG1hcmtlcnMuXG4gICAqL1xuXG4gIC8qIHNldCB1cCBmb3IgY29kZSB0eXBlICovXG4gIC8vIHBvb3IgbWFuIG9wdGltaXphdGlvbiAtIHVzZSBpZi1lbHNlIGluc3RlYWQgb2Ygc3dpdGNoLFxuICAvLyB0byBhdm9pZCBkZW9wdHMgaW4gb2xkIHY4XG4gIGlmICh0eXBlID09PSBDT0RFUykge1xuICAgIGJhc2UgPSBleHRyYSA9IHdvcms7ICAgIC8qIGR1bW15IHZhbHVlLS1ub3QgdXNlZCAqL1xuICAgIGVuZCA9IDE5O1xuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gTEVOUykge1xuICAgIGJhc2UgPSBsYmFzZTtcbiAgICBiYXNlX2luZGV4IC09IDI1NztcbiAgICBleHRyYSA9IGxleHQ7XG4gICAgZXh0cmFfaW5kZXggLT0gMjU3O1xuICAgIGVuZCA9IDI1NjtcblxuICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgLyogRElTVFMgKi9cbiAgICBiYXNlID0gZGJhc2U7XG4gICAgZXh0cmEgPSBkZXh0O1xuICAgIGVuZCA9IC0xO1xuICB9XG5cbiAgLyogaW5pdGlhbGl6ZSBvcHRzIGZvciBsb29wICovXG4gIGh1ZmYgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlICovXG4gIHN5bSA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIHN5bWJvbCAqL1xuICBsZW4gPSBtaW47ICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBsZW5ndGggKi9cbiAgbmV4dCA9IHRhYmxlX2luZGV4OyAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSB0byBmaWxsIGluICovXG4gIGN1cnIgPSByb290OyAgICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIGluZGV4IGJpdHMgKi9cbiAgZHJvcCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgYml0cyB0byBkcm9wIGZyb20gY29kZSBmb3IgaW5kZXggKi9cbiAgbG93ID0gLTE7ICAgICAgICAgICAgICAgICAgIC8qIHRyaWdnZXIgbmV3IHN1Yi10YWJsZSB3aGVuIGxlbiA+IHJvb3QgKi9cbiAgdXNlZCA9IDEgPDwgcm9vdDsgICAgICAgICAgLyogdXNlIHJvb3QgdGFibGUgZW50cmllcyAqL1xuICBtYXNrID0gdXNlZCAtIDE7ICAgICAgICAgICAgLyogbWFzayBmb3IgY29tcGFyaW5nIGxvdyAqL1xuXG4gIC8qIGNoZWNrIGF2YWlsYWJsZSB0YWJsZSBzcGFjZSAqL1xuICBpZiAoKHR5cGUgPT09IExFTlMgJiYgdXNlZCA+IEVOT1VHSF9MRU5TKSB8fFxuICAgICh0eXBlID09PSBESVNUUyAmJiB1c2VkID4gRU5PVUdIX0RJU1RTKSkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyogcHJvY2VzcyBhbGwgY29kZXMgYW5kIG1ha2UgdGFibGUgZW50cmllcyAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogY3JlYXRlIHRhYmxlIGVudHJ5ICovXG4gICAgaGVyZV9iaXRzID0gbGVuIC0gZHJvcDtcbiAgICBpZiAod29ya1tzeW1dIDwgZW5kKSB7XG4gICAgICBoZXJlX29wID0gMDtcbiAgICAgIGhlcmVfdmFsID0gd29ya1tzeW1dO1xuICAgIH1cbiAgICBlbHNlIGlmICh3b3JrW3N5bV0gPiBlbmQpIHtcbiAgICAgIGhlcmVfb3AgPSBleHRyYVtleHRyYV9pbmRleCArIHdvcmtbc3ltXV07XG4gICAgICBoZXJlX3ZhbCA9IGJhc2VbYmFzZV9pbmRleCArIHdvcmtbc3ltXV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVyZV9vcCA9IDMyICsgNjQ7ICAgICAgICAgLyogZW5kIG9mIGJsb2NrICovXG4gICAgICBoZXJlX3ZhbCA9IDA7XG4gICAgfVxuXG4gICAgLyogcmVwbGljYXRlIGZvciB0aG9zZSBpbmRpY2VzIHdpdGggbG93IGxlbiBiaXRzIGVxdWFsIHRvIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gZHJvcCk7XG4gICAgZmlsbCA9IDEgPDwgY3VycjtcbiAgICBtaW4gPSBmaWxsOyAgICAgICAgICAgICAgICAgLyogc2F2ZSBvZmZzZXQgdG8gbmV4dCB0YWJsZSAqL1xuICAgIGRvIHtcbiAgICAgIGZpbGwgLT0gaW5jcjtcbiAgICAgIHRhYmxlW25leHQgKyAoaHVmZiA+PiBkcm9wKSArIGZpbGxdID0gKGhlcmVfYml0cyA8PCAyNCkgfCAoaGVyZV9vcCA8PCAxNikgfCBoZXJlX3ZhbCB8MDtcbiAgICB9IHdoaWxlIChmaWxsICE9PSAwKTtcblxuICAgIC8qIGJhY2t3YXJkcyBpbmNyZW1lbnQgdGhlIGxlbi1iaXQgY29kZSBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIDEpO1xuICAgIHdoaWxlIChodWZmICYgaW5jcikge1xuICAgICAgaW5jciA+Pj0gMTtcbiAgICB9XG4gICAgaWYgKGluY3IgIT09IDApIHtcbiAgICAgIGh1ZmYgJj0gaW5jciAtIDE7XG4gICAgICBodWZmICs9IGluY3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh1ZmYgPSAwO1xuICAgIH1cblxuICAgIC8qIGdvIHRvIG5leHQgc3ltYm9sLCB1cGRhdGUgY291bnQsIGxlbiAqL1xuICAgIHN5bSsrO1xuICAgIGlmICgtLWNvdW50W2xlbl0gPT09IDApIHtcbiAgICAgIGlmIChsZW4gPT09IG1heCkgeyBicmVhazsgfVxuICAgICAgbGVuID0gbGVuc1tsZW5zX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9XG5cbiAgICAvKiBjcmVhdGUgbmV3IHN1Yi10YWJsZSBpZiBuZWVkZWQgKi9cbiAgICBpZiAobGVuID4gcm9vdCAmJiAoaHVmZiAmIG1hc2spICE9PSBsb3cpIHtcbiAgICAgIC8qIGlmIGZpcnN0IHRpbWUsIHRyYW5zaXRpb24gdG8gc3ViLXRhYmxlcyAqL1xuICAgICAgaWYgKGRyb3AgPT09IDApIHtcbiAgICAgICAgZHJvcCA9IHJvb3Q7XG4gICAgICB9XG5cbiAgICAgIC8qIGluY3JlbWVudCBwYXN0IGxhc3QgdGFibGUgKi9cbiAgICAgIG5leHQgKz0gbWluOyAgICAgICAgICAgIC8qIGhlcmUgbWluIGlzIDEgPDwgY3VyciAqL1xuXG4gICAgICAvKiBkZXRlcm1pbmUgbGVuZ3RoIG9mIG5leHQgdGFibGUgKi9cbiAgICAgIGN1cnIgPSBsZW4gLSBkcm9wO1xuICAgICAgbGVmdCA9IDEgPDwgY3VycjtcbiAgICAgIHdoaWxlIChjdXJyICsgZHJvcCA8IG1heCkge1xuICAgICAgICBsZWZ0IC09IGNvdW50W2N1cnIgKyBkcm9wXTtcbiAgICAgICAgaWYgKGxlZnQgPD0gMCkgeyBicmVhazsgfVxuICAgICAgICBjdXJyKys7XG4gICAgICAgIGxlZnQgPDw9IDE7XG4gICAgICB9XG5cbiAgICAgIC8qIGNoZWNrIGZvciBlbm91Z2ggc3BhY2UgKi9cbiAgICAgIHVzZWQgKz0gMSA8PCBjdXJyO1xuICAgICAgaWYgKCh0eXBlID09PSBMRU5TICYmIHVzZWQgPiBFTk9VR0hfTEVOUykgfHxcbiAgICAgICAgKHR5cGUgPT09IERJU1RTICYmIHVzZWQgPiBFTk9VR0hfRElTVFMpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICAvKiBwb2ludCBlbnRyeSBpbiByb290IHRhYmxlIHRvIHN1Yi10YWJsZSAqL1xuICAgICAgbG93ID0gaHVmZiAmIG1hc2s7XG4gICAgICAvKnRhYmxlLm9wW2xvd10gPSBjdXJyO1xuICAgICAgdGFibGUuYml0c1tsb3ddID0gcm9vdDtcbiAgICAgIHRhYmxlLnZhbFtsb3ddID0gbmV4dCAtIG9wdHMudGFibGVfaW5kZXg7Ki9cbiAgICAgIHRhYmxlW2xvd10gPSAocm9vdCA8PCAyNCkgfCAoY3VyciA8PCAxNikgfCAobmV4dCAtIHRhYmxlX2luZGV4KSB8MDtcbiAgICB9XG4gIH1cblxuICAvKiBmaWxsIGluIHJlbWFpbmluZyB0YWJsZSBlbnRyeSBpZiBjb2RlIGlzIGluY29tcGxldGUgKGd1YXJhbnRlZWQgdG8gaGF2ZVxuICAgYXQgbW9zdCBvbmUgcmVtYWluaW5nIGVudHJ5LCBzaW5jZSBpZiB0aGUgY29kZSBpcyBpbmNvbXBsZXRlLCB0aGVcbiAgIG1heGltdW0gY29kZSBsZW5ndGggdGhhdCB3YXMgYWxsb3dlZCB0byBnZXQgdGhpcyBmYXIgaXMgb25lIGJpdCkgKi9cbiAgaWYgKGh1ZmYgIT09IDApIHtcbiAgICAvL3RhYmxlLm9wW25leHQgKyBodWZmXSA9IDY0OyAgICAgICAgICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbbmV4dCArIGh1ZmZdID0gbGVuIC0gZHJvcDtcbiAgICAvL3RhYmxlLnZhbFtuZXh0ICsgaHVmZl0gPSAwO1xuICAgIHRhYmxlW25leHQgKyBodWZmXSA9ICgobGVuIC0gZHJvcCkgPDwgMjQpIHwgKDY0IDw8IDE2KSB8MDtcbiAgfVxuXG4gIC8qIHNldCByZXR1cm4gcGFyYW1ldGVycyAqL1xuICAvL29wdHMudGFibGVfaW5kZXggKz0gdXNlZDtcbiAgb3B0cy5iaXRzID0gcm9vdDtcbiAgcmV0dXJuIDA7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gWlN0cmVhbSgpIHtcbiAgLyogbmV4dCBpbnB1dCBieXRlICovXG4gIHRoaXMuaW5wdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9pbiA9IDA7XG4gIC8qIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgYXQgaW5wdXQgKi9cbiAgdGhpcy5hdmFpbF9pbiA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBpbnB1dCBieXRlcyByZWFkIHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX2luID0gMDtcbiAgLyogbmV4dCBvdXRwdXQgYnl0ZSBzaG91bGQgYmUgcHV0IHRoZXJlICovXG4gIHRoaXMub3V0cHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfb3V0ID0gMDtcbiAgLyogcmVtYWluaW5nIGZyZWUgc3BhY2UgYXQgb3V0cHV0ICovXG4gIHRoaXMuYXZhaWxfb3V0ID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGJ5dGVzIG91dHB1dCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9vdXQgPSAwO1xuICAvKiBsYXN0IGVycm9yIG1lc3NhZ2UsIE5VTEwgaWYgbm8gZXJyb3IgKi9cbiAgdGhpcy5tc2cgPSAnJy8qWl9OVUxMKi87XG4gIC8qIG5vdCB2aXNpYmxlIGJ5IGFwcGxpY2F0aW9ucyAqL1xuICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgLyogYmVzdCBndWVzcyBhYm91dCB0aGUgZGF0YSB0eXBlOiBiaW5hcnkgb3IgdGV4dCAqL1xuICB0aGlzLmRhdGFfdHlwZSA9IDIvKlpfVU5LTk9XTiovO1xuICAvKiBhZGxlcjMyIHZhbHVlIG9mIHRoZSB1bmNvbXByZXNzZWQgZGF0YSAqL1xuICB0aGlzLmFkbGVyID0gMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIEB0aGlzIHtQcm9taXNlfVxuICovXG5mdW5jdGlvbiBmaW5hbGx5Q29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHRoaXMudGhlbihcbiAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluYWxseUNvbnN0cnVjdG9yO1xuIiwiaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5cbi8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIHByb21pc2UtcG9seWZpbGwgd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4vLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbnZhciBzZXRUaW1lb3V0RnVuYyA9IHNldFRpbWVvdXQ7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBQb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSAqL1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIC8qKiBAdHlwZSB7IWJvb2xlYW59ICovXG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgLyoqIEB0eXBlIHtQcm9taXNlfHVuZGVmaW5lZH0gKi9cbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIC8qKiBAdHlwZSB7IUFycmF5PCFGdW5jdGlvbj59ICovXG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgaWYgKFxuICAgICAgbmV3VmFsdWUgJiZcbiAgICAgICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLl9zdGF0ZSA9IDE7XG4gICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBmaW5hbGUoc2VsZik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3Qoc2VsZiwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuX3N0YXRlID0gMjtcbiAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLl9oYW5kbGVkKSB7XG4gICAgICAgIFByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcbiAgfVxuICBzZWxmLl9kZWZlcnJlZHMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG4gIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG59XG5cbi8qKlxuICogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKGZuLCBzZWxmKSB7XG4gIHZhciBkb25lID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgZm4oXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZWplY3Qoc2VsZiwgcmVhc29uKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChleCkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHNlbGYsIGV4KTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHZhciBwcm9tID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSA9IHByb21pc2VGaW5hbGx5O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFhcnIgfHwgdHlwZW9mIGFyci5sZW5ndGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpO1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiByZXMoaSwgdmFsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwoXG4gICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJnc1tpXSA9IHZhbDtcbiAgICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdCh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBVc2UgcG9seWZpbGwgZm9yIHNldEltbWVkaWF0ZSBmb3IgcGVyZm9ybWFuY2UgZ2FpbnNcblByb21pc2UuX2ltbWVkaWF0ZUZuID1cbiAgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICBmdW5jdGlvbihmbikge1xuICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9KSB8fFxuICBmdW5jdGlvbihmbikge1xuICAgIHNldFRpbWVvdXRGdW5jKGZuLCAwKTtcbiAgfTtcblxuUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiBfdW5oYW5kbGVkUmVqZWN0aW9uRm4oZXJyKSB7XG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSkge1xuICAgIGNvbnNvbGUud2FybignUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOicsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCJzZWxmLmZldGNofHwoc2VsZi5mZXRjaD1mdW5jdGlvbihlLG4pe3JldHVybiBuPW58fHt9LG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Zvcih2YXIgbyBpbiBzLm9wZW4obi5tZXRob2R8fFwiZ2V0XCIsZSwhMCksbi5oZWFkZXJzKXMuc2V0UmVxdWVzdEhlYWRlcihvLG4uaGVhZGVyc1tvXSk7ZnVuY3Rpb24gdSgpe3ZhciBlLG49W10sdD1bXSxyPXt9O3JldHVybiBzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSxmdW5jdGlvbihzLG8sdSl7bi5wdXNoKG89by50b0xvd2VyQ2FzZSgpKSx0LnB1c2goW28sdV0pLHJbb109KGU9cltvXSk/ZStcIixcIit1OnV9KSx7b2s6Mj09KHMuc3RhdHVzLzEwMHwwKSxzdGF0dXM6cy5zdGF0dXMsc3RhdHVzVGV4dDpzLnN0YXR1c1RleHQsdXJsOnMucmVzcG9uc2VVUkwsY2xvbmU6dSx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzLnJlc3BvbnNlVGV4dCl9LGpzb246ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMucmVzcG9uc2VUZXh0KS50aGVuKEpTT04ucGFyc2UpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbcy5yZXNwb25zZV0pKX0saGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBufSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gcltlLnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIHJ9fX19cy53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PW4uY3JlZGVudGlhbHMscy5vbmxvYWQ9ZnVuY3Rpb24oKXt0KHUoKSl9LHMub25lcnJvcj1yLHMuc2VuZChuLmJvZHl8fG51bGwpfSl9KTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8vIFBsYXkgQXVkaW8gd2l0aCBNZWRpYVNvdXJjZSBleHRlbnNpb25zIHJlY2VpdmVkIG92ZXIgYSB3ZWJzb2NrZXRcbnZhciBPUFVTX01JTUVfVFlQRSA9ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJvcHVzXCInO1xudmFyIE1QM19NSU1FX1RZUEUgPSAnYXVkaW8vbXBlZyc7XG5cbi8vIFRoaXMgcmVwcmVzZW50cyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIHR5cGVzIGFyZSB0cmllZFxuY29uc3QgQVVESU9fVFlQRVMgPSBbXG4gIHtcImlkXCI6IFwibXAzXCIsXG4gICAgXCJ0eXBlXCI6IE1QM19NSU1FX1RZUEV9LFxuXG4gIHtcImlkXCI6IFwib3B1c1wiLFxuICAgIFwidHlwZVwiOiBPUFVTX01JTUVfVFlQRX0sXG5dO1xuXG5leHBvcnQge2dldEJlc3RBdWRpb1R5cGUsIE1TQXVkaW99O1xuXG5cbmZ1bmN0aW9uIGdldEJlc3RBdWRpb1R5cGUoKSB7XG4gIGlmICh3aW5kb3cuTWVkaWFTb3VyY2UpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEFVRElPX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAod2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChBVURJT19UWVBFU1tpXS50eXBlKSkge1xuICAgICAgICByZXR1cm4gQVVESU9fVFlQRVNbaV0uaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZG8gbm90IHN1cHBvcnQgXCIgKyBBVURJT19UWVBFU1tpXS50eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1TQXVkaW8ge1xuICBjb25zdHJ1Y3RvciAoZm9ybWF0LCBtZWRpYV9jb250cm9sbGVyLCBsb2NrX2F1ZGlvKSB7XG4gICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgdGhpcy5tZWRpYV9jb250cm9sbGVyID0gbWVkaWFfY29udHJvbGxlcjtcbiAgICB0aGlzLmxvY2tfYXVkaW8gPSBsb2NrX2F1ZGlvO1xuXG4gICAgdGhpcy5NQVhfQlVGRkVSUyA9IDI1MDtcbiAgICB0aGlzLk1JTl9TVEFSVF9CVUZGRVJTID0gMTA7XG5cbiAgICB0aGlzLm1pbkxhdGVuY3kgPSAwLjI7IC8vIDIwMG1zXG4gICAgdGhpcy5tYXhMYXRlbmN5ID0gMC41OyAgLy8gNTAwbXNcblxuICAgIHRoaXMubGF0ZW5jeUNoZWNrID0gbnVsbDtcblxuICAgIHRoaXMud3MgPSBudWxsO1xuICAgIHRoaXMud3NfdXJsID0gbnVsbDtcblxuICAgIHRoaXMuZXJyQ291bnQgPSAwO1xuXG4gICAgdGhpcy5hbGxvd0FwcGVuZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5hdWRpbyA9IG51bGw7XG4gICAgdGhpcy5hdWRpb19taW1lID0gbnVsbDtcbiAgICB0aGlzLm1lZGlhc291cmNlID0gbnVsbDtcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmJ1ZmZRID0gW107XG4gICAgdGhpcy5idWZmQ291bnQgPSAwO1xuICAgIHRoaXMuYnVmZlNpemUgPSAwO1xuXG4gIH1cblxuICBnZXRfYXVkaW9fbWltZSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEFVRElPX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoQVVESU9fVFlQRVNbaV0uaWQgPT0gdGhpcy5mb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIEFVRElPX1RZUEVTW2ldLnR5cGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJBdWRpbyBub3QgaW5pdGVkLCB1bmtub3duIGF1ZGlvIHR5cGU6IFwiICsgdGhpcy5mb3JtYXQpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdW5sb2NrQXVkaW8oKSB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVW5sb2NrIE1TQXVkaW9cIik7XG4gICAgfVxuICAgIHRoaXMubG9ja19hdWRpbyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmF1ZGlvICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYXVkaW8ucGxheSgpLmNhdGNoKGZ1bmN0aW9uKCkgeyB9KTtcbiAgICB9XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBjb25zb2xlLmxvZygnc3RhcnQgTVMgQXVkaW8gd2l0aCBmb3JtYXQgJyArIHRoaXMuZm9ybWF0KTtcbiAgICB0aGlzLmF1ZGlvX21pbWUgPSB0aGlzLmdldF9hdWRpb19taW1lKCk7XG5cbiAgICBpZiAoIXRoaXMuYXVkaW9fbWltZSkge1xuICAgICAgY29uc29sZS5sb2coXCJhdWRpbyBNaW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmxhdGVuY3lDaGVjayA9IHNldEludGVydmFsKHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIuYmluZCh0aGlzKSwgMjUwKTtcblxuICAgIHRoaXMubWVkaWFzb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcbiAgICB0aGlzLm1lZGlhc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VvcGVuXCIsIHRoaXMuc291cmNlT3Blbi5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMubWVkaWFzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChmdW5jdGlvbihldmVudCkge1xuICAgICAgdGhpcy5hdWRpb0Vycm9yKFwiTWVkaWFTb3VyY2UgRXJyb3JcIiwgZXZlbnQpO1xuICAgIH0pLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5hdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgIHRoaXMuYXVkaW8uc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLm1lZGlhc291cmNlKTtcbiAgICB0aGlzLmF1ZGlvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICB0aGlzLmF1ZGlvLm11dGVkID0gdGhpcy5sb2NrX2F1ZGlvO1xuICAgIHRoaXMuYXVkaW8ubG9hZCgpO1xuICAgIHRoaXMuYXVkaW8ucGxheSgpLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5sb2coZSk7IH0pO1xuXG4gICAgbGV0IG1zZyA9IHtcIm1zX2F1ZGlvXCI6IGdldEJlc3RBdWRpb1R5cGUoKX07XG4gICAgdGhpcy5tZWRpYV9jb250cm9sbGVyLnNlbmQobXNnKTtcbiAgICB0aGlzLm1lZGlhX2NvbnRyb2xsZXIud3NfY29ubi5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc291cmNlT3BlbigpIHtcbiAgICBpZiAodGhpcy5tZWRpYXNvdXJjZS5zb3VyY2VCdWZmZXJzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coXCJzb3VyY2UgYWxyZWFkeSBvcGVuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGJ1ZmZlciA9IHRoaXMubWVkaWFzb3VyY2UuYWRkU291cmNlQnVmZmVyKHRoaXMuYXVkaW9fbWltZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJPcGVuaW5nIFNvdXJjZSBFcnJvcjogXCIgKyBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidWZmZXIubW9kZSA9IFwic2VxdWVuY2VcIjtcbiAgICAvL2J1ZmZlci50aW1lc3RhbXBPZmZzZXQgPSAwO1xuXG4gICAgYnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcImJ1ZmZlciBlcnJvcjogXCIgKyAodGhpcy5idWZmQ291bnQpLCBldmVudCk7XG4gICAgfSkuYmluZCh0aGlzKSk7XG5cbiAgICBidWZmZXIuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWVuZFwiLCB0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmFsbG93QXBwZW5kID0gdHJ1ZTtcblxuICB9O1xuXG4gIGNsb3NlKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBBdWRpb1wiKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMubGF0ZW5jeUNoZWNrKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5sYXRlbmN5Q2hlY2spO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZWRpYXNvdXJjZSkge1xuICAgICAgICB0aGlzLm1lZGlhc291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhc291cmNlLnJlYWR5U3RhdGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICB0aGlzLm1lZGlhc291cmNlLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvciBDbG9zaW5nIG1lZGlhc291cmNlOiBcIiArIGUpO1xuICAgIH1cbiAgICB0aGlzLm1lZGlhc291cmNlID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5hdWRpbykge1xuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmF1ZGlvID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIENsb3NpbmcgYXVkaW8gOiBcIiArIGUpO1xuICAgIH1cbiAgfVxuXG4gIG1lcmdlQnVmZmVycygpIHtcbiAgICB2YXIgbWVyZ2VkO1xuXG4gICAgaWYgKHRoaXMuYnVmZlEubGVuZ3RoID09IDEpIHtcbiAgICAgIG1lcmdlZCA9IHRoaXMuYnVmZlFbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZlNpemUpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gdGhpcy5idWZmUS5sZW5ndGg7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyciA9IHRoaXMuYnVmZlFbaV07XG4gICAgICAgIGlmIChjdXJyLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLnNldChjdXJyLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gY3Vyci5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5idWZmUSA9IFtdO1xuICAgIHRoaXMuYnVmZkNvdW50Kys7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfVxuXG4gIG9uVXBkYXRlRW5kKCkge1xuICAgIHRoaXMuYWxsb3dBcHBlbmQgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlTmV4dCgpO1xuICB9XG5cbiAgdXBkYXRlTmV4dCgpIHtcbiAgICBpZiAoIXRoaXMuYnVmZlEubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBtZXJnZWQgPSB0aGlzLm1lcmdlQnVmZmVycygpO1xuICAgICAgdGhpcy5idWZmZXIuYXBwZW5kQnVmZmVyKG1lcmdlZCk7XG4gICAgICB0aGlzLmFsbG93QXBwZW5kID0gZmFsc2U7XG4gICAgICB0aGlzLmJ1ZmZTaXplIC09IG1lcmdlZC5sZW5ndGg7XG4gICAgICB0aGlzLmVyckNvdW50ID0gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJFcnJvciBBZGRpbmcgQnVmZmVyOiBcIiArIGUpO1xuICAgIH1cbiAgfVxuXG4gIGxhdGVuY3lDb250cm9sbGVyKCkge1xuICAgIC8vIGNoZWNrIGZvciBsYXRlbmN5IGFuZCBzZWVrIGZvcndhcmQgaWYgbmVjZXNzYXJ5XG4gICAgdHJ5IHtcbiAgICAgIHZhciBsYXRlbmN5ID0gdGhpcy5hdWRpby5idWZmZXJlZC5lbmQoMCkgLSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lO1xuICAgICAgaWYgKGxhdGVuY3kgPiB0aGlzLm1heExhdGVuY3kpIHtcbiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IHRoaXMuYXVkaW8uYnVmZmVyZWQuZW5kKDApIC0gdGhpcy5taW5MYXRlbmN5O1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGhhcyBiZWVuIHNlZWtlZCBieSBcIiwgTWF0aC5yb3VuZCgobGF0ZW5jeSAtIHRoaXMubWluTGF0ZW5jeSkgKiAxMDAwKSwgXCIgbXNcIik7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoKGUpIHtcblxuICAgIH1cbiAgfVxuXG4gIGF1ZGlvRXJyb3IobXNnLCBldmVudCkge1xuICAgIGlmICh0aGlzLmF1ZGlvICYmIHRoaXMuYXVkaW8uZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmF1ZGlvLmVycm9yKTtcbiAgICAgIHRoaXMuZXJyQ291bnQgKz0gMTtcblxuICAgIH1cbiAgfVxuXG4gIHF1ZXVlKGJ1ZmZlcikge1xuICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgdGhpcy5idWZmUS5wdXNoKGJ1ZmZlcik7XG4gICAgdGhpcy5idWZmU2l6ZSArPSBidWZmZXIubGVuZ3RoO1xuICAgIGlmICh0aGlzLmFsbG93QXBwZW5kKSB7XG4gICAgICB0aGlzLnVwZGF0ZU5leHQoKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNZXNzYWdlKGRhdGEpIHtcbiAgICBpZiAodGhpcy5lcnJDb3VudCA8IDEwKSB7XG5cbiAgICAgIHRoaXMucXVldWUoZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCd0b28gbXVjaCBlcnJvcicpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG59O1xuIiwiaW1wb3J0ICd1bmZldGNoL3BvbHlmaWxsL2luZGV4JztcbmltcG9ydCBSRkIgZnJvbSAnQG5vdm5jL25vdm5jL2NvcmUvcmZiJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ3Byb21pc2UtcG9seWZpbGwnO1xuaW1wb3J0IE1lZGlhQ29udHJvbGxlciBmcm9tIFwiLi9tZWRpYS1jb250cm9sbGVyXCI7XG5cblxuZnVuY3Rpb24gdG9RdWVyeVN0cmluZyhvYmopIHtcbiAgdmFyIHBhcnRzID0gW107XG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgcGFydHMucHVzaChlbmNvZGVVUklDb21wb25lbnQoaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ0Jyb3dzZXIocmVxaWQsIHRhcmdldF9kaXYsIGluaXRfcGFyYW1zKSB7XG4gIHZhciBjb250cm9sbGVyID0gdHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgQWJvcnRDb250cm9sbGVyKCkgOiBudWxsO1xuXG4gIHZhciBjbWRfcG9ydCA9IHVuZGVmaW5lZDtcbiAgdmFyIHZuY19wb3J0ID0gdW5kZWZpbmVkO1xuXG4gIHZhciBjbGlwRXZlbnRzID0gWydwYXN0ZSddO1xuICB2YXIgY29ubmVjdGVkID0gZmFsc2U7XG4gIHZhciBjb3VudGRvd25UaW1lciA9IG51bGw7XG4gIHZhciB2aXNpYmlsaXR5SGFuZGxlID0gbnVsbDtcbiAgdmFyIGV2ZXJfY29ubmVjdGVkID0gZmFsc2U7XG4gIHZhciBmYWlsX2NvdW50ID0gMDtcbiAgdmFyIGhhc0NsaXBib2FyZCA9IGZhbHNlO1xuICB2YXIgbGFzdFRleHQgPSB1bmRlZmluZWQ7XG4gIHZhciBtYXhSZXRyeSA9IDEwO1xuICB2YXIgcmV0cnlDb3VudCA9IDA7XG4gIHZhciByZXRyeUhhbmRsZSA9IG51bGw7XG4gIHZhciBzdGFnZWRUZXh0ID0gbnVsbDtcbiAgdmFyIHRpbWVycyA9IFtdXG5cbiAgdmFyIG1pbl93aWR0aCA9IDMwMDtcbiAgdmFyIG1pbl9oZWlnaHQgPSAzMDA7XG5cbiAgdmFyIHJmYjtcbiAgdmFyIHJlc2l6ZVRpbWVvdXQ7XG4gIHZhciB2bmNfcGFzcyA9IFwic2VjcmV0XCI7XG5cbiAgdmFyIGVuZF90aW1lID0gdW5kZWZpbmVkO1xuXG4gIHZhciBlbnZpcm9uID0ge307XG4gIHZhciBhdWRpb1R5cGUgPSBudWxsO1xuXG4gIHZhciB0YXJnZXREaXZOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRfZGl2KTtcblxuICB2YXIgd2FpdGluZ19mb3JfY29udGFpbmVyID0gZmFsc2U7XG4gIHZhciB3YWl0aW5nX2Zvcl92bmMgPSBmYWxzZTtcblxuICBpbml0X3BhcmFtcyA9IGluaXRfcGFyYW1zIHx8IHt9O1xuXG4gIGluaXRfcGFyYW1zLmFwaV9wcmVmaXggPSBpbml0X3BhcmFtcy5hcGlfcHJlZml4IHx8IFwiXCI7XG5cbiAgdmFyIG51bV92bmNfcmV0cmllcyA9IGluaXRfcGFyYW1zLm51bV92bmNfcmV0cmllcyB8fCAzO1xuXG4gIC8vIHJmYiBldmVudCBjYWxsYmFja3NcbiAgdmFyIGNyZWRlbnRpYWxzUmVxdWlyZWQ7XG4gIHZhciBjb25uZWN0O1xuICB2YXIgZGlzY29ubmVjdDtcbiAgdmFyIHNlY3VyaXR5RmFpbHVyZTtcbiAgdmFyIGNsaXBib2FyZFxuICB2YXIgcmZiRXZlbnRzQm91bmQgPSBmYWxzZTtcblxuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIC8vIENvdW50ZG93biB1cGRhdGVyXG4gICAgaWYgKGluaXRfcGFyYW1zLm9uX2NvdW50ZG93bikge1xuICAgICAgY291bnRkb3duVGltZXIgPSBzZXRJbnRlcnZhbCh1cGRhdGVfY291bnRkb3duLCAxMDAwKTtcbiAgICB9XG5cbiAgICBpbml0X2h0bWwodGFyZ2V0X2Rpdik7XG5cbiAgICBzZXR1cF9icm93c2VyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGlwSGFuZGxlcihlKSB7XG4gICAgaWYgKCFoYXNDbGlwYm9hcmQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dDtcbiAgICBpZiAod2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSkgeyAvLyBpZVxuICAgICAgdGV4dCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICB9IGVsc2UgaWYgKGUuY2xpcGJvYXJkRGF0YSAmJiBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSkge1xuICAgICAgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3RlZCAmJiByZmIgJiYgdGV4dCkge1xuICAgICAgcmZiLmNsaXBib2FyZFBhc3RlRnJvbSh0ZXh0KTtcblxuICAgICAgLy8gYXR0ZW1wdCBzZW5kaW5nIHBhc3RlIGNvbW1hbmRcbiAgICAgIHJmYi5zZW5kS2V5KDB4ZmZlMywgbnVsbCwgdHJ1ZSk7XG4gICAgICByZmIuc2VuZEtleSgweDAwNzYsIG51bGwsIHRydWUpO1xuICAgICAgcmZiLnNlbmRLZXkoMHgwMDc2LCBudWxsLCBmYWxzZSk7XG4gICAgICByZmIuc2VuZEtleSgweGZmZTMsIG51bGwsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0X2NsaXBib2FyZCgpIHtcbiAgICBpZiAoIWluaXRfcGFyYW1zLmNsaXBib2FyZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhc0NsaXBib2FyZCA9IHRydWU7XG4gICAgbGFzdFRleHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBpZiByZW1vdGUgYnJvd3NlciBjdXQvY29weSBvcHBlcmF0aW9uIG9jY3VyZWQsIGluc2VydCBpbnRvIGNsaXBib2FyZCBmaWVsZFxuICAgIGlmIChzdGFnZWRUZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5pdF9wYXJhbXMuY2xpcGJvYXJkKS52YWx1ZSA9IHN0YWdlZFRleHQ7XG4gICAgICAgIHN0YWdlZFRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcEV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbml0X3BhcmFtcy5jbGlwYm9hcmQpLmFkZEV2ZW50TGlzdGVuZXIoY2xpcEV2ZW50c1tpXSwgY2xpcEhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lfY2xpcGJvYXJkKCkge1xuICAgIGlmICghaW5pdF9wYXJhbXMuY2xpcGJvYXJkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzQ2xpcGJvYXJkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYW52YXMoKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gbXNnZGl2KCkge1xuICAgIHJldHVybiB0YXJnZXREaXZOb2RlLnF1ZXJ5U2VsZWN0b3IoJyNicm93c2VyTXNnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignI25vVk5DX3NjcmVlbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9odG1sKCkge1xuICAgIC8vIGVuc3VyZSBjb250YWluZXIgaXMgZW1wdGllZCBvZiBwcmV2aW91cyBicm93c2Vyc1xuICAgIHRhcmdldERpdk5vZGUuaW5uZXJIVE1MID0gJyc7XG5cbiAgICB2YXIgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAnYnJvd3Nlck1zZycpO1xuICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xvYWRpbmcnKTtcbiAgICB0YXJnZXREaXZOb2RlLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG5cbiAgICB2YXIgY2FudmFzRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FudmFzRWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2FudmFzJyk7XG4gICAgdmFyIGNhbnZhc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhbnZhc0Rpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25vVk5DX3NjcmVlbicpO1xuICAgIGNhbnZhc0Rpdi5hcHBlbmRDaGlsZChjYW52YXNFbGUpO1xuICAgIHRhcmdldERpdk5vZGUuYXBwZW5kQ2hpbGQoY2FudmFzRGl2KTtcblxuICAgIGNhbnZhc0VsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBfYnJvd3NlcigpIHtcbiAgICBpZiAod2FpdGluZ19mb3Jfdm5jIHx8IHdhaXRpbmdfZm9yX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtc2c7XG5cbiAgICBpZiAoZXZlcl9jb25uZWN0ZWQpIHtcbiAgICAgIG1zZyA9IFwiUmVjb25uZWN0aW5nIHRvIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZyA9IFwiSW5pdGlhbGl6aW5nIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfVxuXG4gICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gbXNnO1xuICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgLy8gY2FsY3VsYXRlIGRpbWVuc2lvbnNcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCB3ID0gYmNyLndpZHRoO1xuICAgIGxldCBoID0gYmNyLmhlaWdodDtcblxuICAgIGlmICghaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgIHcgKj0gMC45NjtcbiAgICAgIGggLT0gMjU7XG4gICAgfVxuXG4gICAgaWYgKHcgPCBoKSB7XG4gICAgICAvLyBmbGlwIG1pbnMgZm9yIHZlcnRpY2FsIGxheW91dFxuICAgICAgdmFyIHQgPSBtaW5fd2lkdGg7XG4gICAgICBtaW5fd2lkdGggPSBtaW5faGVpZ2h0O1xuICAgICAgbWluX2hlaWdodCA9IHQ7XG4gICAgfVxuXG4gICAgbGV0IHdpZHRoID0gTWF0aC5tYXgodywgbWluX3dpZHRoKTtcbiAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgoaCwgbWluX2hlaWdodCk7XG4gICAgd2lkdGggPSBwYXJzZUludCh3aWR0aCAvIDgpICogODtcbiAgICBoZWlnaHQgPSBwYXJzZUludChoZWlnaHQgLyA4KSAqIDg7XG4gICAgLy9yZXFfcGFyYW1zWydyZXFpZCddID0gcmVxaWQ7XG5cbiAgICBpZiAoaW5pdF9wYXJhbXMud2VicnRjKSB7XG4gICAgICBhdWRpb1R5cGUgPSAnd2VicnRjJztcbiAgICB9IGVsc2Uge1xuICAgICAgYXVkaW9UeXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIWF1ZGlvVHlwZSkge1xuICAgICAgY29uc29sZS5sb2coXCJObyBTdXBwb3J0ZWQgQXVkaW8gVHlwZXNcIik7XG4gICAgfVxuXG4gICAgZW52aXJvbiA9IHsnU0NSRUVOX1dJRFRIJzogd2lkdGgsXG4gICAgICAgICAgICAgICAnU0NSRUVOX0hFSUdIVCc6IGhlaWdodCxcbiAgICAgICAgICAgICAgICdBVURJT19UWVBFJzogYXVkaW9UeXBlLFxuICAgICAgICAgICAgICAgJ1JFUV9JRCc6IHJlcWlkXG4gICAgICAgICAgICAgIH07XG5cbiAgICBpbml0X2Jyb3dzZXIoKVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9icm93c2VyKCkge1xuICAgIGlmICh3YWl0aW5nX2Zvcl9jb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSB0cnVlO1xuXG4gICAgLy92YXIgaW5pdF91cmwgPSBpbml0X3BhcmFtcy5hcGlfcHJlZml4ICsgXCIvaW5pdF9icm93c2VyP1wiICsgdG9RdWVyeVN0cmluZyhyZXFfcGFyYW1zKTtcbiAgICB2YXIgaW5pdF91cmwgPSBpbml0X3BhcmFtcy5hcGlfcHJlZml4ICsgXCIvYXBpL2Zsb2NrL3N0YXJ0L1wiICsgcmVxaWQ7XG5cbiAgICB2YXIgcmVxX3BhcmFtcyA9IHtcImVudmlyb25cIjogZW52aXJvbn07XG5cbiAgICB2YXIgaGVhZGVycyA9IGluaXRfcGFyYW1zLmhlYWRlcnMgfHwge307XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHsgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcV9wYXJhbXMpLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBvcHRpb25zLnNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgIH1cblxuICAgIC8vIGV4cGVjdHMganNvbiByZXNwb25zZVxuICAgIGZldGNoKGluaXRfdXJsLCBvcHRpb25zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuc3RhdHVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHdhaXRpbmdfZm9yX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBoYW5kbGVfYnJvd3Nlcl9yZXNwb25zZShkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2ggZXJyb3InLCBlcnIpO1xuICAgICAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2VyIGNhbmNlbGVkXG4gICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnIgfHwgZXJyLm1lc3NhZ2UgIT0gNDA0KSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlY29ubmVjdGluZyB0byBSZW1vdGUgQnJvd3Nlci4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICBpZiAocmV0cnlDb3VudCsrIDwgbWF4UmV0cnkpIHtcbiAgICAgICAgICAgIHRpbWVycy5wdXNoKHNldFRpbWVvdXQoaW5pdF9icm93c2VyLCAxMDAwKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoJ2Vycm9yJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlbW90ZSBCcm93c2VyIEV4cGlyZWQuLi4gUGxlYXNlIHRyeSBhZ2Fpbi4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlX2Jyb3dzZXJfcmVzcG9uc2UoZGF0YSkge1xuICAgIFxuICAgIGlmIChkYXRhLmNvbnRhaW5lcnMgJiYgZGF0YS5jb250YWluZXJzLnhzZXJ2ZXIgJiYgZGF0YS5jb250YWluZXJzLnhzZXJ2ZXIucG9ydHMpIHtcbiAgICAgIGxldCBwb3J0cyA9IGRhdGEuY29udGFpbmVycy54c2VydmVyLnBvcnRzO1xuXG4gICAgICB2bmNfcG9ydCA9IHBvcnRzLnZuY19wb3J0O1xuICAgICAgY21kX3BvcnQgPSBwb3J0cy5jbWRfcG9ydDtcblxuICAgICAgZW5kX3RpbWUgPSBwYXJzZUludChEYXRlLm5vdygpIC8gMTAwMCwgMTApICsgZGF0YS50dGw7XG5cbiAgICAgIHZuY19wYXNzID0gZGF0YS5jb250YWluZXJzLnhzZXJ2ZXIuZW52aXJvbi5WTkNfUEFTUztcblxuICAgICAgbGV0IG1lZGlhX3BhcmFtcyA9IHtcInBvcnRzXCI6cG9ydHMsXG4gICAgICAgIFwicHJveHlfd3NcIjppbml0X3BhcmFtcy5wcm94eV93cyxcbiAgICAgICAgXCJsb2NrX2F1ZGlvXCI6IChpbml0X3BhcmFtcy5hdWRpbyA9PSBcIndhaXRfZm9yX2NsaWNrXCIpLFxuICAgICAgICBcIndlYnJ0Y1wiOiBpbml0X3BhcmFtcy53ZWJydGMsXG4gICAgICAgIFwid2VicnRjX3ZpZGVvXCI6IGluaXRfcGFyYW1zLndlYnJ0Y192aWRlb1xuICAgICAgfTtcbiAgICAgIHdpbmRvdy5tZWRpYUNvbnRyb2xsZXIgPSBuZXcgTWVkaWFDb250cm9sbGVyKHRhcmdldERpdk5vZGUsIG1lZGlhX3BhcmFtcyk7XG5cbiAgICAgIGlmIChpbml0X3BhcmFtcy5hdWRpbyA9PSBcIndhaXRfZm9yX2NsaWNrXCIpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3aW5kb3cubWVkaWFDb250cm9sbGVyLnVubG9ja0F1ZGlvKCk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcblxuICAgICAgfVxuXG4gICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJpbml0XCIsIGRhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aW1lcnMucHVzaCh3aW5kb3cuc2V0VGltZW91dCh0cnlfaW5pdF92bmMsIDMwMDApKTtcblxuICAgIH0gZWxzZSBpZiAoZGF0YS5xdWV1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBtc2cgPSBcIldhaXRpbmcgZm9yIGVtcHR5IHNsb3QuLi4gXCI7XG4gICAgICBpZiAoZGF0YS5xdWV1ZSA9PSAwKSB7XG4gICAgICAgIG1zZyArPSBcIjxiPllvdSBhcmUgbmV4dCE8L2I+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtc2cgKz0gXCJBdCBtb3N0IDxiPlwiICsgZGF0YS5xdWV1ZSArIFwiIHVzZXIocyk8L2I+IGFoZWFkIG9mIHlvdVwiO1xuICAgICAgfVxuICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gbXNnO1xuXG4gICAgICB0aW1lcnMucHVzaCh3aW5kb3cuc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDMwMDApKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlfaW5pdF92bmMoKSB7XG4gICAgZG9fdm5jKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgd2FpdGluZ19mb3Jfdm5jID0gZmFsc2U7IH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQnLCBlcnIpO1xuXG4gICAgICAgIHdhaXRpbmdfZm9yX3ZuYyA9IGZhbHNlO1xuICAgICAgICBmYWlsX2NvdW50Kys7XG5cbiAgICAgICAgaWYgKGZhaWxfY291bnQgPD0gbnVtX3ZuY19yZXRyaWVzKSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gXCJSZXRyeWluZyB0byBjb25uZWN0IHRvIHJlbW90ZSBicm93c2VyLi4uXCI7XG4gICAgICAgICAgdGltZXJzLnB1c2goc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDUwMCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJmYWlsXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtc2dkaXYoKS5pbm5lckhUTUwgPSBcIkZhaWxlZCB0byBjb25uZWN0IHRvIHJlbW90ZSBicm93c2VyLi4uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjbGllbnRQb3NpdGlvbigpIHtcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBjID0gY2FudmFzKCk7XG4gICAgdmFyIGNoID0gYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgdmFyIGN3ID0gYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBpZiAoIWluaXRfcGFyYW1zLmZpbGxfd2luZG93KSB7XG4gICAgICBjLnN0eWxlLm1hcmdpbkxlZnQgPSAoKGJjci53aWR0aCAtIGN3KS8yKSArICdweCc7XG4gICAgICBjLnN0eWxlLm1hcmdpblRvcCA9ICgoYmNyLmhlaWdodCAtIChjaCArIDI1KSkvMikgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWVudFJlc2l6ZSgpIHtcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgbGV0IHcgPSBiY3Iud2lkdGg7XG4gICAgbGV0IGggPSBiY3IuaGVpZ2h0O1xuXG4gICAgaWYgKCFpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgdyA9IE1hdGgucm91bmQodyAqIDAuOTYpO1xuICAgICAgaCA9IGggLSAyNTtcbiAgICB9XG5cbiAgICBpZiAocmZiKSB7XG4gICAgICB2YXIgcyA9IHJmYi5fZGlzcGxheS5hdXRvc2NhbGUodywgaCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25WTkNDb3B5Q3V0KHJmYiwgdGV4dCkge1xuICAgIGlmIChpbml0X3BhcmFtcy5jbGlwYm9hcmQgJiYgaGFzQ2xpcGJvYXJkKSB7XG4gICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluaXRfcGFyYW1zLmNsaXBib2FyZCkuaW5uZXJIVE1MID0gKHRleHQpO1xuICAgIH0gZWxzZSBpZihpbml0X3BhcmFtcy5jbGlwYm9hcmQpIHtcbiAgICAgIHN0YWdlZFRleHQgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRvX3ZuYygpIHtcbiAgICBpZiAod2FpdGluZ19mb3Jfdm5jKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FpdGluZ19mb3Jfdm5jID0gdHJ1ZTtcblxuICAgIHZhciBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIHZhciBwb3J0ID0gdm5jX3BvcnQ7XG4gICAgdmFyIHBhdGggPSBcIndlYnNvY2tpZnlcIjtcbiAgICB2YXIgcHJvdG9jb2wgPSBcIndzXCI7XG5cbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiKSB7XG4gICAgICBwcm90b2NvbCA9IFwid3NzXCI7XG4gICAgfVxuXG4gICAgLy8gUHJveHkgV1MgdmlhIHRoZSBvcmlnaW4gaG9zdCwgaW5zdGVhZCBvZiBtYWtpbmcgZGlyZWN0IGNvbm5cbiAgICAvLyAncHJveHlfd3MnIHNwZWNpZmllcyB0aGUgcHJveHkgcGF0aCwgcG9ydCBpcyBhcHBlbmRlZFxuICAgIGlmIChpbml0X3BhcmFtcy5wcm94eV93cykge1xuICAgICAgcGF0aCA9IGluaXRfcGFyYW1zLnByb3h5X3dzICsgcG9ydDtcbiAgICAgIHBvcnQgPSB3aW5kb3cubG9jYXRpb24ucG9ydDtcbiAgICAgIGlmICghcG9ydCkge1xuICAgICAgICBwb3J0ID0gKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PSBcImh0dHBzOlwiID8gNDQzIDogODApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBjYW52YXMoKTtcbiAgICB2YXIgd2Vic2VydmljZV91cmwgPSBwcm90b2NvbCArICc6Ly8nICsgaG9zdCArICc6JyArIHBvcnQgKyAnLycgKyBwYXRoO1xuXG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIFwiICsgd2Vic2VydmljZV91cmwpO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZmIgPSBuZXcgUkZCKHRhcmdldCwgd2Vic2VydmljZV91cmwsIHsnY3JlZGVudGlhbHMnOiB7J3Bhc3N3b3JkJzogdm5jX3Bhc3N9fSk7XG4gICAgICB3aW5kb3cucmZiID0gcmZiO1xuXG4gICAgICAvL2lmICghcmZiRXZlbnRzQm91bmQpIHtcbiAgICAgIGNyZWRlbnRpYWxzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChcImNyZWRlbnRpYWxzcmVxdWlyZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbnZhcygpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgICAgIGNhbnZhcygpLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtc2dkaXYoKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGV2ZXJfY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZmFpbF9jb3VudCA9IDA7XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJmYi5yZXNpemVTZXNzaW9uID0gdHJ1ZTtcbiAgICAgICAgcmZiLnNjYWxlVmlld3BvcnQgPSB0cnVlO1xuXG4gICAgICAgIHJlc29sdmUoXCJjb25uZWN0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIGNhbnZhcygpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgdmFyIHJlaW5pdCA9ICFkb2N1bWVudC5oaWRkZW47XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlaW5pdCkge1xuICAgICAgICAgIHNldHVwX2Jyb3dzZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoXCJkaXNjb25uZWN0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHNlY3VyaXR5RmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KFwic2VjdXJpdHlGYWlsdXJlXCIpO1xuICAgICAgfVxuXG4gICAgICBjbGlwYm9hcmQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgb25WTkNDb3B5Q3V0KHJmYiwgZXZlbnQuZGV0YWlsLnRleHQpO1xuICAgICAgfVxuXG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImNyZWRlbnRpYWxzcmVxdWlyZWRcIiwgY3JlZGVudGlhbHNSZXF1aXJlZCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3RcIiwgY29ubmVjdCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgZGlzY29ubmVjdCk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcInNlY3VyaXR5ZmFpbHVyZVwiLCBzZWN1cml0eUZhaWx1cmUpO1xuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlwYm9hcmRcIiwgY2xpcGJvYXJkKTtcbiAgICAgIC8vICAgcmZiRXZlbnRzQm91bmQgPSB0cnVlO1xuICAgICAgLy8gfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuXG4gIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBXaGVuIHRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZCwgd2FpdCB1bnRpbCB0aGUgc2l6ZSByZW1haW5zXG4gICAgLy8gdGhlIHNhbWUgZm9yIDAuNSBzZWNvbmRzIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0IGZvciBjaGFuZ2luZ1xuICAgIC8vIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzZXNzaW9uXG4gICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgIHJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBjbGllbnRSZXNpemUoKTtcbiAgICAgIC8vY2xpZW50UG9zaXRpb24oKTtcbiAgICB9LCA1MDApO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZpc2liaWxpdHlDaGFuZ2VDQigpIHtcbiAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB2aXNpYmlsaXR5SGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHJmYikge1xuICAgICAgICAgIHJmYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0X3BhcmFtcy5pbmFjdGl2ZVNlY3MgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlIYW5kbGUpO1xuICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgaW5pdF9wYXJhbXMub25fZXZlbnQoXCJyZWNvbm5lY3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR1cF9icm93c2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlX2NvdW50ZG93bigpIHtcbiAgICBpZiAoIWVuZF90aW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjdXJyID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xuICAgIHZhciBzZWNkaWZmID0gZW5kX3RpbWUgLSBjdXJyO1xuXG4gICAgaWYgKHNlY2RpZmYgPCAwKSB7XG4gICAgICBpbml0X3BhcmFtcy5vbl9jb3VudGRvd24oMCwgXCIwMDowMFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWluID0gTWF0aC5mbG9vcihzZWNkaWZmIC8gNjApO1xuICAgIHZhciBzZWMgPSBzZWNkaWZmICUgNjA7XG4gICAgaWYgKHNlYyA8PSA5KSB7XG4gICAgICBzZWMgPSBcIjBcIiArIHNlYztcbiAgICB9XG4gICAgaWYgKG1pbiA8PSA5KSB7XG4gICAgICBtaW4gPSBcIjBcIiArIG1pbjtcbiAgICB9XG5cbiAgICBpbml0X3BhcmFtcy5vbl9jb3VudGRvd24oc2VjZGlmZiwgbWluICsgXCI6XCIgKyBzZWMpO1xuICB9XG5cbiAgaWYgKGluaXRfcGFyYW1zLmluYWN0aXZlU2Vjcykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHZpc2liaWxpdHlDaGFuZ2VDQik7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclRpbWVycygpIHtcbiAgICAvLyBjbGVhciBpbnRlcnZhbHMgYW5kIHRpbWVyc1xuICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duVGltZXIpO1xuICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5SGFuZGxlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyc1tpXSk7XG4gICAgfVxuICAgIHRpbWVycyA9IFtdO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIGNhbmNlbCBmZXRjaCByZXF1ZXN0c1xuICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cubWVkaWFDb250cm9sbGVyKSB7XG4gICAgICB3aW5kb3cubWVkaWFDb250cm9sbGVyLnN0b3AoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIGF1ZGlvIHBsdWdpblxuICAgIGlmICh3aW5kb3cuYXVkaW9QbHVnaW4pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2UgQXVkaW9cIik7XG4gICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbi5jbG9zZSgpO1xuICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpe31cbiAgICB9XG5cbiAgICBpZiAocmZiKSB7XG4gICAgICByZmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNyZWRlbnRpYWxzcmVxdWlyZWRcIiwgY3JlZGVudGlhbHNSZXF1aXJlZCk7XG4gICAgICByZmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3RcIiwgY29ubmVjdCk7XG4gICAgICByZmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgZGlzY29ubmVjdCk7XG4gICAgICByZmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlY3VyaXR5ZmFpbHVyZVwiLCBzZWN1cml0eUZhaWx1cmUpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlwYm9hcmRcIiwgY2xpcGJvYXJkKTtcbiAgICAgIHJmYi5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgdmFyIGNudnMgPSBjYW52YXMoKTtcbiAgICB2YXIgX3NjcmVlbiA9IHNjcmVlbigpO1xuXG4gICAgY2xlYXJUaW1lcnMoKTtcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHZpc2liaWxpdHlDaGFuZ2VDQik7XG4gIH1cblxuICBzdGFydCgpO1xuXG4gIHJldHVybiB7XG4gICAgXCJjbG9zZVwiOiBjbG9zZSxcbiAgICBcImRlc3Ryb3lfY2xpcGJvYXJkXCI6IGRlc3Ryb3lfY2xpcGJvYXJkLFxuICAgIFwiaW5pdF9jbGlwYm9hcmRcIjogaW5pdF9jbGlwYm9hcmRcbiAgIH1cbn1cblxuXG5cbiIsImltcG9ydCB7ZGV0ZXJtaW5lVmlkZW9Gb3JtYXRzLCBXZWJSVEN9IGZyb20gXCIuL3dlYnJ0Y1wiO1xuaW1wb3J0IHtnZXRCZXN0QXVkaW9UeXBlLCBNU0F1ZGlvfSBmcm9tIFwiLi9hdWRpby1tZWRpYXNvdXJjZVwiO1xuXG5leHBvcnQge01lZGlhQ29udHJvbGxlcn07XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWFDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGRhdGEpe1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5kZWJ1ZyA9IHRydWU7XG4gICAgdGhpcy5jb25uZWN0X2F0dGVtcHRzID0gMDtcbiAgICB0aGlzLndzX2Nvbm47XG4gICAgdGhpcy53ZWJydGNfdmlkZW9fZm9ybWF0cztcblxuICAgIHRoaXMud2VicnRjID0gZGF0YS53ZWJydGM7XG4gICAgdGhpcy53ZWJydGNfdmlkZW8gPSBkYXRhLndlYnJ0Y192aWRlbztcblxuICAgIHRoaXMubG9ja19hdWRpbyA9IGRhdGFbJ2xvY2tfYXVkaW8nXTtcblxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XG4gIH1cblxuICBnZXRDb21tYW5kU2VydmVyKCkge1xuICAgIGxldCB3c191cmwgPSAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiID8gXCJ3c3M6Ly9cIiA6IFwid3M6Ly9cIik7XG4gICAgd3NfdXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcblxuICAgIHZhciBhdWRpb19wb3J0ID0gdGhpcy5kYXRhLnBvcnRzLmNtZF9wb3J0O1xuXG4gICAgaWYgKHRoaXMuZGF0YS5wcm94eV93cykge1xuICAgICAgd3NfdXJsICs9IFwiL1wiICsgdGhpcy5kYXRhLnByb3h5X3dzICsgYXVkaW9fcG9ydDtcbiAgICB9IGVsc2Uge1xuICAgICAgd3NfdXJsICs9IFwiOlwiICsgYXVkaW9fcG9ydCArIFwiL2F1ZGlvX3dzXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdzX3VybDtcbiAgfVxuXG4gIGNvbm5lY3RUb1NlcnZlcigpIHtcbiAgICB0aGlzLmNvbm5lY3RfYXR0ZW1wdHMrKztcbiAgICBpZiAodGhpcy5jb25uZWN0X2F0dGVtcHRzID4gMTAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlRvbyBtYW55IGNvbm5lY3Rpb24gYXR0ZW1wdHMsIGFib3J0aW5nLiBSZWZyZXNoIHBhZ2UgdG8gdHJ5IGFnYWluXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB3c191cmwgPSB0aGlzLmdldENvbW1hbmRTZXJ2ZXIoKTtcbiAgICB0aGlzLnNldFN0YXR1cyhcIkNvbm5lY3RpbmcgdG8gc2VydmVyIFwiICsgd3NfdXJsICsgXCIsIGF0dGVtcHQ9IFwiICsgdGhpcy5jb25uZWN0X2F0dGVtcHRzKTtcbiAgICB0aGlzLndzX2Nvbm4gPSBuZXcgV2ViU29ja2V0KHdzX3VybCk7XG4gICAgLyogV2hlbiBjb25uZWN0ZWQsIGltbWVkaWF0ZWx5IHJlZ2lzdGVyIHdpdGggdGhlIHNlcnZlciAqL1xuICAgIHRoaXMud3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgdGhpcy53c19jb25uLnNlbmQoJ0hFTExPICcpO1xuICAgICAgdGhpcy5zZXRTdGF0dXMoXCJSZWdpc3RlcmluZyB3aXRoIHNlcnZlclwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMud3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25TZXJ2ZXJFcnJvci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLndzX2Nvbm4uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25TZXJ2ZXJNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMud3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25TZXJ2ZXJDbG9zZS5iaW5kKHRoaXMpKTtcblxuICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHdlYnJ0Y0luaXRPcHRpb25zKGZvcm1hdHMpIHtcbiAgICBpZiAoIXRoaXMud2VicnRjKSB7XG4gICAgICByZXR1cm4ge1wid2VicnRjXCI6IGZhbHNlfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53ZWJydGNfdmlkZW8gJiYgZm9ybWF0cykge1xuICAgICAgaWYgKHR5cGVvZih0aGlzLndlYnJ0Y192aWRlbykgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZm9ybWF0cy51bnNoaWZ0KHRoaXMud2VicnRjX3ZpZGVvKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm1hdHMuaW5jbHVkZXMoXCJWUDhcIikgfHwgZm9ybWF0cy5pbmNsdWRlcyhcIkgyNjRcIikpIHtcbiAgICAgICAgcmV0dXJuIHtcIndlYnJ0Y1wiOiB0cnVlLCBcIndlYnJ0Y192aWRlb1wiOiBmb3JtYXRzfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XCJ3ZWJydGNcIjogdHJ1ZX07XG4gIH1cblxuICB1bmxvY2tBdWRpbygpIHtcbiAgICB0aGlzLmxvY2tfYXVkaW8gPSBmYWxzZTtcbiAgICBpZiAod2luZG93Lm1lZGlhUGx1Z2luICE9IG51bGwpIHtcbiAgICAgIHdpbmRvdy5tZWRpYVBsdWdpbi51bmxvY2tBdWRpbygpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdENvbm5lY3Rpb24oKSB7XG4gICAgY29uc3QgZm9ybWF0cyA9IGF3YWl0IGRldGVybWluZVZpZGVvRm9ybWF0cygpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLndlYnJ0Y0luaXRPcHRpb25zKGZvcm1hdHMpO1xuXG4gICAgdGhpcy53ZWJydGNfdmlkZW9fZm9ybWF0cyA9IGZvcm1hdHM7XG5cbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB0aGlzLnNlbmQobWVzc2FnZSk7XG5cbiAgICAvLyBpbnN0YW50aWF0ZSByaWdodCBwbHVnaW5zXG4gICAgaWYgKG1lc3NhZ2Uud2VicnRjKSB7XG4gICAgICB3aW5kb3cubWVkaWFQbHVnaW4gPSBuZXcgV2ViUlRDKHRoaXMudGFyZ2V0LCAxLCB0aGlzLCB0aGlzLmxvY2tfYXVkaW8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgYXVkaW9fZm9ybWF0ID0gZ2V0QmVzdEF1ZGlvVHlwZSgpO1xuICAgICAgd2luZG93Lm1lZGlhUGx1Z2luID0gbmV3IE1TQXVkaW8oYXVkaW9fZm9ybWF0LCB0aGlzLCB0aGlzLmxvY2tfYXVkaW8pO1xuICAgIH1cbiAgICB3aW5kb3cubWVkaWFQbHVnaW4uc3RhcnQoKTtcbiAgfVxuXG4gIGNsb3NlICgpIHtcbiAgICB0aGlzLmRpc2Nvbm5lY3RXZWJzb2NrZXQoKTtcbiAgICBpZiAod2luZG93Lm1lZGlhUGx1Z2luKSB7XG4gICAgICB3aW5kb3cubWVkaWFQbHVnaW4uY2xvc2UoKTtcbiAgICAgIHdpbmRvdy5tZWRpYVBsdWdpbiA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgb25TZXJ2ZXJDbG9zZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdHVzKCdEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIgd2l0aCBjb2RlPScgKyBldmVudC5jb2RlICsgJyByZWFzb249JyArIGV2ZW50LnJlYXNvbik7XG5cbiAgICB0aGlzLmRpc2Nvbm5lY3RXZWJzb2NrZXQoKTtcblxuICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAyKSB7XG4gICAgICAvLyBSZXNldCBhZnRlciBhIHNlY29uZFxuICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5jb25uZWN0VG9TZXJ2ZXIuYmluZCh0aGlzKSwgMjAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RfYXR0ZW1wdHMgPCA1KSB7XG4gICAgICAgIC8vIFJldHJpZXZlIHRvIGNvbm5lY3QgdXAgdG8gNSB0aW1lcyAocGVlci1pZCBtaWdodCBiZSBpbiBjb25mbGljdCBpZiBpbml0X2Jyb3dzZXIgaXMgY2FsbGVkIGFnYWluKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmNvbm5lY3RUb1NlcnZlci5iaW5kKHRoaXMpLCAyMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0V2Vic29ja2V0KCkge1xuICAgIGlmICh0aGlzLndzX2Nvbm4pIHtcbiAgICAgIHRoaXMuc2V0U3RhdHVzKFwiZGlzY29ubmVjdCB3ZWJzb2NrZXRcIik7XG4gICAgICB0aGlzLndzX2Nvbm4uY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZW5kKG1lc3NhZ2UpIHtcbiAgICB0aGlzLndzX2Nvbm4uc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gIH1cblxuICBvblNlcnZlckVycm9yKCkge1xuICAgIHRoaXMuc2V0U3RhdHVzKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gc2VydmVyLCBkaWQgeW91IGFkZCBhbiBleGNlcHRpb24gZm9yIHRoZSBjZXJ0aWZpY2F0ZT9cIik7XG4gICAgLy8gUmV0cnkgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5jb25uZWN0VG9TZXJ2ZXIuYmluZCh0aGlzKSwgMzAwMCk7XG4gIH1cblxuICBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVkaWEgQ29udHJvbGxlciAtIHN0YXR1czpcIiArIHN0YXR1cyk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSW5jb21pbmdFcnJvcihtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaGFuZGxlSW5jb21pbmdFcnJvcjogXCIgKyBtZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBvblNlcnZlck1lc3NhZ2UoZXZlbnQpIHtcbiAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgaWYgKHdpbmRvdy5tZWRpYVBsdWdpbiAhPSBudWxsKSB7XG4gICAgICBpZih3aW5kb3cubWVkaWFQbHVnaW4uaGFuZGxlTWVzc2FnZShkYXRhKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtc2c7XG5cbiAgICBzd2l0Y2ggKGRhdGEpIHtcbiAgICAgIGNhc2UgXCJIRUxMT1wiOlxuICAgICAgICB0aGlzLnNldFN0YXR1cyhcIlJlZ2lzdGVyZWQgd2l0aCBzZXJ2ZXIsIGRldGVybWluZSB3aGljaCBwcm90b2NvbCB0byB1c2VcIik7XG4gICAgICAgIHRoaXMuaW5pdENvbm5lY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuc3RhcnRzV2l0aChcIkVSUk9SXCIpKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVJbmNvbWluZ0Vycm9yKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIG1zZyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUluY29taW5nRXJyb3IoXCJFcnJvciBwYXJzaW5nIGluY29taW5nIEpTT046IFwiICsgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlSW5jb21pbmdFcnJvcihcIlVua25vd24gZXJyb3IgcGFyc2luZyByZXNwb25zZTogXCIgKyBldmVudC5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbn07XG4iLCJleHBvcnQge1dlYlJUQywgZGV0ZXJtaW5lVmlkZW9Gb3JtYXRzfTtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJSVEMge1xuXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgcGVlcl9pZCwgbWVkaWFfY29udHJvbGxlciwgbG9ja19hdWRpbykge1xuXG4gICAgdGhpcy5kZWJ1ZyA9IHRydWU7XG4gICAgdGhpcy5sb2NrX2F1ZGlvID0gbG9ja19hdWRpbztcbiAgICB0aGlzLnBlZXJfY29ubmVjdGlvbjtcbiAgICB0aGlzLm1lZGlhX2NvbnRyb2xsZXIgPSBtZWRpYV9jb250cm9sbGVyO1xuXG4gICAgdGhpcy52aWRlb19lbGVtZW50O1xuICAgIHRoaXMuYXVkaW9fZWxlbWVudDtcblxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMucGVlcl9pZCA9IHBlZXJfaWQ7XG4gICAgdGhpcy5jYW5kaWRhdGVfbnVtYmVyID0gMDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnZpZGVvX2VsZW1lbnQgfHwgdGhpcy5hdWRpb19lbGVtZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcImFscmVhZHkgc3RhcnRlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgZ2V0UGVlcklkKCkge1xuICAgIHJldHVybiB0aGlzLnBlZXJfaWQ7XG4gIH1cblxuICBpbml0SWNlU2VydmVycyh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBzdHVuID0gXCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCI7XG4gICAgY29uc3QgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgY29uc3QgcG9ydCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IDQ0MyA6IDMzNDc4O1xuXG4gICAgY29uc3QgaWNlU2VydmVycyA9IFtcbiAgICAgIHsndXJscyc6IHN0dW59LFxuICAgICAge1widXJsc1wiOltgdHVybjoke2hvc3RuYW1lfToke3BvcnR9P3RyYW5zcG9ydD11ZHBgLFxuICAgICAgICAgICAgICAgYHR1cm46JHtob3N0bmFtZX06JHtwb3J0fT90cmFuc3BvcnQ9dGNwYF0sXG4gICAgICAgXCJ1c2VybmFtZVwiOiB1c2VybmFtZSxcbiAgICAgICBcImNyZWRlbnRpYWxcIjogcGFzc3dvcmR9XG4gICAgXTtcblxuICAgIHJldHVybiB7J2ljZVRyYW5zcG9ydFBvbGljeSc6ICdyZWxheScsICdpY2VTZXJ2ZXJzJzogaWNlU2VydmVyc307XG4gIH1cblxuICBvbkluY29taW5nQ29uZmlndXJhdGlvbihtc2cpIHtcbiAgICBtc2cgPSB0aGlzLmluaXRJY2VTZXJ2ZXJzKG1zZy51c2VybmFtZSwgbXNnLnBhc3N3b3JkKTtcblxuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNyZWF0ZSBwZWVyQ29ubmVjdGlvbiB3aXRoIGNvbmZpZ3VyYXRpb25cIiArIEpTT04uc3RyaW5naWZ5KG1zZykpO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZUNhbGwobXNnKTtcbiAgfVxuXG4gIC8vIElDRSBjYW5kaWRhdGUgcmVjZWl2ZWQgZnJvbSBwZWVyLCBhZGQgaXQgdG8gdGhlIHBlZXIgY29ubmVjdGlvblxuICBvbkluY29taW5nSUNFKGljZSkge1xuICAgIGxldCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGljZSk7XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goKCkgPT4gdGhpcy5zZXRFcnJvcihcIkVycm9yIGFkZGluZyBpY2UgY2FuZGlkYXRlXCIpKTtcbiAgfVxuXG4gIHNldFN0YXR1cyhzdGF0dXMpIHtcbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJXZWJSVEMtc3RhdHVzOlwiICsgc3RhdHVzKTtcbiAgICB9XG4gIH1cblxuICBzZXRFcnJvcihlcnJvcikge1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldlYlJUQy1lcnJvcjogXCIgKyBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgb25JbmNvbWluZ1NEUChzZHApIHtcbiAgICB0aGlzLnBlZXJfY29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihzZHApLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0dXMoXCJSZW1vdGUgU0RQIHNldFwiKTtcbiAgICAgIGlmIChzZHAudHlwZSAhPT0gXCJvZmZlclwiKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLnNldFN0YXR1cyhcIkdvdCBTRFAgb2ZmZXJcIik7XG4gICAgICB0aGlzLnBlZXJfY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKVxuICAgICAgICAudGhlbih0aGlzLm9uTG9jYWxEZXNjcmlwdGlvbi5iaW5kKHRoaXMpKS5jYXRjaCgoKSA9PiB0aGlzLnNldEVycm9yKFwiRXJyb3Igc2V0dGluZyBsb2NhbCBkZXNjcmlwdGlvblwiKSk7XG4gICAgfSkuY2F0Y2goKGV2ZW50KSA9PiB0aGlzLnNldEVycm9yKFwiRXJyb3Igc2V0dGluZyByZW1vdGUgZGVzY3JpcHRpb246XCIgKyBldmVudCkpO1xuICB9XG5cbiAgLy8gTG9jYWwgZGVzY3JpcHRpb24gd2FzIHNldCwgc2VuZCBpdCB0byBwZWVyXG4gIG9uTG9jYWxEZXNjcmlwdGlvbihkZXNjKSB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR290IGxvY2FsIGRlc2NyaXB0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KGRlc2MpKTtcbiAgICB9XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRTdGF0dXMoXCJTZW5kaW5nIFNEUCBhbnN3ZXJcIik7XG4gICAgICBsZXQgc2RwID0geydzZHAnOiB0aGlzLnBlZXJfY29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9ufTtcbiAgICAgIHRoaXMubWVkaWFfY29udHJvbGxlci5zZW5kKHNkcCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG5cbiAgaGFuZGxlTWVzc2FnZShkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBtc2cgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgLy8gSW5jb21pbmcgSlNPTiBzaWduYWxzIHRoZSBiZWdpbm5pbmcgb2YgYSBjYWxsXG4gICAgICBpZiAobXNnLnNkcCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMub25JbmNvbWluZ1NEUChtc2cuc2RwKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG1zZy5pY2UgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLm9uSW5jb21pbmdJQ0UobXNnLmljZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChtc2cudXNlcm5hbWUgJiYgbXNnLnBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMub25JbmNvbWluZ0NvbmZpZ3VyYXRpb24obXNnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHVubG9ja0F1ZGlvKCkge1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVubG9jayB3ZWJydGMgYXVkaW9cIik7XG4gICAgfVxuICAgIHRoaXMubG9ja19hdWRpbyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmF1ZGlvX2VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5hdWRpb19lbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICBjb25zb2xlLmxvZyhcIiBwYXVzZWQ6IFwiICsgdGhpcy5hdWRpb19lbGVtZW50LnBhdXNlZCk7XG4gICAgICB0aGlzLmF1ZGlvX2VsZW1lbnQucGxheSgpLmNhdGNoKChlcnIpID0+IHRoaXMuc2V0RXJyb3IoXCJ1bmxvY2sgYXVkaW9fZWxlbWVudC5wbGF5KCkgZXJyb3I6IFwiICsgZXJyKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZpZGVvX2VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy52aWRlb19lbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5zZXRTdGF0dXMoXCJDbG9zaW5nIFdlYlJUQyBjb25uZWN0aW9uXCIpO1xuICAgIHRoaXMucGVlcl9jb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24gPSBudWxsO1xuICB9O1xuXG4gIGNyZWF0ZUNhbGwoY29uZmlndXJhdGlvbikge1xuXG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24ub250cmFjayA9IHRoaXMub25SZW1vdGVUcmFja0FkZGVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSB0aGlzLm9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5wZWVyX2Nvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSB0aGlzLm9uSWNlQ2FuZGlkYXRlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnNldFN0YXR1cyhcIkNyZWF0ZWQgcGVlciBjb25uZWN0aW9uIGZvciBjYWxsLCB3YWl0aW5nIGZvciBTRFBcIik7XG4gIH1cblxuICBvbkljZUNhbmRpZGF0ZShldmVudCkge1xuICAgICAgbGV0IGNhbmRpZGF0ZSA9IGV2ZW50LmNhbmRpZGF0ZTtcblxuICAgICAgaWYgKGNhbmRpZGF0ZSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSWNlIENhbmRpZGF0ZXMgRG9uZSwgU2VudCBcIiArIHRoaXMuY2FuZGlkYXRlX251bWJlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJzZW5kIGNhbmRpZGF0ZSByZW1vdGVseTogXCIgKyBjYW5kaWRhdGUuY2FuZGlkYXRlKTtcbiAgICAgIHRoaXMubWVkaWFfY29udHJvbGxlci5zZW5kKHsnaWNlJzogY2FuZGlkYXRlfSk7XG4gICAgICB0aGlzLmNhbmRpZGF0ZV9udW1iZXIrKztcbiAgICB9O1xuXG4gIG9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGVlcl9jb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2ViUlRDIGlzIG9uIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN5bmNWaWRlb0VsZW1lbnQoKSB7XG4gICAgbGV0IGNhbnZhcyA9IHRoaXMudGFyZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXTtcbiAgICBpZiAodGhpcy52aWRlb19lbGVtZW50ICE9IG51bGwgICYmIGNhbnZhcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBjYW52YXNfcG9zaXRpb24gPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZXQgbGVmdCA9IGNhbnZhc19wb3NpdGlvbi54O1xuICAgICAgbGV0IHRvcCA9IGNhbnZhc19wb3NpdGlvbi55O1xuICAgICAgbGV0IHdpZHRoID0gY2FudmFzX3Bvc2l0aW9uLndpZHRoO1xuICAgICAgbGV0IGhlaWdodCA9IGNhbnZhc19wb3NpdGlvbi5oZWlnaHQ7XG5cbiAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW8gcG9zaXRpb24gaXMgbGVmdCBcIiArIGxlZnQgKyBcIiwgdG9wIFwiICsgdG9wICsgXCIsIHdpZHRoIFwiICsgd2lkdGggKyBcIiwgaGVpZ2h0IFwiICsgaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52aWRlb19lbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgdGhpcy52aWRlb19lbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgIGlmICh3aWR0aCA+IDApIHtcbiAgICAgICAgdGhpcy52aWRlb19lbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0ID4gMCkge1xuICAgICAgICB0aGlzLnZpZGVvX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uUmVtb3RlVHJhY2tBZGRlZChldmVudCkge1xuICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlICcgKyBldmVudC5zdHJlYW1zLmxlbmd0aCArICdTdHJlYW1zLiBzdHJlYW0gMSAgPSAnICsgZXZlbnQuc3RyZWFtc1swXS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCArICcgdmlkZW8gdHJhY2tzIGFuZCAnICsgZXZlbnQuc3RyZWFtc1swXS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCArICcgYXVkaW8gdHJhY2tzJyApO1xuXG4gICAgaWYgKGV2ZW50LnN0cmVhbXNbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwICYmIGV2ZW50LnN0cmVhbXNbMF0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMCkge1xuICAgICAgaWYgKHRoaXMuYXVkaW9fZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5hdWRpb19lbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2FuIG5vdCBwYXVzZSBhdWRpbyBlbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXVkaW9fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgIHRoaXMuYXVkaW9fZWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFwcGVuZCh0aGlzLmF1ZGlvX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmF1ZGlvX2VsZW1lbnQuc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcblxuICAgICAgdGhpcy5hdWRpb19lbGVtZW50LnBsYXkoKS5jYXRjaCgoZXJyKSA9PiB0aGlzLm1lZGlhUGxheUVycm9yKGVyciwgdGhpcy5hdWRpb19lbGVtZW50LCBcImF1ZGlvX2VsZW1lbnQucGxheSgpXCIpKTtcblxuICAgIH1cblxuICAgIGlmIChldmVudC5zdHJlYW1zWzBdLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHRoaXMuYXVkaW9fZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYXVkaW9fZWxlbWVudC5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52aWRlb19lbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgLy8gRnVsbCBXZWJSVENcbiAgICAgICAgdGhpcy52aWRlb19lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICB0aGlzLnZpZGVvX2VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibHVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy90aGlzLnZpZGVvX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMC41XCI7XG4gICAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICB0aGlzLnZpZGVvX2VsZW1lbnQuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgdGhpcy52aWRlb19lbGVtZW50LnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAvL3RoaXMudmlkZW9fZWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXG4gICAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5zdHlsZS56SW5kZXggPSBcIi0xXCI7XG5cbiAgICAgICAgdGhpcy52aWRlb19lbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG4gICAgICAgIC8vIEhpZGUgcmVhbCBWTkNcbiAgICAgICAgdGhpcy50YXJnZXQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FudmFzJylbMF0uc3R5bGUub3BhY2l0eSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMubG9ja19hdWRpbykge1xuICAgICAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMudGFyZ2V0LmFwcGVuZCh0aGlzLnZpZGVvX2VsZW1lbnQpO1xuICAgICAgICB3aW5kb3cub25yZXNpemUgPSB0aGlzLnN5bmNWaWRlb0VsZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zeW5jVmlkZW9FbGVtZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5wYXVzZSgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2NhbiBub3QgcGF1c2UgdmlkZW8gZWxlbWVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdO1xuXG4gICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvX2VsZW1lbnQ7XG5cbiAgICAgIHRoaXMudmlkZW9fZWxlbWVudC5wbGF5KCkuY2F0Y2goKGVycikgPT4gdGhpcy5tZWRpYVBsYXlFcnJvcihlcnIsIHRoaXMudmlkZW9fZWxlbWVudCwgXCJ2aWRlb19lbGVtZW50LnBsYXkoKVwiKSk7XG4gICAgfVxuICB9XG5cbiAgbWVkaWFQbGF5RXJyb3IoZXJyLCBlbGVtLCBtc2cpIHtcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICBlbGVtLm11dGVkID0gdHJ1ZTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMudW5sb2NrQXVkaW8oKSk7XG4gICAgICBlbGVtLnBsYXkoKS5jYXRjaCgoZXJyKSA9PiB0aGlzLnNldEVycm9yKG1zZyArIFwiIG11dGVkIGVycm9yOiBcIiArIGVycikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEVycm9yKG1zZyArIFwiIGVycm9yOiBcIiArIGVycik7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBkZXRlcm1pbmVWaWRlb0Zvcm1hdHMoKSB7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgdmFyIGNvbm4gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oKTtcbiAgICAgIGlmIChjb25uLmFkZFRyYW5zY2VpdmVyKSB7XG4gICAgICAgIGNvbm4uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLCB7XCJkaXJlY3Rpb25cIjogXCJyZWN2b25seVwifSk7XG4gICAgICB9XG4gICAgICBjb25uLmNyZWF0ZU9mZmVyKHtcIm9mZmVyVG9SZWNlaXZlVmlkZW9cIjogdHJ1ZX0pLnRoZW4oKG9mZmVyKSA9PiB7XG4gICAgICAgIGNvbm4uY2xvc2UoKTtcblxuICAgICAgICB2YXIgZm9ybWF0cyA9IFtdO1xuICAgICAgICB2YXIgZm91bmQgPSB7fTtcblxuICAgICAgICB2YXIgcnggPSAvYT1ydHBtYXBbOl1cXGQrIChcXHcrKVxcLy9nO1xuXG4gICAgICAgIHZhciByZXMgPSBudWxsO1xuXG4gICAgICAgIHdoaWxlICgocmVzID0gcnguZXhlYyhvZmZlci5zZHApKSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdCA9IHJlc1sxXTtcbiAgICAgICAgICBpZiAoIWZvdW5kW2Zvcm1hdF0pIHtcbiAgICAgICAgICAgIGZvcm1hdHMucHVzaChmb3JtYXQpO1xuICAgICAgICAgICAgZm91bmRbZm9ybWF0XSA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShmb3JtYXRzKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgV2ViUlRDIG5vdCBzdXBwb3J0ZWRcIilcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG5cbiAgfSk7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=