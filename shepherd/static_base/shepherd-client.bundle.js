(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: InitBrowserDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitBrowserDefault", function() { return InitBrowserDefault; });
/* harmony import */ var _src_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/browser */ "./src/browser.js");


function InitBrowserDefault(reqid, opts) {
  document.addEventListener("readystatechange", function() {
    if (document.readyState != "complete") {
      return;
    }

    opts = opts || {};

    // if in iframe, notify parent of reqid
    if (window != window.parent && !opts.noNotifyParent) {
      window.parent.postMessage({"type": "reqid", "reqid": reqid}, "*");
    }

    if (!opts.on_countdown) {
      opts.on_countdown = function(seconds, countdown_text) {
        var text = document.getElementById("countdown");
        if (text) {
          text.innerText = countdown_text;
        }
      }
    }

    if (!opts.on_event) {
      opts.on_event = function(type, data) {
        if (type == "fail" || type == "expire") {
          window.location.reload();
        }
      }
    }

    if (opts.proxy_ws === undefined) {
      if (!window.location.port) {
        opts.proxy_ws = "_websockify?port=";
      }
    }

    if (opts.audio === undefined) {
      opts.audio = true;
    }

    if (opts.fill_window === undefined) {
      opts.fill_window = true;
    }

    if (opts.inactiveSecs === undefined) {
      opts.inactiveSecs = 10;
    }

    var id = opts.id || "#browser";

    return new _src_browser__WEBPACK_IMPORTED_MODULE_0__["default"](reqid, id, opts);
  });
}





/***/ }),

/***/ "./node_modules/@novnc/novnc/core/base64.js":
/*!**************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/base64.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// From: http://hg.mozilla.org/mozilla-central/raw-file/ec10630b1a54/js/src/devtools/jint/sunspider/string-base64.js



/* harmony default export */ __webpack_exports__["default"] = ({
    /* Convert data (an array of integers) to a Base64 string. */
    toBase64Table : 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),
    base64Pad     : '=',

    encode: function (data) {
        "use strict";
        var result = '';
        var toBase64Table = this.toBase64Table;
        var length = data.length;
        var lengthpad = (length % 3);
        // Convert every three bytes to 4 ascii characters.

        for (var i = 0; i < (length - 2); i += 3) {
            result += toBase64Table[data[i] >> 2];
            result += toBase64Table[((data[i] & 0x03) << 4) + (data[i + 1] >> 4)];
            result += toBase64Table[((data[i + 1] & 0x0f) << 2) + (data[i + 2] >> 6)];
            result += toBase64Table[data[i + 2] & 0x3f];
        }

        // Convert the remaining 1 or 2 bytes, pad out to 4 characters.
        var j = 0;
        if (lengthpad === 2) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[((data[j] & 0x03) << 4) + (data[j + 1] >> 4)];
            result += toBase64Table[(data[j + 1] & 0x0f) << 2];
            result += toBase64Table[64];
        } else if (lengthpad === 1) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[(data[j] & 0x03) << 4];
            result += toBase64Table[64];
            result += toBase64Table[64];
        }

        return result;
    },

    /* Convert Base64 data to a string */
    toBinaryTable : [
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,62, -1,-1,-1,63,
        52,53,54,55, 56,57,58,59, 60,61,-1,-1, -1, 0,-1,-1,
        -1, 0, 1, 2,  3, 4, 5, 6,  7, 8, 9,10, 11,12,13,14,
        15,16,17,18, 19,20,21,22, 23,24,25,-1, -1,-1,-1,-1,
        -1,26,27,28, 29,30,31,32, 33,34,35,36, 37,38,39,40,
        41,42,43,44, 45,46,47,48, 49,50,51,-1, -1,-1,-1,-1
    ],

    decode: function (data, offset) {
        "use strict";
        offset = typeof(offset) !== 'undefined' ? offset : 0;
        var toBinaryTable = this.toBinaryTable;
        var base64Pad = this.base64Pad;
        var result, result_length;
        var leftbits = 0; // number of bits decoded, but yet to be appended
        var leftdata = 0; // bits decoded, but yet to be appended
        var data_length = data.indexOf('=') - offset;

        if (data_length < 0) { data_length = data.length - offset; }

        /* Every four characters is 3 resulting numbers */
        result_length = (data_length >> 2) * 3 + Math.floor((data_length % 4) / 1.5);
        result = new Array(result_length);

        // Convert one by one.
        for (var idx = 0, i = offset; i < data.length; i++) {
            var c = toBinaryTable[data.charCodeAt(i) & 0x7f];
            var padding = (data.charAt(i) === base64Pad);
            // Skip illegal characters and whitespace
            if (c === -1) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Illegal character code " + data.charCodeAt(i) + " at position " + i);
                continue;
            }

            // Collect data into leftdata, update bitcount
            leftdata = (leftdata << 6) | c;
            leftbits += 6;

            // If we have 8 or more bits, append 8 bits to the result
            if (leftbits >= 8) {
                leftbits -= 8;
                // Append if not padding.
                if (!padding) {
                    result[idx++] = (leftdata >> leftbits) & 0xff;
                }
                leftdata &= (1 << leftbits) - 1;
            }
        }

        // If there are any bits left, the base64 string was corrupted
        if (leftbits) {
            err = new Error('Corrupted base64 string');
            err.name = 'Base64-Error';
            throw err;
        }

        return result;
    }
}); /* End of Base64 namespace */


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/des.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/des.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DES; });
/*
 * Ported from Flashlight VNC ActionScript implementation:
 *     http://www.wizhelp.com/flashlight-vnc/
 *
 * Full attribution follows:
 *
 * -------------------------------------------------------------------------
 *
 * This DES class has been extracted from package Acme.Crypto for use in VNC.
 * The unnecessary odd parity code has been removed.
 *
 * These changes are:
 *  Copyright (C) 1999 AT&T Laboratories Cambridge.  All Rights Reserved.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *

 * DesCipher - the DES encryption method
 *
 * The meat of this code is by Dave Zimmerman <dzimm@widget.com>, and is:
 *
 * Copyright (c) 1996 Widget Workshop, Inc. All Rights Reserved.
 *
 * Permission to use, copy, modify, and distribute this software
 * and its documentation for NON-COMMERCIAL or COMMERCIAL purposes and
 * without fee is hereby granted, provided that this copyright notice is kept
 * intact.
 *
 * WIDGET WORKSHOP MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY
 * OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 * TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WIDGET WORKSHOP SHALL NOT BE LIABLE
 * FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR
 * DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.
 *
 * THIS SOFTWARE IS NOT DESIGNED OR INTENDED FOR USE OR RESALE AS ON-LINE
 * CONTROL EQUIPMENT IN HAZARDOUS ENVIRONMENTS REQUIRING FAIL-SAFE
 * PERFORMANCE, SUCH AS IN THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT
 * NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, DIRECT LIFE
 * SUPPORT MACHINES, OR WEAPONS SYSTEMS, IN WHICH THE FAILURE OF THE
 * SOFTWARE COULD LEAD DIRECTLY TO DEATH, PERSONAL INJURY, OR SEVERE
 * PHYSICAL OR ENVIRONMENTAL DAMAGE ("HIGH RISK ACTIVITIES").  WIDGET WORKSHOP
 * SPECIFICALLY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY OF FITNESS FOR
 * HIGH RISK ACTIVITIES.
 *
 *
 * The rest is:
 *
 * Copyright (C) 1996 by Jef Poskanzer <jef@acme.com>.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * Visit the ACME Labs Java page for up-to-date versions of this and other
 * fine Java utilities: http://www.acme.com/java/
 */

function DES(passwd) {
    "use strict";

    // Tables, permutations, S-boxes, etc.
    var PC2 = [13,16,10,23, 0, 4, 2,27,14, 5,20, 9,22,18,11, 3,
               25, 7,15, 6,26,19,12, 1,40,51,30,36,46,54,29,39,
               50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31 ],
        totrot = [ 1, 2, 4, 6, 8,10,12,14,15,17,19,21,23,25,27,28],
        z = 0x0, a,b,c,d,e,f, SP1,SP2,SP3,SP4,SP5,SP6,SP7,SP8,
        keys = [];

    a=1<<16; b=1<<24; c=a|b; d=1<<2; e=1<<10; f=d|e;
    SP1 = [c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,
           z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,
           a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,
           c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];
    a=1<<20; b=1<<31; c=a|b; d=1<<5; e=1<<15; f=d|e;
    SP2 = [c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,
           a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,b|d,z|z,a|e,z|f,c|e,c|z,z|f,
           z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,
           z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];
    a=1<<17; b=1<<27; c=a|b; d=1<<3; e=1<<9; f=d|e;
    SP3 = [z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,
           b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,
           c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,
           b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];
    a=1<<13; b=1<<23; c=a|b; d=1<<0; e=1<<7; f=d|e;
    SP4 = [c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,
           z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,
           b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,
           c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];
    a=1<<25; b=1<<30; c=a|b; d=1<<8; e=1<<19; f=d|e;
    SP5 = [z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,
           a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,
           z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|f,z|d,a|z,c|e,
           c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];
    a=1<<22; b=1<<29; c=a|b; d=1<<4; e=1<<14; f=d|e;
    SP6 = [b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,
           z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,
           b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,
           a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];
    a=1<<21; b=1<<26; c=a|b; d=1<<1; e=1<<11; f=d|e;
    SP7 = [a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|f,
           b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,
           b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,
           z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];
    a=1<<18; b=1<<28; c=a|b; d=1<<6; e=1<<12; f=d|e;
    SP8 = [b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,
           c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,
           a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,
           z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|e];

    // Set the key.
    function setKeys(keyBlock) {
        var i, j, l, m, n, o, pc1m = [], pcr = [], kn = [],
            raw0, raw1, rawi, KnLi;

        for (j = 0, l = 56; j < 56; ++j, l -= 8) {
            l += l < -5 ? 65 : l < -3 ? 31 : l < -1 ? 63 : l === 27 ? 35 : 0; // PC1
            m = l & 0x7;
            pc1m[j] = ((keyBlock[l >>> 3] & (1<<m)) !== 0) ? 1: 0;
        }

        for (i = 0; i < 16; ++i) {
            m = i << 1;
            n = m + 1;
            kn[m] = kn[n] = 0;
            for (o = 28; o < 59; o += 28) {
                for (j = o - 28; j < o; ++j) {
                    l = j + totrot[i];
                    if (l < o) {
                        pcr[j] = pc1m[l];
                    } else {
                        pcr[j] = pc1m[l - 28];
                    }
                }
            }
            for (j = 0; j < 24; ++j) {
                if (pcr[PC2[j]] !== 0) {
                    kn[m] |= 1 << (23 - j);
                }
                if (pcr[PC2[j + 24]] !== 0) {
                    kn[n] |= 1 << (23 - j);
                }
            }
        }

        // cookey
        for (i = 0, rawi = 0, KnLi = 0; i < 16; ++i) {
            raw0 = kn[rawi++];
            raw1 = kn[rawi++];
            keys[KnLi] = (raw0 & 0x00fc0000) << 6;
            keys[KnLi] |= (raw0 & 0x00000fc0) << 10;
            keys[KnLi] |= (raw1 & 0x00fc0000) >>> 10;
            keys[KnLi] |= (raw1 & 0x00000fc0) >>> 6;
            ++KnLi;
            keys[KnLi] = (raw0 & 0x0003f000) << 12;
            keys[KnLi] |= (raw0 & 0x0000003f) << 16;
            keys[KnLi] |= (raw1 & 0x0003f000) >>> 4;
            keys[KnLi] |= (raw1 & 0x0000003f);
            ++KnLi;
        }
    }

    // Encrypt 8 bytes of text
    function enc8(text) {
        var i = 0, b = text.slice(), fval, keysi = 0,
            l, r, x; // left, right, accumulator

        // Squash 8 bytes to 2 ints
        l = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];
        r = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];

        x = ((l >>> 4) ^ r) & 0x0f0f0f0f;
        r ^= x;
        l ^= (x << 4);
        x = ((l >>> 16) ^ r) & 0x0000ffff;
        r ^= x;
        l ^= (x << 16);
        x = ((r >>> 2) ^ l) & 0x33333333;
        l ^= x;
        r ^= (x << 2);
        x = ((r >>> 8) ^ l) & 0x00ff00ff;
        l ^= x;
        r ^= (x << 8);
        r = (r << 1) | ((r >>> 31) & 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 1) | ((l >>> 31) & 1);

        for (i = 0; i < 8; ++i) {
            x = (r << 28) | (r >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = r ^ keys[keysi++];
            fval |= SP8[x & 0x3f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            l ^= fval;
            x = (l << 28) | (l >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = l ^ keys[keysi++];
            fval |= SP8[x & 0x0000003f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            r ^= fval;
        }

        r = (r << 31) | (r >>> 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 31) | (l >>> 1);
        x = ((l >>> 8) ^ r) & 0x00ff00ff;
        r ^= x;
        l ^= (x << 8);
        x = ((l >>> 2) ^ r) & 0x33333333;
        r ^= x;
        l ^= (x << 2);
        x = ((r >>> 16) ^ l) & 0x0000ffff;
        l ^= x;
        r ^= (x << 16);
        x = ((r >>> 4) ^ l) & 0x0f0f0f0f;
        l ^= x;
        r ^= (x << 4);

        // Spread ints to bytes
        x = [r, l];
        for (i = 0; i < 8; i++) {
            b[i] = (x[i>>>2] >>> (8 * (3 - (i % 4)))) % 256;
            if (b[i] < 0) { b[i] += 256; } // unsigned
        }
        return b;
    }

    // Encrypt 16 bytes of text using passwd as key
    function encrypt(t) {
        return enc8(t.slice(0, 8)).concat(enc8(t.slice(8, 16)));
    }

    setKeys(passwd);             // Setup keys
    return {'encrypt': encrypt}; // Public interface

}; // function DES


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/display.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/display.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Display; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64.js */ "./node_modules/@novnc/novnc/core/base64.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2015 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */




function Display(target) {
    this._drawCtx = null;
    this._c_forceCanvas = false;

    this._renderQ = [];  // queue drawing actions for in-oder rendering
    this._flushing = false;

    // the full frame buffer (logical canvas) size
    this._fb_width = 0;
    this._fb_height = 0;

    this._prevDrawStyle = "";
    this._tile = null;
    this._tile16x16 = null;
    this._tile_x = 0;
    this._tile_y = 0;

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Display.constructor");

    // The visible canvas
    this._target = target;

    if (!this._target) {
        throw new Error("Target must be set");
    }

    if (typeof this._target === 'string') {
        throw new Error('target must be a DOM element');
    }

    if (!this._target.getContext) {
        throw new Error("no getContext method");
    }

    this._targetCtx = this._target.getContext('2d');

    // the visible canvas viewport (i.e. what actually gets seen)
    this._viewportLoc = { 'x': 0, 'y': 0, 'w': this._target.width, 'h': this._target.height };

    // The hidden canvas, where we do the actual rendering
    this._backbuffer = document.createElement('canvas');
    this._drawCtx = this._backbuffer.getContext('2d');

    this._damageBounds = { left:0, top:0,
                           right: this._backbuffer.width,
                           bottom: this._backbuffer.height };

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("User Agent: " + navigator.userAgent);

    this.clear();

    // Check canvas features
    if (!('createImageData' in this._drawCtx)) {
        throw new Error("Canvas does not support createImageData");
    }

    this._tile16x16 = this._drawCtx.createImageData(16, 16);
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Display.constructor");
};

var SUPPORTS_IMAGEDATA_CONSTRUCTOR = false;
try {
    new ImageData(new Uint8ClampedArray(4), 1, 1);
    SUPPORTS_IMAGEDATA_CONSTRUCTOR = true;
} catch (ex) {
    // ignore failure
}

Display.prototype = {
    // ===== PROPERTIES =====

    _scale: 1.0,
    get scale() { return this._scale; },
    set scale(scale) {
        this._rescale(scale);
    },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        // May need to readjust the viewport dimensions
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    get width() {
        return this._fb_width;
    },
    get height() {
        return this._fb_height;
    },

    logo: null,

    // ===== EVENT HANDLERS =====

    onflush: function () {},        // A flush request has finished

    // ===== PUBLIC METHODS =====

    viewportChangePos: function (deltaX, deltaY) {
        var vp = this._viewportLoc;
        deltaX = Math.floor(deltaX);
        deltaY = Math.floor(deltaY);

        if (!this._clipViewport) {
            deltaX = -vp.w;  // clamped later of out of bounds
            deltaY = -vp.h;
        }

        var vx2 = vp.x + vp.w - 1;
        var vy2 = vp.y + vp.h - 1;

        // Position change

        if (deltaX < 0 && vp.x + deltaX < 0) {
            deltaX = -vp.x;
        }
        if (vx2 + deltaX >= this._fb_width) {
            deltaX -= vx2 + deltaX - this._fb_width + 1;
        }

        if (vp.y + deltaY < 0) {
            deltaY = -vp.y;
        }
        if (vy2 + deltaY >= this._fb_height) {
            deltaY -= (vy2 + deltaY - this._fb_height + 1);
        }

        if (deltaX === 0 && deltaY === 0) {
            return;
        }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("viewportChange deltaX: " + deltaX + ", deltaY: " + deltaY);

        vp.x += deltaX;
        vp.y += deltaY;

        this._damage(vp.x, vp.y, vp.w, vp.h);

        this.flip();
    },

    viewportChangeSize: function(width, height) {

        if (!this._clipViewport ||
            typeof(width) === "undefined" ||
            typeof(height) === "undefined") {

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Setting viewport to full display region");
            width = this._fb_width;
            height = this._fb_height;
        }

        if (width > this._fb_width) {
            width = this._fb_width;
        }
        if (height > this._fb_height) {
            height = this._fb_height;
        }

        var vp = this._viewportLoc;
        if (vp.w !== width || vp.h !== height) {
            vp.w = width;
            vp.h = height;

            var canvas = this._target;
            canvas.width = width;
            canvas.height = height;

            // The position might need to be updated if we've grown
            this.viewportChangePos(0, 0);

            this._damage(vp.x, vp.y, vp.w, vp.h);
            this.flip();

            // Update the visible size of the target canvas
            this._rescale(this._scale);
        }
    },

    absX: function (x) {
        return x / this._scale + this._viewportLoc.x;
    },

    absY: function (y) {
        return y / this._scale + this._viewportLoc.y;
    },

    resize: function (width, height) {
        this._prevDrawStyle = "";

        this._fb_width = width;
        this._fb_height = height;

        var canvas = this._backbuffer;
        if (canvas.width !== width || canvas.height !== height) {

            // We have to save the canvas data since changing the size will clear it
            var saveImg = null;
            if (canvas.width > 0 && canvas.height > 0) {
                saveImg = this._drawCtx.getImageData(0, 0, canvas.width, canvas.height);
            }

            if (canvas.width !== width) {
                canvas.width = width;
            }
            if (canvas.height !== height) {
                canvas.height = height;
            }

            if (saveImg) {
                this._drawCtx.putImageData(saveImg, 0, 0);
            }
        }

        // Readjust the viewport as it may be incorrectly sized
        // and positioned
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    // Track what parts of the visible canvas that need updating
    _damage: function(x, y, w, h) {
        if (x < this._damageBounds.left) {
            this._damageBounds.left = x;
        }
        if (y < this._damageBounds.top) {
            this._damageBounds.top = y;
        }
        if ((x + w) > this._damageBounds.right) {
            this._damageBounds.right = x + w;
        }
        if ((y + h) > this._damageBounds.bottom) {
            this._damageBounds.bottom = y + h;
        }
    },

    // Update the visible canvas with the contents of the
    // rendering canvas
    flip: function(from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'flip'
            });
        } else {
            var x, y, vx, vy, w, h;

            x = this._damageBounds.left;
            y = this._damageBounds.top;
            w = this._damageBounds.right - x;
            h = this._damageBounds.bottom - y;

            vx = x - this._viewportLoc.x;
            vy = y - this._viewportLoc.y;

            if (vx < 0) {
                w += vx;
                x -= vx;
                vx = 0;
            }
            if (vy < 0) {
                h += vy;
                y -= vy;
                vy = 0;
            }

            if ((vx + w) > this._viewportLoc.w) {
                w = this._viewportLoc.w - vx;
            }
            if ((vy + h) > this._viewportLoc.h) {
                h = this._viewportLoc.h - vy;
            }

            if ((w > 0) && (h > 0)) {
                // FIXME: We may need to disable image smoothing here
                //        as well (see copyImage()), but we haven't
                //        noticed any problem yet.
                this._targetCtx.drawImage(this._backbuffer,
                                          x, y, w, h,
                                          vx, vy, w, h);
            }

            this._damageBounds.left = this._damageBounds.top = 65535;
            this._damageBounds.right = this._damageBounds.bottom = 0;
        }
    },

    clear: function () {
        if (this._logo) {
            this.resize(this._logo.width, this._logo.height);
            this.imageRect(0, 0, this._logo.type, this._logo.data);
        } else {
            this.resize(240, 20);
            this._drawCtx.clearRect(0, 0, this._fb_width, this._fb_height);
        }
        this.flip();
    },

    pending: function() {
        return this._renderQ.length > 0;
    },

    flush: function() {
        if (this._renderQ.length === 0) {
            this.onflush();
        } else {
            this._flushing = true;
        }
    },

    fillRect: function (x, y, width, height, color, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'fill',
                'x': x,
                'y': y,
                'width': width,
                'height': height,
                'color': color
            });
        } else {
            this._setFillColor(color);
            this._drawCtx.fillRect(x, y, width, height);
            this._damage(x, y, width, height);
        }
    },

    copyImage: function (old_x, old_y, new_x, new_y, w, h, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'copy',
                'old_x': old_x,
                'old_y': old_y,
                'x': new_x,
                'y': new_y,
                'width': w,
                'height': h,
            });
        } else {
            // Due to this bug among others [1] we need to disable the image-smoothing to
            // avoid getting a blur effect when copying data.
            //
            // 1. https://bugzilla.mozilla.org/show_bug.cgi?id=1194719
            //
            // We need to set these every time since all properties are reset
            // when the the size is changed
            this._drawCtx.mozImageSmoothingEnabled = false;
            this._drawCtx.webkitImageSmoothingEnabled = false;
            this._drawCtx.msImageSmoothingEnabled = false;
            this._drawCtx.imageSmoothingEnabled = false;

            this._drawCtx.drawImage(this._backbuffer,
                                    old_x, old_y, w, h,
                                    new_x, new_y, w, h);
            this._damage(new_x, new_y, w, h);
        }
    },

    imageRect: function(x, y, mime, arr) {
        var img = new Image();
        img.src = "data: " + mime + ";base64," + _base64_js__WEBPACK_IMPORTED_MODULE_1__["default"].encode(arr);
        this._renderQ_push({
            'type': 'img',
            'img': img,
            'x': x,
            'y': y
        });
    },

    // start updating a tile
    startTile: function (x, y, width, height, color) {
        this._tile_x = x;
        this._tile_y = y;
        if (width === 16 && height === 16) {
            this._tile = this._tile16x16;
        } else {
            this._tile = this._drawCtx.createImageData(width, height);
        }

        var red = color[2];
        var green = color[1];
        var blue = color[0];

        var data = this._tile.data;
        for (var i = 0; i < width * height * 4; i += 4) {
            data[i] = red;
            data[i + 1] = green;
            data[i + 2] = blue;
            data[i + 3] = 255;
        }
    },

    // update sub-rectangle of the current tile
    subTile: function (x, y, w, h, color) {
        var red = color[2];
        var green = color[1];
        var blue = color[0];
        var xend = x + w;
        var yend = y + h;

        var data = this._tile.data;
        var width = this._tile.width;
        for (var j = y; j < yend; j++) {
            for (var i = x; i < xend; i++) {
                var p = (i + (j * width)) * 4;
                data[p] = red;
                data[p + 1] = green;
                data[p + 2] = blue;
                data[p + 3] = 255;
            }
        }
    },

    // draw the current tile to the screen
    finishTile: function () {
        this._drawCtx.putImageData(this._tile, this._tile_x, this._tile_y);
        this._damage(this._tile_x, this._tile_y,
                     this._tile.width, this._tile.height);
    },

    blitImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blit',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._bgrxImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbImage: function (x, y , width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 3);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgb',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbxImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgbx',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbxImageData(x, y, width, height, arr, offset);
        }
    },

    drawImage: function (img, x, y) {
        this._drawCtx.drawImage(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    changeCursor: function (pixels, mask, hotx, hoty, w, h) {
        Display.changeCursor(this._target, pixels, mask, hotx, hoty, w, h);
    },

    defaultCursor: function () {
        this._target.style.cursor = "default";
    },

    disableLocalCursor: function () {
        this._target.style.cursor = "none";
    },

    autoscale: function (containerWidth, containerHeight) {
        var vp = this._viewportLoc;
        var targetAspectRatio = containerWidth / containerHeight;
        var fbAspectRatio = vp.w / vp.h;

        var scaleRatio;
        if (fbAspectRatio >= targetAspectRatio) {
            scaleRatio = containerWidth / vp.w;
        } else {
            scaleRatio = containerHeight / vp.h;
        }

        this._rescale(scaleRatio);
    },

    // ===== PRIVATE METHODS =====

    _rescale: function (factor) {
        this._scale = factor;
        var vp = this._viewportLoc;

        // NB(directxman12): If you set the width directly, or set the
        //                   style width to a number, the canvas is cleared.
        //                   However, if you set the style width to a string
        //                   ('NNNpx'), the canvas is scaled without clearing.
        var width = Math.round(factor * vp.w) + 'px';
        var height = Math.round(factor * vp.h) + 'px';

        if ((this._target.style.width !== width) ||
            (this._target.style.height !== height)) {
            this._target.style.width = width;
            this._target.style.height = height;
        }
    },

    _setFillColor: function (color) {
        var newStyle = 'rgb(' + color[2] + ',' + color[1] + ',' + color[0] + ')';
        if (newStyle !== this._prevDrawStyle) {
            this._drawCtx.fillStyle = newStyle;
            this._prevDrawStyle = newStyle;
        }
    },

    _rgbImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 3) {
            data[i]     = arr[j];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j + 2];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _bgrxImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 4) {
            data[i]     = arr[j + 2];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _rgbxImageData: function (x, y, width, height, arr, offset) {
        // NB(directxman12): arr must be an Type Array view
        var img;
        if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
            img = new ImageData(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4), width, height);
        } else {
            img = this._drawCtx.createImageData(width, height);
            img.data.set(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4));
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _renderQ_push: function (action) {
        this._renderQ.push(action);
        if (this._renderQ.length === 1) {
            // If this can be rendered immediately it will be, otherwise
            // the scanner will wait for the relevant event
            this._scan_renderQ();
        }
    },

    _resume_renderQ: function() {
        // "this" is the object that is ready, not the
        // display object
        this.removeEventListener('load', this._noVNC_display._resume_renderQ);
        this._noVNC_display._scan_renderQ();
    },

    _scan_renderQ: function () {
        var ready = true;
        while (ready && this._renderQ.length > 0) {
            var a = this._renderQ[0];
            switch (a.type) {
                case 'flip':
                    this.flip(true);
                    break;
                case 'copy':
                    this.copyImage(a.old_x, a.old_y, a.x, a.y, a.width, a.height, true);
                    break;
                case 'fill':
                    this.fillRect(a.x, a.y, a.width, a.height, a.color, true);
                    break;
                case 'blit':
                    this.blitImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgb':
                    this.blitRgbImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgbx':
                    this.blitRgbxImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'img':
                    if (a.img.complete) {
                        this.drawImage(a.img, a.x, a.y);
                    } else {
                        a.img._noVNC_display = this;
                        a.img.addEventListener('load', this._resume_renderQ);
                        // We need to wait for this image to 'load'
                        // to keep things in-order
                        ready = false;
                    }
                    break;
            }

            if (ready) {
                this._renderQ.shift();
            }
        }

        if (this._renderQ.length === 0 && this._flushing) {
            this._flushing = false;
            this.onflush();
        }
    },
};

// Class Methods
Display.changeCursor = function (target, pixels, mask, hotx, hoty, w, h) {
    if ((w === 0) || (h === 0)) {
        target.style.cursor = 'none';
        return;
    }

    var cur = []
    var y, x;
    for (y = 0; y < h; y++) {
        for (x = 0; x < w; x++) {
            var idx = y * Math.ceil(w / 8) + Math.floor(x / 8);
            var alpha = (mask[idx] << (x % 8)) & 0x80 ? 255 : 0;
            idx = ((w * y) + x) * 4;
            cur.push(pixels[idx + 2]); // red
            cur.push(pixels[idx + 1]); // green
            cur.push(pixels[idx]);     // blue
            cur.push(alpha);           // alpha
        }
    }

    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    canvas.width = w;
    canvas.height = h;

    var img;
    if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
        img = new ImageData(new Uint8ClampedArray(cur), w, h);
    } else {
        img = ctx.createImageData(w, h);
        img.data.set(new Uint8ClampedArray(cur));
    }
    ctx.clearRect(0, 0, w, h);
    ctx.putImageData(img, 0, 0);

    var url = canvas.toDataURL();
    target.style.cursor = 'url(' + url + ')' + hotx + ' ' + hoty + ', default';
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/encodings.js":
/*!*****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/encodings.js ***!
  \*****************************************************/
/*! exports provided: encodings, encodingName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodings", function() { return encodings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodingName", function() { return encodingName; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var encodings = {
    encodingRaw: 0,
    encodingCopyRect: 1,
    encodingRRE: 2,
    encodingHextile: 5,
    encodingTight: 7,

    pseudoEncodingQualityLevel9: -23,
    pseudoEncodingQualityLevel0: -32,
    pseudoEncodingDesktopSize: -223,
    pseudoEncodingLastRect: -224,
    pseudoEncodingCursor: -239,
    pseudoEncodingQEMUExtendedKeyEvent: -258,
    pseudoEncodingTightPNG: -260,
    pseudoEncodingExtendedDesktopSize: -308,
    pseudoEncodingXvp: -309,
    pseudoEncodingFence: -312,
    pseudoEncodingContinuousUpdates: -313,
    pseudoEncodingCompressLevel9: -247,
    pseudoEncodingCompressLevel0: -256,
};

function encodingName(num) {
    switch (num) {
        case encodings.encodingRaw:      return "Raw";
        case encodings.encodingCopyRect: return "CopyRect";
        case encodings.encodingRRE:      return "RRE";
        case encodings.encodingHextile:  return "Hextile";
        case encodings.encodingTight:    return "Tight";
        default:                         return "[unknown encoding " + num + "]";
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/inflator.js":
/*!****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/inflator.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Inflate; });
/* harmony import */ var _vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/inflate.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js");
/* harmony import */ var _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/zstream.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js");



Inflate.prototype = {
    inflate: function (data, flush, expected) {
        this.strm.input = data;
        this.strm.avail_in = this.strm.input.length;
        this.strm.next_in = 0;
        this.strm.next_out = 0;

        // resize our output buffer if it's too small
        // (we could just use multiple chunks, but that would cause an extra
        // allocation each time to flatten the chunks)
        if (expected > this.chunkSize) {
            this.chunkSize = expected;
            this.strm.output = new Uint8Array(this.chunkSize);
        }

        this.strm.avail_out = this.chunkSize;

        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflate"])(this.strm, flush);

        return new Uint8Array(this.strm.output.buffer, 0, this.strm.next_out);
    },

    reset: function () {
        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateReset"])(this.strm);
    }
};

function Inflate() {
    this.strm = new _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
    this.chunkSize = 1024 * 10 * 10;
    this.strm.output = new Uint8Array(this.chunkSize);
    this.windowBits = 5;

    Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateInit"])(this.strm, this.windowBits);
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/domkeytable.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/domkeytable.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */



/*
 * Mapping between HTML key values and VNC/X11 keysyms for "special"
 * keys that cannot be handled via their Unicode codepoint.
 *
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

var DOMKeyTable = {};

function addStandard(key, standard)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, standard];
}

function addLeftRight(key, left, right)
{
    if (left === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (right === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [left, left, right, left];
}

function addNumpad(key, standard, numpad)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (numpad === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, numpad];
}

// 2.2. Modifier Keys

addLeftRight("Alt", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_R);
addStandard("AltGraph", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Level3_Shift);
addStandard("CapsLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Caps_Lock);
addLeftRight("Control", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_R);
// - Fn
// - FnLock
addLeftRight("Hyper", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addLeftRight("Meta", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addStandard("NumLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Num_Lock);
addStandard("ScrollLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Scroll_Lock);
addLeftRight("Shift", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_R);
addLeftRight("Super", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
// - Symbol
// - SymbolLock

// 2.3. Whitespace Keys

addNumpad("Enter", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Return, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Enter);
addStandard("Tab", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Tab);
addNumpad(" ", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_space, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Space);

// 2.4. Navigation Keys

addNumpad("ArrowDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Down, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Down);
addNumpad("ArrowUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Up, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Up);
addNumpad("ArrowLeft", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Left, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Left);
addNumpad("ArrowRight", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Right, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Right);
addNumpad("End", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_End, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_End);
addNumpad("Home", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Home, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Home);
addNumpad("PageDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Next, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Next);
addNumpad("PageUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Prior, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Prior);

// 2.5. Editing Keys

addStandard("Backspace", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_BackSpace);
addStandard("Clear", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Clear);
addStandard("Copy", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Copy);
// - CrSel
addStandard("Cut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Cut);
addNumpad("Delete", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Delete, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Delete);
// - EraseEof
// - ExSel
addNumpad("Insert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Insert, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Insert);
addStandard("Paste", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Paste);
addStandard("Redo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Redo);
addStandard("Undo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Undo);

// 2.6. UI Keys

// - Accept
// - Again (could just be XK_Redo)
// - Attn
addStandard("Cancel", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Cancel);
addStandard("ContextMenu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Menu);
addStandard("Escape", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Escape);
addStandard("Execute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Execute);
addStandard("Find", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Find);
addStandard("Help", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Help);
addStandard("Pause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Pause);
// - Play
// - Props
addStandard("Select", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Select);
addStandard("ZoomIn", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomIn);
addStandard("ZoomOut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomOut);

// 2.7. Device Keys

addStandard("BrightnessDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessDown);
addStandard("BrightnessUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessUp);
addStandard("Eject", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Eject);
addStandard("LogOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_LogOff);
addStandard("Power", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerOff);
addStandard("PowerOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerDown);
addStandard("PrintScreen", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Hibernate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Hibernate);
addStandard("Standby", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Standby);
addStandard("WakeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WakeUp);

// 2.8. IME and Composition Keys

addStandard("AllCandidates", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_MultipleCandidate);
addStandard("Alphanumeric", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_Shift); // could also be _Eisu_Toggle
addStandard("CodeInput", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Codeinput);
addStandard("Compose", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Multi_key);
addStandard("Convert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Henkan);
// - Dead
// - FinalMode
addStandard("GroupFirst", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_First_Group);
addStandard("GroupLast", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Last_Group);
addStandard("GroupNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Next_Group);
addStandard("GroupPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Prev_Group);
// - ModeChange (XK_Mode_switch is often used for AltGr)
// - NextCandidate
addStandard("NonConvert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Muhenkan);
addStandard("PreviousCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_PreviousCandidate);
// - Process
addStandard("SingleCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_SingleCandidate);
addStandard("HangulMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul);
addStandard("HanjaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Hanja);
addStandard("JunjuaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Jeonja);
addStandard("Eisu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_toggle);
addStandard("Hankaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hankaku);
addStandard("Hiragana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana);
addStandard("HiraganaKatakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana_Katakana);
addStandard("KanaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kana_Shift); // could also be _Kana_Lock
addStandard("KanjiMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kanji);
addStandard("Katakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Katakana);
addStandard("Romaji", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Romaji);
addStandard("Zenkaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku);
addStandard("ZenkakuHanaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku_Hankaku);

// 2.9. General-Purpose Function Keys

addStandard("F1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F1);
addStandard("F2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F2);
addStandard("F3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F3);
addStandard("F4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F4);
addStandard("F5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F5);
addStandard("F6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F6);
addStandard("F7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F7);
addStandard("F8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F8);
addStandard("F9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F9);
addStandard("F10", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F10);
addStandard("F11", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F11);
addStandard("F12", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F12);
addStandard("F13", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F13);
addStandard("F14", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F14);
addStandard("F15", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F15);
addStandard("F16", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F16);
addStandard("F17", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F17);
addStandard("F18", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F18);
addStandard("F19", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F19);
addStandard("F20", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F20);
addStandard("F21", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F21);
addStandard("F22", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F22);
addStandard("F23", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F23);
addStandard("F24", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F24);
addStandard("F25", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F25);
addStandard("F26", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F26);
addStandard("F27", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F27);
addStandard("F28", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F28);
addStandard("F29", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F29);
addStandard("F30", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F30);
addStandard("F31", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F31);
addStandard("F32", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F32);
addStandard("F33", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F33);
addStandard("F34", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F34);
addStandard("F35", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F35);
// - Soft1...

// 2.10. Multimedia Keys

// - ChannelDown
// - ChannelUp
addStandard("Close", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Close);
addStandard("MailForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MailForward);
addStandard("MailReply", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Reply);
addStandard("MainSend", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Send);
addStandard("MediaFastForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioForward);
addStandard("MediaPause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPause);
addStandard("MediaPlay", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPlay);
addStandard("MediaRecord", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRecord);
addStandard("MediaRewind", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRewind);
addStandard("MediaStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioStop);
addStandard("MediaTrackNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioNext);
addStandard("MediaTrackPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPrev);
addStandard("New", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_New);
addStandard("Open", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Open);
addStandard("Print", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Save", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Save);
addStandard("SpellCheck", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Spell);

// 2.11. Multimedia Numpad Keys

// - Key11
// - Key12

// 2.12. Audio Keys

// - AudioBalanceLeft
// - AudioBalanceRight
// - AudioBassDown
// - AudioBassBoostDown
// - AudioBassBoostToggle
// - AudioBassBoostUp
// - AudioBassUp
// - AudioFaderFront
// - AudioFaderRear
// - AudioSurroundModeNext
// - AudioTrebleDown
// - AudioTrebleUp
addStandard("AudioVolumeDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioLowerVolume);
addStandard("AudioVolumeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRaiseVolume);
addStandard("AudioVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMute);
// - MicrophoneToggle
// - MicrophoneVolumeDown
// - MicrophoneVolumeUp
addStandard("MicrophoneVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMicMute);

// 2.13. Speech Keys

// - SpeechCorrectionList
// - SpeechInputToggle

// 2.14. Application Keys

addStandard("LaunchCalculator", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calculator);
addStandard("LaunchCalendar", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calendar);
addStandard("LaunchMail", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Mail);
addStandard("LaunchMediaPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMedia);
addStandard("LaunchMusicPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Music);
addStandard("LaunchMyComputer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MyComputer);
addStandard("LaunchPhone", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Phone);
addStandard("LaunchScreenSaver", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ScreenSaver);
addStandard("LaunchSpreadsheet", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Excel);
addStandard("LaunchWebBrowser", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WWW);
addStandard("LaunchWebCam", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WebCam);
addStandard("LaunchWordProcessor", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Word);

// 2.15. Browser Keys

addStandard("BrowserBack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Back);
addStandard("BrowserFavorites", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Favorites);
addStandard("BrowserForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Forward);
addStandard("BrowserHome", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_HomePage);
addStandard("BrowserRefresh", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Refresh);
addStandard("BrowserSearch", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Search);
addStandard("BrowserStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Stop);

// 2.16. Mobile Phone Keys

// - A whole bunch...

// 2.17. TV Keys

// - A whole bunch...

// 2.18. Media Controller Keys

// - A whole bunch...
addStandard("Dimmer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_BrightnessAdjust);
addStandard("MediaAudioTrack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioCycleTrack);
addStandard("RandomToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRandomPlay);
addStandard("SplitScreenToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_SplitScreen);
addStandard("Subtitle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Subtitle);
addStandard("VideoModeNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Next_VMode);

// Extra: Numpad

addNumpad("=", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_equal, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Equal);
addNumpad("+", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_plus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Add);
addNumpad("-", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_minus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Subtract);
addNumpad("*", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_asterisk, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Multiply);
addNumpad("/", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_slash, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Divide);
addNumpad(".", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_period, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Decimal);
addNumpad(",", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_comma, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Separator);
addNumpad("0", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_0, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_0);
addNumpad("1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_1, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_1);
addNumpad("2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_2, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_2);
addNumpad("3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_3, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_3);
addNumpad("4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_4, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_4);
addNumpad("5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_5, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_5);
addNumpad("6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_6, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_6);
addNumpad("7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_7, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_7);
addNumpad("8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_8, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_8);
addNumpad("9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_9, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_9);

/* harmony default export */ __webpack_exports__["default"] = (DOMKeyTable);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/fixedkeys.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/fixedkeys.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Fallback mapping between HTML key codes (physical keys) and
 * HTML key values. This only works for keys that don't vary
 * between layouts. We also omit those who manage fine by mapping the
 * Unicode representation.
 *
 * See https://www.w3.org/TR/uievents-code/ for possible codes.
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

/* harmony default export */ __webpack_exports__["default"] = ({

// 3.1.1.1. Writing System Keys

    'Backspace':        'Backspace',

// 3.1.1.2. Functional Keys

    'AltLeft':          'Alt',
    'AltRight':         'Alt', // This could also be 'AltGraph'
    'CapsLock':         'CapsLock',
    'ContextMenu':      'ContextMenu',
    'ControlLeft':      'Control',
    'ControlRight':     'Control',
    'Enter':            'Enter',
    'MetaLeft':         'Meta',
    'MetaRight':        'Meta',
    'ShiftLeft':        'Shift',
    'ShiftRight':       'Shift',
    'Tab':              'Tab',
    // FIXME: Japanese/Korean keys

// 3.1.2. Control Pad Section

    'Delete':           'Delete',
    'End':              'End',
    'Help':             'Help',
    'Home':             'Home',
    'Insert':           'Insert',
    'PageDown':         'PageDown',
    'PageUp':           'PageUp',

// 3.1.3. Arrow Pad Section

    'ArrowDown':        'ArrowDown',
    'ArrowLeft':        'ArrowLeft',
    'ArrowRight':       'ArrowRight',
    'ArrowUp':          'ArrowUp',

// 3.1.4. Numpad Section

    'NumLock':          'NumLock',
    'NumpadBackspace':  'Backspace',
    'NumpadClear':      'Clear',

// 3.1.5. Function Section

    'Escape':           'Escape',
    'F1':               'F1',
    'F2':               'F2',
    'F3':               'F3',
    'F4':               'F4',
    'F5':               'F5',
    'F6':               'F6',
    'F7':               'F7',
    'F8':               'F8',
    'F9':               'F9',
    'F10':              'F10',
    'F11':              'F11',
    'F12':              'F12',
    'F13':              'F13',
    'F14':              'F14',
    'F15':              'F15',
    'F16':              'F16',
    'F17':              'F17',
    'F18':              'F18',
    'F19':              'F19',
    'F20':              'F20',
    'F21':              'F21',
    'F22':              'F22',
    'F23':              'F23',
    'F24':              'F24',
    'F25':              'F25',
    'F26':              'F26',
    'F27':              'F27',
    'F28':              'F28',
    'F29':              'F29',
    'F30':              'F30',
    'F31':              'F31',
    'F32':              'F32',
    'F33':              'F33',
    'F34':              'F34',
    'F35':              'F35',
    'PrintScreen':      'PrintScreen',
    'ScrollLock':       'ScrollLock',
    'Pause':            'Pause',

// 3.1.6. Media Keys

    'BrowserBack':      'BrowserBack',
    'BrowserFavorites': 'BrowserFavorites',
    'BrowserForward':   'BrowserForward',
    'BrowserHome':      'BrowserHome',
    'BrowserRefresh':   'BrowserRefresh',
    'BrowserSearch':    'BrowserSearch',
    'BrowserStop':      'BrowserStop',
    'Eject':            'Eject',
    'LaunchApp1':       'LaunchMyComputer',
    'LaunchApp2':       'LaunchCalendar',
    'LaunchMail':       'LaunchMail',
    'MediaPlayPause':   'MediaPlay',
    'MediaStop':        'MediaStop',
    'MediaTrackNext':   'MediaTrackNext',
    'MediaTrackPrevious': 'MediaTrackPrevious',
    'Power':            'Power',
    'Sleep':            'Sleep',
    'AudioVolumeDown':  'AudioVolumeDown',
    'AudioVolumeMute':  'AudioVolumeMute',
    'AudioVolumeUp':    'AudioVolumeUp',
    'WakeUp':           'WakeUp',
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keyboard.js":
/*!**********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keyboard.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Keyboard; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ "./node_modules/@novnc/novnc/core/input/util.js");
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */







//
// Keyboard event handler
//

function Keyboard(target) {
    this._target = target || null;

    this._keyDownList = {};         // List of depressed keys
                                    // (even if they are happy)
    this._pendingKey = null;        // Key waiting for keypress

    // keep these here so we can refer to them later
    this._eventHandlers = {
        'keyup': this._handleKeyUp.bind(this),
        'keydown': this._handleKeyDown.bind(this),
        'keypress': this._handleKeyPress.bind(this),
        'blur': this._allKeysUp.bind(this)
    };
};

Keyboard.prototype = {
    // ===== EVENT HANDLERS =====

    onkeyevent: function () {},     // Handler for key press/release

    // ===== PRIVATE METHODS =====

    _sendKeyEvent: function (keysym, code, down) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onkeyevent " + (down ? "down" : "up") +
                  ", keysym: " + keysym, ", code: " + code);

        // Windows sends CtrlLeft+AltRight when you press
        // AltGraph, which tends to confuse the hell out of
        // remote systems. Fake a release of these keys until
        // there is a way to detect AltGraph properly.
        var fakeAltGraph = false;
        if (down && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]()) {
            if ((code !== 'ControlLeft') &&
                (code !== 'AltRight') &&
                ('ControlLeft' in this._keyDownList) &&
                ('AltRight' in this._keyDownList)) {
                fakeAltGraph = true;
                this.onkeyevent(this._keyDownList['AltRight'],
                                 'AltRight', false);
                this.onkeyevent(this._keyDownList['ControlLeft'],
                                 'ControlLeft', false);
            }
        }

        this.onkeyevent(keysym, code, down);

        if (fakeAltGraph) {
            this.onkeyevent(this._keyDownList['ControlLeft'],
                             'ControlLeft', true);
            this.onkeyevent(this._keyDownList['AltRight'],
                             'AltRight', true);
        }
    },

    _getKeyCode: function (e) {
        var code = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeycode"](e);
        if (code !== 'Unidentified') {
            return code;
        }

        // Unstable, but we don't have anything else to go on
        // (don't use it for 'keypress' events thought since
        // WebKit sets it to the same as charCode)
        if (e.keyCode && (e.type !== 'keypress')) {
            // 229 is used for composition events
            if (e.keyCode !== 229) {
                return 'Platform' + e.keyCode;
            }
        }

        // A precursor to the final DOM3 standard. Unfortunately it
        // is not layout independent, so it is as bad as using keyCode
        if (e.keyIdentifier) {
            // Non-character key?
            if (e.keyIdentifier.substr(0, 2) !== 'U+') {
                return e.keyIdentifier;
            }

            var codepoint = parseInt(e.keyIdentifier.substr(2), 16);
            var char = String.fromCharCode(codepoint);
            // Some implementations fail to uppercase the symbols
            char = char.toUpperCase();

            return 'Platform' + char.charCodeAt();
        }

        return 'Unidentified';
    },

    _handleKeyDown: function (e) {
        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // We cannot handle keys we cannot track, but we also need
        // to deal with virtual keyboards which omit key info
        // (iOS omits tracking info on keyup events, which forces us to
        // special treat that platform here)
        if ((code === 'Unidentified') || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIOS"]()) {
            if (keysym) {
                // If it's a virtual keyboard then it should be
                // sufficient to just send press and release right
                // after each other
                this._sendKeyEvent(keysym, code, true);
                this._sendKeyEvent(keysym, code, false);
            }

            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // Alt behaves more like AltGraph on macOS, so shuffle the
        // keys around a bit to make things more sane for the remote
        // server. This method is used by RealVNC and TigerVNC (and
        // possibly others).
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]()) {
            switch (keysym) {
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Mode_switch;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_ISO_Level3_Shift;
                break;
            }
        }

        // Is this key already pressed? If so, then we must use the
        // same keysym or we'll confuse the server
        if (code in this._keyDownList) {
            keysym = this._keyDownList[code];
        }

        // macOS doesn't send proper key events for modifiers, only
        // state change events. That gets extra confusing for CapsLock
        // which toggles on each press, but not on release. So pretend
        // it was a quick press and release of the button.
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // If this is a legacy browser then we'll need to wait for
        // a keypress event as well
        // (IE and Edge has a broken KeyboardEvent.key, so we can't
        // just check for the presence of that field)
        if (!keysym && (!e.key || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIE"]() || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isEdge"]())) {
            this._pendingKey = code;
            // However we might not get a keypress event if the key
            // is non-printable, which needs some special fallback
            // handling
            setTimeout(this._handleKeyPressTimeout.bind(this), 10, e);
            return;
        }

        this._pendingKey = null;
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    // Legacy event for browsers without code/key
    _handleKeyPress: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        // Are we expecting a keypress?
        if (this._pendingKey === null) {
            return;
        }

        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // The key we were waiting for?
        if ((code !== 'Unidentified') && (code != this._pendingKey)) {
            return;
        }

        code = this._pendingKey;
        this._pendingKey = null;

        if (!keysym) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]('keypress with no keysym:', e);
            return;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },
    _handleKeyPressTimeout: function (e) {
        // Did someone manage to sort out the key already?
        if (this._pendingKey === null) {
            return;
        }

        var code, keysym;

        code = this._pendingKey;
        this._pendingKey = null;

        // We have no way of knowing the proper keysym with the
        // information given, but the following are true for most
        // layouts
        if ((e.keyCode >= 0x30) && (e.keyCode <= 0x39)) {
            // Digit
            keysym = e.keyCode;
        } else if ((e.keyCode >= 0x41) && (e.keyCode <= 0x5a)) {
            // Character (A-Z)
            var char = String.fromCharCode(e.keyCode);
            // A feeble attempt at the correct case
            if (e.shiftKey)
                char = char.toUpperCase();
            else
                char = char.toLowerCase();
            keysym = char.charCodeAt();
        } else {
            // Unknown, give up
            keysym = 0;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    _handleKeyUp: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        var code = this._getKeyCode(e);

        // See comment in _handleKeyDown()
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            return;
        }

        // Do we really think this key is down?
        if (!(code in this._keyDownList)) {
            return;
        }

        this._sendKeyEvent(this._keyDownList[code], code, false);

        delete this._keyDownList[code];
    },

    _allKeysUp: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Keyboard.allKeysUp");
        for (var code in this._keyDownList) {
            this._sendKeyEvent(this._keyDownList[code], code, false);
        };
        this._keyDownList = {};
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Keyboard.allKeysUp");
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        //Log.Debug(">> Keyboard.grab");
        var c = this._target;

        c.addEventListener('keydown', this._eventHandlers.keydown);
        c.addEventListener('keyup', this._eventHandlers.keyup);
        c.addEventListener('keypress', this._eventHandlers.keypress);

        // Release (key up) if window loses focus
        window.addEventListener('blur', this._eventHandlers.blur);

        //Log.Debug("<< Keyboard.grab");
    },

    ungrab: function () {
        //Log.Debug(">> Keyboard.ungrab");
        var c = this._target;

        c.removeEventListener('keydown', this._eventHandlers.keydown);
        c.removeEventListener('keyup', this._eventHandlers.keyup);
        c.removeEventListener('keypress', this._eventHandlers.keypress);
        window.removeEventListener('blur', this._eventHandlers.blur);

        // Release (key up) all keys that are in a down state
        this._allKeysUp();

        //Log.Debug(">> Keyboard.ungrab");
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysym.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysym.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    XK_VoidSymbol:                  0xffffff, /* Void symbol */

    XK_BackSpace:                   0xff08, /* Back space, back char */
    XK_Tab:                         0xff09,
    XK_Linefeed:                    0xff0a, /* Linefeed, LF */
    XK_Clear:                       0xff0b,
    XK_Return:                      0xff0d, /* Return, enter */
    XK_Pause:                       0xff13, /* Pause, hold */
    XK_Scroll_Lock:                 0xff14,
    XK_Sys_Req:                     0xff15,
    XK_Escape:                      0xff1b,
    XK_Delete:                      0xffff, /* Delete, rubout */

    /* International & multi-key character composition */

    XK_Multi_key:                   0xff20, /* Multi-key character compose */
    XK_Codeinput:                   0xff37,
    XK_SingleCandidate:             0xff3c,
    XK_MultipleCandidate:           0xff3d,
    XK_PreviousCandidate:           0xff3e,

    /* Japanese keyboard support */

    XK_Kanji:                       0xff21, /* Kanji, Kanji convert */
    XK_Muhenkan:                    0xff22, /* Cancel Conversion */
    XK_Henkan_Mode:                 0xff23, /* Start/Stop Conversion */
    XK_Henkan:                      0xff23, /* Alias for Henkan_Mode */
    XK_Romaji:                      0xff24, /* to Romaji */
    XK_Hiragana:                    0xff25, /* to Hiragana */
    XK_Katakana:                    0xff26, /* to Katakana */
    XK_Hiragana_Katakana:           0xff27, /* Hiragana/Katakana toggle */
    XK_Zenkaku:                     0xff28, /* to Zenkaku */
    XK_Hankaku:                     0xff29, /* to Hankaku */
    XK_Zenkaku_Hankaku:             0xff2a, /* Zenkaku/Hankaku toggle */
    XK_Touroku:                     0xff2b, /* Add to Dictionary */
    XK_Massyo:                      0xff2c, /* Delete from Dictionary */
    XK_Kana_Lock:                   0xff2d, /* Kana Lock */
    XK_Kana_Shift:                  0xff2e, /* Kana Shift */
    XK_Eisu_Shift:                  0xff2f, /* Alphanumeric Shift */
    XK_Eisu_toggle:                 0xff30, /* Alphanumeric toggle */
    XK_Kanji_Bangou:                0xff37, /* Codeinput */
    XK_Zen_Koho:                    0xff3d, /* Multiple/All Candidate(s) */
    XK_Mae_Koho:                    0xff3e, /* Previous Candidate */

    /* Cursor control & motion */

    XK_Home:                        0xff50,
    XK_Left:                        0xff51, /* Move left, left arrow */
    XK_Up:                          0xff52, /* Move up, up arrow */
    XK_Right:                       0xff53, /* Move right, right arrow */
    XK_Down:                        0xff54, /* Move down, down arrow */
    XK_Prior:                       0xff55, /* Prior, previous */
    XK_Page_Up:                     0xff55,
    XK_Next:                        0xff56, /* Next */
    XK_Page_Down:                   0xff56,
    XK_End:                         0xff57, /* EOL */
    XK_Begin:                       0xff58, /* BOL */


    /* Misc functions */

    XK_Select:                      0xff60, /* Select, mark */
    XK_Print:                       0xff61,
    XK_Execute:                     0xff62, /* Execute, run, do */
    XK_Insert:                      0xff63, /* Insert, insert here */
    XK_Undo:                        0xff65,
    XK_Redo:                        0xff66, /* Redo, again */
    XK_Menu:                        0xff67,
    XK_Find:                        0xff68, /* Find, search */
    XK_Cancel:                      0xff69, /* Cancel, stop, abort, exit */
    XK_Help:                        0xff6a, /* Help */
    XK_Break:                       0xff6b,
    XK_Mode_switch:                 0xff7e, /* Character set switch */
    XK_script_switch:               0xff7e, /* Alias for mode_switch */
    XK_Num_Lock:                    0xff7f,

    /* Keypad functions, keypad numbers cleverly chosen to map to ASCII */

    XK_KP_Space:                    0xff80, /* Space */
    XK_KP_Tab:                      0xff89,
    XK_KP_Enter:                    0xff8d, /* Enter */
    XK_KP_F1:                       0xff91, /* PF1, KP_A, ... */
    XK_KP_F2:                       0xff92,
    XK_KP_F3:                       0xff93,
    XK_KP_F4:                       0xff94,
    XK_KP_Home:                     0xff95,
    XK_KP_Left:                     0xff96,
    XK_KP_Up:                       0xff97,
    XK_KP_Right:                    0xff98,
    XK_KP_Down:                     0xff99,
    XK_KP_Prior:                    0xff9a,
    XK_KP_Page_Up:                  0xff9a,
    XK_KP_Next:                     0xff9b,
    XK_KP_Page_Down:                0xff9b,
    XK_KP_End:                      0xff9c,
    XK_KP_Begin:                    0xff9d,
    XK_KP_Insert:                   0xff9e,
    XK_KP_Delete:                   0xff9f,
    XK_KP_Equal:                    0xffbd, /* Equals */
    XK_KP_Multiply:                 0xffaa,
    XK_KP_Add:                      0xffab,
    XK_KP_Separator:                0xffac, /* Separator, often comma */
    XK_KP_Subtract:                 0xffad,
    XK_KP_Decimal:                  0xffae,
    XK_KP_Divide:                   0xffaf,

    XK_KP_0:                        0xffb0,
    XK_KP_1:                        0xffb1,
    XK_KP_2:                        0xffb2,
    XK_KP_3:                        0xffb3,
    XK_KP_4:                        0xffb4,
    XK_KP_5:                        0xffb5,
    XK_KP_6:                        0xffb6,
    XK_KP_7:                        0xffb7,
    XK_KP_8:                        0xffb8,
    XK_KP_9:                        0xffb9,

    /*
     * Auxiliary functions; note the duplicate definitions for left and right
     * function keys;  Sun keyboards and a few other manufacturers have such
     * function key groups on the left and/or right sides of the keyboard.
     * We've not found a keyboard with more than 35 function keys total.
     */

    XK_F1:                          0xffbe,
    XK_F2:                          0xffbf,
    XK_F3:                          0xffc0,
    XK_F4:                          0xffc1,
    XK_F5:                          0xffc2,
    XK_F6:                          0xffc3,
    XK_F7:                          0xffc4,
    XK_F8:                          0xffc5,
    XK_F9:                          0xffc6,
    XK_F10:                         0xffc7,
    XK_F11:                         0xffc8,
    XK_L1:                          0xffc8,
    XK_F12:                         0xffc9,
    XK_L2:                          0xffc9,
    XK_F13:                         0xffca,
    XK_L3:                          0xffca,
    XK_F14:                         0xffcb,
    XK_L4:                          0xffcb,
    XK_F15:                         0xffcc,
    XK_L5:                          0xffcc,
    XK_F16:                         0xffcd,
    XK_L6:                          0xffcd,
    XK_F17:                         0xffce,
    XK_L7:                          0xffce,
    XK_F18:                         0xffcf,
    XK_L8:                          0xffcf,
    XK_F19:                         0xffd0,
    XK_L9:                          0xffd0,
    XK_F20:                         0xffd1,
    XK_L10:                         0xffd1,
    XK_F21:                         0xffd2,
    XK_R1:                          0xffd2,
    XK_F22:                         0xffd3,
    XK_R2:                          0xffd3,
    XK_F23:                         0xffd4,
    XK_R3:                          0xffd4,
    XK_F24:                         0xffd5,
    XK_R4:                          0xffd5,
    XK_F25:                         0xffd6,
    XK_R5:                          0xffd6,
    XK_F26:                         0xffd7,
    XK_R6:                          0xffd7,
    XK_F27:                         0xffd8,
    XK_R7:                          0xffd8,
    XK_F28:                         0xffd9,
    XK_R8:                          0xffd9,
    XK_F29:                         0xffda,
    XK_R9:                          0xffda,
    XK_F30:                         0xffdb,
    XK_R10:                         0xffdb,
    XK_F31:                         0xffdc,
    XK_R11:                         0xffdc,
    XK_F32:                         0xffdd,
    XK_R12:                         0xffdd,
    XK_F33:                         0xffde,
    XK_R13:                         0xffde,
    XK_F34:                         0xffdf,
    XK_R14:                         0xffdf,
    XK_F35:                         0xffe0,
    XK_R15:                         0xffe0,

    /* Modifiers */

    XK_Shift_L:                     0xffe1, /* Left shift */
    XK_Shift_R:                     0xffe2, /* Right shift */
    XK_Control_L:                   0xffe3, /* Left control */
    XK_Control_R:                   0xffe4, /* Right control */
    XK_Caps_Lock:                   0xffe5, /* Caps lock */
    XK_Shift_Lock:                  0xffe6, /* Shift lock */

    XK_Meta_L:                      0xffe7, /* Left meta */
    XK_Meta_R:                      0xffe8, /* Right meta */
    XK_Alt_L:                       0xffe9, /* Left alt */
    XK_Alt_R:                       0xffea, /* Right alt */
    XK_Super_L:                     0xffeb, /* Left super */
    XK_Super_R:                     0xffec, /* Right super */
    XK_Hyper_L:                     0xffed, /* Left hyper */
    XK_Hyper_R:                     0xffee, /* Right hyper */

    /*
     * Keyboard (XKB) Extension function and modifier keys
     * (from Appendix C of "The X Keyboard Extension: Protocol Specification")
     * Byte 3 = 0xfe
     */

    XK_ISO_Level3_Shift:            0xfe03, /* AltGr */
    XK_ISO_Next_Group:              0xfe08,
    XK_ISO_Prev_Group:              0xfe0a,
    XK_ISO_First_Group:             0xfe0c,
    XK_ISO_Last_Group:              0xfe0e,

    /*
     * Latin 1
     * (ISO/IEC 8859-1: Unicode U+0020..U+00FF)
     * Byte 3: 0
     */

    XK_space:                       0x0020, /* U+0020 SPACE */
    XK_exclam:                      0x0021, /* U+0021 EXCLAMATION MARK */
    XK_quotedbl:                    0x0022, /* U+0022 QUOTATION MARK */
    XK_numbersign:                  0x0023, /* U+0023 NUMBER SIGN */
    XK_dollar:                      0x0024, /* U+0024 DOLLAR SIGN */
    XK_percent:                     0x0025, /* U+0025 PERCENT SIGN */
    XK_ampersand:                   0x0026, /* U+0026 AMPERSAND */
    XK_apostrophe:                  0x0027, /* U+0027 APOSTROPHE */
    XK_quoteright:                  0x0027, /* deprecated */
    XK_parenleft:                   0x0028, /* U+0028 LEFT PARENTHESIS */
    XK_parenright:                  0x0029, /* U+0029 RIGHT PARENTHESIS */
    XK_asterisk:                    0x002a, /* U+002A ASTERISK */
    XK_plus:                        0x002b, /* U+002B PLUS SIGN */
    XK_comma:                       0x002c, /* U+002C COMMA */
    XK_minus:                       0x002d, /* U+002D HYPHEN-MINUS */
    XK_period:                      0x002e, /* U+002E FULL STOP */
    XK_slash:                       0x002f, /* U+002F SOLIDUS */
    XK_0:                           0x0030, /* U+0030 DIGIT ZERO */
    XK_1:                           0x0031, /* U+0031 DIGIT ONE */
    XK_2:                           0x0032, /* U+0032 DIGIT TWO */
    XK_3:                           0x0033, /* U+0033 DIGIT THREE */
    XK_4:                           0x0034, /* U+0034 DIGIT FOUR */
    XK_5:                           0x0035, /* U+0035 DIGIT FIVE */
    XK_6:                           0x0036, /* U+0036 DIGIT SIX */
    XK_7:                           0x0037, /* U+0037 DIGIT SEVEN */
    XK_8:                           0x0038, /* U+0038 DIGIT EIGHT */
    XK_9:                           0x0039, /* U+0039 DIGIT NINE */
    XK_colon:                       0x003a, /* U+003A COLON */
    XK_semicolon:                   0x003b, /* U+003B SEMICOLON */
    XK_less:                        0x003c, /* U+003C LESS-THAN SIGN */
    XK_equal:                       0x003d, /* U+003D EQUALS SIGN */
    XK_greater:                     0x003e, /* U+003E GREATER-THAN SIGN */
    XK_question:                    0x003f, /* U+003F QUESTION MARK */
    XK_at:                          0x0040, /* U+0040 COMMERCIAL AT */
    XK_A:                           0x0041, /* U+0041 LATIN CAPITAL LETTER A */
    XK_B:                           0x0042, /* U+0042 LATIN CAPITAL LETTER B */
    XK_C:                           0x0043, /* U+0043 LATIN CAPITAL LETTER C */
    XK_D:                           0x0044, /* U+0044 LATIN CAPITAL LETTER D */
    XK_E:                           0x0045, /* U+0045 LATIN CAPITAL LETTER E */
    XK_F:                           0x0046, /* U+0046 LATIN CAPITAL LETTER F */
    XK_G:                           0x0047, /* U+0047 LATIN CAPITAL LETTER G */
    XK_H:                           0x0048, /* U+0048 LATIN CAPITAL LETTER H */
    XK_I:                           0x0049, /* U+0049 LATIN CAPITAL LETTER I */
    XK_J:                           0x004a, /* U+004A LATIN CAPITAL LETTER J */
    XK_K:                           0x004b, /* U+004B LATIN CAPITAL LETTER K */
    XK_L:                           0x004c, /* U+004C LATIN CAPITAL LETTER L */
    XK_M:                           0x004d, /* U+004D LATIN CAPITAL LETTER M */
    XK_N:                           0x004e, /* U+004E LATIN CAPITAL LETTER N */
    XK_O:                           0x004f, /* U+004F LATIN CAPITAL LETTER O */
    XK_P:                           0x0050, /* U+0050 LATIN CAPITAL LETTER P */
    XK_Q:                           0x0051, /* U+0051 LATIN CAPITAL LETTER Q */
    XK_R:                           0x0052, /* U+0052 LATIN CAPITAL LETTER R */
    XK_S:                           0x0053, /* U+0053 LATIN CAPITAL LETTER S */
    XK_T:                           0x0054, /* U+0054 LATIN CAPITAL LETTER T */
    XK_U:                           0x0055, /* U+0055 LATIN CAPITAL LETTER U */
    XK_V:                           0x0056, /* U+0056 LATIN CAPITAL LETTER V */
    XK_W:                           0x0057, /* U+0057 LATIN CAPITAL LETTER W */
    XK_X:                           0x0058, /* U+0058 LATIN CAPITAL LETTER X */
    XK_Y:                           0x0059, /* U+0059 LATIN CAPITAL LETTER Y */
    XK_Z:                           0x005a, /* U+005A LATIN CAPITAL LETTER Z */
    XK_bracketleft:                 0x005b, /* U+005B LEFT SQUARE BRACKET */
    XK_backslash:                   0x005c, /* U+005C REVERSE SOLIDUS */
    XK_bracketright:                0x005d, /* U+005D RIGHT SQUARE BRACKET */
    XK_asciicircum:                 0x005e, /* U+005E CIRCUMFLEX ACCENT */
    XK_underscore:                  0x005f, /* U+005F LOW LINE */
    XK_grave:                       0x0060, /* U+0060 GRAVE ACCENT */
    XK_quoteleft:                   0x0060, /* deprecated */
    XK_a:                           0x0061, /* U+0061 LATIN SMALL LETTER A */
    XK_b:                           0x0062, /* U+0062 LATIN SMALL LETTER B */
    XK_c:                           0x0063, /* U+0063 LATIN SMALL LETTER C */
    XK_d:                           0x0064, /* U+0064 LATIN SMALL LETTER D */
    XK_e:                           0x0065, /* U+0065 LATIN SMALL LETTER E */
    XK_f:                           0x0066, /* U+0066 LATIN SMALL LETTER F */
    XK_g:                           0x0067, /* U+0067 LATIN SMALL LETTER G */
    XK_h:                           0x0068, /* U+0068 LATIN SMALL LETTER H */
    XK_i:                           0x0069, /* U+0069 LATIN SMALL LETTER I */
    XK_j:                           0x006a, /* U+006A LATIN SMALL LETTER J */
    XK_k:                           0x006b, /* U+006B LATIN SMALL LETTER K */
    XK_l:                           0x006c, /* U+006C LATIN SMALL LETTER L */
    XK_m:                           0x006d, /* U+006D LATIN SMALL LETTER M */
    XK_n:                           0x006e, /* U+006E LATIN SMALL LETTER N */
    XK_o:                           0x006f, /* U+006F LATIN SMALL LETTER O */
    XK_p:                           0x0070, /* U+0070 LATIN SMALL LETTER P */
    XK_q:                           0x0071, /* U+0071 LATIN SMALL LETTER Q */
    XK_r:                           0x0072, /* U+0072 LATIN SMALL LETTER R */
    XK_s:                           0x0073, /* U+0073 LATIN SMALL LETTER S */
    XK_t:                           0x0074, /* U+0074 LATIN SMALL LETTER T */
    XK_u:                           0x0075, /* U+0075 LATIN SMALL LETTER U */
    XK_v:                           0x0076, /* U+0076 LATIN SMALL LETTER V */
    XK_w:                           0x0077, /* U+0077 LATIN SMALL LETTER W */
    XK_x:                           0x0078, /* U+0078 LATIN SMALL LETTER X */
    XK_y:                           0x0079, /* U+0079 LATIN SMALL LETTER Y */
    XK_z:                           0x007a, /* U+007A LATIN SMALL LETTER Z */
    XK_braceleft:                   0x007b, /* U+007B LEFT CURLY BRACKET */
    XK_bar:                         0x007c, /* U+007C VERTICAL LINE */
    XK_braceright:                  0x007d, /* U+007D RIGHT CURLY BRACKET */
    XK_asciitilde:                  0x007e, /* U+007E TILDE */

    XK_nobreakspace:                0x00a0, /* U+00A0 NO-BREAK SPACE */
    XK_exclamdown:                  0x00a1, /* U+00A1 INVERTED EXCLAMATION MARK */
    XK_cent:                        0x00a2, /* U+00A2 CENT SIGN */
    XK_sterling:                    0x00a3, /* U+00A3 POUND SIGN */
    XK_currency:                    0x00a4, /* U+00A4 CURRENCY SIGN */
    XK_yen:                         0x00a5, /* U+00A5 YEN SIGN */
    XK_brokenbar:                   0x00a6, /* U+00A6 BROKEN BAR */
    XK_section:                     0x00a7, /* U+00A7 SECTION SIGN */
    XK_diaeresis:                   0x00a8, /* U+00A8 DIAERESIS */
    XK_copyright:                   0x00a9, /* U+00A9 COPYRIGHT SIGN */
    XK_ordfeminine:                 0x00aa, /* U+00AA FEMININE ORDINAL INDICATOR */
    XK_guillemotleft:               0x00ab, /* U+00AB LEFT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_notsign:                     0x00ac, /* U+00AC NOT SIGN */
    XK_hyphen:                      0x00ad, /* U+00AD SOFT HYPHEN */
    XK_registered:                  0x00ae, /* U+00AE REGISTERED SIGN */
    XK_macron:                      0x00af, /* U+00AF MACRON */
    XK_degree:                      0x00b0, /* U+00B0 DEGREE SIGN */
    XK_plusminus:                   0x00b1, /* U+00B1 PLUS-MINUS SIGN */
    XK_twosuperior:                 0x00b2, /* U+00B2 SUPERSCRIPT TWO */
    XK_threesuperior:               0x00b3, /* U+00B3 SUPERSCRIPT THREE */
    XK_acute:                       0x00b4, /* U+00B4 ACUTE ACCENT */
    XK_mu:                          0x00b5, /* U+00B5 MICRO SIGN */
    XK_paragraph:                   0x00b6, /* U+00B6 PILCROW SIGN */
    XK_periodcentered:              0x00b7, /* U+00B7 MIDDLE DOT */
    XK_cedilla:                     0x00b8, /* U+00B8 CEDILLA */
    XK_onesuperior:                 0x00b9, /* U+00B9 SUPERSCRIPT ONE */
    XK_masculine:                   0x00ba, /* U+00BA MASCULINE ORDINAL INDICATOR */
    XK_guillemotright:              0x00bb, /* U+00BB RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_onequarter:                  0x00bc, /* U+00BC VULGAR FRACTION ONE QUARTER */
    XK_onehalf:                     0x00bd, /* U+00BD VULGAR FRACTION ONE HALF */
    XK_threequarters:               0x00be, /* U+00BE VULGAR FRACTION THREE QUARTERS */
    XK_questiondown:                0x00bf, /* U+00BF INVERTED QUESTION MARK */
    XK_Agrave:                      0x00c0, /* U+00C0 LATIN CAPITAL LETTER A WITH GRAVE */
    XK_Aacute:                      0x00c1, /* U+00C1 LATIN CAPITAL LETTER A WITH ACUTE */
    XK_Acircumflex:                 0x00c2, /* U+00C2 LATIN CAPITAL LETTER A WITH CIRCUMFLEX */
    XK_Atilde:                      0x00c3, /* U+00C3 LATIN CAPITAL LETTER A WITH TILDE */
    XK_Adiaeresis:                  0x00c4, /* U+00C4 LATIN CAPITAL LETTER A WITH DIAERESIS */
    XK_Aring:                       0x00c5, /* U+00C5 LATIN CAPITAL LETTER A WITH RING ABOVE */
    XK_AE:                          0x00c6, /* U+00C6 LATIN CAPITAL LETTER AE */
    XK_Ccedilla:                    0x00c7, /* U+00C7 LATIN CAPITAL LETTER C WITH CEDILLA */
    XK_Egrave:                      0x00c8, /* U+00C8 LATIN CAPITAL LETTER E WITH GRAVE */
    XK_Eacute:                      0x00c9, /* U+00C9 LATIN CAPITAL LETTER E WITH ACUTE */
    XK_Ecircumflex:                 0x00ca, /* U+00CA LATIN CAPITAL LETTER E WITH CIRCUMFLEX */
    XK_Ediaeresis:                  0x00cb, /* U+00CB LATIN CAPITAL LETTER E WITH DIAERESIS */
    XK_Igrave:                      0x00cc, /* U+00CC LATIN CAPITAL LETTER I WITH GRAVE */
    XK_Iacute:                      0x00cd, /* U+00CD LATIN CAPITAL LETTER I WITH ACUTE */
    XK_Icircumflex:                 0x00ce, /* U+00CE LATIN CAPITAL LETTER I WITH CIRCUMFLEX */
    XK_Idiaeresis:                  0x00cf, /* U+00CF LATIN CAPITAL LETTER I WITH DIAERESIS */
    XK_ETH:                         0x00d0, /* U+00D0 LATIN CAPITAL LETTER ETH */
    XK_Eth:                         0x00d0, /* deprecated */
    XK_Ntilde:                      0x00d1, /* U+00D1 LATIN CAPITAL LETTER N WITH TILDE */
    XK_Ograve:                      0x00d2, /* U+00D2 LATIN CAPITAL LETTER O WITH GRAVE */
    XK_Oacute:                      0x00d3, /* U+00D3 LATIN CAPITAL LETTER O WITH ACUTE */
    XK_Ocircumflex:                 0x00d4, /* U+00D4 LATIN CAPITAL LETTER O WITH CIRCUMFLEX */
    XK_Otilde:                      0x00d5, /* U+00D5 LATIN CAPITAL LETTER O WITH TILDE */
    XK_Odiaeresis:                  0x00d6, /* U+00D6 LATIN CAPITAL LETTER O WITH DIAERESIS */
    XK_multiply:                    0x00d7, /* U+00D7 MULTIPLICATION SIGN */
    XK_Oslash:                      0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ooblique:                    0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ugrave:                      0x00d9, /* U+00D9 LATIN CAPITAL LETTER U WITH GRAVE */
    XK_Uacute:                      0x00da, /* U+00DA LATIN CAPITAL LETTER U WITH ACUTE */
    XK_Ucircumflex:                 0x00db, /* U+00DB LATIN CAPITAL LETTER U WITH CIRCUMFLEX */
    XK_Udiaeresis:                  0x00dc, /* U+00DC LATIN CAPITAL LETTER U WITH DIAERESIS */
    XK_Yacute:                      0x00dd, /* U+00DD LATIN CAPITAL LETTER Y WITH ACUTE */
    XK_THORN:                       0x00de, /* U+00DE LATIN CAPITAL LETTER THORN */
    XK_Thorn:                       0x00de, /* deprecated */
    XK_ssharp:                      0x00df, /* U+00DF LATIN SMALL LETTER SHARP S */
    XK_agrave:                      0x00e0, /* U+00E0 LATIN SMALL LETTER A WITH GRAVE */
    XK_aacute:                      0x00e1, /* U+00E1 LATIN SMALL LETTER A WITH ACUTE */
    XK_acircumflex:                 0x00e2, /* U+00E2 LATIN SMALL LETTER A WITH CIRCUMFLEX */
    XK_atilde:                      0x00e3, /* U+00E3 LATIN SMALL LETTER A WITH TILDE */
    XK_adiaeresis:                  0x00e4, /* U+00E4 LATIN SMALL LETTER A WITH DIAERESIS */
    XK_aring:                       0x00e5, /* U+00E5 LATIN SMALL LETTER A WITH RING ABOVE */
    XK_ae:                          0x00e6, /* U+00E6 LATIN SMALL LETTER AE */
    XK_ccedilla:                    0x00e7, /* U+00E7 LATIN SMALL LETTER C WITH CEDILLA */
    XK_egrave:                      0x00e8, /* U+00E8 LATIN SMALL LETTER E WITH GRAVE */
    XK_eacute:                      0x00e9, /* U+00E9 LATIN SMALL LETTER E WITH ACUTE */
    XK_ecircumflex:                 0x00ea, /* U+00EA LATIN SMALL LETTER E WITH CIRCUMFLEX */
    XK_ediaeresis:                  0x00eb, /* U+00EB LATIN SMALL LETTER E WITH DIAERESIS */
    XK_igrave:                      0x00ec, /* U+00EC LATIN SMALL LETTER I WITH GRAVE */
    XK_iacute:                      0x00ed, /* U+00ED LATIN SMALL LETTER I WITH ACUTE */
    XK_icircumflex:                 0x00ee, /* U+00EE LATIN SMALL LETTER I WITH CIRCUMFLEX */
    XK_idiaeresis:                  0x00ef, /* U+00EF LATIN SMALL LETTER I WITH DIAERESIS */
    XK_eth:                         0x00f0, /* U+00F0 LATIN SMALL LETTER ETH */
    XK_ntilde:                      0x00f1, /* U+00F1 LATIN SMALL LETTER N WITH TILDE */
    XK_ograve:                      0x00f2, /* U+00F2 LATIN SMALL LETTER O WITH GRAVE */
    XK_oacute:                      0x00f3, /* U+00F3 LATIN SMALL LETTER O WITH ACUTE */
    XK_ocircumflex:                 0x00f4, /* U+00F4 LATIN SMALL LETTER O WITH CIRCUMFLEX */
    XK_otilde:                      0x00f5, /* U+00F5 LATIN SMALL LETTER O WITH TILDE */
    XK_odiaeresis:                  0x00f6, /* U+00F6 LATIN SMALL LETTER O WITH DIAERESIS */
    XK_division:                    0x00f7, /* U+00F7 DIVISION SIGN */
    XK_oslash:                      0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ooblique:                    0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ugrave:                      0x00f9, /* U+00F9 LATIN SMALL LETTER U WITH GRAVE */
    XK_uacute:                      0x00fa, /* U+00FA LATIN SMALL LETTER U WITH ACUTE */
    XK_ucircumflex:                 0x00fb, /* U+00FB LATIN SMALL LETTER U WITH CIRCUMFLEX */
    XK_udiaeresis:                  0x00fc, /* U+00FC LATIN SMALL LETTER U WITH DIAERESIS */
    XK_yacute:                      0x00fd, /* U+00FD LATIN SMALL LETTER Y WITH ACUTE */
    XK_thorn:                       0x00fe, /* U+00FE LATIN SMALL LETTER THORN */
    XK_ydiaeresis:                  0x00ff, /* U+00FF LATIN SMALL LETTER Y WITH DIAERESIS */

    /*
     * Korean
     * Byte 3 = 0x0e
     */

    XK_Hangul:                      0xff31, /* Hangul start/stop(toggle) */
    XK_Hangul_Hanja:                0xff34, /* Start Hangul->Hanja Conversion */
    XK_Hangul_Jeonja:               0xff38, /* Jeonja mode */

    /*
     * XFree86 vendor specific keysyms.
     *
     * The XFree86 keysym range is 0x10080001 - 0x1008FFFF.
     */

    XF86XK_ModeLock:                0x1008FF01,
    XF86XK_MonBrightnessUp:         0x1008FF02,
    XF86XK_MonBrightnessDown:       0x1008FF03,
    XF86XK_KbdLightOnOff:           0x1008FF04,
    XF86XK_KbdBrightnessUp:         0x1008FF05,
    XF86XK_KbdBrightnessDown:       0x1008FF06,
    XF86XK_Standby:                 0x1008FF10,
    XF86XK_AudioLowerVolume:        0x1008FF11,
    XF86XK_AudioMute:               0x1008FF12,
    XF86XK_AudioRaiseVolume:        0x1008FF13,
    XF86XK_AudioPlay:               0x1008FF14,
    XF86XK_AudioStop:               0x1008FF15,
    XF86XK_AudioPrev:               0x1008FF16,
    XF86XK_AudioNext:               0x1008FF17,
    XF86XK_HomePage:                0x1008FF18,
    XF86XK_Mail:                    0x1008FF19,
    XF86XK_Start:                   0x1008FF1A,
    XF86XK_Search:                  0x1008FF1B,
    XF86XK_AudioRecord:             0x1008FF1C,
    XF86XK_Calculator:              0x1008FF1D,
    XF86XK_Memo:                    0x1008FF1E,
    XF86XK_ToDoList:                0x1008FF1F,
    XF86XK_Calendar:                0x1008FF20,
    XF86XK_PowerDown:               0x1008FF21,
    XF86XK_ContrastAdjust:          0x1008FF22,
    XF86XK_RockerUp:                0x1008FF23,
    XF86XK_RockerDown:              0x1008FF24,
    XF86XK_RockerEnter:             0x1008FF25,
    XF86XK_Back:                    0x1008FF26,
    XF86XK_Forward:                 0x1008FF27,
    XF86XK_Stop:                    0x1008FF28,
    XF86XK_Refresh:                 0x1008FF29,
    XF86XK_PowerOff:                0x1008FF2A,
    XF86XK_WakeUp:                  0x1008FF2B,
    XF86XK_Eject:                   0x1008FF2C,
    XF86XK_ScreenSaver:             0x1008FF2D,
    XF86XK_WWW:                     0x1008FF2E,
    XF86XK_Sleep:                   0x1008FF2F,
    XF86XK_Favorites:               0x1008FF30,
    XF86XK_AudioPause:              0x1008FF31,
    XF86XK_AudioMedia:              0x1008FF32,
    XF86XK_MyComputer:              0x1008FF33,
    XF86XK_VendorHome:              0x1008FF34,
    XF86XK_LightBulb:               0x1008FF35,
    XF86XK_Shop:                    0x1008FF36,
    XF86XK_History:                 0x1008FF37,
    XF86XK_OpenURL:                 0x1008FF38,
    XF86XK_AddFavorite:             0x1008FF39,
    XF86XK_HotLinks:                0x1008FF3A,
    XF86XK_BrightnessAdjust:        0x1008FF3B,
    XF86XK_Finance:                 0x1008FF3C,
    XF86XK_Community:               0x1008FF3D,
    XF86XK_AudioRewind:             0x1008FF3E,
    XF86XK_BackForward:             0x1008FF3F,
    XF86XK_Launch0:                 0x1008FF40,
    XF86XK_Launch1:                 0x1008FF41,
    XF86XK_Launch2:                 0x1008FF42,
    XF86XK_Launch3:                 0x1008FF43,
    XF86XK_Launch4:                 0x1008FF44,
    XF86XK_Launch5:                 0x1008FF45,
    XF86XK_Launch6:                 0x1008FF46,
    XF86XK_Launch7:                 0x1008FF47,
    XF86XK_Launch8:                 0x1008FF48,
    XF86XK_Launch9:                 0x1008FF49,
    XF86XK_LaunchA:                 0x1008FF4A,
    XF86XK_LaunchB:                 0x1008FF4B,
    XF86XK_LaunchC:                 0x1008FF4C,
    XF86XK_LaunchD:                 0x1008FF4D,
    XF86XK_LaunchE:                 0x1008FF4E,
    XF86XK_LaunchF:                 0x1008FF4F,
    XF86XK_ApplicationLeft:         0x1008FF50,
    XF86XK_ApplicationRight:        0x1008FF51,
    XF86XK_Book:                    0x1008FF52,
    XF86XK_CD:                      0x1008FF53,
    XF86XK_Calculater:              0x1008FF54,
    XF86XK_Clear:                   0x1008FF55,
    XF86XK_Close:                   0x1008FF56,
    XF86XK_Copy:                    0x1008FF57,
    XF86XK_Cut:                     0x1008FF58,
    XF86XK_Display:                 0x1008FF59,
    XF86XK_DOS:                     0x1008FF5A,
    XF86XK_Documents:               0x1008FF5B,
    XF86XK_Excel:                   0x1008FF5C,
    XF86XK_Explorer:                0x1008FF5D,
    XF86XK_Game:                    0x1008FF5E,
    XF86XK_Go:                      0x1008FF5F,
    XF86XK_iTouch:                  0x1008FF60,
    XF86XK_LogOff:                  0x1008FF61,
    XF86XK_Market:                  0x1008FF62,
    XF86XK_Meeting:                 0x1008FF63,
    XF86XK_MenuKB:                  0x1008FF65,
    XF86XK_MenuPB:                  0x1008FF66,
    XF86XK_MySites:                 0x1008FF67,
    XF86XK_New:                     0x1008FF68,
    XF86XK_News:                    0x1008FF69,
    XF86XK_OfficeHome:              0x1008FF6A,
    XF86XK_Open:                    0x1008FF6B,
    XF86XK_Option:                  0x1008FF6C,
    XF86XK_Paste:                   0x1008FF6D,
    XF86XK_Phone:                   0x1008FF6E,
    XF86XK_Q:                       0x1008FF70,
    XF86XK_Reply:                   0x1008FF72,
    XF86XK_Reload:                  0x1008FF73,
    XF86XK_RotateWindows:           0x1008FF74,
    XF86XK_RotationPB:              0x1008FF75,
    XF86XK_RotationKB:              0x1008FF76,
    XF86XK_Save:                    0x1008FF77,
    XF86XK_ScrollUp:                0x1008FF78,
    XF86XK_ScrollDown:              0x1008FF79,
    XF86XK_ScrollClick:             0x1008FF7A,
    XF86XK_Send:                    0x1008FF7B,
    XF86XK_Spell:                   0x1008FF7C,
    XF86XK_SplitScreen:             0x1008FF7D,
    XF86XK_Support:                 0x1008FF7E,
    XF86XK_TaskPane:                0x1008FF7F,
    XF86XK_Terminal:                0x1008FF80,
    XF86XK_Tools:                   0x1008FF81,
    XF86XK_Travel:                  0x1008FF82,
    XF86XK_UserPB:                  0x1008FF84,
    XF86XK_User1KB:                 0x1008FF85,
    XF86XK_User2KB:                 0x1008FF86,
    XF86XK_Video:                   0x1008FF87,
    XF86XK_WheelButton:             0x1008FF88,
    XF86XK_Word:                    0x1008FF89,
    XF86XK_Xfer:                    0x1008FF8A,
    XF86XK_ZoomIn:                  0x1008FF8B,
    XF86XK_ZoomOut:                 0x1008FF8C,
    XF86XK_Away:                    0x1008FF8D,
    XF86XK_Messenger:               0x1008FF8E,
    XF86XK_WebCam:                  0x1008FF8F,
    XF86XK_MailForward:             0x1008FF90,
    XF86XK_Pictures:                0x1008FF91,
    XF86XK_Music:                   0x1008FF92,
    XF86XK_Battery:                 0x1008FF93,
    XF86XK_Bluetooth:               0x1008FF94,
    XF86XK_WLAN:                    0x1008FF95,
    XF86XK_UWB:                     0x1008FF96,
    XF86XK_AudioForward:            0x1008FF97,
    XF86XK_AudioRepeat:             0x1008FF98,
    XF86XK_AudioRandomPlay:         0x1008FF99,
    XF86XK_Subtitle:                0x1008FF9A,
    XF86XK_AudioCycleTrack:         0x1008FF9B,
    XF86XK_CycleAngle:              0x1008FF9C,
    XF86XK_FrameBack:               0x1008FF9D,
    XF86XK_FrameForward:            0x1008FF9E,
    XF86XK_Time:                    0x1008FF9F,
    XF86XK_Select:                  0x1008FFA0,
    XF86XK_View:                    0x1008FFA1,
    XF86XK_TopMenu:                 0x1008FFA2,
    XF86XK_Red:                     0x1008FFA3,
    XF86XK_Green:                   0x1008FFA4,
    XF86XK_Yellow:                  0x1008FFA5,
    XF86XK_Blue:                    0x1008FFA6,
    XF86XK_Suspend:                 0x1008FFA7,
    XF86XK_Hibernate:               0x1008FFA8,
    XF86XK_TouchpadToggle:          0x1008FFA9,
    XF86XK_TouchpadOn:              0x1008FFB0,
    XF86XK_TouchpadOff:             0x1008FFB1,
    XF86XK_AudioMicMute:            0x1008FFB2,
    XF86XK_Switch_VT_1:             0x1008FE01,
    XF86XK_Switch_VT_2:             0x1008FE02,
    XF86XK_Switch_VT_3:             0x1008FE03,
    XF86XK_Switch_VT_4:             0x1008FE04,
    XF86XK_Switch_VT_5:             0x1008FE05,
    XF86XK_Switch_VT_6:             0x1008FE06,
    XF86XK_Switch_VT_7:             0x1008FE07,
    XF86XK_Switch_VT_8:             0x1008FE08,
    XF86XK_Switch_VT_9:             0x1008FE09,
    XF86XK_Switch_VT_10:            0x1008FE0A,
    XF86XK_Switch_VT_11:            0x1008FE0B,
    XF86XK_Switch_VT_12:            0x1008FE0C,
    XF86XK_Ungrab:                  0x1008FE20,
    XF86XK_ClearGrab:               0x1008FE21,
    XF86XK_Next_VMode:              0x1008FE22,
    XF86XK_Prev_VMode:              0x1008FE23,
    XF86XK_LogWindowTree:           0x1008FE24,
    XF86XK_LogGrabInfo:             0x1008FE25,
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysymdef.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysymdef.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Mapping from Unicode codepoints to X11/RFB keysyms
 *
 * This file was automatically generated from keysymdef.h
 * DO NOT EDIT!
 */

/* Functions at the bottom */

var codepoints = {
    0x0100: 0x03c0, // XK_Amacron
    0x0101: 0x03e0, // XK_amacron
    0x0102: 0x01c3, // XK_Abreve
    0x0103: 0x01e3, // XK_abreve
    0x0104: 0x01a1, // XK_Aogonek
    0x0105: 0x01b1, // XK_aogonek
    0x0106: 0x01c6, // XK_Cacute
    0x0107: 0x01e6, // XK_cacute
    0x0108: 0x02c6, // XK_Ccircumflex
    0x0109: 0x02e6, // XK_ccircumflex
    0x010a: 0x02c5, // XK_Cabovedot
    0x010b: 0x02e5, // XK_cabovedot
    0x010c: 0x01c8, // XK_Ccaron
    0x010d: 0x01e8, // XK_ccaron
    0x010e: 0x01cf, // XK_Dcaron
    0x010f: 0x01ef, // XK_dcaron
    0x0110: 0x01d0, // XK_Dstroke
    0x0111: 0x01f0, // XK_dstroke
    0x0112: 0x03aa, // XK_Emacron
    0x0113: 0x03ba, // XK_emacron
    0x0116: 0x03cc, // XK_Eabovedot
    0x0117: 0x03ec, // XK_eabovedot
    0x0118: 0x01ca, // XK_Eogonek
    0x0119: 0x01ea, // XK_eogonek
    0x011a: 0x01cc, // XK_Ecaron
    0x011b: 0x01ec, // XK_ecaron
    0x011c: 0x02d8, // XK_Gcircumflex
    0x011d: 0x02f8, // XK_gcircumflex
    0x011e: 0x02ab, // XK_Gbreve
    0x011f: 0x02bb, // XK_gbreve
    0x0120: 0x02d5, // XK_Gabovedot
    0x0121: 0x02f5, // XK_gabovedot
    0x0122: 0x03ab, // XK_Gcedilla
    0x0123: 0x03bb, // XK_gcedilla
    0x0124: 0x02a6, // XK_Hcircumflex
    0x0125: 0x02b6, // XK_hcircumflex
    0x0126: 0x02a1, // XK_Hstroke
    0x0127: 0x02b1, // XK_hstroke
    0x0128: 0x03a5, // XK_Itilde
    0x0129: 0x03b5, // XK_itilde
    0x012a: 0x03cf, // XK_Imacron
    0x012b: 0x03ef, // XK_imacron
    0x012e: 0x03c7, // XK_Iogonek
    0x012f: 0x03e7, // XK_iogonek
    0x0130: 0x02a9, // XK_Iabovedot
    0x0131: 0x02b9, // XK_idotless
    0x0134: 0x02ac, // XK_Jcircumflex
    0x0135: 0x02bc, // XK_jcircumflex
    0x0136: 0x03d3, // XK_Kcedilla
    0x0137: 0x03f3, // XK_kcedilla
    0x0138: 0x03a2, // XK_kra
    0x0139: 0x01c5, // XK_Lacute
    0x013a: 0x01e5, // XK_lacute
    0x013b: 0x03a6, // XK_Lcedilla
    0x013c: 0x03b6, // XK_lcedilla
    0x013d: 0x01a5, // XK_Lcaron
    0x013e: 0x01b5, // XK_lcaron
    0x0141: 0x01a3, // XK_Lstroke
    0x0142: 0x01b3, // XK_lstroke
    0x0143: 0x01d1, // XK_Nacute
    0x0144: 0x01f1, // XK_nacute
    0x0145: 0x03d1, // XK_Ncedilla
    0x0146: 0x03f1, // XK_ncedilla
    0x0147: 0x01d2, // XK_Ncaron
    0x0148: 0x01f2, // XK_ncaron
    0x014a: 0x03bd, // XK_ENG
    0x014b: 0x03bf, // XK_eng
    0x014c: 0x03d2, // XK_Omacron
    0x014d: 0x03f2, // XK_omacron
    0x0150: 0x01d5, // XK_Odoubleacute
    0x0151: 0x01f5, // XK_odoubleacute
    0x0152: 0x13bc, // XK_OE
    0x0153: 0x13bd, // XK_oe
    0x0154: 0x01c0, // XK_Racute
    0x0155: 0x01e0, // XK_racute
    0x0156: 0x03a3, // XK_Rcedilla
    0x0157: 0x03b3, // XK_rcedilla
    0x0158: 0x01d8, // XK_Rcaron
    0x0159: 0x01f8, // XK_rcaron
    0x015a: 0x01a6, // XK_Sacute
    0x015b: 0x01b6, // XK_sacute
    0x015c: 0x02de, // XK_Scircumflex
    0x015d: 0x02fe, // XK_scircumflex
    0x015e: 0x01aa, // XK_Scedilla
    0x015f: 0x01ba, // XK_scedilla
    0x0160: 0x01a9, // XK_Scaron
    0x0161: 0x01b9, // XK_scaron
    0x0162: 0x01de, // XK_Tcedilla
    0x0163: 0x01fe, // XK_tcedilla
    0x0164: 0x01ab, // XK_Tcaron
    0x0165: 0x01bb, // XK_tcaron
    0x0166: 0x03ac, // XK_Tslash
    0x0167: 0x03bc, // XK_tslash
    0x0168: 0x03dd, // XK_Utilde
    0x0169: 0x03fd, // XK_utilde
    0x016a: 0x03de, // XK_Umacron
    0x016b: 0x03fe, // XK_umacron
    0x016c: 0x02dd, // XK_Ubreve
    0x016d: 0x02fd, // XK_ubreve
    0x016e: 0x01d9, // XK_Uring
    0x016f: 0x01f9, // XK_uring
    0x0170: 0x01db, // XK_Udoubleacute
    0x0171: 0x01fb, // XK_udoubleacute
    0x0172: 0x03d9, // XK_Uogonek
    0x0173: 0x03f9, // XK_uogonek
    0x0178: 0x13be, // XK_Ydiaeresis
    0x0179: 0x01ac, // XK_Zacute
    0x017a: 0x01bc, // XK_zacute
    0x017b: 0x01af, // XK_Zabovedot
    0x017c: 0x01bf, // XK_zabovedot
    0x017d: 0x01ae, // XK_Zcaron
    0x017e: 0x01be, // XK_zcaron
    0x0192: 0x08f6, // XK_function
    0x01d2: 0x10001d1, // XK_Ocaron
    0x02c7: 0x01b7, // XK_caron
    0x02d8: 0x01a2, // XK_breve
    0x02d9: 0x01ff, // XK_abovedot
    0x02db: 0x01b2, // XK_ogonek
    0x02dd: 0x01bd, // XK_doubleacute
    0x0385: 0x07ae, // XK_Greek_accentdieresis
    0x0386: 0x07a1, // XK_Greek_ALPHAaccent
    0x0388: 0x07a2, // XK_Greek_EPSILONaccent
    0x0389: 0x07a3, // XK_Greek_ETAaccent
    0x038a: 0x07a4, // XK_Greek_IOTAaccent
    0x038c: 0x07a7, // XK_Greek_OMICRONaccent
    0x038e: 0x07a8, // XK_Greek_UPSILONaccent
    0x038f: 0x07ab, // XK_Greek_OMEGAaccent
    0x0390: 0x07b6, // XK_Greek_iotaaccentdieresis
    0x0391: 0x07c1, // XK_Greek_ALPHA
    0x0392: 0x07c2, // XK_Greek_BETA
    0x0393: 0x07c3, // XK_Greek_GAMMA
    0x0394: 0x07c4, // XK_Greek_DELTA
    0x0395: 0x07c5, // XK_Greek_EPSILON
    0x0396: 0x07c6, // XK_Greek_ZETA
    0x0397: 0x07c7, // XK_Greek_ETA
    0x0398: 0x07c8, // XK_Greek_THETA
    0x0399: 0x07c9, // XK_Greek_IOTA
    0x039a: 0x07ca, // XK_Greek_KAPPA
    0x039b: 0x07cb, // XK_Greek_LAMDA
    0x039c: 0x07cc, // XK_Greek_MU
    0x039d: 0x07cd, // XK_Greek_NU
    0x039e: 0x07ce, // XK_Greek_XI
    0x039f: 0x07cf, // XK_Greek_OMICRON
    0x03a0: 0x07d0, // XK_Greek_PI
    0x03a1: 0x07d1, // XK_Greek_RHO
    0x03a3: 0x07d2, // XK_Greek_SIGMA
    0x03a4: 0x07d4, // XK_Greek_TAU
    0x03a5: 0x07d5, // XK_Greek_UPSILON
    0x03a6: 0x07d6, // XK_Greek_PHI
    0x03a7: 0x07d7, // XK_Greek_CHI
    0x03a8: 0x07d8, // XK_Greek_PSI
    0x03a9: 0x07d9, // XK_Greek_OMEGA
    0x03aa: 0x07a5, // XK_Greek_IOTAdieresis
    0x03ab: 0x07a9, // XK_Greek_UPSILONdieresis
    0x03ac: 0x07b1, // XK_Greek_alphaaccent
    0x03ad: 0x07b2, // XK_Greek_epsilonaccent
    0x03ae: 0x07b3, // XK_Greek_etaaccent
    0x03af: 0x07b4, // XK_Greek_iotaaccent
    0x03b0: 0x07ba, // XK_Greek_upsilonaccentdieresis
    0x03b1: 0x07e1, // XK_Greek_alpha
    0x03b2: 0x07e2, // XK_Greek_beta
    0x03b3: 0x07e3, // XK_Greek_gamma
    0x03b4: 0x07e4, // XK_Greek_delta
    0x03b5: 0x07e5, // XK_Greek_epsilon
    0x03b6: 0x07e6, // XK_Greek_zeta
    0x03b7: 0x07e7, // XK_Greek_eta
    0x03b8: 0x07e8, // XK_Greek_theta
    0x03b9: 0x07e9, // XK_Greek_iota
    0x03ba: 0x07ea, // XK_Greek_kappa
    0x03bb: 0x07eb, // XK_Greek_lamda
    0x03bc: 0x07ec, // XK_Greek_mu
    0x03bd: 0x07ed, // XK_Greek_nu
    0x03be: 0x07ee, // XK_Greek_xi
    0x03bf: 0x07ef, // XK_Greek_omicron
    0x03c0: 0x07f0, // XK_Greek_pi
    0x03c1: 0x07f1, // XK_Greek_rho
    0x03c2: 0x07f3, // XK_Greek_finalsmallsigma
    0x03c3: 0x07f2, // XK_Greek_sigma
    0x03c4: 0x07f4, // XK_Greek_tau
    0x03c5: 0x07f5, // XK_Greek_upsilon
    0x03c6: 0x07f6, // XK_Greek_phi
    0x03c7: 0x07f7, // XK_Greek_chi
    0x03c8: 0x07f8, // XK_Greek_psi
    0x03c9: 0x07f9, // XK_Greek_omega
    0x03ca: 0x07b5, // XK_Greek_iotadieresis
    0x03cb: 0x07b9, // XK_Greek_upsilondieresis
    0x03cc: 0x07b7, // XK_Greek_omicronaccent
    0x03cd: 0x07b8, // XK_Greek_upsilonaccent
    0x03ce: 0x07bb, // XK_Greek_omegaaccent
    0x0401: 0x06b3, // XK_Cyrillic_IO
    0x0402: 0x06b1, // XK_Serbian_DJE
    0x0403: 0x06b2, // XK_Macedonia_GJE
    0x0404: 0x06b4, // XK_Ukrainian_IE
    0x0405: 0x06b5, // XK_Macedonia_DSE
    0x0406: 0x06b6, // XK_Ukrainian_I
    0x0407: 0x06b7, // XK_Ukrainian_YI
    0x0408: 0x06b8, // XK_Cyrillic_JE
    0x0409: 0x06b9, // XK_Cyrillic_LJE
    0x040a: 0x06ba, // XK_Cyrillic_NJE
    0x040b: 0x06bb, // XK_Serbian_TSHE
    0x040c: 0x06bc, // XK_Macedonia_KJE
    0x040e: 0x06be, // XK_Byelorussian_SHORTU
    0x040f: 0x06bf, // XK_Cyrillic_DZHE
    0x0410: 0x06e1, // XK_Cyrillic_A
    0x0411: 0x06e2, // XK_Cyrillic_BE
    0x0412: 0x06f7, // XK_Cyrillic_VE
    0x0413: 0x06e7, // XK_Cyrillic_GHE
    0x0414: 0x06e4, // XK_Cyrillic_DE
    0x0415: 0x06e5, // XK_Cyrillic_IE
    0x0416: 0x06f6, // XK_Cyrillic_ZHE
    0x0417: 0x06fa, // XK_Cyrillic_ZE
    0x0418: 0x06e9, // XK_Cyrillic_I
    0x0419: 0x06ea, // XK_Cyrillic_SHORTI
    0x041a: 0x06eb, // XK_Cyrillic_KA
    0x041b: 0x06ec, // XK_Cyrillic_EL
    0x041c: 0x06ed, // XK_Cyrillic_EM
    0x041d: 0x06ee, // XK_Cyrillic_EN
    0x041e: 0x06ef, // XK_Cyrillic_O
    0x041f: 0x06f0, // XK_Cyrillic_PE
    0x0420: 0x06f2, // XK_Cyrillic_ER
    0x0421: 0x06f3, // XK_Cyrillic_ES
    0x0422: 0x06f4, // XK_Cyrillic_TE
    0x0423: 0x06f5, // XK_Cyrillic_U
    0x0424: 0x06e6, // XK_Cyrillic_EF
    0x0425: 0x06e8, // XK_Cyrillic_HA
    0x0426: 0x06e3, // XK_Cyrillic_TSE
    0x0427: 0x06fe, // XK_Cyrillic_CHE
    0x0428: 0x06fb, // XK_Cyrillic_SHA
    0x0429: 0x06fd, // XK_Cyrillic_SHCHA
    0x042a: 0x06ff, // XK_Cyrillic_HARDSIGN
    0x042b: 0x06f9, // XK_Cyrillic_YERU
    0x042c: 0x06f8, // XK_Cyrillic_SOFTSIGN
    0x042d: 0x06fc, // XK_Cyrillic_E
    0x042e: 0x06e0, // XK_Cyrillic_YU
    0x042f: 0x06f1, // XK_Cyrillic_YA
    0x0430: 0x06c1, // XK_Cyrillic_a
    0x0431: 0x06c2, // XK_Cyrillic_be
    0x0432: 0x06d7, // XK_Cyrillic_ve
    0x0433: 0x06c7, // XK_Cyrillic_ghe
    0x0434: 0x06c4, // XK_Cyrillic_de
    0x0435: 0x06c5, // XK_Cyrillic_ie
    0x0436: 0x06d6, // XK_Cyrillic_zhe
    0x0437: 0x06da, // XK_Cyrillic_ze
    0x0438: 0x06c9, // XK_Cyrillic_i
    0x0439: 0x06ca, // XK_Cyrillic_shorti
    0x043a: 0x06cb, // XK_Cyrillic_ka
    0x043b: 0x06cc, // XK_Cyrillic_el
    0x043c: 0x06cd, // XK_Cyrillic_em
    0x043d: 0x06ce, // XK_Cyrillic_en
    0x043e: 0x06cf, // XK_Cyrillic_o
    0x043f: 0x06d0, // XK_Cyrillic_pe
    0x0440: 0x06d2, // XK_Cyrillic_er
    0x0441: 0x06d3, // XK_Cyrillic_es
    0x0442: 0x06d4, // XK_Cyrillic_te
    0x0443: 0x06d5, // XK_Cyrillic_u
    0x0444: 0x06c6, // XK_Cyrillic_ef
    0x0445: 0x06c8, // XK_Cyrillic_ha
    0x0446: 0x06c3, // XK_Cyrillic_tse
    0x0447: 0x06de, // XK_Cyrillic_che
    0x0448: 0x06db, // XK_Cyrillic_sha
    0x0449: 0x06dd, // XK_Cyrillic_shcha
    0x044a: 0x06df, // XK_Cyrillic_hardsign
    0x044b: 0x06d9, // XK_Cyrillic_yeru
    0x044c: 0x06d8, // XK_Cyrillic_softsign
    0x044d: 0x06dc, // XK_Cyrillic_e
    0x044e: 0x06c0, // XK_Cyrillic_yu
    0x044f: 0x06d1, // XK_Cyrillic_ya
    0x0451: 0x06a3, // XK_Cyrillic_io
    0x0452: 0x06a1, // XK_Serbian_dje
    0x0453: 0x06a2, // XK_Macedonia_gje
    0x0454: 0x06a4, // XK_Ukrainian_ie
    0x0455: 0x06a5, // XK_Macedonia_dse
    0x0456: 0x06a6, // XK_Ukrainian_i
    0x0457: 0x06a7, // XK_Ukrainian_yi
    0x0458: 0x06a8, // XK_Cyrillic_je
    0x0459: 0x06a9, // XK_Cyrillic_lje
    0x045a: 0x06aa, // XK_Cyrillic_nje
    0x045b: 0x06ab, // XK_Serbian_tshe
    0x045c: 0x06ac, // XK_Macedonia_kje
    0x045e: 0x06ae, // XK_Byelorussian_shortu
    0x045f: 0x06af, // XK_Cyrillic_dzhe
    0x0490: 0x06bd, // XK_Ukrainian_GHE_WITH_UPTURN
    0x0491: 0x06ad, // XK_Ukrainian_ghe_with_upturn
    0x05d0: 0x0ce0, // XK_hebrew_aleph
    0x05d1: 0x0ce1, // XK_hebrew_bet
    0x05d2: 0x0ce2, // XK_hebrew_gimel
    0x05d3: 0x0ce3, // XK_hebrew_dalet
    0x05d4: 0x0ce4, // XK_hebrew_he
    0x05d5: 0x0ce5, // XK_hebrew_waw
    0x05d6: 0x0ce6, // XK_hebrew_zain
    0x05d7: 0x0ce7, // XK_hebrew_chet
    0x05d8: 0x0ce8, // XK_hebrew_tet
    0x05d9: 0x0ce9, // XK_hebrew_yod
    0x05da: 0x0cea, // XK_hebrew_finalkaph
    0x05db: 0x0ceb, // XK_hebrew_kaph
    0x05dc: 0x0cec, // XK_hebrew_lamed
    0x05dd: 0x0ced, // XK_hebrew_finalmem
    0x05de: 0x0cee, // XK_hebrew_mem
    0x05df: 0x0cef, // XK_hebrew_finalnun
    0x05e0: 0x0cf0, // XK_hebrew_nun
    0x05e1: 0x0cf1, // XK_hebrew_samech
    0x05e2: 0x0cf2, // XK_hebrew_ayin
    0x05e3: 0x0cf3, // XK_hebrew_finalpe
    0x05e4: 0x0cf4, // XK_hebrew_pe
    0x05e5: 0x0cf5, // XK_hebrew_finalzade
    0x05e6: 0x0cf6, // XK_hebrew_zade
    0x05e7: 0x0cf7, // XK_hebrew_qoph
    0x05e8: 0x0cf8, // XK_hebrew_resh
    0x05e9: 0x0cf9, // XK_hebrew_shin
    0x05ea: 0x0cfa, // XK_hebrew_taw
    0x060c: 0x05ac, // XK_Arabic_comma
    0x061b: 0x05bb, // XK_Arabic_semicolon
    0x061f: 0x05bf, // XK_Arabic_question_mark
    0x0621: 0x05c1, // XK_Arabic_hamza
    0x0622: 0x05c2, // XK_Arabic_maddaonalef
    0x0623: 0x05c3, // XK_Arabic_hamzaonalef
    0x0624: 0x05c4, // XK_Arabic_hamzaonwaw
    0x0625: 0x05c5, // XK_Arabic_hamzaunderalef
    0x0626: 0x05c6, // XK_Arabic_hamzaonyeh
    0x0627: 0x05c7, // XK_Arabic_alef
    0x0628: 0x05c8, // XK_Arabic_beh
    0x0629: 0x05c9, // XK_Arabic_tehmarbuta
    0x062a: 0x05ca, // XK_Arabic_teh
    0x062b: 0x05cb, // XK_Arabic_theh
    0x062c: 0x05cc, // XK_Arabic_jeem
    0x062d: 0x05cd, // XK_Arabic_hah
    0x062e: 0x05ce, // XK_Arabic_khah
    0x062f: 0x05cf, // XK_Arabic_dal
    0x0630: 0x05d0, // XK_Arabic_thal
    0x0631: 0x05d1, // XK_Arabic_ra
    0x0632: 0x05d2, // XK_Arabic_zain
    0x0633: 0x05d3, // XK_Arabic_seen
    0x0634: 0x05d4, // XK_Arabic_sheen
    0x0635: 0x05d5, // XK_Arabic_sad
    0x0636: 0x05d6, // XK_Arabic_dad
    0x0637: 0x05d7, // XK_Arabic_tah
    0x0638: 0x05d8, // XK_Arabic_zah
    0x0639: 0x05d9, // XK_Arabic_ain
    0x063a: 0x05da, // XK_Arabic_ghain
    0x0640: 0x05e0, // XK_Arabic_tatweel
    0x0641: 0x05e1, // XK_Arabic_feh
    0x0642: 0x05e2, // XK_Arabic_qaf
    0x0643: 0x05e3, // XK_Arabic_kaf
    0x0644: 0x05e4, // XK_Arabic_lam
    0x0645: 0x05e5, // XK_Arabic_meem
    0x0646: 0x05e6, // XK_Arabic_noon
    0x0647: 0x05e7, // XK_Arabic_ha
    0x0648: 0x05e8, // XK_Arabic_waw
    0x0649: 0x05e9, // XK_Arabic_alefmaksura
    0x064a: 0x05ea, // XK_Arabic_yeh
    0x064b: 0x05eb, // XK_Arabic_fathatan
    0x064c: 0x05ec, // XK_Arabic_dammatan
    0x064d: 0x05ed, // XK_Arabic_kasratan
    0x064e: 0x05ee, // XK_Arabic_fatha
    0x064f: 0x05ef, // XK_Arabic_damma
    0x0650: 0x05f0, // XK_Arabic_kasra
    0x0651: 0x05f1, // XK_Arabic_shadda
    0x0652: 0x05f2, // XK_Arabic_sukun
    0x0e01: 0x0da1, // XK_Thai_kokai
    0x0e02: 0x0da2, // XK_Thai_khokhai
    0x0e03: 0x0da3, // XK_Thai_khokhuat
    0x0e04: 0x0da4, // XK_Thai_khokhwai
    0x0e05: 0x0da5, // XK_Thai_khokhon
    0x0e06: 0x0da6, // XK_Thai_khorakhang
    0x0e07: 0x0da7, // XK_Thai_ngongu
    0x0e08: 0x0da8, // XK_Thai_chochan
    0x0e09: 0x0da9, // XK_Thai_choching
    0x0e0a: 0x0daa, // XK_Thai_chochang
    0x0e0b: 0x0dab, // XK_Thai_soso
    0x0e0c: 0x0dac, // XK_Thai_chochoe
    0x0e0d: 0x0dad, // XK_Thai_yoying
    0x0e0e: 0x0dae, // XK_Thai_dochada
    0x0e0f: 0x0daf, // XK_Thai_topatak
    0x0e10: 0x0db0, // XK_Thai_thothan
    0x0e11: 0x0db1, // XK_Thai_thonangmontho
    0x0e12: 0x0db2, // XK_Thai_thophuthao
    0x0e13: 0x0db3, // XK_Thai_nonen
    0x0e14: 0x0db4, // XK_Thai_dodek
    0x0e15: 0x0db5, // XK_Thai_totao
    0x0e16: 0x0db6, // XK_Thai_thothung
    0x0e17: 0x0db7, // XK_Thai_thothahan
    0x0e18: 0x0db8, // XK_Thai_thothong
    0x0e19: 0x0db9, // XK_Thai_nonu
    0x0e1a: 0x0dba, // XK_Thai_bobaimai
    0x0e1b: 0x0dbb, // XK_Thai_popla
    0x0e1c: 0x0dbc, // XK_Thai_phophung
    0x0e1d: 0x0dbd, // XK_Thai_fofa
    0x0e1e: 0x0dbe, // XK_Thai_phophan
    0x0e1f: 0x0dbf, // XK_Thai_fofan
    0x0e20: 0x0dc0, // XK_Thai_phosamphao
    0x0e21: 0x0dc1, // XK_Thai_moma
    0x0e22: 0x0dc2, // XK_Thai_yoyak
    0x0e23: 0x0dc3, // XK_Thai_rorua
    0x0e24: 0x0dc4, // XK_Thai_ru
    0x0e25: 0x0dc5, // XK_Thai_loling
    0x0e26: 0x0dc6, // XK_Thai_lu
    0x0e27: 0x0dc7, // XK_Thai_wowaen
    0x0e28: 0x0dc8, // XK_Thai_sosala
    0x0e29: 0x0dc9, // XK_Thai_sorusi
    0x0e2a: 0x0dca, // XK_Thai_sosua
    0x0e2b: 0x0dcb, // XK_Thai_hohip
    0x0e2c: 0x0dcc, // XK_Thai_lochula
    0x0e2d: 0x0dcd, // XK_Thai_oang
    0x0e2e: 0x0dce, // XK_Thai_honokhuk
    0x0e2f: 0x0dcf, // XK_Thai_paiyannoi
    0x0e30: 0x0dd0, // XK_Thai_saraa
    0x0e31: 0x0dd1, // XK_Thai_maihanakat
    0x0e32: 0x0dd2, // XK_Thai_saraaa
    0x0e33: 0x0dd3, // XK_Thai_saraam
    0x0e34: 0x0dd4, // XK_Thai_sarai
    0x0e35: 0x0dd5, // XK_Thai_saraii
    0x0e36: 0x0dd6, // XK_Thai_saraue
    0x0e37: 0x0dd7, // XK_Thai_sarauee
    0x0e38: 0x0dd8, // XK_Thai_sarau
    0x0e39: 0x0dd9, // XK_Thai_sarauu
    0x0e3a: 0x0dda, // XK_Thai_phinthu
    0x0e3f: 0x0ddf, // XK_Thai_baht
    0x0e40: 0x0de0, // XK_Thai_sarae
    0x0e41: 0x0de1, // XK_Thai_saraae
    0x0e42: 0x0de2, // XK_Thai_sarao
    0x0e43: 0x0de3, // XK_Thai_saraaimaimuan
    0x0e44: 0x0de4, // XK_Thai_saraaimaimalai
    0x0e45: 0x0de5, // XK_Thai_lakkhangyao
    0x0e46: 0x0de6, // XK_Thai_maiyamok
    0x0e47: 0x0de7, // XK_Thai_maitaikhu
    0x0e48: 0x0de8, // XK_Thai_maiek
    0x0e49: 0x0de9, // XK_Thai_maitho
    0x0e4a: 0x0dea, // XK_Thai_maitri
    0x0e4b: 0x0deb, // XK_Thai_maichattawa
    0x0e4c: 0x0dec, // XK_Thai_thanthakhat
    0x0e4d: 0x0ded, // XK_Thai_nikhahit
    0x0e50: 0x0df0, // XK_Thai_leksun
    0x0e51: 0x0df1, // XK_Thai_leknung
    0x0e52: 0x0df2, // XK_Thai_leksong
    0x0e53: 0x0df3, // XK_Thai_leksam
    0x0e54: 0x0df4, // XK_Thai_leksi
    0x0e55: 0x0df5, // XK_Thai_lekha
    0x0e56: 0x0df6, // XK_Thai_lekhok
    0x0e57: 0x0df7, // XK_Thai_lekchet
    0x0e58: 0x0df8, // XK_Thai_lekpaet
    0x0e59: 0x0df9, // XK_Thai_lekkao
    0x2002: 0x0aa2, // XK_enspace
    0x2003: 0x0aa1, // XK_emspace
    0x2004: 0x0aa3, // XK_em3space
    0x2005: 0x0aa4, // XK_em4space
    0x2007: 0x0aa5, // XK_digitspace
    0x2008: 0x0aa6, // XK_punctspace
    0x2009: 0x0aa7, // XK_thinspace
    0x200a: 0x0aa8, // XK_hairspace
    0x2012: 0x0abb, // XK_figdash
    0x2013: 0x0aaa, // XK_endash
    0x2014: 0x0aa9, // XK_emdash
    0x2015: 0x07af, // XK_Greek_horizbar
    0x2017: 0x0cdf, // XK_hebrew_doublelowline
    0x2018: 0x0ad0, // XK_leftsinglequotemark
    0x2019: 0x0ad1, // XK_rightsinglequotemark
    0x201a: 0x0afd, // XK_singlelowquotemark
    0x201c: 0x0ad2, // XK_leftdoublequotemark
    0x201d: 0x0ad3, // XK_rightdoublequotemark
    0x201e: 0x0afe, // XK_doublelowquotemark
    0x2020: 0x0af1, // XK_dagger
    0x2021: 0x0af2, // XK_doubledagger
    0x2022: 0x0ae6, // XK_enfilledcircbullet
    0x2025: 0x0aaf, // XK_doubbaselinedot
    0x2026: 0x0aae, // XK_ellipsis
    0x2030: 0x0ad5, // XK_permille
    0x2032: 0x0ad6, // XK_minutes
    0x2033: 0x0ad7, // XK_seconds
    0x2038: 0x0afc, // XK_caret
    0x203e: 0x047e, // XK_overline
    0x20a9: 0x0eff, // XK_Korean_Won
    0x20ac: 0x20ac, // XK_EuroSign
    0x2105: 0x0ab8, // XK_careof
    0x2116: 0x06b0, // XK_numerosign
    0x2117: 0x0afb, // XK_phonographcopyright
    0x211e: 0x0ad4, // XK_prescription
    0x2122: 0x0ac9, // XK_trademark
    0x2153: 0x0ab0, // XK_onethird
    0x2154: 0x0ab1, // XK_twothirds
    0x2155: 0x0ab2, // XK_onefifth
    0x2156: 0x0ab3, // XK_twofifths
    0x2157: 0x0ab4, // XK_threefifths
    0x2158: 0x0ab5, // XK_fourfifths
    0x2159: 0x0ab6, // XK_onesixth
    0x215a: 0x0ab7, // XK_fivesixths
    0x215b: 0x0ac3, // XK_oneeighth
    0x215c: 0x0ac4, // XK_threeeighths
    0x215d: 0x0ac5, // XK_fiveeighths
    0x215e: 0x0ac6, // XK_seveneighths
    0x2190: 0x08fb, // XK_leftarrow
    0x2191: 0x08fc, // XK_uparrow
    0x2192: 0x08fd, // XK_rightarrow
    0x2193: 0x08fe, // XK_downarrow
    0x21d2: 0x08ce, // XK_implies
    0x21d4: 0x08cd, // XK_ifonlyif
    0x2202: 0x08ef, // XK_partialderivative
    0x2207: 0x08c5, // XK_nabla
    0x2218: 0x0bca, // XK_jot
    0x221a: 0x08d6, // XK_radical
    0x221d: 0x08c1, // XK_variation
    0x221e: 0x08c2, // XK_infinity
    0x2227: 0x08de, // XK_logicaland
    0x2228: 0x08df, // XK_logicalor
    0x2229: 0x08dc, // XK_intersection
    0x222a: 0x08dd, // XK_union
    0x222b: 0x08bf, // XK_integral
    0x2234: 0x08c0, // XK_therefore
    0x223c: 0x08c8, // XK_approximate
    0x2243: 0x08c9, // XK_similarequal
    0x2245: 0x1002248, // XK_approxeq
    0x2260: 0x08bd, // XK_notequal
    0x2261: 0x08cf, // XK_identical
    0x2264: 0x08bc, // XK_lessthanequal
    0x2265: 0x08be, // XK_greaterthanequal
    0x2282: 0x08da, // XK_includedin
    0x2283: 0x08db, // XK_includes
    0x22a2: 0x0bfc, // XK_righttack
    0x22a3: 0x0bdc, // XK_lefttack
    0x22a4: 0x0bc2, // XK_downtack
    0x22a5: 0x0bce, // XK_uptack
    0x2308: 0x0bd3, // XK_upstile
    0x230a: 0x0bc4, // XK_downstile
    0x2315: 0x0afa, // XK_telephonerecorder
    0x2320: 0x08a4, // XK_topintegral
    0x2321: 0x08a5, // XK_botintegral
    0x2395: 0x0bcc, // XK_quad
    0x239b: 0x08ab, // XK_topleftparens
    0x239d: 0x08ac, // XK_botleftparens
    0x239e: 0x08ad, // XK_toprightparens
    0x23a0: 0x08ae, // XK_botrightparens
    0x23a1: 0x08a7, // XK_topleftsqbracket
    0x23a3: 0x08a8, // XK_botleftsqbracket
    0x23a4: 0x08a9, // XK_toprightsqbracket
    0x23a6: 0x08aa, // XK_botrightsqbracket
    0x23a8: 0x08af, // XK_leftmiddlecurlybrace
    0x23ac: 0x08b0, // XK_rightmiddlecurlybrace
    0x23b7: 0x08a1, // XK_leftradical
    0x23ba: 0x09ef, // XK_horizlinescan1
    0x23bb: 0x09f0, // XK_horizlinescan3
    0x23bc: 0x09f2, // XK_horizlinescan7
    0x23bd: 0x09f3, // XK_horizlinescan9
    0x2409: 0x09e2, // XK_ht
    0x240a: 0x09e5, // XK_lf
    0x240b: 0x09e9, // XK_vt
    0x240c: 0x09e3, // XK_ff
    0x240d: 0x09e4, // XK_cr
    0x2423: 0x0aac, // XK_signifblank
    0x2424: 0x09e8, // XK_nl
    0x2500: 0x08a3, // XK_horizconnector
    0x2502: 0x08a6, // XK_vertconnector
    0x250c: 0x08a2, // XK_topleftradical
    0x2510: 0x09eb, // XK_uprightcorner
    0x2514: 0x09ed, // XK_lowleftcorner
    0x2518: 0x09ea, // XK_lowrightcorner
    0x251c: 0x09f4, // XK_leftt
    0x2524: 0x09f5, // XK_rightt
    0x252c: 0x09f7, // XK_topt
    0x2534: 0x09f6, // XK_bott
    0x253c: 0x09ee, // XK_crossinglines
    0x2592: 0x09e1, // XK_checkerboard
    0x25aa: 0x0ae7, // XK_enfilledsqbullet
    0x25ab: 0x0ae1, // XK_enopensquarebullet
    0x25ac: 0x0adb, // XK_filledrectbullet
    0x25ad: 0x0ae2, // XK_openrectbullet
    0x25ae: 0x0adf, // XK_emfilledrect
    0x25af: 0x0acf, // XK_emopenrectangle
    0x25b2: 0x0ae8, // XK_filledtribulletup
    0x25b3: 0x0ae3, // XK_opentribulletup
    0x25b6: 0x0add, // XK_filledrighttribullet
    0x25b7: 0x0acd, // XK_rightopentriangle
    0x25bc: 0x0ae9, // XK_filledtribulletdown
    0x25bd: 0x0ae4, // XK_opentribulletdown
    0x25c0: 0x0adc, // XK_filledlefttribullet
    0x25c1: 0x0acc, // XK_leftopentriangle
    0x25c6: 0x09e0, // XK_soliddiamond
    0x25cb: 0x0ace, // XK_emopencircle
    0x25cf: 0x0ade, // XK_emfilledcircle
    0x25e6: 0x0ae0, // XK_enopencircbullet
    0x2606: 0x0ae5, // XK_openstar
    0x260e: 0x0af9, // XK_telephone
    0x2613: 0x0aca, // XK_signaturemark
    0x261c: 0x0aea, // XK_leftpointer
    0x261e: 0x0aeb, // XK_rightpointer
    0x2640: 0x0af8, // XK_femalesymbol
    0x2642: 0x0af7, // XK_malesymbol
    0x2663: 0x0aec, // XK_club
    0x2665: 0x0aee, // XK_heart
    0x2666: 0x0aed, // XK_diamond
    0x266d: 0x0af6, // XK_musicalflat
    0x266f: 0x0af5, // XK_musicalsharp
    0x2713: 0x0af3, // XK_checkmark
    0x2717: 0x0af4, // XK_ballotcross
    0x271d: 0x0ad9, // XK_latincross
    0x2720: 0x0af0, // XK_maltesecross
    0x27e8: 0x0abc, // XK_leftanglebracket
    0x27e9: 0x0abe, // XK_rightanglebracket
    0x3001: 0x04a4, // XK_kana_comma
    0x3002: 0x04a1, // XK_kana_fullstop
    0x300c: 0x04a2, // XK_kana_openingbracket
    0x300d: 0x04a3, // XK_kana_closingbracket
    0x309b: 0x04de, // XK_voicedsound
    0x309c: 0x04df, // XK_semivoicedsound
    0x30a1: 0x04a7, // XK_kana_a
    0x30a2: 0x04b1, // XK_kana_A
    0x30a3: 0x04a8, // XK_kana_i
    0x30a4: 0x04b2, // XK_kana_I
    0x30a5: 0x04a9, // XK_kana_u
    0x30a6: 0x04b3, // XK_kana_U
    0x30a7: 0x04aa, // XK_kana_e
    0x30a8: 0x04b4, // XK_kana_E
    0x30a9: 0x04ab, // XK_kana_o
    0x30aa: 0x04b5, // XK_kana_O
    0x30ab: 0x04b6, // XK_kana_KA
    0x30ad: 0x04b7, // XK_kana_KI
    0x30af: 0x04b8, // XK_kana_KU
    0x30b1: 0x04b9, // XK_kana_KE
    0x30b3: 0x04ba, // XK_kana_KO
    0x30b5: 0x04bb, // XK_kana_SA
    0x30b7: 0x04bc, // XK_kana_SHI
    0x30b9: 0x04bd, // XK_kana_SU
    0x30bb: 0x04be, // XK_kana_SE
    0x30bd: 0x04bf, // XK_kana_SO
    0x30bf: 0x04c0, // XK_kana_TA
    0x30c1: 0x04c1, // XK_kana_CHI
    0x30c3: 0x04af, // XK_kana_tsu
    0x30c4: 0x04c2, // XK_kana_TSU
    0x30c6: 0x04c3, // XK_kana_TE
    0x30c8: 0x04c4, // XK_kana_TO
    0x30ca: 0x04c5, // XK_kana_NA
    0x30cb: 0x04c6, // XK_kana_NI
    0x30cc: 0x04c7, // XK_kana_NU
    0x30cd: 0x04c8, // XK_kana_NE
    0x30ce: 0x04c9, // XK_kana_NO
    0x30cf: 0x04ca, // XK_kana_HA
    0x30d2: 0x04cb, // XK_kana_HI
    0x30d5: 0x04cc, // XK_kana_FU
    0x30d8: 0x04cd, // XK_kana_HE
    0x30db: 0x04ce, // XK_kana_HO
    0x30de: 0x04cf, // XK_kana_MA
    0x30df: 0x04d0, // XK_kana_MI
    0x30e0: 0x04d1, // XK_kana_MU
    0x30e1: 0x04d2, // XK_kana_ME
    0x30e2: 0x04d3, // XK_kana_MO
    0x30e3: 0x04ac, // XK_kana_ya
    0x30e4: 0x04d4, // XK_kana_YA
    0x30e5: 0x04ad, // XK_kana_yu
    0x30e6: 0x04d5, // XK_kana_YU
    0x30e7: 0x04ae, // XK_kana_yo
    0x30e8: 0x04d6, // XK_kana_YO
    0x30e9: 0x04d7, // XK_kana_RA
    0x30ea: 0x04d8, // XK_kana_RI
    0x30eb: 0x04d9, // XK_kana_RU
    0x30ec: 0x04da, // XK_kana_RE
    0x30ed: 0x04db, // XK_kana_RO
    0x30ef: 0x04dc, // XK_kana_WA
    0x30f2: 0x04a6, // XK_kana_WO
    0x30f3: 0x04dd, // XK_kana_N
    0x30fb: 0x04a5, // XK_kana_conjunctive
    0x30fc: 0x04b0, // XK_prolongedsound
};

/* harmony default export */ __webpack_exports__["default"] = ({
    lookup : function(u) {
        // Latin-1 is one-to-one mapping
        if ((u >= 0x20) && (u <= 0xff)) {
            return u;
        }

        // Lookup table (fairly random)
        var keysym = codepoints[u];
        if (keysym !== undefined) {
            return keysym;
        }

        // General mapping as final fallback
        return 0x01000000 | u;
    },
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/mouse.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/mouse.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Mouse; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */





var WHEEL_STEP = 10; // Delta threshold for a mouse wheel step
var WHEEL_STEP_TIMEOUT = 50; // ms
var WHEEL_LINE_HEIGHT = 19;

function Mouse(target) {
    this._target = target || document;

    this._doubleClickTimer = null;
    this._lastTouchPos = null;

    this._pos = null;
    this._wheelStepXTimer = null;
    this._wheelStepYTimer = null;
    this._accumulatedWheelDeltaX = 0;
    this._accumulatedWheelDeltaY = 0;

    this._eventHandlers = {
        'mousedown': this._handleMouseDown.bind(this),
        'mouseup': this._handleMouseUp.bind(this),
        'mousemove': this._handleMouseMove.bind(this),
        'mousewheel': this._handleMouseWheel.bind(this),
        'mousedisable': this._handleMouseDisable.bind(this)
    };
};

Mouse.prototype = {
    // ===== PROPERTIES =====

    touchButton: 1,                 // Button mask (1, 2, 4) for touch devices (0 means ignore clicks)

    // ===== EVENT HANDLERS =====

    onmousebutton: function () {},  // Handler for mouse button click/release
    onmousemove: function () {},    // Handler for mouse movement

    // ===== PRIVATE METHODS =====

    _resetDoubleClickTimer: function () {
        this._doubleClickTimer = null;
    },

    _handleMouseButton: function (e, down) {
        this._updateMousePosition(e);
        var pos = this._pos;

        var bmask;
        if (e.touches || e.changedTouches) {
            // Touch device

            // When two touches occur within 500 ms of each other and are
            // close enough together a double click is triggered.
            if (down == 1) {
                if (this._doubleClickTimer === null) {
                    this._lastTouchPos = pos;
                } else {
                    clearTimeout(this._doubleClickTimer);

                    // When the distance between the two touches is small enough
                    // force the position of the latter touch to the position of
                    // the first.

                    var xs = this._lastTouchPos.x - pos.x;
                    var ys = this._lastTouchPos.y - pos.y;
                    var d = Math.sqrt((xs * xs) + (ys * ys));

                    // The goal is to trigger on a certain physical width, the
                    // devicePixelRatio brings us a bit closer but is not optimal.
                    var threshold = 20 * (window.devicePixelRatio || 1);
                    if (d < threshold) {
                        pos = this._lastTouchPos;
                    }
                }
                this._doubleClickTimer = setTimeout(this._resetDoubleClickTimer.bind(this), 500);
            }
            bmask = this.touchButton;
            // If bmask is set
        } else if (e.which) {
            /* everything except IE */
            bmask = 1 << e.button;
        } else {
            /* IE including 9 */
            bmask = (e.button & 0x1) +      // Left
                    (e.button & 0x2) * 2 +  // Right
                    (e.button & 0x4) / 2;   // Middle
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onmousebutton " + (down ? "down" : "up") +
                  ", x: " + pos.x + ", y: " + pos.y + ", bmask: " + bmask);
        this.onmousebutton(pos.x, pos.y, down, bmask);

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDown: function (e) {
        // Touch events have implicit capture
        if (e.type === "mousedown") {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["setCapture"])(this._target);
        }

        this._handleMouseButton(e, 1);
    },

    _handleMouseUp: function (e) {
        this._handleMouseButton(e, 0);
    },

    // Mouse wheel events are sent in steps over VNC. This means that the VNC
    // protocol can't handle a wheel event with specific distance or speed.
    // Therefor, if we get a lot of small mouse wheel events we combine them.
    _generateWheelStepX: function () {

        if (this._accumulatedWheelDeltaX < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 5);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 5);
        } else if (this._accumulatedWheelDeltaX > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 6);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 6);
        }

        this._accumulatedWheelDeltaX = 0;
    },

    _generateWheelStepY: function () {

        if (this._accumulatedWheelDeltaY < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 3);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 3);
        } else if (this._accumulatedWheelDeltaY > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 4);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 4);
        }

        this._accumulatedWheelDeltaY = 0;
    },

    _resetWheelStepTimers: function () {
        window.clearTimeout(this._wheelStepXTimer);
        window.clearTimeout(this._wheelStepYTimer);
        this._wheelStepXTimer = null;
        this._wheelStepYTimer = null;
    },

    _handleMouseWheel: function (e) {
        this._resetWheelStepTimers();

        this._updateMousePosition(e);

        var dX = e.deltaX;
        var dY = e.deltaY;

        // Pixel units unless it's non-zero.
        // Note that if deltamode is line or page won't matter since we aren't
        // sending the mouse wheel delta to the server anyway.
        // The difference between pixel and line can be important however since
        // we have a threshold that can be smaller than the line height.
        if (e.deltaMode !== 0) {
            dX *= WHEEL_LINE_HEIGHT;
            dY *= WHEEL_LINE_HEIGHT;
        }

        this._accumulatedWheelDeltaX += dX;
        this._accumulatedWheelDeltaY += dY;

        // Generate a mouse wheel step event when the accumulated delta
        // for one of the axes is large enough.
        // Small delta events that do not pass the threshold get sent
        // after a timeout.
        if (Math.abs(this._accumulatedWheelDeltaX) > WHEEL_STEP) {
            this._generateWheelStepX();
        } else {
            this._wheelStepXTimer =
                window.setTimeout(this._generateWheelStepX.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }
        if (Math.abs(this._accumulatedWheelDeltaY) > WHEEL_STEP) {
            this._generateWheelStepY();
        } else {
            this._wheelStepYTimer =
                window.setTimeout(this._generateWheelStepY.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseMove: function (e) {
        this._updateMousePosition(e);
        this.onmousemove(this._pos.x, this._pos.y);
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDisable: function (e) {
        /*
         * Stop propagation if inside canvas area
         * Note: This is only needed for the 'click' event as it fails
         *       to fire properly for the target element so we have
         *       to listen on the document element instead.
         */
        if (e.target == this._target) {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
        }
    },

    // Update coordinates relative to target
    _updateMousePosition: function(e) {
        e = Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["getPointerEvent"])(e);
        var bounds = this._target.getBoundingClientRect();
        var x, y;
        // Clip to target bounds
        if (e.clientX < bounds.left) {
            x = 0;
        } else if (e.clientX >= bounds.right) {
            x = bounds.width - 1;
        } else {
            x = e.clientX - bounds.left;
        }
        if (e.clientY < bounds.top) {
            y = 0;
        } else if (e.clientY >= bounds.bottom) {
            y = bounds.height - 1;
        } else {
            y = e.clientY - bounds.top;
        }
        this._pos = {x:x, y:y};
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        var c = this._target;

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.addEventListener('touchstart', this._eventHandlers.mousedown);
            c.addEventListener('touchend', this._eventHandlers.mouseup);
            c.addEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.addEventListener('mousedown', this._eventHandlers.mousedown);
        c.addEventListener('mouseup', this._eventHandlers.mouseup);
        c.addEventListener('mousemove', this._eventHandlers.mousemove);
        c.addEventListener('wheel', this._eventHandlers.mousewheel);

        /* Prevent middle-click pasting (see above for why we bind to document) */
        document.addEventListener('click', this._eventHandlers.mousedisable);

        /* preventDefault() on mousedown doesn't stop this event for some
           reason so we have to explicitly block it */
        c.addEventListener('contextmenu', this._eventHandlers.mousedisable);
    },

    ungrab: function () {
        var c = this._target;

        this._resetWheelStepTimers();

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.removeEventListener('touchstart', this._eventHandlers.mousedown);
            c.removeEventListener('touchend', this._eventHandlers.mouseup);
            c.removeEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.removeEventListener('mousedown', this._eventHandlers.mousedown);
        c.removeEventListener('mouseup', this._eventHandlers.mouseup);
        c.removeEventListener('mousemove', this._eventHandlers.mousemove);
        c.removeEventListener('wheel', this._eventHandlers.mousewheel);

        document.removeEventListener('click', this._eventHandlers.mousedisable);

        c.removeEventListener('contextmenu', this._eventHandlers.mousedisable);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/util.js":
/*!******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/util.js ***!
  \******************************************************/
/*! exports provided: getKeycode, getKey, getKeysym */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeycode", function() { return getKeycode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKey", function() { return getKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeysym", function() { return getKeysym; });
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keysymdef.js */ "./node_modules/@novnc/novnc/core/input/keysymdef.js");
/* harmony import */ var _vkeys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vkeys.js */ "./node_modules/@novnc/novnc/core/input/vkeys.js");
/* harmony import */ var _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fixedkeys.js */ "./node_modules/@novnc/novnc/core/input/fixedkeys.js");
/* harmony import */ var _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./domkeytable.js */ "./node_modules/@novnc/novnc/core/input/domkeytable.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");







// Get 'KeyboardEvent.code', handling legacy browsers
function getKeycode(evt){
    // Are we getting proper key identifiers?
    // (unfortunately Firefox and Chrome are crappy here and gives
    // us an empty string on some platforms, rather than leaving it
    // undefined)
    if (evt.code) {
        // Mozilla isn't fully in sync with the spec yet
        switch (evt.code) {
            case 'OSLeft': return 'MetaLeft';
            case 'OSRight': return 'MetaRight';
        }

        return evt.code;
    }

    // The de-facto standard is to use Windows Virtual-Key codes
    // in the 'keyCode' field for non-printable characters. However
    // Webkit sets it to the same as charCode in 'keypress' events.
    if ((evt.type !== 'keypress') && (evt.keyCode in _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"])) {
        var code = _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"][evt.keyCode];

        // macOS has messed up this code for some reason
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isMac"]() && (code === 'ContextMenu')) {
            code = 'MetaRight';
        }

        // The keyCode doesn't distinguish between left and right
        // for the standard modifiers
        if (evt.location === 2) {
            switch (code) {
                case 'ShiftLeft': return 'ShiftRight';
                case 'ControlLeft': return 'ControlRight';
                case 'AltLeft': return 'AltRight';
            }
        }

        // Nor a bunch of the numpad keys
        if (evt.location === 3) {
            switch (code) {
                case 'Delete': return 'NumpadDecimal';
                case 'Insert': return 'Numpad0';
                case 'End': return 'Numpad1';
                case 'ArrowDown': return 'Numpad2';
                case 'PageDown': return 'Numpad3';
                case 'ArrowLeft': return 'Numpad4';
                case 'ArrowRight': return 'Numpad6';
                case 'Home': return 'Numpad7';
                case 'ArrowUp': return 'Numpad8';
                case 'PageUp': return 'Numpad9';
                case 'Enter': return 'NumpadEnter';
            }
        }

        return code;
    }

    return 'Unidentified';
}

// Get 'KeyboardEvent.key', handling legacy browsers
function getKey(evt) {
    // Are we getting a proper key value?
    if (evt.key !== undefined) {
        // IE and Edge use some ancient version of the spec
        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/
        switch (evt.key) {
            case 'Spacebar': return ' ';
            case 'Esc': return 'Escape';
            case 'Scroll': return 'ScrollLock';
            case 'Win': return 'Meta';
            case 'Apps': return 'ContextMenu';
            case 'Up': return 'ArrowUp';
            case 'Left': return 'ArrowLeft';
            case 'Right': return 'ArrowRight';
            case 'Down': return 'ArrowDown';
            case 'Del': return 'Delete';
            case 'Divide': return '/';
            case 'Multiply': return '*';
            case 'Subtract': return '-';
            case 'Add': return '+';
            case 'Decimal': return evt.char;
        }

        // Mozilla isn't fully in sync with the spec yet
        switch (evt.key) {
            case 'OS': return 'Meta';
        }

        // iOS leaks some OS names
        switch (evt.key) {
            case 'UIKeyInputUpArrow': return 'ArrowUp';
            case 'UIKeyInputDownArrow': return 'ArrowDown';
            case 'UIKeyInputLeftArrow': return 'ArrowLeft';
            case 'UIKeyInputRightArrow': return 'ArrowRight';
            case 'UIKeyInputEscape': return 'Escape';
        }

        // IE and Edge have broken handling of AltGraph so we cannot
        // trust them for printable characters
        if ((evt.key.length !== 1) || (!_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isIE"]() && !_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isEdge"]())) {
            return evt.key;
        }
    }

    // Try to deduce it based on the physical key
    var code = getKeycode(evt);
    if (code in _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"]) {
        return _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"][code];
    }

    // If that failed, then see if we have a printable character
    if (evt.charCode) {
        return String.fromCharCode(evt.charCode);
    }

    // At this point we have nothing left to go on
    return 'Unidentified';
}

// Get the most reliable keysym value we can get from a key event
function getKeysym(evt){
    var key = getKey(evt);

    if (key === 'Unidentified') {
        return null;
    }

    // First look up special keys
    if (key in _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"]) {
        var location = evt.location;

        // Safari screws up location for the right cmd key
        if ((key === 'Meta') && (location === 0)) {
            location = 2;
        }

        if ((location === undefined) || (location > 3)) {
            location = 0;
        }

        return _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"][key][location];
    }

    // Now we need to look at the Unicode symbol instead

    var codepoint;

    // Special key? (FIXME: Should have been caught earlier)
    if (key.length !== 1) {
        return null;
    }

    codepoint = key.charCodeAt();
    if (codepoint) {
        return _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__["default"].lookup(codepoint);
    }

    return null;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/vkeys.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/vkeys.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Mapping between Microsoft Windows Virtual-Key codes and
 * HTML key codes.
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    0x08: 'Backspace',
    0x09: 'Tab',
    0x0a: 'NumpadClear',
    0x0d: 'Enter',
    0x10: 'ShiftLeft',
    0x11: 'ControlLeft',
    0x12: 'AltLeft',
    0x13: 'Pause',
    0x14: 'CapsLock',
    0x15: 'Lang1',
    0x19: 'Lang2',
    0x1b: 'Escape',
    0x1c: 'Convert',
    0x1d: 'NonConvert',
    0x20: 'Space',
    0x21: 'PageUp',
    0x22: 'PageDown',
    0x23: 'End',
    0x24: 'Home',
    0x25: 'ArrowLeft',
    0x26: 'ArrowUp',
    0x27: 'ArrowRight',
    0x28: 'ArrowDown',
    0x29: 'Select',
    0x2c: 'PrintScreen',
    0x2d: 'Insert',
    0x2e: 'Delete',
    0x2f: 'Help',
    0x30: 'Digit0',
    0x31: 'Digit1',
    0x32: 'Digit2',
    0x33: 'Digit3',
    0x34: 'Digit4',
    0x35: 'Digit5',
    0x36: 'Digit6',
    0x37: 'Digit7',
    0x38: 'Digit8',
    0x39: 'Digit9',
    0x5b: 'MetaLeft',
    0x5c: 'MetaRight',
    0x5d: 'ContextMenu',
    0x5f: 'Sleep',
    0x60: 'Numpad0',
    0x61: 'Numpad1',
    0x62: 'Numpad2',
    0x63: 'Numpad3',
    0x64: 'Numpad4',
    0x65: 'Numpad5',
    0x66: 'Numpad6',
    0x67: 'Numpad7',
    0x68: 'Numpad8',
    0x69: 'Numpad9',
    0x6a: 'NumpadMultiply',
    0x6b: 'NumpadAdd',
    0x6c: 'NumpadDecimal',
    0x6d: 'NumpadSubtract',
    0x6e: 'NumpadDecimal', // Duplicate, because buggy on Windows
    0x6f: 'NumpadDivide',
    0x70: 'F1',
    0x71: 'F2',
    0x72: 'F3',
    0x73: 'F4',
    0x74: 'F5',
    0x75: 'F6',
    0x76: 'F7',
    0x77: 'F8',
    0x78: 'F9',
    0x79: 'F10',
    0x7a: 'F11',
    0x7b: 'F12',
    0x7c: 'F13',
    0x7d: 'F14',
    0x7e: 'F15',
    0x7f: 'F16',
    0x80: 'F17',
    0x81: 'F18',
    0x82: 'F19',
    0x83: 'F20',
    0x84: 'F21',
    0x85: 'F22',
    0x86: 'F23',
    0x87: 'F24',
    0x90: 'NumLock',
    0x91: 'ScrollLock',
    0xa6: 'BrowserBack',
    0xa7: 'BrowserForward',
    0xa8: 'BrowserRefresh',
    0xa9: 'BrowserStop',
    0xaa: 'BrowserSearch',
    0xab: 'BrowserFavorites',
    0xac: 'BrowserHome',
    0xad: 'AudioVolumeMute',
    0xae: 'AudioVolumeDown',
    0xaf: 'AudioVolumeUp',
    0xb0: 'MediaTrackNext',
    0xb1: 'MediaTrackPrevious',
    0xb2: 'MediaStop',
    0xb3: 'MediaPlayPause',
    0xb4: 'LaunchMail',
    0xb5: 'MediaSelect',
    0xb6: 'LaunchApp1',
    0xb7: 'LaunchApp2',
    0xe1: 'AltRight', // Only when it is AltGraph
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/xtscancodes.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/xtscancodes.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * This file is auto-generated from keymaps.csv on 2017-05-31 16:20
 * Database checksum sha256(92fd165507f2a3b8c5b3fa56e425d45788dbcb98cf067a307527d91ce22cab94)
 * To re-generate, run:
 *   keymap-gen --lang=js code-map keymaps.csv html atset1
*/
/* harmony default export */ __webpack_exports__["default"] = ({
  "Again": 0xe005, /* html:Again (Again) -> linux:129 (KEY_AGAIN) -> atset1:57349 */
  "AltLeft": 0x38, /* html:AltLeft (AltLeft) -> linux:56 (KEY_LEFTALT) -> atset1:56 */
  "AltRight": 0xe038, /* html:AltRight (AltRight) -> linux:100 (KEY_RIGHTALT) -> atset1:57400 */
  "ArrowDown": 0xe050, /* html:ArrowDown (ArrowDown) -> linux:108 (KEY_DOWN) -> atset1:57424 */
  "ArrowLeft": 0xe04b, /* html:ArrowLeft (ArrowLeft) -> linux:105 (KEY_LEFT) -> atset1:57419 */
  "ArrowRight": 0xe04d, /* html:ArrowRight (ArrowRight) -> linux:106 (KEY_RIGHT) -> atset1:57421 */
  "ArrowUp": 0xe048, /* html:ArrowUp (ArrowUp) -> linux:103 (KEY_UP) -> atset1:57416 */
  "AudioVolumeDown": 0xe02e, /* html:AudioVolumeDown (AudioVolumeDown) -> linux:114 (KEY_VOLUMEDOWN) -> atset1:57390 */
  "AudioVolumeMute": 0xe020, /* html:AudioVolumeMute (AudioVolumeMute) -> linux:113 (KEY_MUTE) -> atset1:57376 */
  "AudioVolumeUp": 0xe030, /* html:AudioVolumeUp (AudioVolumeUp) -> linux:115 (KEY_VOLUMEUP) -> atset1:57392 */
  "Backquote": 0x29, /* html:Backquote (Backquote) -> linux:41 (KEY_GRAVE) -> atset1:41 */
  "Backslash": 0x2b, /* html:Backslash (Backslash) -> linux:43 (KEY_BACKSLASH) -> atset1:43 */
  "Backspace": 0xe, /* html:Backspace (Backspace) -> linux:14 (KEY_BACKSPACE) -> atset1:14 */
  "BracketLeft": 0x1a, /* html:BracketLeft (BracketLeft) -> linux:26 (KEY_LEFTBRACE) -> atset1:26 */
  "BracketRight": 0x1b, /* html:BracketRight (BracketRight) -> linux:27 (KEY_RIGHTBRACE) -> atset1:27 */
  "BrowserBack": 0xe06a, /* html:BrowserBack (BrowserBack) -> linux:158 (KEY_BACK) -> atset1:57450 */
  "BrowserFavorites": 0xe066, /* html:BrowserFavorites (BrowserFavorites) -> linux:156 (KEY_BOOKMARKS) -> atset1:57446 */
  "BrowserForward": 0xe069, /* html:BrowserForward (BrowserForward) -> linux:159 (KEY_FORWARD) -> atset1:57449 */
  "BrowserHome": 0xe032, /* html:BrowserHome (BrowserHome) -> linux:172 (KEY_HOMEPAGE) -> atset1:57394 */
  "BrowserRefresh": 0xe067, /* html:BrowserRefresh (BrowserRefresh) -> linux:173 (KEY_REFRESH) -> atset1:57447 */
  "BrowserSearch": 0xe065, /* html:BrowserSearch (BrowserSearch) -> linux:217 (KEY_SEARCH) -> atset1:57445 */
  "BrowserStop": 0xe068, /* html:BrowserStop (BrowserStop) -> linux:128 (KEY_STOP) -> atset1:57448 */
  "CapsLock": 0x3a, /* html:CapsLock (CapsLock) -> linux:58 (KEY_CAPSLOCK) -> atset1:58 */
  "Comma": 0x33, /* html:Comma (Comma) -> linux:51 (KEY_COMMA) -> atset1:51 */
  "ContextMenu": 0xe05d, /* html:ContextMenu (ContextMenu) -> linux:127 (KEY_COMPOSE) -> atset1:57437 */
  "ControlLeft": 0x1d, /* html:ControlLeft (ControlLeft) -> linux:29 (KEY_LEFTCTRL) -> atset1:29 */
  "ControlRight": 0xe01d, /* html:ControlRight (ControlRight) -> linux:97 (KEY_RIGHTCTRL) -> atset1:57373 */
  "Convert": 0x79, /* html:Convert (Convert) -> linux:92 (KEY_HENKAN) -> atset1:121 */
  "Copy": 0xe078, /* html:Copy (Copy) -> linux:133 (KEY_COPY) -> atset1:57464 */
  "Cut": 0xe03c, /* html:Cut (Cut) -> linux:137 (KEY_CUT) -> atset1:57404 */
  "Delete": 0xe053, /* html:Delete (Delete) -> linux:111 (KEY_DELETE) -> atset1:57427 */
  "Digit0": 0xb, /* html:Digit0 (Digit0) -> linux:11 (KEY_0) -> atset1:11 */
  "Digit1": 0x2, /* html:Digit1 (Digit1) -> linux:2 (KEY_1) -> atset1:2 */
  "Digit2": 0x3, /* html:Digit2 (Digit2) -> linux:3 (KEY_2) -> atset1:3 */
  "Digit3": 0x4, /* html:Digit3 (Digit3) -> linux:4 (KEY_3) -> atset1:4 */
  "Digit4": 0x5, /* html:Digit4 (Digit4) -> linux:5 (KEY_4) -> atset1:5 */
  "Digit5": 0x6, /* html:Digit5 (Digit5) -> linux:6 (KEY_5) -> atset1:6 */
  "Digit6": 0x7, /* html:Digit6 (Digit6) -> linux:7 (KEY_6) -> atset1:7 */
  "Digit7": 0x8, /* html:Digit7 (Digit7) -> linux:8 (KEY_7) -> atset1:8 */
  "Digit8": 0x9, /* html:Digit8 (Digit8) -> linux:9 (KEY_8) -> atset1:9 */
  "Digit9": 0xa, /* html:Digit9 (Digit9) -> linux:10 (KEY_9) -> atset1:10 */
  "Eject": 0xe07d, /* html:Eject (Eject) -> linux:162 (KEY_EJECTCLOSECD) -> atset1:57469 */
  "End": 0xe04f, /* html:End (End) -> linux:107 (KEY_END) -> atset1:57423 */
  "Enter": 0x1c, /* html:Enter (Enter) -> linux:28 (KEY_ENTER) -> atset1:28 */
  "Equal": 0xd, /* html:Equal (Equal) -> linux:13 (KEY_EQUAL) -> atset1:13 */
  "Escape": 0x1, /* html:Escape (Escape) -> linux:1 (KEY_ESC) -> atset1:1 */
  "F1": 0x3b, /* html:F1 (F1) -> linux:59 (KEY_F1) -> atset1:59 */
  "F10": 0x44, /* html:F10 (F10) -> linux:68 (KEY_F10) -> atset1:68 */
  "F11": 0x57, /* html:F11 (F11) -> linux:87 (KEY_F11) -> atset1:87 */
  "F12": 0x58, /* html:F12 (F12) -> linux:88 (KEY_F12) -> atset1:88 */
  "F13": 0x5d, /* html:F13 (F13) -> linux:183 (KEY_F13) -> atset1:93 */
  "F14": 0x5e, /* html:F14 (F14) -> linux:184 (KEY_F14) -> atset1:94 */
  "F15": 0x5f, /* html:F15 (F15) -> linux:185 (KEY_F15) -> atset1:95 */
  "F16": 0x55, /* html:F16 (F16) -> linux:186 (KEY_F16) -> atset1:85 */
  "F17": 0xe003, /* html:F17 (F17) -> linux:187 (KEY_F17) -> atset1:57347 */
  "F18": 0xe077, /* html:F18 (F18) -> linux:188 (KEY_F18) -> atset1:57463 */
  "F19": 0xe004, /* html:F19 (F19) -> linux:189 (KEY_F19) -> atset1:57348 */
  "F2": 0x3c, /* html:F2 (F2) -> linux:60 (KEY_F2) -> atset1:60 */
  "F20": 0x5a, /* html:F20 (F20) -> linux:190 (KEY_F20) -> atset1:90 */
  "F21": 0x74, /* html:F21 (F21) -> linux:191 (KEY_F21) -> atset1:116 */
  "F22": 0xe079, /* html:F22 (F22) -> linux:192 (KEY_F22) -> atset1:57465 */
  "F23": 0x6d, /* html:F23 (F23) -> linux:193 (KEY_F23) -> atset1:109 */
  "F24": 0x6f, /* html:F24 (F24) -> linux:194 (KEY_F24) -> atset1:111 */
  "F3": 0x3d, /* html:F3 (F3) -> linux:61 (KEY_F3) -> atset1:61 */
  "F4": 0x3e, /* html:F4 (F4) -> linux:62 (KEY_F4) -> atset1:62 */
  "F5": 0x3f, /* html:F5 (F5) -> linux:63 (KEY_F5) -> atset1:63 */
  "F6": 0x40, /* html:F6 (F6) -> linux:64 (KEY_F6) -> atset1:64 */
  "F7": 0x41, /* html:F7 (F7) -> linux:65 (KEY_F7) -> atset1:65 */
  "F8": 0x42, /* html:F8 (F8) -> linux:66 (KEY_F8) -> atset1:66 */
  "F9": 0x43, /* html:F9 (F9) -> linux:67 (KEY_F9) -> atset1:67 */
  "Find": 0xe041, /* html:Find (Find) -> linux:136 (KEY_FIND) -> atset1:57409 */
  "Help": 0xe075, /* html:Help (Help) -> linux:138 (KEY_HELP) -> atset1:57461 */
  "Hiragana": 0x77, /* html:Hiragana (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Home": 0xe047, /* html:Home (Home) -> linux:102 (KEY_HOME) -> atset1:57415 */
  "Insert": 0xe052, /* html:Insert (Insert) -> linux:110 (KEY_INSERT) -> atset1:57426 */
  "IntlBackslash": 0x56, /* html:IntlBackslash (IntlBackslash) -> linux:86 (KEY_102ND) -> atset1:86 */
  "IntlRo": 0x73, /* html:IntlRo (IntlRo) -> linux:89 (KEY_RO) -> atset1:115 */
  "IntlYen": 0x7d, /* html:IntlYen (IntlYen) -> linux:124 (KEY_YEN) -> atset1:125 */
  "KanaMode": 0x70, /* html:KanaMode (KanaMode) -> linux:93 (KEY_KATAKANAHIRAGANA) -> atset1:112 */
  "Katakana": 0x78, /* html:Katakana (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "KeyA": 0x1e, /* html:KeyA (KeyA) -> linux:30 (KEY_A) -> atset1:30 */
  "KeyB": 0x30, /* html:KeyB (KeyB) -> linux:48 (KEY_B) -> atset1:48 */
  "KeyC": 0x2e, /* html:KeyC (KeyC) -> linux:46 (KEY_C) -> atset1:46 */
  "KeyD": 0x20, /* html:KeyD (KeyD) -> linux:32 (KEY_D) -> atset1:32 */
  "KeyE": 0x12, /* html:KeyE (KeyE) -> linux:18 (KEY_E) -> atset1:18 */
  "KeyF": 0x21, /* html:KeyF (KeyF) -> linux:33 (KEY_F) -> atset1:33 */
  "KeyG": 0x22, /* html:KeyG (KeyG) -> linux:34 (KEY_G) -> atset1:34 */
  "KeyH": 0x23, /* html:KeyH (KeyH) -> linux:35 (KEY_H) -> atset1:35 */
  "KeyI": 0x17, /* html:KeyI (KeyI) -> linux:23 (KEY_I) -> atset1:23 */
  "KeyJ": 0x24, /* html:KeyJ (KeyJ) -> linux:36 (KEY_J) -> atset1:36 */
  "KeyK": 0x25, /* html:KeyK (KeyK) -> linux:37 (KEY_K) -> atset1:37 */
  "KeyL": 0x26, /* html:KeyL (KeyL) -> linux:38 (KEY_L) -> atset1:38 */
  "KeyM": 0x32, /* html:KeyM (KeyM) -> linux:50 (KEY_M) -> atset1:50 */
  "KeyN": 0x31, /* html:KeyN (KeyN) -> linux:49 (KEY_N) -> atset1:49 */
  "KeyO": 0x18, /* html:KeyO (KeyO) -> linux:24 (KEY_O) -> atset1:24 */
  "KeyP": 0x19, /* html:KeyP (KeyP) -> linux:25 (KEY_P) -> atset1:25 */
  "KeyQ": 0x10, /* html:KeyQ (KeyQ) -> linux:16 (KEY_Q) -> atset1:16 */
  "KeyR": 0x13, /* html:KeyR (KeyR) -> linux:19 (KEY_R) -> atset1:19 */
  "KeyS": 0x1f, /* html:KeyS (KeyS) -> linux:31 (KEY_S) -> atset1:31 */
  "KeyT": 0x14, /* html:KeyT (KeyT) -> linux:20 (KEY_T) -> atset1:20 */
  "KeyU": 0x16, /* html:KeyU (KeyU) -> linux:22 (KEY_U) -> atset1:22 */
  "KeyV": 0x2f, /* html:KeyV (KeyV) -> linux:47 (KEY_V) -> atset1:47 */
  "KeyW": 0x11, /* html:KeyW (KeyW) -> linux:17 (KEY_W) -> atset1:17 */
  "KeyX": 0x2d, /* html:KeyX (KeyX) -> linux:45 (KEY_X) -> atset1:45 */
  "KeyY": 0x15, /* html:KeyY (KeyY) -> linux:21 (KEY_Y) -> atset1:21 */
  "KeyZ": 0x2c, /* html:KeyZ (KeyZ) -> linux:44 (KEY_Z) -> atset1:44 */
  "Lang3": 0x78, /* html:Lang3 (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "Lang4": 0x77, /* html:Lang4 (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Lang5": 0x76, /* html:Lang5 (Lang5) -> linux:85 (KEY_ZENKAKUHANKAKU) -> atset1:118 */
  "LaunchApp1": 0xe06b, /* html:LaunchApp1 (LaunchApp1) -> linux:157 (KEY_COMPUTER) -> atset1:57451 */
  "LaunchApp2": 0xe021, /* html:LaunchApp2 (LaunchApp2) -> linux:140 (KEY_CALC) -> atset1:57377 */
  "LaunchMail": 0xe06c, /* html:LaunchMail (LaunchMail) -> linux:155 (KEY_MAIL) -> atset1:57452 */
  "MediaPlayPause": 0xe022, /* html:MediaPlayPause (MediaPlayPause) -> linux:164 (KEY_PLAYPAUSE) -> atset1:57378 */
  "MediaSelect": 0xe06d, /* html:MediaSelect (MediaSelect) -> linux:226 (KEY_MEDIA) -> atset1:57453 */
  "MediaStop": 0xe024, /* html:MediaStop (MediaStop) -> linux:166 (KEY_STOPCD) -> atset1:57380 */
  "MediaTrackNext": 0xe019, /* html:MediaTrackNext (MediaTrackNext) -> linux:163 (KEY_NEXTSONG) -> atset1:57369 */
  "MediaTrackPrevious": 0xe010, /* html:MediaTrackPrevious (MediaTrackPrevious) -> linux:165 (KEY_PREVIOUSSONG) -> atset1:57360 */
  "MetaLeft": 0xe05b, /* html:MetaLeft (MetaLeft) -> linux:125 (KEY_LEFTMETA) -> atset1:57435 */
  "MetaRight": 0xe05c, /* html:MetaRight (MetaRight) -> linux:126 (KEY_RIGHTMETA) -> atset1:57436 */
  "Minus": 0xc, /* html:Minus (Minus) -> linux:12 (KEY_MINUS) -> atset1:12 */
  "NonConvert": 0x7b, /* html:NonConvert (NonConvert) -> linux:94 (KEY_MUHENKAN) -> atset1:123 */
  "NumLock": 0x45, /* html:NumLock (NumLock) -> linux:69 (KEY_NUMLOCK) -> atset1:69 */
  "Numpad0": 0x52, /* html:Numpad0 (Numpad0) -> linux:82 (KEY_KP0) -> atset1:82 */
  "Numpad1": 0x4f, /* html:Numpad1 (Numpad1) -> linux:79 (KEY_KP1) -> atset1:79 */
  "Numpad2": 0x50, /* html:Numpad2 (Numpad2) -> linux:80 (KEY_KP2) -> atset1:80 */
  "Numpad3": 0x51, /* html:Numpad3 (Numpad3) -> linux:81 (KEY_KP3) -> atset1:81 */
  "Numpad4": 0x4b, /* html:Numpad4 (Numpad4) -> linux:75 (KEY_KP4) -> atset1:75 */
  "Numpad5": 0x4c, /* html:Numpad5 (Numpad5) -> linux:76 (KEY_KP5) -> atset1:76 */
  "Numpad6": 0x4d, /* html:Numpad6 (Numpad6) -> linux:77 (KEY_KP6) -> atset1:77 */
  "Numpad7": 0x47, /* html:Numpad7 (Numpad7) -> linux:71 (KEY_KP7) -> atset1:71 */
  "Numpad8": 0x48, /* html:Numpad8 (Numpad8) -> linux:72 (KEY_KP8) -> atset1:72 */
  "Numpad9": 0x49, /* html:Numpad9 (Numpad9) -> linux:73 (KEY_KP9) -> atset1:73 */
  "NumpadAdd": 0x4e, /* html:NumpadAdd (NumpadAdd) -> linux:78 (KEY_KPPLUS) -> atset1:78 */
  "NumpadComma": 0x7e, /* html:NumpadComma (NumpadComma) -> linux:121 (KEY_KPCOMMA) -> atset1:126 */
  "NumpadDecimal": 0x53, /* html:NumpadDecimal (NumpadDecimal) -> linux:83 (KEY_KPDOT) -> atset1:83 */
  "NumpadDivide": 0xe035, /* html:NumpadDivide (NumpadDivide) -> linux:98 (KEY_KPSLASH) -> atset1:57397 */
  "NumpadEnter": 0xe01c, /* html:NumpadEnter (NumpadEnter) -> linux:96 (KEY_KPENTER) -> atset1:57372 */
  "NumpadEqual": 0x59, /* html:NumpadEqual (NumpadEqual) -> linux:117 (KEY_KPEQUAL) -> atset1:89 */
  "NumpadMultiply": 0x37, /* html:NumpadMultiply (NumpadMultiply) -> linux:55 (KEY_KPASTERISK) -> atset1:55 */
  "NumpadParenLeft": 0xe076, /* html:NumpadParenLeft (NumpadParenLeft) -> linux:179 (KEY_KPLEFTPAREN) -> atset1:57462 */
  "NumpadParenRight": 0xe07b, /* html:NumpadParenRight (NumpadParenRight) -> linux:180 (KEY_KPRIGHTPAREN) -> atset1:57467 */
  "NumpadSubtract": 0x4a, /* html:NumpadSubtract (NumpadSubtract) -> linux:74 (KEY_KPMINUS) -> atset1:74 */
  "Open": 0x64, /* html:Open (Open) -> linux:134 (KEY_OPEN) -> atset1:100 */
  "PageDown": 0xe051, /* html:PageDown (PageDown) -> linux:109 (KEY_PAGEDOWN) -> atset1:57425 */
  "PageUp": 0xe049, /* html:PageUp (PageUp) -> linux:104 (KEY_PAGEUP) -> atset1:57417 */
  "Paste": 0x65, /* html:Paste (Paste) -> linux:135 (KEY_PASTE) -> atset1:101 */
  "Pause": 0xe046, /* html:Pause (Pause) -> linux:119 (KEY_PAUSE) -> atset1:57414 */
  "Period": 0x34, /* html:Period (Period) -> linux:52 (KEY_DOT) -> atset1:52 */
  "Power": 0xe05e, /* html:Power (Power) -> linux:116 (KEY_POWER) -> atset1:57438 */
  "PrintScreen": 0x54, /* html:PrintScreen (PrintScreen) -> linux:99 (KEY_SYSRQ) -> atset1:84 */
  "Props": 0xe006, /* html:Props (Props) -> linux:130 (KEY_PROPS) -> atset1:57350 */
  "Quote": 0x28, /* html:Quote (Quote) -> linux:40 (KEY_APOSTROPHE) -> atset1:40 */
  "ScrollLock": 0x46, /* html:ScrollLock (ScrollLock) -> linux:70 (KEY_SCROLLLOCK) -> atset1:70 */
  "Semicolon": 0x27, /* html:Semicolon (Semicolon) -> linux:39 (KEY_SEMICOLON) -> atset1:39 */
  "ShiftLeft": 0x2a, /* html:ShiftLeft (ShiftLeft) -> linux:42 (KEY_LEFTSHIFT) -> atset1:42 */
  "ShiftRight": 0x36, /* html:ShiftRight (ShiftRight) -> linux:54 (KEY_RIGHTSHIFT) -> atset1:54 */
  "Slash": 0x35, /* html:Slash (Slash) -> linux:53 (KEY_SLASH) -> atset1:53 */
  "Sleep": 0xe05f, /* html:Sleep (Sleep) -> linux:142 (KEY_SLEEP) -> atset1:57439 */
  "Space": 0x39, /* html:Space (Space) -> linux:57 (KEY_SPACE) -> atset1:57 */
  "Suspend": 0xe025, /* html:Suspend (Suspend) -> linux:205 (KEY_SUSPEND) -> atset1:57381 */
  "Tab": 0xf, /* html:Tab (Tab) -> linux:15 (KEY_TAB) -> atset1:15 */
  "Undo": 0xe007, /* html:Undo (Undo) -> linux:131 (KEY_UNDO) -> atset1:57351 */
  "WakeUp": 0xe063, /* html:WakeUp (WakeUp) -> linux:143 (KEY_WAKEUP) -> atset1:57443 */
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/rfb.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/rfb.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RFB; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/strings.js */ "./node_modules/@novnc/novnc/core/util/strings.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventtarget.js */ "./node_modules/@novnc/novnc/core/util/eventtarget.js");
/* harmony import */ var _display_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./display.js */ "./node_modules/@novnc/novnc/core/display.js");
/* harmony import */ var _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/keyboard.js */ "./node_modules/@novnc/novnc/core/input/keyboard.js");
/* harmony import */ var _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./input/mouse.js */ "./node_modules/@novnc/novnc/core/input/mouse.js");
/* harmony import */ var _websock_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./websock.js */ "./node_modules/@novnc/novnc/core/websock.js");
/* harmony import */ var _des_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./des.js */ "./node_modules/@novnc/novnc/core/des.js");
/* harmony import */ var _input_keysym_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./input/keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./input/xtscancodes.js */ "./node_modules/@novnc/novnc/core/input/xtscancodes.js");
/* harmony import */ var _inflator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./inflator.js */ "./node_modules/@novnc/novnc/core/inflator.js");
/* harmony import */ var _encodings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./encodings.js */ "./node_modules/@novnc/novnc/core/encodings.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/polyfill.js */ "./node_modules/@novnc/novnc/core/util/polyfill.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2017 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 * TIGHT decoder portion:
 * (c) 2012 Michael Tinglof, Joe Balaz, Les Piech (Mercuri.ca)
 */
















/*jslint white: false, browser: true */
/*global window, Util, Display, Keyboard, Mouse, Websock, Websock_native, Base64, DES, KeyTable, Inflator, XtScancode */

// How many seconds to wait for a disconnect to finish
var DISCONNECT_TIMEOUT = 3;

function RFB(target, url, options) {
    if (!target) {
        throw Error("Must specify target");
    }
    if (!url) {
        throw Error("Must specify URL");
    }

    this._target = target;
    this._url = url;

    // Connection details
    options = options || {};
    this._rfb_credentials = options.credentials || {};
    this._shared = 'shared' in options ? !!options.shared : true;
    this._repeaterID = options.repeaterID || '';

    // Internal state
    this._rfb_connection_state = '';
    this._rfb_init_state = '';
    this._rfb_auth_scheme = '';
    this._rfb_clean_disconnect = true;

    // Server capabilities
    this._rfb_version = 0;
    this._rfb_max_version = 3.8;
    this._rfb_tightvnc = false;
    this._rfb_xvp_ver = 0;

    this._fb_width = 0;
    this._fb_height = 0;

    this._fb_name = "";

    this._capabilities = { power: false };

    this._supportsFence = false;

    this._supportsContinuousUpdates = false;
    this._enabledContinuousUpdates = false;

    this._supportsSetDesktopSize = false;
    this._screen_id = 0;
    this._screen_flags = 0;

    this._qemuExtKeyEventSupported = false;

    // Internal objects
    this._sock = null;              // Websock object
    this._display = null;           // Display object
    this._flushing = false;         // Display flushing state
    this._keyboard = null;          // Keyboard input handler object
    this._mouse = null;             // Mouse input handler object

    // Timers
    this._disconnTimer = null;      // disconnection timer
    this._resizeTimeout = null;     // resize rate limiting

    // Decoder states and stats
    this._encHandlers = {};
    this._encStats = {};

    this._FBU = {
        rects: 0,
        subrects: 0,            // RRE and HEXTILE
        lines: 0,               // RAW
        tiles: 0,               // HEXTILE
        bytes: 0,
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        encoding: 0,
        subencoding: -1,
        background: null,
        zlibs: []               // TIGHT zlib streams
    };
    for (var i = 0; i < 4; i++) {
        this._FBU.zlibs[i] = new _inflator_js__WEBPACK_IMPORTED_MODULE_11__["default"]();
    }

    this._destBuff = null;
    this._paletteBuff = new Uint8Array(1024);  // 256 * 4 (max palette size * max bytes-per-pixel)

    this._rre_chunk_sz = 100;

    this._timing = {
        last_fbu: 0,
        fbu_total: 0,
        fbu_total_cnt: 0,
        full_fbu_total: 0,
        full_fbu_cnt: 0,

        fbu_rt_start: 0,
        fbu_rt_total: 0,
        fbu_rt_cnt: 0,
        pixels: 0
    };

    // Mouse state
    this._mouse_buttonMask = 0;
    this._mouse_arr = [];
    this._viewportDragging = false;
    this._viewportDragPos = {};
    this._viewportHasMoved = false;

    // Bound event handlers
    this._eventHandlers = {
        focusCanvas: this._focusCanvas.bind(this),
        windowResize: this._windowResize.bind(this),
    };

    // main setup
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.constructor");

    // Create DOM elements
    this._screen = document.createElement('div');
    this._screen.style.display = 'flex';
    this._screen.style.width = '100%';
    this._screen.style.height = '100%';
    this._screen.style.overflow = 'auto';
    this._screen.style.backgroundColor = 'rgb(40, 40, 40)';
    this._canvas = document.createElement('canvas');
    this._canvas.style.margin = 'auto';
    // Some browsers add an outline on focus
    this._canvas.style.outline = 'none';
    // IE miscalculates width without this :(
    this._canvas.style.flexShrink = '0';
    this._canvas.width = 0;
    this._canvas.height = 0;
    this._canvas.tabIndex = -1;
    this._screen.appendChild(this._canvas);

    // populate encHandlers with bound versions
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw] = RFB.encodingHandlers.RAW.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect] = RFB.encodingHandlers.COPYRECT.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE] = RFB.encodingHandlers.RRE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile] = RFB.encodingHandlers.HEXTILE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight] = RFB.encodingHandlers.TIGHT.bind(this);

    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize] = RFB.encodingHandlers.DesktopSize.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect] = RFB.encodingHandlers.last_rect.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor] = RFB.encodingHandlers.Cursor.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent] = RFB.encodingHandlers.QEMUExtendedKeyEvent.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize] = RFB.encodingHandlers.ExtendedDesktopSize.bind(this);

    // NB: nothing that needs explicit teardown should be done
    // before this point, since this can throw an exception
    try {
        this._display = new _display_js__WEBPACK_IMPORTED_MODULE_4__["default"](this._canvas);
    } catch (exc) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Display exception: " + exc);
        throw exc;
    }
    this._display.onflush = this._onFlush.bind(this);
    this._display.clear();

    this._keyboard = new _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__["default"](this._canvas);
    this._keyboard.onkeyevent = this._handleKeyEvent.bind(this);

    this._mouse = new _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__["default"](this._canvas);
    this._mouse.onmousebutton = this._handleMouseButton.bind(this);
    this._mouse.onmousemove = this._handleMouseMove.bind(this);

    this._sock = new _websock_js__WEBPACK_IMPORTED_MODULE_7__["default"]();
    this._sock.on('message', this._handle_message.bind(this));
    this._sock.on('open', function () {
        if ((this._rfb_connection_state === 'connecting') &&
            (this._rfb_init_state === '')) {
            this._rfb_init_state = 'ProtocolVersion';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Starting VNC handshake");
        } else {
            this._fail("Unexpected server connection while " +
                       this._rfb_connection_state);
        }
    }.bind(this));
    this._sock.on('close', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("WebSocket on-close event");
        var msg = "";
        if (e.code) {
            msg = "(code: " + e.code;
            if (e.reason) {
                msg += ", reason: " + e.reason;
            }
            msg += ")";
        }
        switch (this._rfb_connection_state) {
            case 'connecting':
                this._fail("Connection closed " + msg);
                break;
            case 'connected':
                // Handle disconnects that were initiated server-side
                this._updateConnectionState('disconnecting');
                this._updateConnectionState('disconnected');
                break;
            case 'disconnecting':
                // Normal disconnection path
                this._updateConnectionState('disconnected');
                break;
            case 'disconnected':
                this._fail("Unexpected server disconnect " +
                           "when already disconnected " + msg);
                break;
            default:
                this._fail("Unexpected server disconnect before connecting " +
                           msg);
                break;
        }
        this._sock.off('close');
    }.bind(this));
    this._sock.on('error', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("WebSocket on-error event");
    });

    // Slight delay of the actual connection so that the caller has
    // time to set up callbacks
    setTimeout(this._updateConnectionState.bind(this, 'connecting'));

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.constructor");
};

RFB.prototype = {
    // ===== PROPERTIES =====

    dragViewport: false,
    focusOnClick: true,

    _viewOnly: false,
    get viewOnly() { return this._viewOnly; },
    set viewOnly(viewOnly) {
        this._viewOnly = viewOnly;

        if (this._rfb_connection_state === "connecting" ||
            this._rfb_connection_state === "connected") {
            if (viewOnly) {
                this._keyboard.ungrab();
                this._mouse.ungrab();
            } else {
                this._keyboard.grab();
                this._mouse.grab();
            }
        }
    },

    get capabilities() { return this._capabilities; },

    get touchButton() { return this._mouse.touchButton; },
    set touchButton(button) { this._mouse.touchButton = button; },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        this._updateClip();
    },

    _scaleViewport: false,
    get scaleViewport() { return this._scaleViewport; },
    set scaleViewport(scale) {
        this._scaleViewport = scale;
        // Scaling trumps clipping, so we may need to adjust
        // clipping when enabling or disabling scaling
        if (scale && this._clipViewport) {
            this._updateClip();
        }
        this._updateScale();
        if (!scale && this._clipViewport) {
            this._updateClip();
        }
    },

    _resizeSession: false,
    get resizeSession() { return this._resizeSession; },
    set resizeSession(resize) {
        this._resizeSession = resize;
        if (resize) {
            this._requestRemoteResize();
        }
    },

    // ===== PUBLIC METHODS =====

    disconnect: function () {
        this._updateConnectionState('disconnecting');
        this._sock.off('error');
        this._sock.off('message');
        this._sock.off('open');
    },

    sendCredentials: function (creds) {
        this._rfb_credentials = creds;
        setTimeout(this._init_msg.bind(this), 0);
    },

    sendCtrlAltDel: function () {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending Ctrl-Alt-Del");

        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", false);
    },

    machineShutdown: function () {
        this._xvpOp(1, 2);
    },

    machineReboot: function () {
        this._xvpOp(1, 3);
    },

    machineReset: function () {
        this._xvpOp(1, 4);
    },

    // Send a key press. If 'down' is not specified then send a down key
    // followed by an up key.
    sendKey: function (keysym, code, down) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }

        if (down === undefined) {
            this.sendKey(keysym, code, true);
            this.sendKey(keysym, code, false);
            return;
        }

        var scancode = _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__["default"][code];

        if (this._qemuExtKeyEventSupported && scancode) {
            // 0 is NoSymbol
            keysym = keysym || 0;

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending key (" + (down ? "down" : "up") + "): keysym " + keysym + ", scancode " + scancode);

            RFB.messages.QEMUExtendedKeyEvent(this._sock, keysym, down, scancode);
        } else {
            if (!keysym) {
                return;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending keysym (" + (down ? "down" : "up") + "): " + keysym);
            RFB.messages.keyEvent(this._sock, keysym, down ? 1 : 0);
        }
    },

    focus: function () {
        this._canvas.focus();
    },

    blur: function () {
        this._canvas.blur();
    },

    clipboardPasteFrom: function (text) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        RFB.messages.clientCutText(this._sock, text);
    },

    // ===== PRIVATE METHODS =====

    _connect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.connect");

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("connecting to " + this._url);

        try {
            // WebSocket.onopen transitions to the RFB init states
            this._sock.open(this._url, ['binary']);
        } catch (e) {
            if (e.name === 'SyntaxError') {
                this._fail("Invalid host or port (" + e + ")");
            } else {
                this._fail("Error when opening socket (" + e + ")");
            }
        }

        // Make our elements part of the page
        this._target.appendChild(this._screen);

        // Monitor size changes of the screen
        // FIXME: Use ResizeObserver, or hidden overflow
        window.addEventListener('resize', this._eventHandlers.windowResize);

        // Always grab focus on some kind of click event
        this._canvas.addEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.addEventListener("touchstart", this._eventHandlers.focusCanvas);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.connect");
    },

    _disconnect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.disconnect");
        this._canvas.removeEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.removeEventListener("touchstart", this._eventHandlers.focusCanvas);
        window.removeEventListener('resize', this._eventHandlers.windowResize);
        this._keyboard.ungrab();
        this._mouse.ungrab();
        this._sock.close();
        this._print_stats();
        try {
            this._target.removeChild(this._screen);
        } catch (e) {
            if (e.name === 'NotFoundError') {
                // Some cases where the initial connection fails
                // can disconnect before the _screen is created
            } else {
                throw e;
            }
        }
        clearTimeout(this._resizeTimeout);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.disconnect");
    },

    _print_stats: function () {
        var stats = this._encStats;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats for this connection:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            if (s[0] + s[1] > 0) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[0] + " rects");
            }
        });

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats since page load:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[1] + " rects");
        });
    },

    _focusCanvas: function(event) {
        // Respect earlier handlers' request to not do side-effects
        if (event.defaultPrevented) {
            return;
        }

        if (!this.focusOnClick) {
            return;
        }

        this.focus();
    },

    _windowResize: function (event) {
        // If the window resized then our screen element might have
        // as well. Update the viewport dimensions.
        window.requestAnimationFrame(function () {
            this._updateClip();
            this._updateScale();
        }.bind(this));

        if (this._resizeSession) {
            // Request changing the resolution of the remote display to
            // the size of the local browser viewport.

            // In order to not send multiple requests before the browser-resize
            // is finished we wait 0.5 seconds before sending the request.
            clearTimeout(this._resizeTimeout);
            this._resizeTimeout = setTimeout(this._requestRemoteResize.bind(this), 500);
        }
    },

    // Update state of clipping in Display object, and make sure the
    // configured viewport matches the current screen size
    _updateClip: function () {
        var cur_clip = this._display.clipViewport;
        var new_clip = this._clipViewport;

        if (this._scaleViewport) {
            // Disable viewport clipping if we are scaling
            new_clip = false;
        }

        if (cur_clip !== new_clip) {
            this._display.clipViewport = new_clip;
        }

        if (new_clip) {
            // When clipping is enabled, the screen is limited to
            // the size of the container.
            let size = this._screenSize();
            this._display.viewportChangeSize(size.w, size.h);
            this._fixScrollbars();
        }
    },

    _updateScale: function () {
        if (!this._scaleViewport) {
            this._display.scale = 1.0;
        } else {
            let size = this._screenSize();
            this._display.autoscale(size.w, size.h);
        }
        this._fixScrollbars();
    },

    // Requests a change of remote desktop size. This message is an extension
    // and may only be sent if we have received an ExtendedDesktopSize message
    _requestRemoteResize: function () {
        clearTimeout(this._resizeTimeout);
        this._resizeTimeout = null;

        if (!this._resizeSession || this._viewOnly ||
            !this._supportsSetDesktopSize) {
            return;
        }

        let size = this._screenSize();
        RFB.messages.setDesktopSize(this._sock, size.w, size.h,
                                    this._screen_id, this._screen_flags);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Requested new desktop size: ' +
                   size.w + 'x' + size.h);
    },

    // Gets the the size of the available screen
    _screenSize: function () {
        return { w: this._screen.offsetWidth,
                 h: this._screen.offsetHeight };
    },

    _fixScrollbars: function () {
        // This is a hack because Chrome screws up the calculation
        // for when scrollbars are needed. So to fix it we temporarily
        // toggle them off and on.
        var orig = this._screen.style.overflow;
        this._screen.style.overflow = 'hidden';
        // Force Chrome to recalculate the layout by asking for
        // an element's dimensions
        this._screen.getBoundingClientRect();
        this._screen.style.overflow = orig;
    },

    /*
     * Connection states:
     *   connecting
     *   connected
     *   disconnecting
     *   disconnected - permanent state
     */
    _updateConnectionState: function (state) {
        var oldstate = this._rfb_connection_state;

        if (state === oldstate) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Already in state '" + state + "', ignoring");
            return;
        }

        // The 'disconnected' state is permanent for each RFB object
        if (oldstate === 'disconnected') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Tried changing state of a disconnected RFB object");
            return;
        }

        // Ensure proper transitions before doing anything
        switch (state) {
            case 'connected':
                if (oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnected':
                if (oldstate !== 'disconnecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'connecting':
                if (oldstate !== '') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnecting':
                if (oldstate !== 'connected' && oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Unknown connection state: " + state);
                return;
        }

        // State change actions

        this._rfb_connection_state = state;

        var smsg = "New state '" + state + "', was '" + oldstate + "'.";
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](smsg);

        if (this._disconnTimer && state !== 'disconnecting') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Clearing disconnect timer");
            clearTimeout(this._disconnTimer);
            this._disconnTimer = null;

            // make sure we don't get a double event
            this._sock.off('close');
        }

        switch (state) {
            case 'connecting':
                this._connect();
                break;

            case 'connected':
                var event = new CustomEvent("connect", { detail: {} });
                this.dispatchEvent(event);
                break;

            case 'disconnecting':
                this._disconnect();

                this._disconnTimer = setTimeout(function () {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Disconnection timed out.");
                    this._updateConnectionState('disconnected');
                }.bind(this), DISCONNECT_TIMEOUT * 1000);
                break;

            case 'disconnected':
                event = new CustomEvent(
                    "disconnect", { detail:
                                    { clean: this._rfb_clean_disconnect } });
                this.dispatchEvent(event);
                break;
        }
    },

    /* Print errors and disconnect
     *
     * The parameter 'details' is used for information that
     * should be logged but not sent to the user interface.
     */
    _fail: function (details) {
        switch (this._rfb_connection_state) {
            case 'disconnecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when disconnecting: " + details);
                break;
            case 'connected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed while connected: " + details);
                break;
            case 'connecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when connecting: " + details);
                break;
            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("RFB failure: " + details);
                break;
        }
        this._rfb_clean_disconnect = false; //This is sent to the UI

        // Transition to disconnected without waiting for socket to close
        this._updateConnectionState('disconnecting');
        this._updateConnectionState('disconnected');

        return false;
    },

    _setCapability: function (cap, val) {
        this._capabilities[cap] = val;
        var event = new CustomEvent("capabilities",
                                    { detail: { capabilities: this._capabilities } });
        this.dispatchEvent(event);
    },

    _handle_message: function () {
        if (this._sock.rQlen() === 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("handle_message called on an empty receive queue");
            return;
        }

        switch (this._rfb_connection_state) {
            case 'disconnected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Got data while disconnected");
                break;
            case 'connected':
                while (true) {
                    if (this._flushing) {
                        break;
                    }
                    if (!this._normal_msg()) {
                        break;
                    }
                    if (this._sock.rQlen() === 0) {
                        break;
                    }
                }
                break;
            default:
                this._init_msg();
                break;
        }
    },

    _handleKeyEvent: function (keysym, code, down) {
        this.sendKey(keysym, code, down);
    },

    _handleMouseButton: function (x, y, down, bmask) {
        if (down) {
            this._mouse_buttonMask |= bmask;
        } else {
            this._mouse_buttonMask &= ~bmask;
        }

        if (this.dragViewport) {
            if (down && !this._viewportDragging) {
                this._viewportDragging = true;
                this._viewportDragPos = {'x': x, 'y': y};
                this._viewportHasMoved = false;

                // Skip sending mouse events
                return;
            } else {
                this._viewportDragging = false;

                // If we actually performed a drag then we are done
                // here and should not send any mouse events
                if (this._viewportHasMoved) {
                    return;
                }

                // Otherwise we treat this as a mouse click event.
                // Send the button down event here, as the button up
                // event is sent at the end of this function.
                RFB.messages.pointerEvent(this._sock,
                                          this._display.absX(x),
                                          this._display.absY(y),
                                          bmask);
            }
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    _handleMouseMove: function (x, y) {
        if (this._viewportDragging) {
            var deltaX = this._viewportDragPos.x - x;
            var deltaY = this._viewportDragPos.y - y;

            // The goal is to trigger on a certain physical width, the
            // devicePixelRatio brings us a bit closer but is not optimal.
            var dragThreshold = 10 * (window.devicePixelRatio || 1);

            if (this._viewportHasMoved || (Math.abs(deltaX) > dragThreshold ||
                                           Math.abs(deltaY) > dragThreshold)) {
                this._viewportHasMoved = true;

                this._viewportDragPos = {'x': x, 'y': y};
                this._display.viewportChangePos(deltaX, deltaY);
            }

            // Skip sending mouse events
            return;
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    // Message Handlers

    _negotiate_protocol_version: function () {
        if (this._sock.rQlen() < 12) {
            return this._fail("Received incomplete protocol version.");
        }

        var sversion = this._sock.rQshiftStr(12).substr(4, 7);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server ProtocolVersion: " + sversion);
        var is_repeater = 0;
        switch (sversion) {
            case "000.000":  // UltraVNC repeater
                is_repeater = 1;
                break;
            case "003.003":
            case "003.006":  // UltraVNC
            case "003.889":  // Apple Remote Desktop
                this._rfb_version = 3.3;
                break;
            case "003.007":
                this._rfb_version = 3.7;
                break;
            case "003.008":
            case "004.000":  // Intel AMT KVM
            case "004.001":  // RealVNC 4.6
            case "005.000":  // RealVNC 5.3
                this._rfb_version = 3.8;
                break;
            default:
                return this._fail("Invalid server version " + sversion);
        }

        if (is_repeater) {
            var repeaterID = "ID:" + this._repeaterID;
            while (repeaterID.length < 250) {
                repeaterID += "\0";
            }
            this._sock.send_string(repeaterID);
            return true;
        }

        if (this._rfb_version > this._rfb_max_version) {
            this._rfb_version = this._rfb_max_version;
        }

        var cversion = "00" + parseInt(this._rfb_version, 10) +
                       ".00" + ((this._rfb_version * 10) % 10);
        this._sock.send_string("RFB " + cversion + "\n");
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Sent ProtocolVersion: ' + cversion);

        this._rfb_init_state = 'Security';
    },

    _negotiate_security: function () {
        // Polyfill since IE and PhantomJS doesn't have
        // TypedArray.includes()
        function includes(item, array) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] === item) {
                    return true;
                }
            }
            return false;
        }

        if (this._rfb_version >= 3.7) {
            // Server sends supported list, client decides
            var num_types = this._sock.rQshift8();
            if (this._sock.rQwait("security type", num_types, 1)) { return false; }

            if (num_types === 0) {
                return this._handle_security_failure("no security types");
            }

            var types = this._sock.rQshiftBytes(num_types);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server security types: " + types);

            // Look for each auth in preferred order
            this._rfb_auth_scheme = 0;
            if (includes(1, types)) {
                this._rfb_auth_scheme = 1; // None
            } else if (includes(22, types)) {
                this._rfb_auth_scheme = 22; // XVP
            } else if (includes(16, types)) {
                this._rfb_auth_scheme = 16; // Tight
            } else if (includes(2, types)) {
                this._rfb_auth_scheme = 2; // VNC Auth
            } else {
                return this._fail("Unsupported security types (types: " + types + ")");
            }

            this._sock.send([this._rfb_auth_scheme]);
        } else {
            // Server decides
            if (this._sock.rQwait("security scheme", 4)) { return false; }
            this._rfb_auth_scheme = this._sock.rQshift32();
        }

        this._rfb_init_state = 'Authentication';
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authenticating using scheme: ' + this._rfb_auth_scheme);

        return this._init_msg(); // jump to authentication
    },

    /*
     * Get the security failure reason if sent from the server and
     * send the 'securityfailure' event.
     *
     * - The optional parameter context can be used to add some extra
     *   context to the log output.
     *
     * - The optional parameter security_result_status can be used to
     *   add a custom status code to the event.
     */
    _handle_security_failure: function (context, security_result_status) {

        if (typeof context === 'undefined') {
            context = "";
        } else {
            context = " on " + context;
        }

        if (typeof security_result_status === 'undefined') {
            security_result_status = 1; // fail
        }

        if (this._sock.rQwait("reason length", 4)) {
            return false;
        }
        let strlen = this._sock.rQshift32();
        let reason = "";

        if (strlen > 0) {
            if (this._sock.rQwait("reason", strlen, 8)) { return false; }
            reason = this._sock.rQshiftStr(strlen);
        }

        if (reason !== "") {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status, reason: reason } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context +
                              " (reason: " + reason + ")");
        } else {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context);
        }
    },

    // authentication
    _negotiate_xvp_auth: function () {
        if (!this._rfb_credentials.username ||
            !this._rfb_credentials.password ||
            !this._rfb_credentials.target) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["username", "password", "target"] } });
            this.dispatchEvent(event);
            return false;
        }

        var xvp_auth_str = String.fromCharCode(this._rfb_credentials.username.length) +
                           String.fromCharCode(this._rfb_credentials.target.length) +
                           this._rfb_credentials.username +
                           this._rfb_credentials.target;
        this._sock.send_string(xvp_auth_str);
        this._rfb_auth_scheme = 2;
        return this._negotiate_authentication();
    },

    _negotiate_std_vnc_auth: function () {
        if (this._sock.rQwait("auth challenge", 16)) { return false; }

        if (!this._rfb_credentials.password) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["password"] } });
            this.dispatchEvent(event);
            return false;
        }

        // TODO(directxman12): make genDES not require an Array
        var challenge = Array.prototype.slice.call(this._sock.rQshiftBytes(16));
        var response = RFB.genDES(this._rfb_credentials.password, challenge);
        this._sock.send(response);
        this._rfb_init_state = "SecurityResult";
        return true;
    },

    _negotiate_tight_tunnels: function (numTunnels) {
        var clientSupportedTunnelTypes = {
            0: { vendor: 'TGHT', signature: 'NOTUNNEL' }
        };
        var serverSupportedTunnelTypes = {};
        // receive tunnel capabilities
        for (var i = 0; i < numTunnels; i++) {
            var cap_code = this._sock.rQshift32();
            var cap_vendor = this._sock.rQshiftStr(4);
            var cap_signature = this._sock.rQshiftStr(8);
            serverSupportedTunnelTypes[cap_code] = { vendor: cap_vendor, signature: cap_signature };
        }

        // choose the notunnel type
        if (serverSupportedTunnelTypes[0]) {
            if (serverSupportedTunnelTypes[0].vendor != clientSupportedTunnelTypes[0].vendor ||
                serverSupportedTunnelTypes[0].signature != clientSupportedTunnelTypes[0].signature) {
                return this._fail("Client's tunnel type had the incorrect " +
                                  "vendor or signature");
            }
            this._sock.send([0, 0, 0, 0]);  // use NOTUNNEL
            return false; // wait until we receive the sub auth count to continue
        } else {
            return this._fail("Server wanted tunnels, but doesn't support " +
                              "the notunnel type");
        }
    },

    _negotiate_tight_auth: function () {
        if (!this._rfb_tightvnc) {  // first pass, do the tunnel negotiation
            if (this._sock.rQwait("num tunnels", 4)) { return false; }
            var numTunnels = this._sock.rQshift32();
            if (numTunnels > 0 && this._sock.rQwait("tunnel capabilities", 16 * numTunnels, 4)) { return false; }

            this._rfb_tightvnc = true;

            if (numTunnels > 0) {
                this._negotiate_tight_tunnels(numTunnels);
                return false;  // wait until we receive the sub auth to continue
            }
        }

        // second pass, do the sub-auth negotiation
        if (this._sock.rQwait("sub auth count", 4)) { return false; }
        var subAuthCount = this._sock.rQshift32();
        if (subAuthCount === 0) {  // empty sub-auth list received means 'no auth' subtype selected
            this._rfb_init_state = 'SecurityResult';
            return true;
        }

        if (this._sock.rQwait("sub auth capabilities", 16 * subAuthCount, 4)) { return false; }

        var clientSupportedTypes = {
            'STDVNOAUTH__': 1,
            'STDVVNCAUTH_': 2
        };

        var serverSupportedTypes = [];

        for (var i = 0; i < subAuthCount; i++) {
            var capNum = this._sock.rQshift32();
            var capabilities = this._sock.rQshiftStr(12);
            serverSupportedTypes.push(capabilities);
        }

        for (var authType in clientSupportedTypes) {
            if (serverSupportedTypes.indexOf(authType) != -1) {
                this._sock.send([0, 0, 0, clientSupportedTypes[authType]]);

                switch (authType) {
                    case 'STDVNOAUTH__':  // no auth
                        this._rfb_init_state = 'SecurityResult';
                        return true;
                    case 'STDVVNCAUTH_': // VNC auth
                        this._rfb_auth_scheme = 2;
                        return this._init_msg();
                    default:
                        return this._fail("Unsupported tiny auth scheme " +
                                          "(scheme: " + authType + ")");
                }
            }
        }

        return this._fail("No supported sub-auth types!");
    },

    _negotiate_authentication: function () {
        switch (this._rfb_auth_scheme) {
            case 0:  // connection failed
                return this._handle_security_failure("authentication scheme");

            case 1:  // no auth
                if (this._rfb_version >= 3.8) {
                    this._rfb_init_state = 'SecurityResult';
                    return true;
                }
                this._rfb_init_state = 'ClientInitialisation';
                return this._init_msg();

            case 22:  // XVP auth
                return this._negotiate_xvp_auth();

            case 2:  // VNC authentication
                return this._negotiate_std_vnc_auth();

            case 16:  // TightVNC Security Type
                return this._negotiate_tight_auth();

            default:
                return this._fail("Unsupported auth scheme (scheme: " +
                                  this._rfb_auth_scheme + ")");
        }
    },

    _handle_security_result: function () {
        if (this._sock.rQwait('VNC auth response ', 4)) { return false; }

        let status = this._sock.rQshift32();

        if (status === 0) { // OK
            this._rfb_init_state = 'ClientInitialisation';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authentication OK');
            return this._init_msg();
        } else {
            if (this._rfb_version >= 3.8) {
                return this._handle_security_failure("security result", status);
            } else {
                let event = new CustomEvent("securityfailure",
                                            { detail: { status: status } });
                this.dispatchEvent(event);

                return this._fail("Security handshake failed");
            }
        }
    },

    _negotiate_server_init: function () {
        if (this._sock.rQwait("server initialization", 24)) { return false; }

        /* Screen size */
        var width = this._sock.rQshift16();
        var height = this._sock.rQshift16();

        /* PIXEL_FORMAT */
        var bpp         = this._sock.rQshift8();
        var depth       = this._sock.rQshift8();
        var big_endian  = this._sock.rQshift8();
        var true_color  = this._sock.rQshift8();

        var red_max     = this._sock.rQshift16();
        var green_max   = this._sock.rQshift16();
        var blue_max    = this._sock.rQshift16();
        var red_shift   = this._sock.rQshift8();
        var green_shift = this._sock.rQshift8();
        var blue_shift  = this._sock.rQshift8();
        this._sock.rQskipBytes(3);  // padding

        // NB(directxman12): we don't want to call any callbacks or print messages until
        //                   *after* we're past the point where we could backtrack

        /* Connection name/title */
        var name_length = this._sock.rQshift32();
        if (this._sock.rQwait('server init name', name_length, 24)) { return false; }
        this._fb_name = Object(_util_strings_js__WEBPACK_IMPORTED_MODULE_1__["decodeUTF8"])(this._sock.rQshiftStr(name_length));

        if (this._rfb_tightvnc) {
            if (this._sock.rQwait('TightVNC extended server init header', 8, 24 + name_length)) { return false; }
            // In TightVNC mode, ServerInit message is extended
            var numServerMessages = this._sock.rQshift16();
            var numClientMessages = this._sock.rQshift16();
            var numEncodings = this._sock.rQshift16();
            this._sock.rQskipBytes(2);  // padding

            var totalMessagesLength = (numServerMessages + numClientMessages + numEncodings) * 16;
            if (this._sock.rQwait('TightVNC extended server init header', totalMessagesLength, 32 + name_length)) { return false; }

            // we don't actually do anything with the capability information that TIGHT sends,
            // so we just skip the all of this.

            // TIGHT server message capabilities
            this._sock.rQskipBytes(16 * numServerMessages);

            // TIGHT client message capabilities
            this._sock.rQskipBytes(16 * numClientMessages);

            // TIGHT encoding capabilities
            this._sock.rQskipBytes(16 * numEncodings);
        }

        // NB(directxman12): these are down here so that we don't run them multiple times
        //                   if we backtrack
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Screen: " + width + "x" + height +
                  ", bpp: " + bpp + ", depth: " + depth +
                  ", big_endian: " + big_endian +
                  ", true_color: " + true_color +
                  ", red_max: " + red_max +
                  ", green_max: " + green_max +
                  ", blue_max: " + blue_max +
                  ", red_shift: " + red_shift +
                  ", green_shift: " + green_shift +
                  ", blue_shift: " + blue_shift);

        if (big_endian !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native endian is not little endian");
        }

        if (red_shift !== 16) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native red-shift is not 16");
        }

        if (blue_shift !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native blue-shift is not 0");
        }

        // we're past the point where we could backtrack, so it's safe to call this
        var event = new CustomEvent("desktopname",
                                    { detail: { name: this._fb_name } });
        this.dispatchEvent(event);

        this._resize(width, height);

        if (!this._viewOnly) { this._keyboard.grab(); }
        if (!this._viewOnly) { this._mouse.grab(); }

        this._fb_depth = 24;

        if (this._fb_name === "Intel(r) AMT KVM") {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Intel AMT KVM only supports 8/16 bit depths. Using low color mode.");
            this._fb_depth = 8;
        }

        RFB.messages.pixelFormat(this._sock, this._fb_depth, true);
        this._sendEncodings();
        RFB.messages.fbUpdateRequest(this._sock, false, 0, 0, this._fb_width, this._fb_height);

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._timing.pixels = 0;

        // Cursor will be server side until the server decides to honor
        // our request and send over the cursor image
        this._display.disableLocalCursor();

        this._updateConnectionState('connected');
        return true;
    },

    _sendEncodings: function () {
        var encs = [];

        // In preference order
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect);
        // Only supported with full depth support
        if (this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE);
        }
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw);

        // Psuedo-encoding settings
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingTightPNG);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQualityLevel0 + 6);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCompressLevel0 + 2);

        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingXvp);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingFence);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingContinuousUpdates);

        if (Object(_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["supportsCursorURIs"])() &&
            !_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["isTouchDevice"] && this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor);
        }

        RFB.messages.clientEncodings(this._sock, encs);
    },

    /* RFB protocol initialization states:
     *   ProtocolVersion
     *   Security
     *   Authentication
     *   SecurityResult
     *   ClientInitialization - not triggered by server message
     *   ServerInitialization
     */
    _init_msg: function () {
        switch (this._rfb_init_state) {
            case 'ProtocolVersion':
                return this._negotiate_protocol_version();

            case 'Security':
                return this._negotiate_security();

            case 'Authentication':
                return this._negotiate_authentication();

            case 'SecurityResult':
                return this._handle_security_result();

            case 'ClientInitialisation':
                this._sock.send([this._shared ? 1 : 0]); // ClientInitialisation
                this._rfb_init_state = 'ServerInitialisation';
                return true;

            case 'ServerInitialisation':
                return this._negotiate_server_init();

            default:
                return this._fail("Unknown init state (state: " +
                                  this._rfb_init_state + ")");
        }
    },

    _handle_set_colour_map_msg: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("SetColorMapEntries");

        return this._fail("Unexpected SetColorMapEntries message");
    },

    _handle_server_cut_text: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("ServerCutText");

        if (this._sock.rQwait("ServerCutText header", 7, 1)) { return false; }
        this._sock.rQskipBytes(3);  // Padding
        var length = this._sock.rQshift32();
        if (this._sock.rQwait("ServerCutText", length, 8)) { return false; }

        var text = this._sock.rQshiftStr(length);

        if (this._viewOnly) { return true; }

        var event = new CustomEvent("clipboard",
                                    { detail: { text: text } });
        this.dispatchEvent(event);

        return true;
    },

    _handle_server_fence_msg: function() {
        if (this._sock.rQwait("ServerFence header", 8, 1)) { return false; }
        this._sock.rQskipBytes(3); // Padding
        var flags = this._sock.rQshift32();
        var length = this._sock.rQshift8();

        if (this._sock.rQwait("ServerFence payload", length, 9)) { return false; }

        if (length > 64) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Bad payload length (" + length + ") in fence response");
            length = 64;
        }

        var payload = this._sock.rQshiftStr(length);

        this._supportsFence = true;

        /*
         * Fence flags
         *
         *  (1<<0)  - BlockBefore
         *  (1<<1)  - BlockAfter
         *  (1<<2)  - SyncNext
         *  (1<<31) - Request
         */

        if (!(flags & (1<<31))) {
            return this._fail("Unexpected fence response");
        }

        // Filter out unsupported flags
        // FIXME: support syncNext
        flags &= (1<<0) | (1<<1);

        // BlockBefore and BlockAfter are automatically handled by
        // the fact that we process each incoming message
        // synchronuosly.
        RFB.messages.clientFence(this._sock, flags, payload);

        return true;
    },

    _handle_xvp_msg: function () {
        if (this._sock.rQwait("XVP version and message", 3, 1)) { return false; }
        this._sock.rQskip8();  // Padding
        var xvp_ver = this._sock.rQshift8();
        var xvp_msg = this._sock.rQshift8();

        switch (xvp_msg) {
            case 0:  // XVP_FAIL
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("XVP Operation Failed");
                break;
            case 1:  // XVP_INIT
                this._rfb_xvp_ver = xvp_ver;
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("XVP extensions enabled (version " + this._rfb_xvp_ver + ")");
                this._setCapability("power", true);
                break;
            default:
                this._fail("Illegal server XVP message (msg: " + xvp_msg + ")");
                break;
        }

        return true;
    },

    _normal_msg: function () {
        var msg_type;

        if (this._FBU.rects > 0) {
            msg_type = 0;
        } else {
            msg_type = this._sock.rQshift8();
        }

        switch (msg_type) {
            case 0:  // FramebufferUpdate
                var ret = this._framebufferUpdate();
                if (ret && !this._enabledContinuousUpdates) {
                    RFB.messages.fbUpdateRequest(this._sock, true, 0, 0,
                                                 this._fb_width, this._fb_height);
                }
                return ret;

            case 1:  // SetColorMapEntries
                return this._handle_set_colour_map_msg();

            case 2:  // Bell
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Bell");
                var event = new CustomEvent("bell", { detail: {} });
                this.dispatchEvent(event);
                return true;

            case 3:  // ServerCutText
                return this._handle_server_cut_text();

            case 150: // EndOfContinuousUpdates
                var first = !(this._supportsContinuousUpdates);
                this._supportsContinuousUpdates = true;
                this._enabledContinuousUpdates = false;
                if (first) {
                    this._enabledContinuousUpdates = true;
                    this._updateContinuousUpdates();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Enabling continuous updates.");
                } else {
                    // FIXME: We need to send a framebufferupdaterequest here
                    // if we add support for turning off continuous updates
                }
                return true;

            case 248: // ServerFence
                return this._handle_server_fence_msg();

            case 250:  // XVP
                return this._handle_xvp_msg();

            default:
                this._fail("Unexpected server message (type " + msg_type + ")");
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("sock.rQslice(0, 30): " + this._sock.rQslice(0, 30));
                return true;
        }
    },

    _onFlush: function() {
        this._flushing = false;
        // Resume processing
        if (this._sock.rQlen() > 0) {
            this._handle_message();
        }
    },

    _framebufferUpdate: function () {
        var ret = true;
        var now;

        if (this._FBU.rects === 0) {
            if (this._sock.rQwait("FBU header", 3, 1)) { return false; }
            this._sock.rQskip8();  // Padding
            this._FBU.rects = this._sock.rQshift16();
            this._FBU.bytes = 0;
            this._timing.cur_fbu = 0;
            if (this._timing.fbu_rt_start > 0) {
                now = (new Date()).getTime();
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("First FBU latency: " + (now - this._timing.fbu_rt_start));
            }

            // Make sure the previous frame is fully rendered first
            // to avoid building up an excessive queue
            if (this._display.pending()) {
                this._flushing = true;
                this._display.flush();
                return false;
            }
        }

        while (this._FBU.rects > 0) {
            if (this._rfb_connection_state !== 'connected') { return false; }

            if (this._sock.rQwait("FBU", this._FBU.bytes)) { return false; }
            if (this._FBU.bytes === 0) {
                if (this._sock.rQwait("rect header", 12)) { return false; }
                /* New FramebufferUpdate */

                var hdr = this._sock.rQshiftBytes(12);
                this._FBU.x        = (hdr[0] << 8) + hdr[1];
                this._FBU.y        = (hdr[2] << 8) + hdr[3];
                this._FBU.width    = (hdr[4] << 8) + hdr[5];
                this._FBU.height   = (hdr[6] << 8) + hdr[7];
                this._FBU.encoding = parseInt((hdr[8] << 24) + (hdr[9] << 16) +
                                              (hdr[10] << 8) + hdr[11], 10);

                if (!this._encHandlers[this._FBU.encoding]) {
                    this._fail("Unsupported encoding (encoding: " +
                               this._FBU.encoding + ")");
                    return false;
                }
            }

            this._timing.last_fbu = (new Date()).getTime();

            ret = this._encHandlers[this._FBU.encoding]();

            now = (new Date()).getTime();
            this._timing.cur_fbu += (now - this._timing.last_fbu);

            if (ret) {
                if (!(this._FBU.encoding in this._encStats)) {
                    this._encStats[this._FBU.encoding] = [0, 0];
                }
                this._encStats[this._FBU.encoding][0]++;
                this._encStats[this._FBU.encoding][1]++;
                this._timing.pixels += this._FBU.width * this._FBU.height;
            }

            if (this._timing.pixels >= (this._fb_width * this._fb_height)) {
                if ((this._FBU.width === this._fb_width && this._FBU.height === this._fb_height) ||
                    this._timing.fbu_rt_start > 0) {
                    this._timing.full_fbu_total += this._timing.cur_fbu;
                    this._timing.full_fbu_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Timing of full FBU, curr: " +
                              this._timing.cur_fbu + ", total: " +
                              this._timing.full_fbu_total + ", cnt: " +
                              this._timing.full_fbu_cnt + ", avg: " +
                              (this._timing.full_fbu_total / this._timing.full_fbu_cnt));
                }

                if (this._timing.fbu_rt_start > 0) {
                    var fbu_rt_diff = now - this._timing.fbu_rt_start;
                    this._timing.fbu_rt_total += fbu_rt_diff;
                    this._timing.fbu_rt_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("full FBU round-trip, cur: " +
                              fbu_rt_diff + ", total: " +
                              this._timing.fbu_rt_total + ", cnt: " +
                              this._timing.fbu_rt_cnt + ", avg: " +
                              (this._timing.fbu_rt_total / this._timing.fbu_rt_cnt));
                    this._timing.fbu_rt_start = 0;
                }
            }

            if (!ret) { return ret; }  // need more data
        }

        this._display.flip();

        return true;  // We finished this FBU
    },

    _updateContinuousUpdates: function() {
        if (!this._enabledContinuousUpdates) { return; }

        RFB.messages.enableContinuousUpdates(this._sock, true, 0, 0,
                                             this._fb_width, this._fb_height);
    },

    _resize: function(width, height) {
        this._fb_width = width;
        this._fb_height = height;

        this._destBuff = new Uint8Array(this._fb_width * this._fb_height * 4);

        this._display.resize(this._fb_width, this._fb_height);

        // Adjust the visible viewport based on the new dimensions
        this._updateClip();
        this._updateScale();

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._updateContinuousUpdates();
    },

    _xvpOp: function (ver, op) {
        if (this._rfb_xvp_ver < ver) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending XVP operation " + op + " (version " + ver + ")");
        RFB.messages.xvpOp(this._sock, ver, op);
    },
};

Object.assign(RFB.prototype, _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__["default"]);

// Class Methods
RFB.messages = {
    keyEvent: function (sock, keysym, down) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 4;  // msg-type
        buff[offset + 1] = down;

        buff[offset + 2] = 0;
        buff[offset + 3] = 0;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        sock._sQlen += 8;
        sock.flush();
    },

    QEMUExtendedKeyEvent: function (sock, keysym, down, keycode) {
        function getRFBkeycode(xt_scancode) {
            var upperByte = (keycode >> 8);
            var lowerByte = (keycode & 0x00ff);
            if (upperByte === 0xe0 && lowerByte < 0x7f) {
                lowerByte = lowerByte | 0x80;
                return lowerByte;
            }
            return xt_scancode;
        }

        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 255; // msg-type
        buff[offset + 1] = 0; // sub msg-type

        buff[offset + 2] = (down >> 8);
        buff[offset + 3] = down;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        var RFBkeycode = getRFBkeycode(keycode);

        buff[offset + 8] = (RFBkeycode >> 24);
        buff[offset + 9] = (RFBkeycode >> 16);
        buff[offset + 10] = (RFBkeycode >> 8);
        buff[offset + 11] = RFBkeycode;

        sock._sQlen += 12;
        sock.flush();
    },

    pointerEvent: function (sock, x, y, mask) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 5; // msg-type

        buff[offset + 1] = mask;

        buff[offset + 2] = x >> 8;
        buff[offset + 3] = x;

        buff[offset + 4] = y >> 8;
        buff[offset + 5] = y;

        sock._sQlen += 6;
        sock.flush();
    },

    // TODO(directxman12): make this unicode compatible?
    clientCutText: function (sock, text) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 6; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        var n = text.length;

        buff[offset + 4] = n >> 24;
        buff[offset + 5] = n >> 16;
        buff[offset + 6] = n >> 8;
        buff[offset + 7] = n;

        for (var i = 0; i < n; i++) {
            buff[offset + 8 + i] =  text.charCodeAt(i);
        }

        sock._sQlen += 8 + n;
        sock.flush();
    },

    setDesktopSize: function (sock, width, height, id, flags) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 251;              // msg-type
        buff[offset + 1] = 0;            // padding
        buff[offset + 2] = width >> 8;   // width
        buff[offset + 3] = width;
        buff[offset + 4] = height >> 8;  // height
        buff[offset + 5] = height;

        buff[offset + 6] = 1;            // number-of-screens
        buff[offset + 7] = 0;            // padding

        // screen array
        buff[offset + 8] = id >> 24;     // id
        buff[offset + 9] = id >> 16;
        buff[offset + 10] = id >> 8;
        buff[offset + 11] = id;
        buff[offset + 12] = 0;           // x-position
        buff[offset + 13] = 0;
        buff[offset + 14] = 0;           // y-position
        buff[offset + 15] = 0;
        buff[offset + 16] = width >> 8;  // width
        buff[offset + 17] = width;
        buff[offset + 18] = height >> 8; // height
        buff[offset + 19] = height;
        buff[offset + 20] = flags >> 24; // flags
        buff[offset + 21] = flags >> 16;
        buff[offset + 22] = flags >> 8;
        buff[offset + 23] = flags;

        sock._sQlen += 24;
        sock.flush();
    },

    clientFence: function (sock, flags, payload) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 248; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = flags >> 24; // flags
        buff[offset + 5] = flags >> 16;
        buff[offset + 6] = flags >> 8;
        buff[offset + 7] = flags;

        var n = payload.length;

        buff[offset + 8] = n; // length

        for (var i = 0; i < n; i++) {
            buff[offset + 9 + i] = payload.charCodeAt(i);
        }

        sock._sQlen += 9 + n;
        sock.flush();
    },

    enableContinuousUpdates: function (sock, enable, x, y, width, height) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 150;             // msg-type
        buff[offset + 1] = enable;      // enable-flag

        buff[offset + 2] = x >> 8;      // x
        buff[offset + 3] = x;
        buff[offset + 4] = y >> 8;      // y
        buff[offset + 5] = y;
        buff[offset + 6] = width >> 8;  // width
        buff[offset + 7] = width;
        buff[offset + 8] = height >> 8; // height
        buff[offset + 9] = height;

        sock._sQlen += 10;
        sock.flush();
    },

    pixelFormat: function (sock, depth, true_color) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        var bpp, bits;

        if (depth > 16) {
            bpp = 32;
        } else if (depth > 8) {
            bpp = 16;
        } else {
            bpp = 8;
        }

        bits = Math.floor(depth/3);

        buff[offset] = 0;  // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = bpp;                 // bits-per-pixel
        buff[offset + 5] = depth;               // depth
        buff[offset + 6] = 0;                   // little-endian
        buff[offset + 7] = true_color ? 1 : 0;  // true-color

        buff[offset + 8] = 0;    // red-max
        buff[offset + 9] = (1 << bits) - 1;  // red-max

        buff[offset + 10] = 0;   // green-max
        buff[offset + 11] = (1 << bits) - 1; // green-max

        buff[offset + 12] = 0;   // blue-max
        buff[offset + 13] = (1 << bits) - 1; // blue-max

        buff[offset + 14] = bits * 2; // red-shift
        buff[offset + 15] = bits * 1; // green-shift
        buff[offset + 16] = bits * 0; // blue-shift

        buff[offset + 17] = 0;   // padding
        buff[offset + 18] = 0;   // padding
        buff[offset + 19] = 0;   // padding

        sock._sQlen += 20;
        sock.flush();
    },

    clientEncodings: function (sock, encodings) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 2; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = encodings.length >> 8;
        buff[offset + 3] = encodings.length;

        var i, j = offset + 4;
        for (i = 0; i < encodings.length; i++) {
            var enc = encodings[i];
            buff[j] = enc >> 24;
            buff[j + 1] = enc >> 16;
            buff[j + 2] = enc >> 8;
            buff[j + 3] = enc;

            j += 4;
        }

        sock._sQlen += j - offset;
        sock.flush();
    },

    fbUpdateRequest: function (sock, incremental, x, y, w, h) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        if (typeof(x) === "undefined") { x = 0; }
        if (typeof(y) === "undefined") { y = 0; }

        buff[offset] = 3;  // msg-type
        buff[offset + 1] = incremental ? 1 : 0;

        buff[offset + 2] = (x >> 8) & 0xFF;
        buff[offset + 3] = x & 0xFF;

        buff[offset + 4] = (y >> 8) & 0xFF;
        buff[offset + 5] = y & 0xFF;

        buff[offset + 6] = (w >> 8) & 0xFF;
        buff[offset + 7] = w & 0xFF;

        buff[offset + 8] = (h >> 8) & 0xFF;
        buff[offset + 9] = h & 0xFF;

        sock._sQlen += 10;
        sock.flush();
    },

    xvpOp: function (sock, ver, op) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 250; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = ver;
        buff[offset + 3] = op;

        sock._sQlen += 4;
        sock.flush();
    },
};

RFB.genDES = function (password, challenge) {
    var passwd = [];
    for (var i = 0; i < password.length; i++) {
        passwd.push(password.charCodeAt(i));
    }
    return (new _des_js__WEBPACK_IMPORTED_MODULE_8__["default"](passwd)).encrypt(challenge);
};

RFB.encodingHandlers = {
    RAW: function () {
        if (this._FBU.lines === 0) {
            this._FBU.lines = this._FBU.height;
        }

        var pixelSize = this._fb_depth == 8 ? 1 : 4;
        this._FBU.bytes = this._FBU.width * pixelSize;  // at least a line
        if (this._sock.rQwait("RAW", this._FBU.bytes)) { return false; }
        var cur_y = this._FBU.y + (this._FBU.height - this._FBU.lines);
        var curr_height = Math.min(this._FBU.lines,
                                   Math.floor(this._sock.rQlen() / (this._FBU.width * pixelSize)));
        var data = this._sock.get_rQ();
        var index = this._sock.get_rQi();
        if (this._fb_depth == 8) {
            var pixels = this._FBU.width * curr_height
            var newdata = new Uint8Array(pixels * 4);
            var i;
            for (i = 0;i < pixels;i++) {
                newdata[i * 4 + 0] = ((data[index + i] >> 0) & 0x3) * 255 / 3;
                newdata[i * 4 + 1] = ((data[index + i] >> 2) & 0x3) * 255 / 3;
                newdata[i * 4 + 2] = ((data[index + i] >> 4) & 0x3) * 255 / 3;
                newdata[i * 4 + 4] = 0;
            }
            data = newdata;
            index = 0;
        }
        this._display.blitImage(this._FBU.x, cur_y, this._FBU.width,
                                curr_height, data, index);
        this._sock.rQskipBytes(this._FBU.width * curr_height * pixelSize);
        this._FBU.lines -= curr_height;

        if (this._FBU.lines > 0) {
            this._FBU.bytes = this._FBU.width * pixelSize;  // At least another line
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    COPYRECT: function () {
        this._FBU.bytes = 4;
        if (this._sock.rQwait("COPYRECT", 4)) { return false; }
        this._display.copyImage(this._sock.rQshift16(), this._sock.rQshift16(),
                                this._FBU.x, this._FBU.y, this._FBU.width,
                                this._FBU.height);

        this._FBU.rects--;
        this._FBU.bytes = 0;
        return true;
    },

    RRE: function () {
        var color;
        if (this._FBU.subrects === 0) {
            this._FBU.bytes = 4 + 4;
            if (this._sock.rQwait("RRE", 4 + 4)) { return false; }
            this._FBU.subrects = this._sock.rQshift32();
            color = this._sock.rQshiftBytes(4);  // Background
            this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, color);
        }

        while (this._FBU.subrects > 0 && this._sock.rQlen() >= (4 + 8)) {
            color = this._sock.rQshiftBytes(4);
            var x = this._sock.rQshift16();
            var y = this._sock.rQshift16();
            var width = this._sock.rQshift16();
            var height = this._sock.rQshift16();
            this._display.fillRect(this._FBU.x + x, this._FBU.y + y, width, height, color);
            this._FBU.subrects--;
        }

        if (this._FBU.subrects > 0) {
            var chunk = Math.min(this._rre_chunk_sz, this._FBU.subrects);
            this._FBU.bytes = (4 + 8) * chunk;
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    HEXTILE: function () {
        var rQ = this._sock.get_rQ();
        var rQi = this._sock.get_rQi();

        if (this._FBU.tiles === 0) {
            this._FBU.tiles_x = Math.ceil(this._FBU.width / 16);
            this._FBU.tiles_y = Math.ceil(this._FBU.height / 16);
            this._FBU.total_tiles = this._FBU.tiles_x * this._FBU.tiles_y;
            this._FBU.tiles = this._FBU.total_tiles;
        }

        while (this._FBU.tiles > 0) {
            this._FBU.bytes = 1;
            if (this._sock.rQwait("HEXTILE subencoding", this._FBU.bytes)) { return false; }
            var subencoding = rQ[rQi];  // Peek
            if (subencoding > 30) {  // Raw
                this._fail("Illegal hextile subencoding (subencoding: " +
                           subencoding + ")");
                return false;
            }

            var subrects = 0;
            var curr_tile = this._FBU.total_tiles - this._FBU.tiles;
            var tile_x = curr_tile % this._FBU.tiles_x;
            var tile_y = Math.floor(curr_tile / this._FBU.tiles_x);
            var x = this._FBU.x + tile_x * 16;
            var y = this._FBU.y + tile_y * 16;
            var w = Math.min(16, (this._FBU.x + this._FBU.width) - x);
            var h = Math.min(16, (this._FBU.y + this._FBU.height) - y);

            // Figure out how much we are expecting
            if (subencoding & 0x01) {  // Raw
                this._FBU.bytes += w * h * 4;
            } else {
                if (subencoding & 0x02) {  // Background
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x04) {  // Foreground
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x08) {  // AnySubrects
                    this._FBU.bytes++;  // Since we aren't shifting it off
                    if (this._sock.rQwait("hextile subrects header", this._FBU.bytes)) { return false; }
                    subrects = rQ[rQi + this._FBU.bytes - 1];  // Peek
                    if (subencoding & 0x10) {  // SubrectsColoured
                        this._FBU.bytes += subrects * (4 + 2);
                    } else {
                        this._FBU.bytes += subrects * 2;
                    }
                }
            }

            if (this._sock.rQwait("hextile", this._FBU.bytes)) { return false; }

            // We know the encoding and have a whole tile
            this._FBU.subencoding = rQ[rQi];
            rQi++;
            if (this._FBU.subencoding === 0) {
                if (this._FBU.lastsubencoding & 0x01) {
                    // Weird: ignore blanks are RAW
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("     Ignoring blank after RAW");
                } else {
                    this._display.fillRect(x, y, w, h, this._FBU.background);
                }
            } else if (this._FBU.subencoding & 0x01) {  // Raw
                this._display.blitImage(x, y, w, h, rQ, rQi);
                rQi += this._FBU.bytes - 1;
            } else {
                if (this._FBU.subencoding & 0x02) {  // Background
                    this._FBU.background = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }
                if (this._FBU.subencoding & 0x04) {  // Foreground
                    this._FBU.foreground = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }

                this._display.startTile(x, y, w, h, this._FBU.background);
                if (this._FBU.subencoding & 0x08) {  // AnySubrects
                    subrects = rQ[rQi];
                    rQi++;

                    for (var s = 0; s < subrects; s++) {
                        var color;
                        if (this._FBU.subencoding & 0x10) {  // SubrectsColoured
                            color = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                            rQi += 4;
                        } else {
                            color = this._FBU.foreground;
                        }
                        var xy = rQ[rQi];
                        rQi++;
                        var sx = (xy >> 4);
                        var sy = (xy & 0x0f);

                        var wh = rQ[rQi];
                        rQi++;
                        var sw = (wh >> 4) + 1;
                        var sh = (wh & 0x0f) + 1;

                        this._display.subTile(sx, sy, sw, sh, color);
                    }
                }
                this._display.finishTile();
            }
            this._sock.set_rQi(rQi);
            this._FBU.lastsubencoding = this._FBU.subencoding;
            this._FBU.bytes = 0;
            this._FBU.tiles--;
        }

        if (this._FBU.tiles === 0) {
            this._FBU.rects--;
        }

        return true;
    },

    TIGHT: function () {
        this._FBU.bytes = 1;  // compression-control byte
        if (this._sock.rQwait("TIGHT compression-control", this._FBU.bytes)) { return false; }

        var checksum = function (data) {
            var sum = 0;
            for (var i = 0; i < data.length; i++) {
                sum += data[i];
                if (sum > 65536) sum -= 65536;
            }
            return sum;
        };

        var resetStreams = 0;
        var streamId = -1;
        var decompress = function (data, expected) {
            for (var i = 0; i < 4; i++) {
                if ((resetStreams >> i) & 1) {
                    this._FBU.zlibs[i].reset();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Reset zlib stream " + i);
                }
            }

            //var uncompressed = this._FBU.zlibs[streamId].uncompress(data, 0);
            var uncompressed = this._FBU.zlibs[streamId].inflate(data, true, expected);
            /*if (uncompressed.status !== 0) {
                Log.Error("Invalid data in zlib stream");
            }*/

            //return uncompressed.data;
            return uncompressed;
        }.bind(this);

        var indexedToRGBX2Color = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            // TODO: reduce number of calculations inside loop
            var dest = this._destBuff;
            var w = Math.floor((width + 7) / 8);
            var w1 = Math.floor(width / 8);

            /*for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                var yoffset = y * width;
                var ybitoffset = y * w;
                var xoffset, targetbyte;
                for (x = 0; x < w1; x++) {
                    xoffset = yoffset + x * 8;
                    targetbyte = data[ybitoffset + x];
                    for (b = 7; b >= 0; b--) {
                        dp = (xoffset + 7 - b) * 3;
                        sp = (targetbyte >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                    }
                }

                xoffset = yoffset + x * 8;
                targetbyte = data[ybitoffset + x];
                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (xoffset + 7 - b) * 3;
                    sp = (targetbyte >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                }
            }*/

            for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                for (x = 0; x < w1; x++) {
                    for (b = 7; b >= 0; b--) {
                        dp = (y * width + x * 8 + 7 - b) * 4;
                        sp = (data[y * w + x] >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                        dest[dp + 3] = 255;
                    }
                }

                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (y * width + x * 8 + 7 - b) * 4;
                    sp = (data[y * w + x] >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                    dest[dp + 3] = 255;
                }
            }

            return dest;
        }.bind(this);

        var indexedToRGBX = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            var dest = this._destBuff;
            var total = width * height * 4;
            for (var i = 0, j = 0; i < total; i += 4, j++) {
                var sp = data[j] * 3;
                dest[i] = palette[sp];
                dest[i + 1] = palette[sp + 1];
                dest[i + 2] = palette[sp + 2];
                dest[i + 3] = 255;
            }

            return dest;
        }.bind(this);

        var rQi = this._sock.get_rQi();
        var rQ = this._sock.rQwhole();
        var cmode, data;
        var cl_header, cl_data;

        var handlePalette = function () {
            var numColors = rQ[rQi + 2] + 1;
            var paletteSize = numColors * 3;
            this._FBU.bytes += paletteSize;
            if (this._sock.rQwait("TIGHT palette " + cmode, this._FBU.bytes)) { return false; }

            var bpp = (numColors <= 2) ? 1 : 8;
            var rowSize = Math.floor((this._FBU.width * bpp + 7) / 8);
            var raw = false;
            if (rowSize * this._FBU.height < 12) {
                raw = true;
                cl_header = 0;
                cl_data = rowSize * this._FBU.height;
                //clength = [0, rowSize * this._FBU.height];
            } else {
                // begin inline getTightCLength (returning two-item arrays is bad for performance with GC)
                var cl_offset = rQi + 3 + paletteSize;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }

            this._FBU.bytes += cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, filter id, num colors, palette entries, and clength off
            this._sock.rQskipBytes(3);
            //var palette = this._sock.rQshiftBytes(paletteSize);
            this._sock.rQshiftTo(this._paletteBuff, paletteSize);
            this._sock.rQskipBytes(cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), rowSize * this._FBU.height);
            }

            // Convert indexed (palette based) image data to RGB
            var rgbx;
            if (numColors == 2) {
                rgbx = indexedToRGBX2Color(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            } else {
                rgbx = indexedToRGBX(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            }


            return true;
        }.bind(this);

        var handleCopy = function () {
            var raw = false;
            var uncompressedSize = this._FBU.width * this._FBU.height * 3;
            if (uncompressedSize < 12) {
                raw = true;
                cl_header = 0;
                cl_data = uncompressedSize;
            } else {
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }
            this._FBU.bytes = 1 + cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, clength off
            this._sock.rQshiftBytes(1 + cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), uncompressedSize);
            }

            this._display.blitRgbImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, data, 0, false);

            return true;
        }.bind(this);

        var ctl = this._sock.rQpeek8();

        // Keep tight reset bits
        resetStreams = ctl & 0xF;

        // Figure out filter
        ctl = ctl >> 4;
        streamId = ctl & 0x3;

        if (ctl === 0x08)       cmode = "fill";
        else if (ctl === 0x09)  cmode = "jpeg";
        else if (ctl === 0x0A)  cmode = "png";
        else if (ctl & 0x04)    cmode = "filter";
        else if (ctl < 0x04)    cmode = "copy";
        else return this._fail("Illegal tight compression received (ctl: " +
                               ctl + ")");

        switch (cmode) {
            // fill use depth because TPIXELs drop the padding byte
            case "fill":  // TPIXEL
                this._FBU.bytes += 3;
                break;
            case "jpeg":  // max clength
                this._FBU.bytes += 3;
                break;
            case "png":  // max clength
                this._FBU.bytes += 3;
                break;
            case "filter":  // filter id + num colors if palette
                this._FBU.bytes += 2;
                break;
            case "copy":
                break;
        }

        if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

        // Determine FBU.bytes
        switch (cmode) {
            case "fill":
                // skip ctl byte
                this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, [rQ[rQi + 3], rQ[rQi + 2], rQ[rQi + 1]], false);
                this._sock.rQskipBytes(4);
                break;
            case "png":
            case "jpeg":
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
                this._FBU.bytes = 1 + cl_header + cl_data;  // ctl + clength size + jpeg-data
                if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

                // We have everything, render it
                this._sock.rQskipBytes(1 + cl_header);  // shift off clt + compact length
                data = this._sock.rQshiftBytes(cl_data);
                this._display.imageRect(this._FBU.x, this._FBU.y, "image/" + cmode, data);
                break;
            case "filter":
                var filterId = rQ[rQi + 1];
                if (filterId === 1) {
                    if (!handlePalette()) { return false; }
                } else {
                    // Filter 0, Copy could be valid here, but servers don't send it as an explicit filter
                    // Filter 2, Gradient is valid but not use if jpeg is enabled
                    this._fail("Unsupported tight subencoding received " +
                               "(filter: " + filterId + ")");
                }
                break;
            case "copy":
                if (!handleCopy()) { return false; }
                break;
        }


        this._FBU.bytes = 0;
        this._FBU.rects--;

        return true;
    },

    last_rect: function () {
        this._FBU.rects = 0;
        return true;
    },

    ExtendedDesktopSize: function () {
        this._FBU.bytes = 1;
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        var firstUpdate = !this._supportsSetDesktopSize;
        this._supportsSetDesktopSize = true;

        // Normally we only apply the current resize mode after a
        // window resize event. However there is no such trigger on the
        // initial connect. And we don't know if the server supports
        // resizing until we've gotten here.
        if (firstUpdate) {
            this._requestRemoteResize();
        }

        var number_of_screens = this._sock.rQpeek8();

        this._FBU.bytes = 4 + (number_of_screens * 16);
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        this._sock.rQskipBytes(1);  // number-of-screens
        this._sock.rQskipBytes(3);  // padding

        for (var i = 0; i < number_of_screens; i += 1) {
            // Save the id and flags of the first screen
            if (i === 0) {
                this._screen_id = this._sock.rQshiftBytes(4);    // id
                this._sock.rQskipBytes(2);                       // x-position
                this._sock.rQskipBytes(2);                       // y-position
                this._sock.rQskipBytes(2);                       // width
                this._sock.rQskipBytes(2);                       // height
                this._screen_flags = this._sock.rQshiftBytes(4); // flags
            } else {
                this._sock.rQskipBytes(16);
            }
        }

        /*
         * The x-position indicates the reason for the change:
         *
         *  0 - server resized on its own
         *  1 - this client requested the resize
         *  2 - another client requested the resize
         */

        // We need to handle errors when we requested the resize.
        if (this._FBU.x === 1 && this._FBU.y !== 0) {
            var msg = "";
            // The y-position indicates the status code from the server
            switch (this._FBU.y) {
            case 1:
                msg = "Resize is administratively prohibited";
                break;
            case 2:
                msg = "Out of resources";
                break;
            case 3:
                msg = "Invalid screen layout";
                break;
            default:
                msg = "Unknown reason";
                break;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server did not accept the resize request: "
                     + msg);
        } else {
            this._resize(this._FBU.width, this._FBU.height);
        }

        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    DesktopSize: function () {
        this._resize(this._FBU.width, this._FBU.height);
        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    Cursor: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> set_cursor");
        var x = this._FBU.x;  // hotspot-x
        var y = this._FBU.y;  // hotspot-y
        var w = this._FBU.width;
        var h = this._FBU.height;

        var pixelslength = w * h * 4;
        var masklength = Math.floor((w + 7) / 8) * h;

        this._FBU.bytes = pixelslength + masklength;
        if (this._sock.rQwait("cursor encoding", this._FBU.bytes)) { return false; }

        this._display.changeCursor(this._sock.rQshiftBytes(pixelslength),
                                   this._sock.rQshiftBytes(masklength),
                                   x, y, w, h);

        this._FBU.bytes = 0;
        this._FBU.rects--;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< set_cursor");
        return true;
    },

    QEMUExtendedKeyEvent: function () {
        this._FBU.rects--;

        // Old Safari doesn't support creating keyboard events
        try {
            var keyboardEvent = document.createEvent("keyboardEvent");
            if (keyboardEvent.code !== undefined) {
                this._qemuExtKeyEventSupported = true;
            }
        } catch (err) {
        }
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/browser.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/browser.js ***!
  \********************************************************/
/*! exports provided: isTouchDevice, supportsCursorURIs, isMac, isIE, isEdge, isWindows, isIOS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouchDevice", function() { return isTouchDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCursorURIs", function() { return supportsCursorURIs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMac", function() { return isMac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIE", function() { return isIE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEdge", function() { return isEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindows", function() { return isWindows; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */



// Touch detection
var isTouchDevice = ('ontouchstart' in document.documentElement) ||
                                 // requried for Chrome debugger
                                 (document.ontouchstart !== undefined) ||
                                 // required for MS Surface
                                 (navigator.maxTouchPoints > 0) ||
                                 (navigator.msMaxTouchPoints > 0);
window.addEventListener('touchstart', function onFirstTouch() {
    isTouchDevice = true;
    window.removeEventListener('touchstart', onFirstTouch, false);
}, false);

var _cursor_uris_supported = null;

function supportsCursorURIs () {
    if (_cursor_uris_supported === null) {
        try {
            var target = document.createElement('canvas');
            target.style.cursor = 'url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';

            if (target.style.cursor) {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Data URI scheme cursor supported");
                _cursor_uris_supported = true;
            } else {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Data URI scheme cursor not supported");
                _cursor_uris_supported = false;
            }
        } catch (exc) {
            _logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Data URI scheme cursor test exception: " + exc);
            _cursor_uris_supported = false;
        }
    }

    return _cursor_uris_supported;
};

function isMac() {
    return navigator && !!(/mac/i).exec(navigator.platform);
}

function isIE() {
    return navigator && !!(/trident/i).exec(navigator.userAgent);
}

function isEdge() {
    return navigator && !!(/edge/i).exec(navigator.userAgent);
}

function isWindows() {
    return navigator && !!(/win/i).exec(navigator.platform);
}

function isIOS() {
    return navigator &&
           (!!(/ipad/i).exec(navigator.platform) ||
            !!(/iphone/i).exec(navigator.platform) ||
            !!(/ipod/i).exec(navigator.platform));
}



/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/events.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/events.js ***!
  \*******************************************************/
/*! exports provided: getPointerEvent, stopEvent, setCapture, releaseCapture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPointerEvent", function() { return getPointerEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopEvent", function() { return stopEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCapture", function() { return setCapture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "releaseCapture", function() { return releaseCapture; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Cross-browser event and position routines
 */

function getPointerEvent (e) {
    return e.changedTouches ? e.changedTouches[0] : e.touches ? e.touches[0] : e;
};

function stopEvent (e) {
    e.stopPropagation();
    e.preventDefault();
};

// Emulate Element.setCapture() when not supported
var _captureRecursion = false;
var _captureElem = null;
function _captureProxy(e) {
    // Recursion protection as we'll see our own event
    if (_captureRecursion) return;

    // Clone the event as we cannot dispatch an already dispatched event
    var newEv = new e.constructor(e.type, e);

    _captureRecursion = true;
    _captureElem.dispatchEvent(newEv);
    _captureRecursion = false;

    // Avoid double events
    e.stopPropagation();

    // Respect the wishes of the redirected event handlers
    if (newEv.defaultPrevented) {
        e.preventDefault();
    }

    // Implicitly release the capture on button release
    if (e.type === "mouseup") {
        releaseCapture();
    }
};

// Follow cursor style of target element
function _captureElemChanged() {
    var captureElem = document.getElementById("noVNC_mouse_capture_elem");
    captureElem.style.cursor = window.getComputedStyle(_captureElem).cursor;
};
var _captureObserver = new MutationObserver(_captureElemChanged);

var _captureIndex = 0;

function setCapture (elem) {
    if (elem.setCapture) {

        elem.setCapture();

        // IE releases capture on 'click' events which might not trigger
        elem.addEventListener('mouseup', releaseCapture);

    } else {
        // Release any existing capture in case this method is
        // called multiple times without coordination
        releaseCapture();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");

        if (captureElem === null) {
            captureElem = document.createElement("div");
            captureElem.id = "noVNC_mouse_capture_elem";
            captureElem.style.position = "fixed";
            captureElem.style.top = "0px";
            captureElem.style.left = "0px";
            captureElem.style.width = "100%";
            captureElem.style.height = "100%";
            captureElem.style.zIndex = 10000;
            captureElem.style.display = "none";
            document.body.appendChild(captureElem);

            // This is to make sure callers don't get confused by having
            // our blocking element as the target
            captureElem.addEventListener('contextmenu', _captureProxy);

            captureElem.addEventListener('mousemove', _captureProxy);
            captureElem.addEventListener('mouseup', _captureProxy);
        }

        _captureElem = elem;
        _captureIndex++;

        // Track cursor and get initial cursor
        _captureObserver.observe(elem, {attributes:true});
        _captureElemChanged();

        captureElem.style.display = "";

        // We listen to events on window in order to keep tracking if it
        // happens to leave the viewport
        window.addEventListener('mousemove', _captureProxy);
        window.addEventListener('mouseup', _captureProxy);
    }
};

function releaseCapture () {
    if (document.releaseCapture) {

        document.releaseCapture();

    } else {
        if (!_captureElem) {
            return;
        }

        // There might be events already queued, so we need to wait for
        // them to flush. E.g. contextmenu in Microsoft Edge
        window.setTimeout(function(expected) {
            // Only clear it if it's the expected grab (i.e. no one
            // else has initiated a new grab)
            if (_captureIndex === expected) {
                _captureElem = null;
            }
        }, 0, _captureIndex);

        _captureObserver.disconnect();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");
        captureElem.style.display = "none";

        window.removeEventListener('mousemove', _captureProxy);
        window.removeEventListener('mouseup', _captureProxy);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/eventtarget.js":
/*!************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/eventtarget.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var EventTargetMixin = {
    _listeners: null,

   addEventListener: function(type, callback) {
      if (!this._listeners) {
         this._listeners = new Map();
      }
      if (!this._listeners.has(type)) {
         this._listeners.set(type, new Set());
      }
      this._listeners.get(type).add(callback);
   },

   removeEventListener: function(type, callback) {
      if (!this._listeners || !this._listeners.has(type)) {
         return;
      }
      this._listeners.get(type).delete(callback);
   },

   dispatchEvent: function(event) {
      if (!this._listeners || !this._listeners.has(event.type)) {
         return true;
      }
      this._listeners.get(event.type).forEach(function (callback) {
         callback.call(this, event);
      }, this);
      return !event.defaultPrevented;
   },
};

/* harmony default export */ __webpack_exports__["default"] = (EventTargetMixin);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/logging.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/logging.js ***!
  \********************************************************/
/*! exports provided: init_logging, get_logging, Debug, Info, Warn, Error */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init_logging", function() { return init_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_logging", function() { return get_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Debug", function() { return Debug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Info", function() { return Info; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Warn", function() { return Warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Logging/debug routines
 */

var _log_level = 'warn';

var Debug = function (msg) {};
var Info = function (msg) {};
var Warn = function (msg) {};
var Error = function (msg) {};

function init_logging (level) {
    if (typeof level === 'undefined') {
        level = _log_level;
    } else {
        _log_level = level;
    }

    Debug = Info = Warn = Error = function (msg) {};
    if (typeof window.console !== "undefined") {
        switch (level) {
            case 'debug':
                Debug = console.debug.bind(window.console);
            case 'info':
                Info  = console.info.bind(window.console);
            case 'warn':
                Warn  = console.warn.bind(window.console);
            case 'error':
                Error = console.error.bind(window.console);
            case 'none':
                break;
            default:
                throw new Error("invalid logging type '" + level + "'");
        }
    }
};
function get_logging () {
    return _log_level;
};


// Initialize logging level
init_logging();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/polyfill.js":
/*!*********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/polyfill.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for noVNC
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/* Polyfills to provide new APIs in old browsers */

/* Object.assign() (taken from MDN) */
if (typeof Object.assign != 'function') {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, "assign", {
        value: function assign(target, varArgs) { // .length of function is 2
            'use strict';
            if (target == null) { // TypeError if undefined or null
                throw new TypeError('Cannot convert undefined or null to object');
            }

            var to = Object(target);

            for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index];

                if (nextSource != null) { // Skip over if undefined or null
                    for (var nextKey in nextSource) {
                        // Avoid bugs when hasOwnProperty is shadowed
                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        },
        writable: true,
        configurable: true
    });
}

/* CustomEvent constructor (taken from MDN) */
(function () {
    function CustomEvent ( event, params ) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        var evt = document.createEvent( 'CustomEvent' );
        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
        return evt;
    }

    CustomEvent.prototype = window.Event.prototype;

    if (typeof window.CustomEvent !== "function") {
        window.CustomEvent = CustomEvent;
    }
})();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/strings.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/strings.js ***!
  \********************************************************/
/*! exports provided: decodeUTF8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decodeUTF8", function() { return decodeUTF8; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Decode from UTF-8
 */
function decodeUTF8 (utf8string) {
    "use strict";
    return decodeURIComponent(escape(utf8string));
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/websock.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/websock.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Websock; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * Websock: high-performance binary WebSockets
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * Websock is similar to the standard WebSocket object but with extra
 * buffer handling.
 *
 * Websock has built-in receive queue buffering; the message event
 * does not contain actual data but is simply a notification that
 * there is new data available. Several rQ* methods are available to
 * read binary data off of the receive queue.
 */



function Websock() {
    "use strict";

    this._websocket = null;  // WebSocket object

    this._rQi = 0;           // Receive queue index
    this._rQlen = 0;         // Next write position in the receive queue
    this._rQbufferSize = 1024 * 1024 * 4; // Receive queue buffer size (4 MiB)
    this._rQmax = this._rQbufferSize / 8;
    // called in init: this._rQ = new Uint8Array(this._rQbufferSize);
    this._rQ = null; // Receive queue

    this._sQbufferSize = 1024 * 10;  // 10 KiB
    // called in init: this._sQ = new Uint8Array(this._sQbufferSize);
    this._sQlen = 0;
    this._sQ = null;  // Send queue

    this._eventHandlers = {
        'message': function () {},
        'open': function () {},
        'close': function () {},
        'error': function () {}
    };
};

// this has performance issues in some versions Chromium, and
// doesn't gain a tremendous amount of performance increase in Firefox
// at the moment.  It may be valuable to turn it on in the future.
var ENABLE_COPYWITHIN = false;

var MAX_RQ_GROW_SIZE = 40 * 1024 * 1024;  // 40 MiB

var typedArrayToString = (function () {
    // This is only for PhantomJS, which doesn't like apply-ing
    // with Typed Arrays
    try {
        var arr = new Uint8Array([1, 2, 3]);
        String.fromCharCode.apply(null, arr);
        return function (a) { return String.fromCharCode.apply(null, a); };
    } catch (ex) {
        return function (a) {
            return String.fromCharCode.apply(
                null, Array.prototype.slice.call(a));
        };
    }
})();

Websock.prototype = {
    // Getters and Setters
    get_sQ: function () {
        return this._sQ;
    },

    get_rQ: function () {
        return this._rQ;
    },

    get_rQi: function () {
        return this._rQi;
    },

    set_rQi: function (val) {
        this._rQi = val;
    },

    // Receive Queue
    rQlen: function () {
        return this._rQlen - this._rQi;
    },

    rQpeek8: function () {
        return this._rQ[this._rQi];
    },

    rQshift8: function () {
        return this._rQ[this._rQi++];
    },

    rQskip8: function () {
        this._rQi++;
    },

    rQskipBytes: function (num) {
        this._rQi += num;
    },

    // TODO(directxman12): test performance with these vs a DataView
    rQshift16: function () {
        return (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshift32: function () {
        return (this._rQ[this._rQi++] << 24) +
               (this._rQ[this._rQi++] << 16) +
               (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshiftStr: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        var arr = new Uint8Array(this._rQ.buffer, this._rQi, len);
        this._rQi += len;
        return typedArrayToString(arr);
    },

    rQshiftBytes: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        this._rQi += len;
        return new Uint8Array(this._rQ.buffer, this._rQi - len, len);
    },

    rQshiftTo: function (target, len) {
        if (len === undefined) { len = this.rQlen(); }
        // TODO: make this just use set with views when using a ArrayBuffer to store the rQ
        target.set(new Uint8Array(this._rQ.buffer, this._rQi, len));
        this._rQi += len;
    },

    rQwhole: function () {
        return new Uint8Array(this._rQ.buffer, 0, this._rQlen);
    },

    rQslice: function (start, end) {
        if (end) {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, end - start);
        } else {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, this._rQlen - this._rQi - start);
        }
    },

    // Check to see if we must wait for 'num' bytes (default to FBU.bytes)
    // to be available in the receive queue. Return true if we need to
    // wait (and possibly print a debug message), otherwise false.
    rQwait: function (msg, num, goback) {
        var rQlen = this._rQlen - this._rQi; // Skip rQlen() function call
        if (rQlen < num) {
            if (goback) {
                if (this._rQi < goback) {
                    throw new Error("rQwait cannot backup " + goback + " bytes");
                }
                this._rQi -= goback;
            }
            return true; // true means need more data
        }
        return false;
    },

    // Send Queue

    flush: function () {
        if (this._sQlen > 0 && this._websocket.readyState === WebSocket.OPEN) {
            this._websocket.send(this._encode_message());
            this._sQlen = 0;
        }
    },

    send: function (arr) {
        this._sQ.set(arr, this._sQlen);
        this._sQlen += arr.length;
        this.flush();
    },

    send_string: function (str) {
        this.send(str.split('').map(function (chr) {
            return chr.charCodeAt(0);
        }));
    },

    // Event Handlers
    off: function (evt) {
        this._eventHandlers[evt] = function () {};
    },

    on: function (evt, handler) {
        this._eventHandlers[evt] = handler;
    },

    _allocate_buffers: function () {
        this._rQ = new Uint8Array(this._rQbufferSize);
        this._sQ = new Uint8Array(this._sQbufferSize);
    },

    init: function () {
        this._allocate_buffers();
        this._rQi = 0;
        this._websocket = null;
    },

    open: function (uri, protocols) {
        var ws_schema = uri.match(/^([a-z]+):\/\//)[1];
        this.init();

        this._websocket = new WebSocket(uri, protocols);
        this._websocket.binaryType = 'arraybuffer';

        this._websocket.onmessage = this._recv_message.bind(this);
        this._websocket.onopen = (function () {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('>> WebSock.onopen');
            if (this._websocket.protocol) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server choose sub-protocol: " + this._websocket.protocol);
            }

            this._eventHandlers.open();
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onopen");
        }).bind(this);
        this._websocket.onclose = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onclose");
            this._eventHandlers.close(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onclose");
        }).bind(this);
        this._websocket.onerror = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onerror: " + e);
            this._eventHandlers.error(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onerror: " + e);
        }).bind(this);
    },

    close: function () {
        if (this._websocket) {
            if ((this._websocket.readyState === WebSocket.OPEN) ||
                    (this._websocket.readyState === WebSocket.CONNECTING)) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Closing WebSocket connection");
                this._websocket.close();
            }

            this._websocket.onmessage = function (e) { return; };
        }
    },

    // private methods
    _encode_message: function () {
        // Put in a binary arraybuffer
        // according to the spec, you can send ArrayBufferViews with the send method
        return new Uint8Array(this._sQ.buffer, 0, this._sQlen);
    },

    _expand_compact_rQ: function (min_fit) {
        var resizeNeeded = min_fit || this._rQlen - this._rQi > this._rQbufferSize / 2;
        if (resizeNeeded) {
            if (!min_fit) {
                // just double the size if we need to do compaction
                this._rQbufferSize *= 2;
            } else {
                // otherwise, make sure we satisy rQlen - rQi + min_fit < rQbufferSize / 8
                this._rQbufferSize = (this._rQlen - this._rQi + min_fit) * 8;
            }
        }

        // we don't want to grow unboundedly
        if (this._rQbufferSize > MAX_RQ_GROW_SIZE) {
            this._rQbufferSize = MAX_RQ_GROW_SIZE;
            if (this._rQbufferSize - this._rQlen - this._rQi < min_fit) {
                throw new Exception("Receive Queue buffer exceeded " + MAX_RQ_GROW_SIZE + " bytes, and the new message could not fit");
            }
        }

        if (resizeNeeded) {
            var old_rQbuffer = this._rQ.buffer;
            this._rQmax = this._rQbufferSize / 8;
            this._rQ = new Uint8Array(this._rQbufferSize);
            this._rQ.set(new Uint8Array(old_rQbuffer, this._rQi));
        } else {
            if (ENABLE_COPYWITHIN) {
                this._rQ.copyWithin(0, this._rQi);
            } else {
                this._rQ.set(new Uint8Array(this._rQ.buffer, this._rQi));
            }
        }

        this._rQlen = this._rQlen - this._rQi;
        this._rQi = 0;
    },

    _decode_message: function (data) {
        // push arraybuffer values onto the end
        var u8 = new Uint8Array(data);
        if (u8.length > this._rQbufferSize - this._rQlen) {
            this._expand_compact_rQ(u8.length);
        }
        this._rQ.set(u8, this._rQlen);
        this._rQlen += u8.length;
    },

    _recv_message: function (e) {
        this._decode_message(e.data);
        if (this.rQlen() > 0) {
            this._eventHandlers.message();
            // Compact the receive queue
            if (this._rQlen == this._rQi) {
                this._rQlen = 0;
                this._rQi = 0;
            } else if (this._rQlen > this._rQmax) {
                this._expand_compact_rQ();
            }
        } else {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Ignoring empty message");
        }
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js ***!
  \*******************************************************************/
/*! exports provided: shrinkBuf, arraySet, flattenChunks, Buf8, Buf16, Buf32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shrinkBuf", function() { return shrinkBuf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arraySet", function() { return arraySet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenChunks", function() { return flattenChunks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf8", function() { return Buf8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf16", function() { return Buf16; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf32", function() { return Buf32; });
// reduce buffer size, avoiding mem copy
function shrinkBuf (buf, size) {
  if (buf.length === size) { return buf; }
  if (buf.subarray) { return buf.subarray(0, size); }
  buf.length = size;
  return buf;
};


function arraySet (dest, src, src_offs, len, dest_offs) {
  if (src.subarray && dest.subarray) {
    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
    return;
  }
  // Fallback to ordinary array
  for (var i = 0; i < len; i++) {
    dest[dest_offs + i] = src[src_offs + i];
  }
}

// Join array of chunks to single array.
function flattenChunks (chunks) {
  var i, l, len, pos, chunk, result;

  // calculate data length
  len = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    len += chunks[i].length;
  }

  // join chunks
  result = new Uint8Array(len);
  pos = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    chunk = chunks[i];
    result.set(chunk, pos);
    pos += chunk.length;
  }

  return result;
}

var Buf8  = Uint8Array;
var Buf16 = Uint16Array;
var Buf32 = Int32Array;


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return adler32; });
// Note: adler32 takes 12% for level 0 and 2% for level 6.
// It doesn't worth to make additional optimizationa as in original.
// Small size is preferable.

function adler32(adler, buf, len, pos) {
  var s1 = (adler & 0xffff) |0,
      s2 = ((adler >>> 16) & 0xffff) |0,
      n = 0;

  while (len !== 0) {
    // Set limit ~ twice less than 5552, to keep
    // s2 in 31-bits, because we force signed ints.
    // in other case %= will fail.
    n = len > 2000 ? 2000 : len;
    len -= n;

    do {
      s1 = (s1 + buf[pos++]) |0;
      s2 = (s2 + s1) |0;
    } while (--n);

    s1 %= 65521;
    s2 %= 65521;
  }

  return (s1 | (s2 << 16)) |0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return makeTable; });
// Note: we can't get significant speed boost here.
// So write code to minimize size - no pregenerated tables
// and array tools dependencies.


// Use ordinary array, since untyped makes no boost here
function makeTable() {
  var c, table = [];

  for (var n = 0; n < 256; n++) {
    c = n;
    for (var k = 0; k < 8; k++) {
      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
    }
    table[n] = c;
  }

  return table;
}

// Create table on load. Just 255 signed longs. Not a problem.
var crcTable = makeTable();


function crc32(crc, buf, len, pos) {
  var t = crcTable,
      end = pos + len;

  crc ^= -1;

  for (var i = pos; i < end; i++) {
    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];
  }

  return (crc ^ (-1)); // >>> 0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_fast; });
// See state defs from inflate.js
var BAD = 30;       /* got a data error -- remain here until reset */
var TYPE = 12;      /* i: waiting for type bits, including last-flag bit */

/*
   Decode literal, length, and distance codes and write out the resulting
   literal and match bytes until either not enough input or output is
   available, an end-of-block is encountered, or a data error is encountered.
   When large enough input and output buffers are supplied to inflate(), for
   example, a 16K input buffer and a 64K output buffer, more than 95% of the
   inflate execution time is spent in this routine.

   Entry assumptions:

        state.mode === LEN
        strm.avail_in >= 6
        strm.avail_out >= 258
        start >= strm.avail_out
        state.bits < 8

   On return, state.mode is one of:

        LEN -- ran out of enough output space or enough available input
        TYPE -- reached end of block code, inflate() to interpret next block
        BAD -- error in block data

   Notes:

    - The maximum input bits used by a length/distance pair is 15 bits for the
      length code, 5 bits for the length extra, 15 bits for the distance code,
      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.
      Therefore if strm.avail_in >= 6, then there is enough input to avoid
      checking for available input while decoding.

    - The maximum bytes that a single length/distance pair can output is 258
      bytes, which is the maximum length that can be coded.  inflate_fast()
      requires strm.avail_out >= 258 for each loop to avoid checking for
      output space.
 */
function inflate_fast(strm, start) {
  var state;
  var _in;                    /* local strm.input */
  var last;                   /* have enough input while in < last */
  var _out;                   /* local strm.output */
  var beg;                    /* inflate()'s initial strm.output */
  var end;                    /* while out < end, enough space available */
//#ifdef INFLATE_STRICT
  var dmax;                   /* maximum distance from zlib header */
//#endif
  var wsize;                  /* window size or zero if not using window */
  var whave;                  /* valid bytes in the window */
  var wnext;                  /* window write index */
  // Use `s_window` instead `window`, avoid conflict with instrumentation tools
  var s_window;               /* allocated sliding window, if wsize != 0 */
  var hold;                   /* local strm.hold */
  var bits;                   /* local strm.bits */
  var lcode;                  /* local strm.lencode */
  var dcode;                  /* local strm.distcode */
  var lmask;                  /* mask for first level of length codes */
  var dmask;                  /* mask for first level of distance codes */
  var here;                   /* retrieved table entry */
  var op;                     /* code bits, operation, extra bits, or */
                              /*  window position, window bytes to copy */
  var len;                    /* match length, unused bytes */
  var dist;                   /* match distance */
  var from;                   /* where to copy match from */
  var from_source;


  var input, output; // JS specific, because we have no pointers

  /* copy state to local variables */
  state = strm.state;
  //here = state.here;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
//#ifdef INFLATE_STRICT
  dmax = state.dmax;
//#endif
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;


  /* decode literals and length/distances until end-of-block or not enough
     input data or output space */

  top:
  do {
    if (bits < 15) {
      hold += input[_in++] << bits;
      bits += 8;
      hold += input[_in++] << bits;
      bits += 8;
    }

    here = lcode[hold & lmask];

    dolen:
    for (;;) { // Goto emulation
      op = here >>> 24/*here.bits*/;
      hold >>>= op;
      bits -= op;
      op = (here >>> 16) & 0xff/*here.op*/;
      if (op === 0) {                          /* literal */
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        output[_out++] = here & 0xffff/*here.val*/;
      }
      else if (op & 16) {                     /* length base */
        len = here & 0xffff/*here.val*/;
        op &= 15;                           /* number of extra bits */
        if (op) {
          if (bits < op) {
            hold += input[_in++] << bits;
            bits += 8;
          }
          len += hold & ((1 << op) - 1);
          hold >>>= op;
          bits -= op;
        }
        //Tracevv((stderr, "inflate:         length %u\n", len));
        if (bits < 15) {
          hold += input[_in++] << bits;
          bits += 8;
          hold += input[_in++] << bits;
          bits += 8;
        }
        here = dcode[hold & dmask];

        dodist:
        for (;;) { // goto emulation
          op = here >>> 24/*here.bits*/;
          hold >>>= op;
          bits -= op;
          op = (here >>> 16) & 0xff/*here.op*/;

          if (op & 16) {                      /* distance base */
            dist = here & 0xffff/*here.val*/;
            op &= 15;                       /* number of extra bits */
            if (bits < op) {
              hold += input[_in++] << bits;
              bits += 8;
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
            }
            dist += hold & ((1 << op) - 1);
//#ifdef INFLATE_STRICT
            if (dist > dmax) {
              strm.msg = 'invalid distance too far back';
              state.mode = BAD;
              break top;
            }
//#endif
            hold >>>= op;
            bits -= op;
            //Tracevv((stderr, "inflate:         distance %u\n", dist));
            op = _out - beg;                /* max distance in output */
            if (dist > op) {                /* see if copy from window */
              op = dist - op;               /* distance back in window */
              if (op > whave) {
                if (state.sane) {
                  strm.msg = 'invalid distance too far back';
                  state.mode = BAD;
                  break top;
                }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//                if (len <= op - whave) {
//                  do {
//                    output[_out++] = 0;
//                  } while (--len);
//                  continue top;
//                }
//                len -= op - whave;
//                do {
//                  output[_out++] = 0;
//                } while (--op > whave);
//                if (op === 0) {
//                  from = _out - dist;
//                  do {
//                    output[_out++] = output[from++];
//                  } while (--len);
//                  continue top;
//                }
//#endif
              }
              from = 0; // window index
              from_source = s_window;
              if (wnext === 0) {           /* very common case */
                from += wsize - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              else if (wnext < op) {      /* wrap around window */
                from += wsize + wnext - op;
                op -= wnext;
                if (op < len) {         /* some from end of window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = 0;
                  if (wnext < len) {  /* some from start of window */
                    op = wnext;
                    len -= op;
                    do {
                      output[_out++] = s_window[from++];
                    } while (--op);
                    from = _out - dist;      /* rest from output */
                    from_source = output;
                  }
                }
              }
              else {                      /* contiguous in window */
                from += wnext - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              while (len > 2) {
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                len -= 3;
              }
              if (len) {
                output[_out++] = from_source[from++];
                if (len > 1) {
                  output[_out++] = from_source[from++];
                }
              }
            }
            else {
              from = _out - dist;          /* copy direct from output */
              do {                        /* minimum length is three */
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                len -= 3;
              } while (len > 2);
              if (len) {
                output[_out++] = output[from++];
                if (len > 1) {
                  output[_out++] = output[from++];
                }
              }
            }
          }
          else if ((op & 64) === 0) {          /* 2nd level distance code */
            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
            continue dodist;
          }
          else {
            strm.msg = 'invalid distance code';
            state.mode = BAD;
            break top;
          }

          break; // need to emulate goto via "continue"
        }
      }
      else if ((op & 64) === 0) {              /* 2nd level length code */
        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
        continue dolen;
      }
      else if (op & 32) {                     /* end-of-block */
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.mode = TYPE;
        break top;
      }
      else {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break top;
      }

      break; // need to emulate goto via "continue"
    }
  } while (_in < last && _out < end);

  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;

  /* update state and return */
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));
  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));
  state.hold = hold;
  state.bits = bits;
  return;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js ***!
  \*******************************************************************/
/*! exports provided: inflateReset, inflateReset2, inflateResetKeep, inflateInit, inflateInit2, inflate, inflateEnd, inflateGetHeader, inflateSetDictionary, inflateInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset", function() { return inflateReset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset2", function() { return inflateReset2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateResetKeep", function() { return inflateResetKeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit", function() { return inflateInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit2", function() { return inflateInit2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflate", function() { return inflate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateEnd", function() { return inflateEnd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateGetHeader", function() { return inflateGetHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateSetDictionary", function() { return inflateSetDictionary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInfo", function() { return inflateInfo; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");
/* harmony import */ var _adler32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adler32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js");
/* harmony import */ var _crc32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crc32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js");
/* harmony import */ var _inffast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inffast.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js");
/* harmony import */ var _inftrees_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inftrees.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js");






var CODES = 0;
var LENS = 1;
var DISTS = 2;

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
//var Z_NO_FLUSH      = 0;
//var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
//var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;

/* The deflate compression method */
var Z_DEFLATED  = 8;


/* STATES ====================================================================*/
/* ===========================================================================*/


var    HEAD = 1;       /* i: waiting for magic header */
var    FLAGS = 2;      /* i: waiting for method and flags (gzip) */
var    TIME = 3;       /* i: waiting for modification time (gzip) */
var    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */
var    EXLEN = 5;      /* i: waiting for extra length (gzip) */
var    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */
var    NAME = 7;       /* i: waiting for end of file name (gzip) */
var    COMMENT = 8;    /* i: waiting for end of comment (gzip) */
var    HCRC = 9;       /* i: waiting for header crc (gzip) */
var    DICTID = 10;    /* i: waiting for dictionary check value */
var    DICT = 11;      /* waiting for inflateSetDictionary() call */
var        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */
var        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */
var        STORED = 14;    /* i: waiting for stored size (length and complement) */
var        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */
var        COPY = 16;      /* i/o: waiting for input or output to copy stored block */
var        TABLE = 17;     /* i: waiting for dynamic block table lengths */
var        LENLENS = 18;   /* i: waiting for code length code lengths */
var        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */
var            LEN_ = 20;      /* i: same as LEN below, but only first time in */
var            LEN = 21;       /* i: waiting for length/lit/eob code */
var            LENEXT = 22;    /* i: waiting for length extra bits */
var            DIST = 23;      /* i: waiting for distance code */
var            DISTEXT = 24;   /* i: waiting for distance extra bits */
var            MATCH = 25;     /* o: waiting for output space to copy string */
var            LIT = 26;       /* o: waiting for output space to write literal */
var    CHECK = 27;     /* i: waiting for 32-bit check value */
var    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */
var    DONE = 29;      /* finished check, done -- remain here until reset */
var    BAD = 30;       /* got a data error -- remain here until reset */
var    MEM = 31;       /* got an inflate() memory error -- remain here until reset */
var    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */

/* ===========================================================================*/



var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);

var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_WBITS = MAX_WBITS;


function zswap32(q) {
  return  (((q >>> 24) & 0xff) +
          ((q >>> 8) & 0xff00) +
          ((q & 0xff00) << 8) +
          ((q & 0xff) << 24));
}


function InflateState() {
  this.mode = 0;             /* current inflate mode */
  this.last = false;          /* true if processing last block */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.havedict = false;      /* true if dictionary provided */
  this.flags = 0;             /* gzip header method and flags (0 if zlib) */
  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */
  this.check = 0;             /* protected copy of check value */
  this.total = 0;             /* protected copy of output count */
  // TODO: may be {}
  this.head = null;           /* where to save gzip header information */

  /* sliding window */
  this.wbits = 0;             /* log base 2 of requested window size */
  this.wsize = 0;             /* window size or zero if not using window */
  this.whave = 0;             /* valid bytes in the window */
  this.wnext = 0;             /* window write index */
  this.window = null;         /* allocated sliding window, if needed */

  /* bit accumulator */
  this.hold = 0;              /* input bit accumulator */
  this.bits = 0;              /* number of bits in "in" */

  /* for string and stored block copying */
  this.length = 0;            /* literal or length of data to copy */
  this.offset = 0;            /* distance back to copy string from */

  /* for table and code decoding */
  this.extra = 0;             /* extra bits needed */

  /* fixed and dynamic code tables */
  this.lencode = null;          /* starting table for length/literal codes */
  this.distcode = null;         /* starting table for distance codes */
  this.lenbits = 0;           /* index bits for lencode */
  this.distbits = 0;          /* index bits for distcode */

  /* dynamic table building */
  this.ncode = 0;             /* number of code length code lengths */
  this.nlen = 0;              /* number of length code lengths */
  this.ndist = 0;             /* number of distance code lengths */
  this.have = 0;              /* number of code lengths in lens[] */
  this.next = null;              /* next available space in codes[] */

  this.lens = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](320); /* temporary storage for code lengths */
  this.work = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](288); /* work area for code table building */

  /*
   because we don't have pointers in js, we use lencode and distcode directly
   as buffers so we don't need codes
  */
  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */
  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */
  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */
  this.sane = 0;                   /* if false, allow invalid distance too far */
  this.back = 0;                   /* bits back of last unprocessed length/lit */
  this.was = 0;                    /* initial length of match */
}

function inflateResetKeep(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = ''; /*Z_NULL*/
  if (state.wrap) {       /* to support ill-conceived Java test suite */
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null/*Z_NULL*/;
  state.hold = 0;
  state.bits = 0;
  //state.lencode = state.distcode = state.next = state.codes;
  state.lencode = state.lendyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_LENS);
  state.distcode = state.distdyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_DISTS);

  state.sane = 1;
  state.back = -1;
  //Tracev((stderr, "inflate: reset\n"));
  return Z_OK;
}

function inflateReset(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);

}

function inflateReset2(strm, windowBits) {
  var wrap;
  var state;

  /* get the state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;

  /* extract wrap request from windowBits parameter */
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  }
  else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }

  /* set number of window bits, free window if different */
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }

  /* update state and reset the rest of it */
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}

function inflateInit2(strm, windowBits) {
  var ret;
  var state;

  if (!strm) { return Z_STREAM_ERROR; }
  //strm.msg = Z_NULL;                 /* in case we return an error */

  state = new InflateState();

  //if (state === Z_NULL) return Z_MEM_ERROR;
  //Tracev((stderr, "inflate: allocated\n"));
  strm.state = state;
  state.window = null/*Z_NULL*/;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK) {
    strm.state = null/*Z_NULL*/;
  }
  return ret;
}

function inflateInit(strm) {
  return inflateInit2(strm, DEF_WBITS);
}


/*
 Return state with length and distance decoding tables and index sizes set to
 fixed code decoding.  Normally this returns fixed tables from inffixed.h.
 If BUILDFIXED is defined, then instead this routine builds the tables the
 first time it's called, and returns those tables the first time and
 thereafter.  This reduces the size of the code by about 2K bytes, in
 exchange for a little execution time.  However, BUILDFIXED should not be
 used for threaded applications, since the rewriting of the tables and virgin
 may not be thread-safe.
 */
var virgin = true;

var lenfix, distfix; // We have no pointers in JS, so keep tables separate

function fixedtables(state) {
  /* build fixed huffman tables if first call (may not be thread safe) */
  if (virgin) {
    var sym;

    lenfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](512);
    distfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](32);

    /* literal/length table */
    sym = 0;
    while (sym < 144) { state.lens[sym++] = 8; }
    while (sym < 256) { state.lens[sym++] = 9; }
    while (sym < 280) { state.lens[sym++] = 7; }
    while (sym < 288) { state.lens[sym++] = 8; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });

    /* distance table */
    sym = 0;
    while (sym < 32) { state.lens[sym++] = 5; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });

    /* do this just once */
    virgin = false;
  }

  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}


/*
 Update the window with the last wsize (normally 32K) bytes written before
 returning.  If window does not exist yet, create it.  This is only called
 when a window is already in use, or when output has been written during this
 inflate call, but the end of the deflate stream has not been reached yet.
 It is also called to create a window for dictionary data when a dictionary
 is loaded.

 Providing output buffers larger than 32K to inflate() should provide a speed
 advantage, since only the last 32K of output is copied to the sliding window
 upon return from inflate(), and since all distances after the first 32K of
 output will fall in the output data, making match copies simpler and faster.
 The advantage may be dependent on the size of the processor's data caches.
 */
function updatewindow(strm, src, end, copy) {
  var dist;
  var state = strm.state;

  /* if it hasn't been done already, allocate space for the window */
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;

    state.window = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](state.wsize);
  }

  /* copy state->wsize or less output bytes into the circular window */
  if (copy >= state.wsize) {
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  }
  else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    //zmemcpy(state->window + state->wnext, end - copy, dist);
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, dist, state.wnext);
    copy -= dist;
    if (copy) {
      //zmemcpy(state->window, end - copy, copy);
      _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, copy, 0);
      state.wnext = copy;
      state.whave = state.wsize;
    }
    else {
      state.wnext += dist;
      if (state.wnext === state.wsize) { state.wnext = 0; }
      if (state.whave < state.wsize) { state.whave += dist; }
    }
  }
  return 0;
}

function inflate(strm, flush) {
  var state;
  var input, output;          // input/output buffers
  var next;                   /* next input INDEX */
  var put;                    /* next output INDEX */
  var have, left;             /* available input and output */
  var hold;                   /* bit buffer */
  var bits;                   /* bits in bit buffer */
  var _in, _out;              /* save starting available input and output */
  var copy;                   /* number of stored or match bytes to copy */
  var from;                   /* where to copy match bytes from */
  var from_source;
  var here = 0;               /* current decoding table entry */
  var here_bits, here_op, here_val; // paked "here" denormalized (JS specific)
  //var last;                   /* parent table entry */
  var last_bits, last_op, last_val; // paked "last" denormalized (JS specific)
  var len;                    /* length to copy for repeats, bits to drop */
  var ret;                    /* return code */
  var hbuf = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](4);    /* buffer for gzip header crc calculation */
  var opts;

  var n; // temporary var for NEED_BITS

  var order = /* permutation of code lengths */
    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];


  if (!strm || !strm.state || !strm.output ||
      (!strm.input && strm.avail_in !== 0)) {
    return Z_STREAM_ERROR;
  }

  state = strm.state;
  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */


  //--- LOAD() ---
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  //---

  _in = have;
  _out = left;
  ret = Z_OK;

  inf_leave: // goto emulation
  for (;;) {
    switch (state.mode) {
    case HEAD:
      if (state.wrap === 0) {
        state.mode = TYPEDO;
        break;
      }
      //=== NEEDBITS(16);
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */
        state.check = 0/*crc32(0L, Z_NULL, 0)*/;
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//

        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        state.mode = FLAGS;
        break;
      }
      state.flags = 0;           /* expect zlib header */
      if (state.head) {
        state.head.done = false;
      }
      if (!(state.wrap & 1) ||   /* check if zlib header allowed */
        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {
        strm.msg = 'incorrect header check';
        state.mode = BAD;
        break;
      }
      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
      len = (hold & 0x0f)/*BITS(4)*/ + 8;
      if (state.wbits === 0) {
        state.wbits = len;
      }
      else if (len > state.wbits) {
        strm.msg = 'invalid window size';
        state.mode = BAD;
        break;
      }
      state.dmax = 1 << len;
      //Tracev((stderr, "inflate:   zlib header ok\n"));
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = hold & 0x200 ? DICTID : TYPE;
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      break;
    case FLAGS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.flags = hold;
      if ((state.flags & 0xff) !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      if (state.flags & 0xe000) {
        strm.msg = 'unknown header flags set';
        state.mode = BAD;
        break;
      }
      if (state.head) {
        state.head.text = ((hold >> 8) & 1);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = TIME;
      /* falls through */
    case TIME:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.time = hold;
      }
      if (state.flags & 0x0200) {
        //=== CRC4(state.check, hold)
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        hbuf[2] = (hold >>> 16) & 0xff;
        hbuf[3] = (hold >>> 24) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 4, 0);
        //===
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = OS;
      /* falls through */
    case OS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.xflags = (hold & 0xff);
        state.head.os = (hold >> 8);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = EXLEN;
      /* falls through */
    case EXLEN:
      if (state.flags & 0x0400) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length = hold;
        if (state.head) {
          state.head.extra_len = hold;
        }
        if (state.flags & 0x0200) {
          //=== CRC2(state.check, hold);
          hbuf[0] = hold & 0xff;
          hbuf[1] = (hold >>> 8) & 0xff;
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
          //===//
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      else if (state.head) {
        state.head.extra = null/*Z_NULL*/;
      }
      state.mode = EXTRA;
      /* falls through */
    case EXTRA:
      if (state.flags & 0x0400) {
        copy = state.length;
        if (copy > have) { copy = have; }
        if (copy) {
          if (state.head) {
            len = state.head.extra_len - state.length;
            if (!state.head.extra) {
              // Use untyped array for more conveniend processing later
              state.head.extra = new Array(state.head.extra_len);
            }
            _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](
              state.head.extra,
              input,
              next,
              // extra field is limited to 65536 bytes
              // - no need for additional size check
              copy,
              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
              len
            );
            //zmemcpy(state.head.extra + len, next,
            //        len + copy > state.head.extra_max ?
            //        state.head.extra_max - len : copy);
          }
          if (state.flags & 0x0200) {
            state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
          }
          have -= copy;
          next += copy;
          state.length -= copy;
        }
        if (state.length) { break inf_leave; }
      }
      state.length = 0;
      state.mode = NAME;
      /* falls through */
    case NAME:
      if (state.flags & 0x0800) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          // TODO: 2 or 1 bytes?
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.name_max*/)) {
            state.head.name += String.fromCharCode(len);
          }
        } while (len && copy < have);

        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.name = null;
      }
      state.length = 0;
      state.mode = COMMENT;
      /* falls through */
    case COMMENT:
      if (state.flags & 0x1000) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.comm_max*/)) {
            state.head.comment += String.fromCharCode(len);
          }
        } while (len && copy < have);
        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.comment = null;
      }
      state.mode = HCRC;
      /* falls through */
    case HCRC:
      if (state.flags & 0x0200) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.check & 0xffff)) {
          strm.msg = 'header crc mismatch';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      if (state.head) {
        state.head.hcrc = ((state.flags >> 9) & 1);
        state.head.done = true;
      }
      strm.adler = state.check = 0;
      state.mode = TYPE;
      break;
    case DICTID:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      strm.adler = state.check = zswap32(hold);
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = DICT;
      /* falls through */
    case DICT:
      if (state.havedict === 0) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        return Z_NEED_DICT;
      }
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      /* falls through */
    case TYPE:
      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case TYPEDO:
      if (state.last) {
        //--- BYTEBITS() ---//
        hold >>>= bits & 7;
        bits -= bits & 7;
        //---//
        state.mode = CHECK;
        break;
      }
      //=== NEEDBITS(3); */
      while (bits < 3) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.last = (hold & 0x01)/*BITS(1)*/;
      //--- DROPBITS(1) ---//
      hold >>>= 1;
      bits -= 1;
      //---//

      switch ((hold & 0x03)/*BITS(2)*/) {
      case 0:                             /* stored block */
        //Tracev((stderr, "inflate:     stored block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = STORED;
        break;
      case 1:                             /* fixed block */
        fixedtables(state);
        //Tracev((stderr, "inflate:     fixed codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = LEN_;             /* decode codes */
        if (flush === Z_TREES) {
          //--- DROPBITS(2) ---//
          hold >>>= 2;
          bits -= 2;
          //---//
          break inf_leave;
        }
        break;
      case 2:                             /* dynamic block */
        //Tracev((stderr, "inflate:     dynamic codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = TABLE;
        break;
      case 3:
        strm.msg = 'invalid block type';
        state.mode = BAD;
      }
      //--- DROPBITS(2) ---//
      hold >>>= 2;
      bits -= 2;
      //---//
      break;
    case STORED:
      //--- BYTEBITS() ---// /* go to byte boundary */
      hold >>>= bits & 7;
      bits -= bits & 7;
      //---//
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {
        strm.msg = 'invalid stored block lengths';
        state.mode = BAD;
        break;
      }
      state.length = hold & 0xffff;
      //Tracev((stderr, "inflate:       stored length %u\n",
      //        state.length));
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = COPY_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case COPY_:
      state.mode = COPY;
      /* falls through */
    case COPY:
      copy = state.length;
      if (copy) {
        if (copy > have) { copy = have; }
        if (copy > left) { copy = left; }
        if (copy === 0) { break inf_leave; }
        //--- zmemcpy(put, next, copy); ---
        _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](output, input, next, copy, put);
        //---//
        have -= copy;
        next += copy;
        left -= copy;
        put += copy;
        state.length -= copy;
        break;
      }
      //Tracev((stderr, "inflate:       stored end\n"));
      state.mode = TYPE;
      break;
    case TABLE:
      //=== NEEDBITS(14); */
      while (bits < 14) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
//#ifndef PKZIP_BUG_WORKAROUND
      if (state.nlen > 286 || state.ndist > 30) {
        strm.msg = 'too many length or distance symbols';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracev((stderr, "inflate:       table sizes ok\n"));
      state.have = 0;
      state.mode = LENLENS;
      /* falls through */
    case LENLENS:
      while (state.have < state.ncode) {
        //=== NEEDBITS(3);
        while (bits < 3) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);
        //--- DROPBITS(3) ---//
        hold >>>= 3;
        bits -= 3;
        //---//
      }
      while (state.have < 19) {
        state.lens[order[state.have++]] = 0;
      }
      // We have separate tables & no pointers. 2 commented lines below not needed.
      //state.next = state.codes;
      //state.lencode = state.next;
      // Switch to use dynamic table
      state.lencode = state.lendyn;
      state.lenbits = 7;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
      state.lenbits = opts.bits;

      if (ret) {
        strm.msg = 'invalid code lengths set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, "inflate:       code lengths ok\n"));
      state.have = 0;
      state.mode = CODELENS;
      /* falls through */
    case CODELENS:
      while (state.have < state.nlen + state.ndist) {
        for (;;) {
          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        if (here_val < 16) {
          //--- DROPBITS(here.bits) ---//
          hold >>>= here_bits;
          bits -= here_bits;
          //---//
          state.lens[state.have++] = here_val;
        }
        else {
          if (here_val === 16) {
            //=== NEEDBITS(here.bits + 2);
            n = here_bits + 2;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            if (state.have === 0) {
              strm.msg = 'invalid bit length repeat';
              state.mode = BAD;
              break;
            }
            len = state.lens[state.have - 1];
            copy = 3 + (hold & 0x03);//BITS(2);
            //--- DROPBITS(2) ---//
            hold >>>= 2;
            bits -= 2;
            //---//
          }
          else if (here_val === 17) {
            //=== NEEDBITS(here.bits + 3);
            n = here_bits + 3;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 3 + (hold & 0x07);//BITS(3);
            //--- DROPBITS(3) ---//
            hold >>>= 3;
            bits -= 3;
            //---//
          }
          else {
            //=== NEEDBITS(here.bits + 7);
            n = here_bits + 7;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 11 + (hold & 0x7f);//BITS(7);
            //--- DROPBITS(7) ---//
            hold >>>= 7;
            bits -= 7;
            //---//
          }
          if (state.have + copy > state.nlen + state.ndist) {
            strm.msg = 'invalid bit length repeat';
            state.mode = BAD;
            break;
          }
          while (copy--) {
            state.lens[state.have++] = len;
          }
        }
      }

      /* handle error breaks in while */
      if (state.mode === BAD) { break; }

      /* check for end-of-block code (better have one) */
      if (state.lens[256] === 0) {
        strm.msg = 'invalid code -- missing end-of-block';
        state.mode = BAD;
        break;
      }

      /* build code tables -- note: do not change the lenbits or distbits
         values here (9 and 6) without reading the comments in inftrees.h
         concerning the ENOUGH constants, which depend on those values */
      state.lenbits = 9;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.lenbits = opts.bits;
      // state.lencode = state.next;

      if (ret) {
        strm.msg = 'invalid literal/lengths set';
        state.mode = BAD;
        break;
      }

      state.distbits = 6;
      //state.distcode.copy(state.codes);
      // Switch to use dynamic table
      state.distcode = state.distdyn;
      opts = { bits: state.distbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.distbits = opts.bits;
      // state.distcode = state.next;

      if (ret) {
        strm.msg = 'invalid distances set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, 'inflate:       codes ok\n'));
      state.mode = LEN_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case LEN_:
      state.mode = LEN;
      /* falls through */
    case LEN:
      if (have >= 6 && left >= 258) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        Object(_inffast_js__WEBPACK_IMPORTED_MODULE_3__["default"])(strm, _out);
        //--- LOAD() ---
        put = strm.next_out;
        output = strm.output;
        left = strm.avail_out;
        next = strm.next_in;
        input = strm.input;
        have = strm.avail_in;
        hold = state.hold;
        bits = state.bits;
        //---

        if (state.mode === TYPE) {
          state.back = -1;
        }
        break;
      }
      state.back = 0;
      for (;;) {
        here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if (here_bits <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if (here_op && (here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.lencode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      state.length = here_val;
      if (here_op === 0) {
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        state.mode = LIT;
        break;
      }
      if (here_op & 32) {
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.back = -1;
        state.mode = TYPE;
        break;
      }
      if (here_op & 64) {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break;
      }
      state.extra = here_op & 15;
      state.mode = LENEXT;
      /* falls through */
    case LENEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
      //Tracevv((stderr, "inflate:         length %u\n", state.length));
      state.was = state.length;
      state.mode = DIST;
      /* falls through */
    case DIST:
      for (;;) {
        here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if ((here_bits) <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if ((here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.distcode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      if (here_op & 64) {
        strm.msg = 'invalid distance code';
        state.mode = BAD;
        break;
      }
      state.offset = here_val;
      state.extra = (here_op) & 15;
      state.mode = DISTEXT;
      /* falls through */
    case DISTEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
//#ifdef INFLATE_STRICT
      if (state.offset > state.dmax) {
        strm.msg = 'invalid distance too far back';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracevv((stderr, "inflate:         distance %u\n", state.offset));
      state.mode = MATCH;
      /* falls through */
    case MATCH:
      if (left === 0) { break inf_leave; }
      copy = _out - left;
      if (state.offset > copy) {         /* copy from window */
        copy = state.offset - copy;
        if (copy > state.whave) {
          if (state.sane) {
            strm.msg = 'invalid distance too far back';
            state.mode = BAD;
            break;
          }
// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//          Trace((stderr, "inflate.c too far\n"));
//          copy -= state.whave;
//          if (copy > state.length) { copy = state.length; }
//          if (copy > left) { copy = left; }
//          left -= copy;
//          state.length -= copy;
//          do {
//            output[put++] = 0;
//          } while (--copy);
//          if (state.length === 0) { state.mode = LEN; }
//          break;
//#endif
        }
        if (copy > state.wnext) {
          copy -= state.wnext;
          from = state.wsize - copy;
        }
        else {
          from = state.wnext - copy;
        }
        if (copy > state.length) { copy = state.length; }
        from_source = state.window;
      }
      else {                              /* copy from output */
        from_source = output;
        from = put - state.offset;
        copy = state.length;
      }
      if (copy > left) { copy = left; }
      left -= copy;
      state.length -= copy;
      do {
        output[put++] = from_source[from++];
      } while (--copy);
      if (state.length === 0) { state.mode = LEN; }
      break;
    case LIT:
      if (left === 0) { break inf_leave; }
      output[put++] = state.length;
      left--;
      state.mode = LEN;
      break;
    case CHECK:
      if (state.wrap) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          // Use '|' insdead of '+' to make sure that result is signed
          hold |= input[next++] << bits;
          bits += 8;
        }
        //===//
        _out -= left;
        strm.total_out += _out;
        state.total += _out;
        if (_out) {
          strm.adler = state.check =
              /*UPDATE(state.check, put - _out, _out);*/
              (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, put - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, put - _out));

        }
        _out = left;
        // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too
        if ((state.flags ? hold : zswap32(hold)) !== state.check) {
          strm.msg = 'incorrect data check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   check matches trailer\n"));
      }
      state.mode = LENGTH;
      /* falls through */
    case LENGTH:
      if (state.wrap && state.flags) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.total & 0xffffffff)) {
          strm.msg = 'incorrect length check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   length matches trailer\n"));
      }
      state.mode = DONE;
      /* falls through */
    case DONE:
      ret = Z_STREAM_END;
      break inf_leave;
    case BAD:
      ret = Z_DATA_ERROR;
      break inf_leave;
    case MEM:
      return Z_MEM_ERROR;
    case SYNC:
      /* falls through */
    default:
      return Z_STREAM_ERROR;
    }
  }

  // inf_leave <- here is real place for "goto inf_leave", emulated via "break inf_leave"

  /*
     Return from inflate(), updating the total counts and the check value.
     If there was no progress during the inflate() call, return a buffer
     error.  Call updatewindow() to create and/or update the window state.
     Note: a memory error from inflate() is non-recoverable.
   */

  //--- RESTORE() ---
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  //---

  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&
                      (state.mode < CHECK || flush !== Z_FINISH))) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
      (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, strm.next_out - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, strm.next_out - _out));
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) +
                    (state.mode === TYPE ? 128 : 0) +
                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {
    ret = Z_BUF_ERROR;
  }
  return ret;
}

function inflateEnd(strm) {

  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {
    return Z_STREAM_ERROR;
  }

  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK;
}

function inflateGetHeader(strm, head) {
  var state;

  /* check state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }

  /* save header structure */
  state.head = head;
  head.done = false;
  return Z_OK;
}

function inflateSetDictionary(strm, dictionary) {
  var dictLength = dictionary.length;

  var state;
  var dictid;
  var ret;

  /* check state */
  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }
  state = strm.state;

  if (state.wrap !== 0 && state.mode !== DICT) {
    return Z_STREAM_ERROR;
  }

  /* check for correct dictionary identifier */
  if (state.mode === DICT) {
    dictid = 1; /* adler32(0, null, 0)*/
    /* dictid = adler32(dictid, dictionary, dictLength); */
    dictid = Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(dictid, dictionary, dictLength, 0);
    if (dictid !== state.check) {
      return Z_DATA_ERROR;
    }
  }
  /* copy dictionary to window using updatewindow(), which will amend the
   existing dictionary if appropriate */
  ret = updatewindow(strm, dictionary, dictLength, dictLength);
  if (ret) {
    state.mode = MEM;
    return Z_MEM_ERROR;
  }
  state.havedict = 1;
  // Tracev((stderr, "inflate:   dictionary set\n"));
  return Z_OK;
}


var inflateInfo = 'pako inflate (from Nodeca project)';

/* Not implemented
exports.inflateCopy = inflateCopy;
exports.inflateGetDictionary = inflateGetDictionary;
exports.inflateMark = inflateMark;
exports.inflatePrime = inflatePrime;
exports.inflateSync = inflateSync;
exports.inflateSyncPoint = inflateSyncPoint;
exports.inflateUndermine = inflateUndermine;
*/


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js":
/*!********************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_table; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");


var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);

var CODES = 0;
var LENS = 1;
var DISTS = 2;

var lbase = [ /* Length codes 257..285 base */
  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
];

var lext = [ /* Length codes 257..285 extra */
  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
];

var dbase = [ /* Distance codes 0..29 base */
  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
  8193, 12289, 16385, 24577, 0, 0
];

var dext = [ /* Distance codes 0..29 extra */
  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
  28, 28, 29, 29, 64, 64
];

function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)
{
  var bits = opts.bits;
      //here = opts.here; /* table entry for duplication */

  var len = 0;               /* a code's length in bits */
  var sym = 0;               /* index of code symbols */
  var min = 0, max = 0;          /* minimum and maximum code lengths */
  var root = 0;              /* number of index bits for root table */
  var curr = 0;              /* number of index bits for current table */
  var drop = 0;              /* code bits to drop for sub-table */
  var left = 0;                   /* number of prefix codes available */
  var used = 0;              /* code entries in table used */
  var huff = 0;              /* Huffman code */
  var incr;              /* for incrementing code, index */
  var fill;              /* index for replicating entries */
  var low;               /* low bits for current root entry */
  var mask;              /* mask for low root bits */
  var next;             /* next available space in table */
  var base = null;     /* base value table to use */
  var base_index = 0;
//  var shoextra;    /* extra bits table to use */
  var end;                    /* use base and extra for symbol > end */
  var count = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */
  var offs = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */
  var extra = null;
  var extra_index = 0;

  var here_bits, here_op, here_val;

  /*
   Process a set of code lengths to create a canonical Huffman code.  The
   code lengths are lens[0..codes-1].  Each length corresponds to the
   symbols 0..codes-1.  The Huffman code is generated by first sorting the
   symbols by length from short to long, and retaining the symbol order
   for codes with equal lengths.  Then the code starts with all zero bits
   for the first code of the shortest length, and the codes are integer
   increments for the same length, and zeros are appended as the length
   increases.  For the deflate format, these bits are stored backwards
   from their more natural integer increment ordering, and so when the
   decoding tables are built in the large loop below, the integer codes
   are incremented backwards.

   This routine assumes, but does not check, that all of the entries in
   lens[] are in the range 0..MAXBITS.  The caller must assure this.
   1..MAXBITS is interpreted as that code length.  zero means that that
   symbol does not occur in this code.

   The codes are sorted by computing a count of codes for each length,
   creating from that a table of starting indices for each length in the
   sorted table, and then entering the symbols in order in the sorted
   table.  The sorted table is work[], with that space being provided by
   the caller.

   The length counts are used for other purposes as well, i.e. finding
   the minimum and maximum length codes, determining if there are any
   codes at all, checking for a valid set of lengths, and looking ahead
   at length counts to determine sub-table sizes when building the
   decoding tables.
   */

  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }

  /* bound code lengths, force root to be within code lengths */
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) { break; }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {                     /* no symbols to code at all */
    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */
    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;
    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;


    //table.op[opts.table_index] = 64;
    //table.bits[opts.table_index] = 1;
    //table.val[opts.table_index++] = 0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;

    opts.bits = 1;
    return 0;     /* no symbols, but wait for decoding to report error */
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) { break; }
  }
  if (root < min) {
    root = min;
  }

  /* check for an over-subscribed or incomplete set of lengths */
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }        /* over-subscribed */
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;                      /* incomplete set */
  }

  /* generate offsets into symbol table for each length for sorting */
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }

  /* sort symbols by length, by symbol order within each length */
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }

  /*
   Create and fill in decoding tables.  In this loop, the table being
   filled is at next and has curr index bits.  The code being used is huff
   with length len.  That code is converted to an index by dropping drop
   bits off of the bottom.  For codes where len is less than drop + curr,
   those top drop + curr - len bits are incremented through all values to
   fill the table with replicated entries.

   root is the number of index bits for the root table.  When len exceeds
   root, sub-tables are created pointed to by the root entry with an index
   of the low root bits of huff.  This is saved in low to check for when a
   new sub-table should be started.  drop is zero when the root table is
   being filled, and drop is root when sub-tables are being filled.

   When a new sub-table is needed, it is necessary to look ahead in the
   code lengths to determine what size sub-table is needed.  The length
   counts are used for this, and so count[] is decremented as codes are
   entered in the tables.

   used keeps track of how many table entries have been allocated from the
   provided *table space.  It is checked for LENS and DIST tables against
   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in
   the initial root table size constants.  See the comments in inftrees.h
   for more information.

   sym increments through all symbols, and the loop terminates when
   all codes of length max, i.e. all codes, have been processed.  This
   routine permits incomplete codes, so another loop after this one fills
   in the rest of the decoding tables with invalid code markers.
   */

  /* set up for code type */
  // poor man optimization - use if-else instead of switch,
  // to avoid deopts in old v8
  if (type === CODES) {
    base = extra = work;    /* dummy value--not used */
    end = 19;

  } else if (type === LENS) {
    base = lbase;
    base_index -= 257;
    extra = lext;
    extra_index -= 257;
    end = 256;

  } else {                    /* DISTS */
    base = dbase;
    extra = dext;
    end = -1;
  }

  /* initialize opts for loop */
  huff = 0;                   /* starting code */
  sym = 0;                    /* starting code symbol */
  len = min;                  /* starting code length */
  next = table_index;              /* current table to fill in */
  curr = root;                /* current table index bits */
  drop = 0;                   /* current bits to drop from code for index */
  low = -1;                   /* trigger new sub-table when len > root */
  used = 1 << root;          /* use root table entries */
  mask = used - 1;            /* mask for comparing low */

  /* check available table space */
  if ((type === LENS && used > ENOUGH_LENS) ||
    (type === DISTS && used > ENOUGH_DISTS)) {
    return 1;
  }

  /* process all codes and make table entries */
  for (;;) {
    /* create table entry */
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    }
    else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    }
    else {
      here_op = 32 + 64;         /* end of block */
      here_val = 0;
    }

    /* replicate for those indices with low len bits equal to huff */
    incr = 1 << (len - drop);
    fill = 1 << curr;
    min = fill;                 /* save offset to next table */
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;
    } while (fill !== 0);

    /* backwards increment the len-bit code huff */
    incr = 1 << (len - 1);
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }

    /* go to next symbol, update count, len */
    sym++;
    if (--count[len] === 0) {
      if (len === max) { break; }
      len = lens[lens_index + work[sym]];
    }

    /* create new sub-table if needed */
    if (len > root && (huff & mask) !== low) {
      /* if first time, transition to sub-tables */
      if (drop === 0) {
        drop = root;
      }

      /* increment past last table */
      next += min;            /* here min is 1 << curr */

      /* determine length of next table */
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) { break; }
        curr++;
        left <<= 1;
      }

      /* check for enough space */
      used += 1 << curr;
      if ((type === LENS && used > ENOUGH_LENS) ||
        (type === DISTS && used > ENOUGH_DISTS)) {
        return 1;
      }

      /* point entry in root table to sub-table */
      low = huff & mask;
      /*table.op[low] = curr;
      table.bits[low] = root;
      table.val[low] = next - opts.table_index;*/
      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;
    }
  }

  /* fill in remaining table entry if code is incomplete (guaranteed to have
   at most one remaining entry, since if the code is incomplete, the
   maximum code length that was allowed to get this far is one bit) */
  if (huff !== 0) {
    //table.op[next + huff] = 64;            /* invalid code marker */
    //table.bits[next + huff] = len - drop;
    //table.val[next + huff] = 0;
    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;
  }

  /* set return parameters */
  //opts.table_index += used;
  opts.bits = root;
  return 0;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZStream; });
function ZStream() {
  /* next input byte */
  this.input = null; // JS specific, because we have no pointers
  this.next_in = 0;
  /* number of bytes available at input */
  this.avail_in = 0;
  /* total number of input bytes read so far */
  this.total_in = 0;
  /* next output byte should be put there */
  this.output = null; // JS specific, because we have no pointers
  this.next_out = 0;
  /* remaining free space at output */
  this.avail_out = 0;
  /* total number of bytes output so far */
  this.total_out = 0;
  /* last error message, NULL if no error */
  this.msg = ''/*Z_NULL*/;
  /* not visible by applications */
  this.state = null;
  /* best guess about the data type: binary or text */
  this.data_type = 2/*Z_UNKNOWN*/;
  /* adler32 value of the uncompressed data */
  this.adler = 0;
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @this {Promise}
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      return constructor.resolve(callback()).then(function() {
        return value;
      });
    },
    function(reason) {
      return constructor.resolve(callback()).then(function() {
        return constructor.reject(reason);
      });
    }
  );
}

/* harmony default export */ __webpack_exports__["default"] = (finallyConstructor);


/***/ }),

/***/ "./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var _finally__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./finally */ "./node_modules/promise-polyfill/src/finally.js");


// Store setTimeout reference so promise-polyfill will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var setTimeoutFunc = setTimeout;

function noop() {}

// Polyfill for Function.prototype.bind
function bind(fn, thisArg) {
  return function() {
    fn.apply(thisArg, arguments);
  };
}

/**
 * @constructor
 * @param {Function} fn
 */
function Promise(fn) {
  if (!(this instanceof Promise))
    throw new TypeError('Promises must be constructed via new');
  if (typeof fn !== 'function') throw new TypeError('not a function');
  /** @type {!number} */
  this._state = 0;
  /** @type {!boolean} */
  this._handled = false;
  /** @type {Promise|undefined} */
  this._value = undefined;
  /** @type {!Array<!Function>} */
  this._deferreds = [];

  doResolve(fn, this);
}

function handle(self, deferred) {
  while (self._state === 3) {
    self = self._value;
  }
  if (self._state === 0) {
    self._deferreds.push(deferred);
    return;
  }
  self._handled = true;
  Promise._immediateFn(function() {
    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
      return;
    }
    var ret;
    try {
      ret = cb(self._value);
    } catch (e) {
      reject(deferred.promise, e);
      return;
    }
    resolve(deferred.promise, ret);
  });
}

function resolve(self, newValue) {
  try {
    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    if (newValue === self)
      throw new TypeError('A promise cannot be resolved with itself.');
    if (
      newValue &&
      (typeof newValue === 'object' || typeof newValue === 'function')
    ) {
      var then = newValue.then;
      if (newValue instanceof Promise) {
        self._state = 3;
        self._value = newValue;
        finale(self);
        return;
      } else if (typeof then === 'function') {
        doResolve(bind(then, newValue), self);
        return;
      }
    }
    self._state = 1;
    self._value = newValue;
    finale(self);
  } catch (e) {
    reject(self, e);
  }
}

function reject(self, newValue) {
  self._state = 2;
  self._value = newValue;
  finale(self);
}

function finale(self) {
  if (self._state === 2 && self._deferreds.length === 0) {
    Promise._immediateFn(function() {
      if (!self._handled) {
        Promise._unhandledRejectionFn(self._value);
      }
    });
  }

  for (var i = 0, len = self._deferreds.length; i < len; i++) {
    handle(self, self._deferreds[i]);
  }
  self._deferreds = null;
}

/**
 * @constructor
 */
function Handler(onFulfilled, onRejected, promise) {
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, self) {
  var done = false;
  try {
    fn(
      function(value) {
        if (done) return;
        done = true;
        resolve(self, value);
      },
      function(reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      }
    );
  } catch (ex) {
    if (done) return;
    done = true;
    reject(self, ex);
  }
}

Promise.prototype['catch'] = function(onRejected) {
  return this.then(null, onRejected);
};

Promise.prototype.then = function(onFulfilled, onRejected) {
  // @ts-ignore
  var prom = new this.constructor(noop);

  handle(this, new Handler(onFulfilled, onRejected, prom));
  return prom;
};

Promise.prototype['finally'] = _finally__WEBPACK_IMPORTED_MODULE_0__["default"];

Promise.all = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!arr || typeof arr.length === 'undefined')
      throw new TypeError('Promise.all accepts an array');
    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      try {
        if (val && (typeof val === 'object' || typeof val === 'function')) {
          var then = val.then;
          if (typeof then === 'function') {
            then.call(
              val,
              function(val) {
                res(i, val);
              },
              reject
            );
            return;
          }
        }
        args[i] = val;
        if (--remaining === 0) {
          resolve(args);
        }
      } catch (ex) {
        reject(ex);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.resolve = function(value) {
  if (value && typeof value === 'object' && value.constructor === Promise) {
    return value;
  }

  return new Promise(function(resolve) {
    resolve(value);
  });
};

Promise.reject = function(value) {
  return new Promise(function(resolve, reject) {
    reject(value);
  });
};

Promise.race = function(values) {
  return new Promise(function(resolve, reject) {
    for (var i = 0, len = values.length; i < len; i++) {
      values[i].then(resolve, reject);
    }
  });
};

// Use polyfill for setImmediate for performance gains
Promise._immediateFn =
  (typeof setImmediate === 'function' &&
    function(fn) {
      setImmediate(fn);
    }) ||
  function(fn) {
    setTimeoutFunc(fn, 0);
  };

Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
  if (typeof console !== 'undefined' && console) {
    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Promise);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate))

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 68
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/unfetch/polyfill/index.js":
/*!************************************************!*\
  !*** ./node_modules/unfetch/polyfill/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest;for(var o in s.open(n.method||"get",e,!0),n.headers)s.setRequestHeader(o,n.headers[o]);function u(){var e,n=[],t=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(s,o,u){n.push(o=o.toLowerCase()),t.push([o,u]),r[o]=(e=r[o])?e+","+u:u}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return n},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials="include"==n.credentials,s.onload=function(){t(u())},s.onerror=r,s.send(n.body||null)})});


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/audio-mediasource.js":
/*!**********************************!*\
  !*** ./src/audio-mediasource.js ***!
  \**********************************/
/*! exports provided: getBestAudioType, WSAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBestAudioType", function() { return getBestAudioType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WSAudio", function() { return WSAudio; });
// Play Audio with MediaSource extensions received over a websocket
var OPUS_MIME_TYPE = 'audio/webm; codecs="opus"';
var MP3_MIME_TYPE = 'audio/mpeg';

// This represents the order in which the types are tried
const AUDIO_TYPES = [
  {"id": "mp3",
    "type": MP3_MIME_TYPE},

  {"id": "opus",
    "type": OPUS_MIME_TYPE},
];




function getBestAudioType() {
  if (window.MediaSource) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (window.MediaSource.isTypeSupported(AUDIO_TYPES[i].type)) {
        return AUDIO_TYPES[i].id;
      }
    }
  }
};


function WSAudio (browser_info, init_params) {
  init_params = init_params || {};

  var MAX_BUFFERS = 250;
  var MIN_START_BUFFERS = 10;

  var minLatency = 0.2; // 200ms
  var maxLatency = 0.5  // 500ms
  this.latencyCheck = null;

  this.ws = null;
  this.ws_url = null;

  this.errCount = 0;

  this.allowAppend = false;

  this.audio = null;
  this.audio_mime = null;
  this.mediasource = null;
  this.buffer = null;

  this.buffQ = [];
  this.buffCount = 0;
  this.buffSize = 0;

  this.get_audio_mime = function(browser_info) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (AUDIO_TYPES[i].id == browser_info.audio) {
        return AUDIO_TYPES[i].type;
      }
    }

    console.log("Audio not inited, unknown audio type: " + browser_info.audio);
    return null;
  }

  this.get_ws_url = function(browser_info) {
    var ws_url = (window.location.protocol == "https:" ? "wss:" : "ws:");
    ws_url += window.location.hostname;

    var audio_port = browser_info.cmd_port;

    if (init_params.proxy_ws) {
      ws_url += "/" + init_params.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }


  this.start = function() {
    if (this.audio) {
      return true;
    }

    this.audio_mime = this.get_audio_mime(browser_info);
    this.ws_url = this.get_ws_url(browser_info);

    if (!this.audio_mime) {
      return false;
    }

    this.latencyCheck = setInterval(this.latencyController.bind(this), 250);

    this.mediasource = new MediaSource();
    this.mediasource.addEventListener("sourceopen", this.sourceOpen.bind(this));

    this.mediasource.addEventListener("error", (function(event) {
      this.audioError("MediaSource Error", event);
    }).bind(this));

    this.audio = new Audio();
    this.audio.src = URL.createObjectURL(this.mediasource);
    this.audio.autoplay = true;
    this.audio.load();
    this.audio.play().catch(function() { });

    return true;
  }

  this.sourceOpen = function() {
    if (this.mediasource.sourceBuffers.length) {
      console.log("source already open");
      return;
    }

    var buffer = null;

    try {
      buffer = this.mediasource.addSourceBuffer(this.audio_mime);
    } catch (e) {
      console.log("Opening Source Error: " + e);
      return;
    }

    buffer.mode = "sequence";
    //buffer.timestampOffset = 0;

    buffer.addEventListener("error", (function(event) {
      this.audioError("buffer error: " + (this.buffCount), event);
    }).bind(this));

    buffer.addEventListener("updateend", this.onUpdateEnd.bind(this));

    this.buffer = buffer;

    this.allowAppend = true;

    this.initWs();
  };

  this.close = function() {
    console.log("Closing Audio");
    try {
      if (this.latencyCheck) {
        clearInterval(this.latencyCheck);
      }

      if (this.mediasource) {
        this.mediasource.removeSourceBuffer(this.buffer);
        if (this.mediasource.readyState == "open") {
          this.mediasource.endOfStream();
        }
      }
      this.buffer = null;

    } catch(e) {
      console.log("Error Closing: " + e);
    }
    this.mediasource = null;

    try {
      if (this.audio) {
        this.audio.pause();
      }
      this.audio = null;
    } catch (e) {
      console.log("Error Closing: " + e);
    }

    if (this.ws) {
      console.log("Closing websocket");
      try {
        this.ws.close();
      } catch(e) {}

      this.ws = null;
    }
  }

  this.mergeBuffers = function() {
    var merged;

    if (this.buffQ.length == 1) {
      merged = this.buffQ[0];
    } else {
      merged = new Uint8Array(this.buffSize);

      var length = this.buffQ.length;
      var offset = 0;

      for (var i = 0; i < length; i++) {
        var curr = this.buffQ[i];
        if (curr.length <= 0) {
          continue;
        }
        merged.set(curr, offset);
        offset += curr.length;
      }
    }

    this.buffQ = [];
    this.buffCount++;
    return merged;
  }

  this.onUpdateEnd = function() {
    this.allowAppend = true;
    this.updateNext();
  }

  this.updateNext = function() {
    if (!this.buffQ.length) {
      return;
    }

    try {
      var merged = this.mergeBuffers();
      this.buffer.appendBuffer(merged);
      this.allowAppend = false;
      this.buffSize -= merged.length;
      this.errCount = 0;
    } catch (e) {
      this.audioError("Error Adding Buffer: " + e);
    }
  }

  this.latencyController = function() {
    // check for latency and seek forward if necessary
    try {
      var latency = this.audio.buffered.end(0) - this.audio.currentTime;
      if (latency > maxLatency) {
        this.audio.currentTime = this.audio.buffered.end(0) - minLatency;
        console.log("Audio has been seeked by ", Math.round((latency - minLatency) * 1000), " ms");
      }

    } catch(e) {

    }
  }

  this.audioError = function(msg, event) {
    if (this.audio && this.audio.error) {
      console.log(msg);
      console.log(this.audio.error);
      //console.log("num processed: " + this.buffCount);
      this.errCount += 1;
      //if (this.errCount == 1) {
      //    setTimeout(restartAudio, 3000);
      //}
    }
  }

  this.queue = function(buffer) {
    /*
    if (this.buffSize > 200000) {
        if (this.buffCount > 0) {
            var res = this.buffQ.shift();
            this.buffSize -= res.length;
            console.log("dropping old buffers");
        } else {
            // don't drop the starting buffers
            console.log("dropping new buffers");
            this.updateNext();
            return;
        }
    }
    */

    buffer = new Uint8Array(buffer);
    this.buffQ.push(buffer);
    this.buffSize += buffer.length;

    if (this.allowAppend) {
      this.updateNext();
    }
  }

  this.initWs = function() {
    try {
      this.ws = new WebSocket(this.ws_url, "binary");
    } catch (e) {
      this.audioError("WS Open Failed");
    }

    this.ws.binaryType = 'arraybuffer';
    this.ws.addEventListener("open", ws_open.bind(this));
    this.ws.addEventListener("close", ws_close.bind(this));
    this.ws.addEventListener("message", ws_message.bind(this));
    this.ws.addEventListener('error', ws_error.bind(this));
  }

  var ws_open = function(event) {
    //this.send("ready");
  }

  var ws_message = function(event) {
    if (this.errCount == 0) {
      this.queue(event.data);
    }
  }

  var ws_error = function() {
    this.audioError("WS Error");
  }

  var ws_close = function() {
    this.audioError("WS Close");
  }

  return this;

  //return {"start": start,
  //        "stop": stop,
  //        "restart": restartAudio,
  //        "getAudio": function () {return  audioWS.audio;},
  //}
};






/***/ }),

/***/ "./src/audio-webrtc.js":
/*!*****************************!*\
  !*** ./src/audio-webrtc.js ***!
  \*****************************/
/*! exports provided: WebRTCAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebRTCAudio", function() { return WebRTCAudio; });



function WebRTCAudio(peer_id, data) {

  let debug = true;
  let serverReflx = true;
  let audio = null;
  let connect_attempts = 0;
  let peer_connection;
  let ws_conn;

  let cand_count = 1;
  let LOCAL_PORT = 10235;

  let remote_ips = [];

  // setup possible remote ips based on hostname or specified IP
  if (data.webrtcHostIP) {
    remote_ips.push(data.webrtcHostIP);
  }

  getLocalIPs();

  if (!remote_ips.includes(window.location.hostname)) {
    remote_ips.push(window.location.hostname);
  }

  this.start = function() {
    if (audio) {
      console.log("already started");
      return;
    }

    audio = new Audio();
    this.audio = audio;
    audio.autoplay = true;
    audio.play().catch((err) => setError("audio.play() error: " + err));

    connectToSignalingServer();
  };

  function connectToSignalingServer() {
    connect_attempts++;
    if (connect_attempts > 100) {
      setError("Too many connection attempts, aborting. Refresh page to try again");
      return;
    }

    // Fetch the peer id to use
    let peer_id = getPeerId();
    let ws_url = getSignallingServer();
    setStatus("Connecting to server " + ws_url + ", attempt= " + connect_attempts);
    ws_conn = new WebSocket(ws_url);
    /* When connected, immediately register with the server */
    ws_conn.addEventListener('open', () => {
      ws_conn.send('HELLO ' + peer_id);
      setStatus("Registering with server, peer-id = " + peer_id);
    });

    ws_conn.addEventListener('error', onServerError);
    ws_conn.addEventListener('message', onServerMessage);
    ws_conn.addEventListener('close', onServerClose);
  }

  function getPeerId() {
    return peer_id;
  }

  function getSignallingServer() {
    let ws_url = (window.location.protocol === "https:" ? "wss://" : "ws://");
    ws_url += window.location.hostname;

    var audio_port = data.ports.cmd_port;

    if (data.proxy_ws) {
      ws_url += "/" + data.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }

  function onServerError() {
    setError("Unable to connect to server, did you add an exception for the certificate?");
    // Retry after 3 seconds
    window.setTimeout(connectToSignalingServer, 3000);
  }

  function handleIncomingError(message) {
    if (debug) {
      console.log("handleIncomingError: " + message);
    }
  }

  function onServerMessage(event) {
    if (debug) {
      console.log("Received from websocket " + event.data);
    }
    let msg;
    switch (event.data) {
      case "HELLO":
        setStatus("Registered with server, waiting for call");
        return;
      default:
        if (event.data.startsWith("ERROR")) {
          handleIncomingError(event.data);
          return;
        }
        // Handle incoming JSON SDP and ICE messages
        try {
          msg = JSON.parse(event.data);
        } catch (e) {
          if (e instanceof SyntaxError) {
            handleIncomingError("Error parsing incoming JSON: " + event.data);
          } else {
            handleIncomingError("Unknown error parsing response: " + event.data);
          }
          return;
        }

        // Incoming JSON signals the beginning of a call
        if (!peer_connection)
          createCall(msg);

        if (msg.sdp != null) {
          onIncomingSDP(msg.sdp);
        } else if (msg.ice != null) {
          onIncomingICE(msg.ice);
        } else {
          handleIncomingError("Unknown incoming JSON: " + msg);
        }
    }
  }

  function getLocalIPs() {
    if (window.location.hostname != "localhost" &&
        window.location.hostname != "127.0.0.1") {
      return;
    }

    if (!remote_ips.includes("127.0.0.1")) {
      remote_ips.push("127.0.0.1");
    }

    var pc = new RTCPeerConnection({iceServers: []});
    pc.createDataChannel("");
    pc.onicecandidate = function(ice) {
      if (!ice || !ice.candidate || !ice.candidate.candidate) {
        pc.close();
        return;
      }

      var parts = ice.candidate.candidate.split(" ");
      if (!remote_ips.includes(parts[4])) {
        if (debug) {
          console.log("Detected Local IP: " + parts[4]);
        }
        remote_ips.push(parts[4]);
      }
    }

    pc.createOffer({offerToReceiveAudio: false, offerToReceiveVideo: false}).then(function(ice) {
      pc.setLocalDescription(ice);
    });
  }

  function buildIceCandidate(parts, ice, hostIP) {
    parts[0] = "candidate:" + (cand_count++);
    parts[4] = hostIP;

    if (serverReflx) {
      parts[7] = "srflx";
      parts.splice(8, 0, "raddr", hostIP, "rport", parts[5]);
    }

    ice.candidate = parts.join(" ");

    if (debug) {
      console.log(JSON.stringify(ice));
    }

    let candidate = new RTCIceCandidate(ice);
    peer_connection.addIceCandidate(candidate).catch(() => setError("Error adding ice candidate"));
  }

  // ICE candidate received from peer, add it to the peer connection
  function onIncomingICE(ice) {
    var parts = ice.candidate.split(" ");

    if (parts[1] == "2") {
      // skipping rtcp
      return;
    }

    if (parts[5] != LOCAL_PORT) {
      return;
    }

    if (parts[2] == "TCP") {
      parts[5] = data.ports.ice_tcp_port;
    } else {
      parts[5] = data.ports.ice_udp_port;
    }

    if (debug) {
      console.log("Remote IPs: " + JSON.stringify(remote_ips));
    }

    // iterate through all known remote ips
    remote_ips.forEach(function(ip) {
      buildIceCandidate(parts, ice, ip);
      // lower priority for each additional candidate
      parts[3] = (parseInt(parts[3]) - 1) + "";
    });
  }

  function onServerClose(event) {
    setStatus('Disconnected from server with code=' + event.code + ' reason=' + event.reason);
    resetAudio();
    disconnectWebsocket();

    if (event.code !== 1002) {
      // Reset after a second
      window.setTimeout(connectToSignalingServer, 2000);
    } else {
      if (connect_attempts < 5) {
        // Retrieve to connect up to 5 times (peer-id might be in conflict if init_browser is called again)
        window.setTimeout(connectToSignalingServer, 2000);
      }
    }
  }

  function setStatus(status) {
    if (debug) {
      console.log("WebRTC-status:" + status);
    }
  }

  function setError(error) {
    if (debug) {
      console.log("WebRTC-error: " + error);
    }
  }

  function onIncomingSDP(sdp) {
    peer_connection.setRemoteDescription(sdp).then(() => {
      setStatus("Remote SDP set");
      if (sdp.type !== "offer")
        return;
      setStatus("Got SDP offer");
      peer_connection.createAnswer()
        .then(onLocalDescription).catch(() => setError("Error setting local description"));
    }).catch(() => setError("Error setting remote description"));
  }

  // Local description was set, send it to peer
  function onLocalDescription(desc) {
    if (debug) {
      console.log("Got local description: " + JSON.stringify(desc));
    }
    peer_connection.setLocalDescription(desc).then(function() {
      setStatus("Sending SDP answer");
      let sdp = JSON.stringify({'sdp': peer_connection.localDescription});
      ws_conn.send(sdp);
    });
  }


  function resetAudio() {
    // Reset the audio element and stop showing the last received frame
    try {
      audio.pause();
    } catch (e) {
      console.log("resetAudio error " + e);
    }

  }

  this.close = function() {
    setStatus("Closing WebRTC audio connection");
    disconnectWebsocket();
  };

  function disconnectWebsocket() {
    if (ws_conn) {
      setStatus("disconnect websocket");
      ws_conn.close();
    }

    if (peer_connection) {
      setStatus("disconnect peer");
      peer_connection.close();
      peer_connection = null;
    }
  }

  function createCall() {
    // Reset connection attempts because we connected successfully
    connect_attempts = 0;

    peer_connection = new RTCPeerConnection(getRtcPeerConfiguration());
    peer_connection.ontrack = onRemoteTrackAdded;

    /* Send our video/audio to the other peer */
    //if (!msg.sdp) {
    //  console.log("WARNING: First message wasn't an SDP message!?");
    //}
    let anySent = 0;

    peer_connection.onicecandidate = (event) => {
      // We have a candidate, send it to the remote party with the
      // same uuid
      let candidate = event.candidate;

      if (candidate == null) {

        if (anySent) {
          console.log("Ice Candidates Done, Sent " + anySent);
          return;
        }

        console.log("Sending Fake Candidates!");
        candidate = {"candidate":"candidate:123 1 udp 2113937150 127.0.0.1 9 typ host",
                     "sdpMLineIndex": 0};

        // udp
        console.log("send candidate remotely: " + candidate.candidate);
        ws_conn.send(JSON.stringify({'ice': candidate}));
        anySent++;

        // and tcp
        candidate.candidate = "candidate:456 1 tcp 2113937140 127.0.0.1 9 typ host tcptype active";
      }

      console.log("send candidate remotely: " + candidate.candidate);
      ws_conn.send(JSON.stringify({'ice': candidate}));
      anySent++;
    };

    setStatus("Created peer connection for call, waiting for SDP");
  }

  function onRemoteTrackAdded(event) {
    setStatus("Adding Track");
    audio.srcObject = event.streams[0];
  }

  function getRtcPeerConfiguration() {
    let iceServers = [];
    if (data["webrtc_turn_server"]) {
      let server = data["webrtc_turn_server"];
      let credentials = data["webrtc_turn_credentials"];

      iceServers.push({
        "urls": server,
        "credential": credentials["password"],
        "username": credentials["username"]
      });
    }
    if (data["webrtc_stun_server"]) {
      let server = data["webrtc_stun_server"];
      iceServers.push({"urls": server});
    }

    if (debug) {
      console.log("iceservers = %O", iceServers);
    }

    return {"iceServers": iceServers};
  }

  return this;

};






/***/ }),

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CBrowser; });
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unfetch/polyfill/index */ "./node_modules/unfetch/polyfill/index.js");
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @novnc/novnc/core/rfb */ "./node_modules/@novnc/novnc/core/rfb.js");
/* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
/* harmony import */ var _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./audio-mediasource */ "./src/audio-mediasource.js");
/* harmony import */ var _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./audio-webrtc */ "./src/audio-webrtc.js");







function toQueryString(obj) {
  var parts = [];
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));
    }
  }
  return parts.join('&');
}


function CBrowser(reqid, target_div, init_params) {
  var controller = typeof AbortController !== 'undefined' ? new AbortController() : null;

  var cmd_port = undefined;
  var vnc_port = undefined;

  var clipEvents = ['paste'];
  var connected = false;
  var countdownTimer = null;
  var visibilityHandle = null;
  var ever_connected = false;
  var fail_count = 0;
  var hasClipboard = false;
  var lastText = undefined;
  var maxRetry = 10;
  var retryCount = 0;
  var retryHandle = null;
  var stagedText = null;
  var timers = []

  var min_width = 300;
  var min_height = 300;

  var rfb;
  var resizeTimeout;
  var vnc_pass = "secret";

  var end_time = undefined;

  var environ = {};
  var audioType = null;

  var targetDivNode = document.querySelector(target_div);

  var waiting_for_container = false;
  var waiting_for_vnc = false;

  init_params = init_params || {};

  init_params.api_prefix = init_params.api_prefix || "";

  var num_vnc_retries = init_params.num_vnc_retries || 3;

  // rfb event callbacks
  var credentialsRequired;
  var connect;
  var disconnect;
  var securityFailure;
  var clipboard
  var rfbEventsBound = false;


  function start() {
    // Countdown updater
    if (init_params.on_countdown) {
      countdownTimer = setInterval(update_countdown, 1000);
    }

    init_html(target_div);

    setup_browser();
  }

  function clipHandler(e) {
    if (!hasClipboard) {
      return false;
    }

    var text;
    if (window.clipboardData && window.clipboardData.getData) { // ie
      text = window.clipboardData.getData('Text');
    } else if (e.clipboardData && e.clipboardData.getData) {
      text = e.clipboardData.getData('text/plain');
    }

    if (connected && rfb && text) {
      rfb.clipboardPasteFrom(text);

      // attempt sending paste command
      rfb.sendKey(0xffe3, null, true);
      rfb.sendKey(0x0076, null, true);
      rfb.sendKey(0x0076, null, false);
      rfb.sendKey(0xffe3, null, false);
    }
  }

  function init_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = true;
    lastText = undefined;

    // if remote browser cut/copy opperation occured, insert into clipboard field
    if (stagedText) {
        document.querySelector(init_params.clipboard).value = stagedText;
        stagedText = null;
    }

    for (var i = 0; i < clipEvents.length; i++) {
      document.querySelector(init_params.clipboard).addEventListener(clipEvents[i], clipHandler);
    }
  }

  function destroy_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = false;
  }

  function canvas() {
    return targetDivNode.querySelector('.canvas');
  }

  function msgdiv() {
    return targetDivNode.querySelector('#browserMsg');
  }

  function screen() {
    return targetDivNode.querySelector('#noVNC_screen');
  }

  function init_html() {
    // ensure container is emptied of previous browsers
    targetDivNode.innerHTML = '';

    var msgDiv = document.createElement('div');
    msgDiv.setAttribute('id', 'browserMsg');
    msgDiv.setAttribute('class', 'loading');
    targetDivNode.appendChild(msgDiv);

    var canvasEle = document.createElement('div');
    canvasEle.setAttribute('class', 'canvas');
    var canvasDiv = document.createElement('div');
    canvasDiv.setAttribute('id', 'noVNC_screen');
    canvasDiv.appendChild(canvasEle);
    targetDivNode.appendChild(canvasDiv);

    canvasEle.style.display = 'none';
  }

  function setup_browser() {
    if (waiting_for_vnc || waiting_for_container) {
      return;
    }

    var msg;

    if (ever_connected) {
      msg = "Reconnecting to Remote Browser...";
    } else {
      msg = "Initializing Remote Browser...";
    }

    msgdiv().innerHTML = msg;
    msgdiv().style.display = 'block';

    // calculate dimensions
    const bcr = targetDivNode.getBoundingClientRect();
    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w *= 0.96;
      h -= 25;
    }

    if (w < h) {
      // flip mins for vertical layout
      var t = min_width;
      min_width = min_height;
      min_height = t;
    }

    let width = Math.max(w, min_width);
    let height = Math.max(h, min_height);
    width = parseInt(width / 8) * 8;
    height = parseInt(height / 8) * 8;
    //req_params['reqid'] = reqid;

    if (init_params.webrtc) {
      audioType = 'webrtc';
    } else {
      audioType = Object(_audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["getBestAudioType"])();
    }

    if (!audioType) {
      console.log("No Supported Audio Types");
    }

    environ = {'SCREEN_WIDTH': width,
               'SCREEN_HEIGHT': height,
               'AUDIO_TYPE': audioType,
               'REQ_ID': reqid
              };

    init_browser()
  }

  function init_browser() {
    if (waiting_for_container) {
      return;
    }

    waiting_for_container = true;

    //var init_url = init_params.api_prefix + "/init_browser?" + toQueryString(req_params);
    var init_url = init_params.api_prefix + "/api/flock/start/" + reqid;

    var req_params = {"environ": environ};

    var headers = init_params.headers || {};
    headers['Content-Type'] = 'application/json';

    var options = { headers: new Headers(headers),
                    method: "POST",
                    body: JSON.stringify(req_params),
                  };

    if (controller) {
      options.signal = controller.signal;
    }

    // expects json response
    fetch(init_url, options)
      .then(function (res) {
        if (!res.ok) {
          throw new Error(res.status);
        }

        return res.json();
      })
      .then(function (data) {
        waiting_for_container = false;
        handle_browser_response(data);
      })
      .catch(function (err) {
        console.log('fetch error', err);
        waiting_for_container = false;

        // user canceled
        if (err.message === 'AbortError') {
          return;
        }

        if (!err || err.message != 404) {
          msgdiv().innerHTML = 'Reconnecting to Remote Browser...';
          msgdiv().style.display = 'block';

          if (retryCount++ < maxRetry) {
            timers.push(setTimeout(init_browser, 1000));
          }

          return;
        }

        if (init_params.on_event) {
          init_params.on_event('error');
        } else {
          msgdiv().innerHTML = 'Remote Browser Expired... Please try again...';
          msgdiv().style.display = 'block';
        }
      });
  }

  function handle_browser_response(data) {
    
    if (data.containers && data.containers.xserver && data.containers.xserver.ports) {
      let ports = data.containers.xserver.ports;

      vnc_port = ports.vnc_port;
      cmd_port = ports.cmd_port;

      end_time = parseInt(Date.now() / 1000, 10) + data.ttl;

      vnc_pass = data.containers.xserver.environ.VNC_PASS;

      if (init_params.audio && !window.audioPlugin) {
        if (audioType) {
          // for now, check if webrtc set in init params
          if (init_params.webrtc) {
            console.log("webRTC: init plugin");
            var webrtc_data = {};

            webrtc_data.ports = ports;
            //webrtc_data.webrtc_stun_server = "stun:stun.l.google.com:19302";
            webrtc_data.proxy_ws = init_params.proxy_ws;
            webrtc_data.webrtcHostIP = init_params.webrtcHostIP;

            window.audioPlugin = new _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__["WebRTCAudio"]("1", webrtc_data)
          } else {
            console.log("WSAudio: init plugin");
            window.audioPlugin = new _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["WSAudio"]({"audio": audioType,
                                              "cmd_port": ports.cmd_port}, init_params);
          }

          if (init_params.audio == "wait_for_click") {
            // activate audio on first click
            document.body.addEventListener('click', function () {
              window.audioPlugin.start();
            }, { once: true });
          } else {
            // start right away -- may be muted on latest Chrome until click
            window.audioPlugin.start();
          }
        }
      }

      if (init_params.on_event) {
        init_params.on_event("init", data);
      }

      timers.push(window.setTimeout(try_init_vnc, 3000));

    } else if (data.queue != undefined) {
      var msg = "Waiting for empty slot... ";
      if (data.queue == 0) {
        msg += "<b>You are next!</b>";
      } else {
        msg += "At most <b>" + data.queue + " user(s)</b> ahead of you";
      }
      msgdiv().innerHTML = msg;

      timers.push(window.setTimeout(init_browser, 3000));
    }
  }

  function try_init_vnc() {
    do_vnc()
      .then(function () { waiting_for_vnc = false; })
      .catch(function(err) {
        console.log('failed', err);

        waiting_for_vnc = false;
        fail_count++;

        if (fail_count <= num_vnc_retries) {
          msgdiv().innerHTML = "Retrying to connect to remote browser...";
          timers.push(setTimeout(init_browser, 500));
        } else {
          if (init_params.on_event) {
            init_params.on_event("fail");
          } else {
            msgdiv().innerHTML = "Failed to connect to remote browser... Please try again later";
          }
        }
      })
  }

  function clientPosition() {
    const bcr = targetDivNode.getBoundingClientRect();
    var c = canvas();
    var ch = c.getBoundingClientRect().height;
    var cw = c.getBoundingClientRect().width;
    if (!init_params.fill_window) {
      c.style.marginLeft = ((bcr.width - cw)/2) + 'px';
      c.style.marginTop = ((bcr.height - (ch + 25))/2) + 'px';
    }
  }

  function clientResize() {
    const bcr = targetDivNode.getBoundingClientRect();

    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w = Math.round(w * 0.96);
      h = h - 25;
    }

    if (rfb) {
      var s = rfb._display.autoscale(w, h);
    }
  }

  function onVNCCopyCut(rfb, text) {
    if (init_params.clipboard && hasClipboard) {
      // document.querySelector(init_params.clipboard).innerHTML = (text);
    } else if(init_params.clipboard) {
      stagedText = text;
    }
  }

  function do_vnc() {
    if (waiting_for_vnc) {
      return;
    }

    waiting_for_vnc = true;

    var host = window.location.hostname;
    var port = vnc_port;
    var path = "websockify";
    var protocol = "ws";

    if (window.location.protocol === "https:") {
      protocol = "wss";
    }

    // Proxy WS via the origin host, instead of making direct conn
    // 'proxy_ws' specifies the proxy path, port is appended
    if (init_params.proxy_ws) {
      path = init_params.proxy_ws + port;
      port = window.location.port;
      if (!port) {
        port = (window.location.protocol == "https:" ? 443 : 80);
      }
    }

    var target = canvas();
    var webservice_url = protocol + '://' + host + ':' + port + '/' + path;

    console.log("Connecting to " + webservice_url);

    var promise = new promise_polyfill__WEBPACK_IMPORTED_MODULE_2__["default"](function (resolve, reject) {
      rfb = new _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__["default"](target, webservice_url, {'credentials': {'password': vnc_pass}});
      window.rfb = rfb;

      //if (!rfbEventsBound) {
      credentialsRequired = function () {
        reject("credentialsrequired");
      }

      connect = function () {
        canvas().style.display = 'block';

        if (init_params.fill_window) {
          canvas().focus();
        }

        msgdiv().style.display = 'none';

        ever_connected = true;
        connected = true;
        fail_count = 0;

        if (init_params.on_event) {
          init_params.on_event("connect");
        }
        rfb.resizeSession = true;
        rfb.scaleViewport = true;

        resolve("connected");
      }

      disconnect = function () {
        connected = false;

        canvas().style.display = 'none';

        var reinit = !document.hidden;

        if (init_params.on_event) {
          init_params.on_event("disconnect");
        }

        if (reinit) {
          setup_browser();
        }
        reject("disconnected");
      }

      securityFailure = function () {
        reject("securityFailure");
      }

      clipboard = function (event) {
        onVNCCopyCut(rfb, event.detail.text);
      }

      rfb.addEventListener("credentialsrequired", credentialsRequired);
      rfb.addEventListener("connect", connect);
      rfb.addEventListener("disconnect", disconnect);
      rfb.addEventListener("securityfailure", securityFailure);
      rfb.addEventListener("clipboard", clipboard);
      //   rfbEventsBound = true;
      // }
    });

    return promise;
  }


  window.onresize = function () {
    // When the window has been resized, wait until the size remains
    // the same for 0.5 seconds before sending the request for changing
    // the resolution of the session
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function(){
      clientResize();
      //clientPosition();
    }, 500);
  };

  function visibilityChangeCB() {
    if (document.hidden) {
      visibilityHandle = setTimeout(function() {
        if (rfb) {
          rfb.disconnect();
        }
      },
      init_params.inactiveSecs * 1000);
    } else {
      clearTimeout(visibilityHandle);
      if (!connected) {
        if (init_params.on_event) {
          init_params.on_event("reconnect");
        }

        setup_browser();
      }
    }
  }

  function update_countdown() {
    if (!end_time) {
      return;
    }
    var curr = Math.floor(new Date().getTime() / 1000);
    var secdiff = end_time - curr;

    if (secdiff < 0) {
      init_params.on_countdown(0, "00:00");
      return;
    }

    var min = Math.floor(secdiff / 60);
    var sec = secdiff % 60;
    if (sec <= 9) {
      sec = "0" + sec;
    }
    if (min <= 9) {
      min = "0" + min;
    }

    init_params.on_countdown(secdiff, min + ":" + sec);
  }

  if (init_params.inactiveSecs) {
    document.addEventListener("visibilitychange", visibilityChangeCB);
  }

  function clearTimers() {
    // clear intervals and timers
    clearInterval(countdownTimer);
    clearTimeout(visibilityHandle);
    for (var i = 0; i < timers.length; i++) {
      clearTimeout(timers[i]);
    }
    timers = [];
  }

  function close() {
    if (controller) {
      // cancel fetch requests
      controller.abort();
    }

    // stop audio plugin
    if (window.audioPlugin) {
      try {
        console.log("Close Audio");
        window.audioPlugin.close();
        window.audioPlugin = undefined;
      } catch (err){}
    }

    if (rfb) {
      rfb.removeEventListener("credentialsrequired", credentialsRequired);
      rfb.removeEventListener("connect", connect);
      rfb.removeEventListener("disconnect", disconnect);
      rfb.removeEventListener("securityfailure", securityFailure);
      rfb.removeEventListener("clipboard", clipboard);
      rfb.disconnect();
    }

    var cnvs = canvas();
    var _screen = screen();

    clearTimers();

    document.removeEventListener("visibilitychange", visibilityChangeCB);
  }

  start();

  return {
    "close": close,
    "destroy_clipboard": destroy_clipboard,
    "init_clipboard": init_clipboard
   }
}





/***/ })

/******/ })));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9lbmNvZGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2luZmxhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9kb21rZXl0YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvZml4ZWRrZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQva2V5c3ltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlzeW1kZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L21vdXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC92a2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQveHRzY2FuY29kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3JmYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9ldmVudHRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9sb2dnaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3N0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3dlYnNvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvdXRpbHMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvYWRsZXIzMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2NyYzMyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvaW5mZmFzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZ0cmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL3pzdHJlYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvZmluYWxseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZmV0Y2gvcG9seWZpbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW8tbWVkaWFzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvLXdlYnJ0Yy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQUE7QUFBQTtBQUFvQzs7QUFFN0I7QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDLGdDQUFnQztBQUNqRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZUFBZSxvREFBUTtBQUN2QixHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0REE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFeUM7O0FBRTFCO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixrQkFBa0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIseUJBQXlCO0FBQ3pCOztBQUVBLDhCQUE4QixvQ0FBb0M7O0FBRWxFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQyxpQkFBaUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0RBQVM7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUM3R0Y7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0JBQStCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFFBQVE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFFBQVE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCLFFBQVE7QUFDbkMsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQyxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLFFBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0EsMkJBQTJCLGFBQWEsRUFBRTtBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLFlBQVksb0JBQW9COztBQUVoQyxFQUFFOzs7Ozs7Ozs7Ozs7O0FDOVFGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFeUM7QUFDUjs7QUFFbEI7QUFDZjtBQUNBOztBQUVBLHVCQUF1QjtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLHNEQUFTOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQSxJQUFJLHNEQUFTOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxzREFBUztBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixvQkFBb0IsRUFBRTtBQUN2QztBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwyQkFBMkIsRUFBRTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUEsMkJBQTJCOztBQUUzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFTOztBQUVqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxzREFBUztBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxzQ0FBc0MsV0FBVyxrREFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLFVBQVU7QUFDakMsMkJBQTJCLFVBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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ZUFBZSxrREFBUSxXQUFXLGtEQUFRO0FBQzFDLGVBQWUsa0RBQVEsWUFBWSxrREFBUTtBQUMzQyxlQUFlLGtEQUFRLFdBQVcsa0RBQVE7QUFDMUMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFROztBQUV2QiwwRUFBVyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDclQzQjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlOztBQUVmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSxRQUFRLHNEQUFTO0FBQ2pCLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7OztBQ3pUQTtBQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7OztBQ3JtQkY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUMvcUJGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBDO0FBQ1M7QUFDd0I7O0FBRTNFLG9CQUFvQjtBQUNwQiw0QkFBNEI7QUFDNUI7O0FBRWU7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGlDQUFpQztBQUNqQywrQkFBK0I7O0FBRS9COztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUEsUUFBUSxzREFBUztBQUNqQjtBQUNBOztBQUVBLFFBQVEsaUVBQVM7QUFDakIsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFVO0FBQ3RCOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLGlFQUFTO0FBQ2pCLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBUztBQUNqQixLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlFQUFTO0FBQ3JCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsWUFBWSx1RUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBLFlBQVksOERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLDhEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdlJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW1DO0FBQ0U7QUFDTjtBQUNRO0FBQ0k7QUFDRzs7QUFFOUM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscURBQXFELGlEQUFLO0FBQzFELG1CQUFtQixpREFBSzs7QUFFeEI7QUFDQSxZQUFZLHNEQUFhO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxxREFBWSxPQUFPLHVEQUFjO0FBQ3pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFTO0FBQ3pCLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLHFEQUFPO0FBQ3RCOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN0S0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUNuSEY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDMUtGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QztBQUNNO0FBQ3VCO0FBQ2pCO0FBQ2xCO0FBQ1E7QUFDTjtBQUNGO0FBQ1I7QUFDYztBQUNPO0FBQ1g7QUFDb0I7QUFDN0I7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZTtB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QSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHFDQUFxQyx1QkFBdUI7QUFDNUQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3VEE7QUFBQTtBQUFxQjs7O0FBR3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxlQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQix1REFBdUQ7QUFDM0U7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3Q0FBd0M7QUFDeEU7QUFDQSxLQUFLO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNoZXBoZXJkLWNsaWVudC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2luZGV4LmpzXCIpO1xuIiwiaW1wb3J0IENCcm93c2VyIGZyb20gJy4vc3JjL2Jyb3dzZXInXG5cbmV4cG9ydCBmdW5jdGlvbiBJbml0QnJvd3NlckRlZmF1bHQocmVxaWQsIG9wdHMpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICAvLyBpZiBpbiBpZnJhbWUsIG5vdGlmeSBwYXJlbnQgb2YgcmVxaWRcbiAgICBpZiAod2luZG93ICE9IHdpbmRvdy5wYXJlbnQgJiYgIW9wdHMubm9Ob3RpZnlQYXJlbnQpIHtcbiAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2Uoe1widHlwZVwiOiBcInJlcWlkXCIsIFwicmVxaWRcIjogcmVxaWR9LCBcIipcIik7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLm9uX2NvdW50ZG93bikge1xuICAgICAgb3B0cy5vbl9jb3VudGRvd24gPSBmdW5jdGlvbihzZWNvbmRzLCBjb3VudGRvd25fdGV4dCkge1xuICAgICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRkb3duXCIpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgIHRleHQuaW5uZXJUZXh0ID0gY291bnRkb3duX3RleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW9wdHMub25fZXZlbnQpIHtcbiAgICAgIG9wdHMub25fZXZlbnQgPSBmdW5jdGlvbih0eXBlLCBkYXRhKSB7XG4gICAgICAgIGlmICh0eXBlID09IFwiZmFpbFwiIHx8IHR5cGUgPT0gXCJleHBpcmVcIikge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLnByb3h5X3dzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLnBvcnQpIHtcbiAgICAgICAgb3B0cy5wcm94eV93cyA9IFwiX3dlYnNvY2tpZnk/cG9ydD1cIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdWRpbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmF1ZGlvID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5maWxsX3dpbmRvdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmZpbGxfd2luZG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmFjdGl2ZVNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0cy5pbmFjdGl2ZVNlY3MgPSAxMDtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBvcHRzLmlkIHx8IFwiI2Jyb3dzZXJcIjtcblxuICAgIHJldHVybiBuZXcgQ0Jyb3dzZXIocmVxaWQsIGlkLCBvcHRzKTtcbiAgfSk7XG59XG5cblxuXG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vLyBGcm9tOiBodHRwOi8vaGcubW96aWxsYS5vcmcvbW96aWxsYS1jZW50cmFsL3Jhdy1maWxlL2VjMTA2MzBiMWE1NC9qcy9zcmMvZGV2dG9vbHMvamludC9zdW5zcGlkZXIvc3RyaW5nLWJhc2U2NC5qc1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi91dGlsL2xvZ2dpbmcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyogQ29udmVydCBkYXRhIChhbiBhcnJheSBvZiBpbnRlZ2VycykgdG8gYSBCYXNlNjQgc3RyaW5nLiAqL1xuICAgIHRvQmFzZTY0VGFibGUgOiAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nLnNwbGl0KCcnKSxcbiAgICBiYXNlNjRQYWQgICAgIDogJz0nLFxuXG4gICAgZW5jb2RlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgdG9CYXNlNjRUYWJsZSA9IHRoaXMudG9CYXNlNjRUYWJsZTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGVuZ3RocGFkID0gKGxlbmd0aCAlIDMpO1xuICAgICAgICAvLyBDb252ZXJ0IGV2ZXJ5IHRocmVlIGJ5dGVzIHRvIDQgYXNjaWkgY2hhcmFjdGVycy5cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IChsZW5ndGggLSAyKTsgaSArPSAzKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVtkYXRhW2ldID4+IDJdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbKChkYXRhW2ldICYgMHgwMykgPDwgNCkgKyAoZGF0YVtpICsgMV0gPj4gNCldO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbKChkYXRhW2kgKyAxXSAmIDB4MGYpIDw8IDIpICsgKGRhdGFbaSArIDJdID4+IDYpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlW2RhdGFbaSArIDJdICYgMHgzZl07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZW1haW5pbmcgMSBvciAyIGJ5dGVzLCBwYWQgb3V0IHRvIDQgY2hhcmFjdGVycy5cbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBpZiAobGVuZ3RocGFkID09PSAyKSB7XG4gICAgICAgICAgICBqID0gbGVuZ3RoIC0gbGVuZ3RocGFkO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbZGF0YVtqXSA+PiAyXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWygoZGF0YVtqXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbaiArIDFdID4+IDQpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWyhkYXRhW2ogKyAxXSAmIDB4MGYpIDw8IDJdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbNjRdO1xuICAgICAgICB9IGVsc2UgaWYgKGxlbmd0aHBhZCA9PT0gMSkge1xuICAgICAgICAgICAgaiA9IGxlbmd0aCAtIGxlbmd0aHBhZDtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlW2RhdGFbal0gPj4gMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVsoZGF0YVtqXSAmIDB4MDMpIDw8IDRdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbNjRdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbNjRdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyogQ29udmVydCBCYXNlNjQgZGF0YSB0byBhIHN0cmluZyAqL1xuICAgIHRvQmluYXJ5VGFibGUgOiBbXG4gICAgICAgIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLFxuICAgICAgICAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSxcbiAgICAgICAgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSw2MiwgLTEsLTEsLTEsNjMsXG4gICAgICAgIDUyLDUzLDU0LDU1LCA1Niw1Nyw1OCw1OSwgNjAsNjEsLTEsLTEsIC0xLCAwLC0xLC0xLFxuICAgICAgICAtMSwgMCwgMSwgMiwgIDMsIDQsIDUsIDYsICA3LCA4LCA5LDEwLCAxMSwxMiwxMywxNCxcbiAgICAgICAgMTUsMTYsMTcsMTgsIDE5LDIwLDIxLDIyLCAyMywyNCwyNSwtMSwgLTEsLTEsLTEsLTEsXG4gICAgICAgIC0xLDI2LDI3LDI4LCAyOSwzMCwzMSwzMiwgMzMsMzQsMzUsMzYsIDM3LDM4LDM5LDQwLFxuICAgICAgICA0MSw0Miw0Myw0NCwgNDUsNDYsNDcsNDgsIDQ5LDUwLDUxLC0xLCAtMSwtMSwtMSwtMVxuICAgIF0sXG5cbiAgICBkZWNvZGU6IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIG9mZnNldCA9IHR5cGVvZihvZmZzZXQpICE9PSAndW5kZWZpbmVkJyA/IG9mZnNldCA6IDA7XG4gICAgICAgIHZhciB0b0JpbmFyeVRhYmxlID0gdGhpcy50b0JpbmFyeVRhYmxlO1xuICAgICAgICB2YXIgYmFzZTY0UGFkID0gdGhpcy5iYXNlNjRQYWQ7XG4gICAgICAgIHZhciByZXN1bHQsIHJlc3VsdF9sZW5ndGg7XG4gICAgICAgIHZhciBsZWZ0Yml0cyA9IDA7IC8vIG51bWJlciBvZiBiaXRzIGRlY29kZWQsIGJ1dCB5ZXQgdG8gYmUgYXBwZW5kZWRcbiAgICAgICAgdmFyIGxlZnRkYXRhID0gMDsgLy8gYml0cyBkZWNvZGVkLCBidXQgeWV0IHRvIGJlIGFwcGVuZGVkXG4gICAgICAgIHZhciBkYXRhX2xlbmd0aCA9IGRhdGEuaW5kZXhPZignPScpIC0gb2Zmc2V0O1xuXG4gICAgICAgIGlmIChkYXRhX2xlbmd0aCA8IDApIHsgZGF0YV9sZW5ndGggPSBkYXRhLmxlbmd0aCAtIG9mZnNldDsgfVxuXG4gICAgICAgIC8qIEV2ZXJ5IGZvdXIgY2hhcmFjdGVycyBpcyAzIHJlc3VsdGluZyBudW1iZXJzICovXG4gICAgICAgIHJlc3VsdF9sZW5ndGggPSAoZGF0YV9sZW5ndGggPj4gMikgKiAzICsgTWF0aC5mbG9vcigoZGF0YV9sZW5ndGggJSA0KSAvIDEuNSk7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShyZXN1bHRfbGVuZ3RoKTtcblxuICAgICAgICAvLyBDb252ZXJ0IG9uZSBieSBvbmUuXG4gICAgICAgIGZvciAodmFyIGlkeCA9IDAsIGkgPSBvZmZzZXQ7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRvQmluYXJ5VGFibGVbZGF0YS5jaGFyQ29kZUF0KGkpICYgMHg3Zl07XG4gICAgICAgICAgICB2YXIgcGFkZGluZyA9IChkYXRhLmNoYXJBdChpKSA9PT0gYmFzZTY0UGFkKTtcbiAgICAgICAgICAgIC8vIFNraXAgaWxsZWdhbCBjaGFyYWN0ZXJzIGFuZCB3aGl0ZXNwYWNlXG4gICAgICAgICAgICBpZiAoYyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBjb2RlIFwiICsgZGF0YS5jaGFyQ29kZUF0KGkpICsgXCIgYXQgcG9zaXRpb24gXCIgKyBpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29sbGVjdCBkYXRhIGludG8gbGVmdGRhdGEsIHVwZGF0ZSBiaXRjb3VudFxuICAgICAgICAgICAgbGVmdGRhdGEgPSAobGVmdGRhdGEgPDwgNikgfCBjO1xuICAgICAgICAgICAgbGVmdGJpdHMgKz0gNjtcblxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSA4IG9yIG1vcmUgYml0cywgYXBwZW5kIDggYml0cyB0byB0aGUgcmVzdWx0XG4gICAgICAgICAgICBpZiAobGVmdGJpdHMgPj0gOCkge1xuICAgICAgICAgICAgICAgIGxlZnRiaXRzIC09IDg7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGlmIG5vdCBwYWRkaW5nLlxuICAgICAgICAgICAgICAgIGlmICghcGFkZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbaWR4KytdID0gKGxlZnRkYXRhID4+IGxlZnRiaXRzKSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlZnRkYXRhICY9ICgxIDw8IGxlZnRiaXRzKSAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGJpdHMgbGVmdCwgdGhlIGJhc2U2NCBzdHJpbmcgd2FzIGNvcnJ1cHRlZFxuICAgICAgICBpZiAobGVmdGJpdHMpIHtcbiAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcignQ29ycnVwdGVkIGJhc2U2NCBzdHJpbmcnKTtcbiAgICAgICAgICAgIGVyci5uYW1lID0gJ0Jhc2U2NC1FcnJvcic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07IC8qIEVuZCBvZiBCYXNlNjQgbmFtZXNwYWNlICovXG4iLCIvKlxuICogUG9ydGVkIGZyb20gRmxhc2hsaWdodCBWTkMgQWN0aW9uU2NyaXB0IGltcGxlbWVudGF0aW9uOlxuICogICAgIGh0dHA6Ly93d3cud2l6aGVscC5jb20vZmxhc2hsaWdodC12bmMvXG4gKlxuICogRnVsbCBhdHRyaWJ1dGlvbiBmb2xsb3dzOlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBUaGlzIERFUyBjbGFzcyBoYXMgYmVlbiBleHRyYWN0ZWQgZnJvbSBwYWNrYWdlIEFjbWUuQ3J5cHRvIGZvciB1c2UgaW4gVk5DLlxuICogVGhlIHVubmVjZXNzYXJ5IG9kZCBwYXJpdHkgY29kZSBoYXMgYmVlbiByZW1vdmVkLlxuICpcbiAqIFRoZXNlIGNoYW5nZXMgYXJlOlxuICogIENvcHlyaWdodCAoQykgMTk5OSBBVCZUIExhYm9yYXRvcmllcyBDYW1icmlkZ2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuXG4gKlxuXG4gKiBEZXNDaXBoZXIgLSB0aGUgREVTIGVuY3J5cHRpb24gbWV0aG9kXG4gKlxuICogVGhlIG1lYXQgb2YgdGhpcyBjb2RlIGlzIGJ5IERhdmUgWmltbWVybWFuIDxkemltbUB3aWRnZXQuY29tPiwgYW5kIGlzOlxuICpcbiAqIENvcHlyaWdodCAoYykgMTk5NiBXaWRnZXQgV29ya3Nob3AsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlXG4gKiBhbmQgaXRzIGRvY3VtZW50YXRpb24gZm9yIE5PTi1DT01NRVJDSUFMIG9yIENPTU1FUkNJQUwgcHVycG9zZXMgYW5kXG4gKiB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGlzIGNvcHlyaWdodCBub3RpY2UgaXMga2VwdFxuICogaW50YWN0LlxuICpcbiAqIFdJREdFVCBXT1JLU0hPUCBNQUtFUyBOTyBSRVBSRVNFTlRBVElPTlMgT1IgV0FSUkFOVElFUyBBQk9VVCBUSEUgU1VJVEFCSUxJVFlcbiAqIE9GIFRIRSBTT0ZUV0FSRSwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRFxuICogVE8gVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEFcbiAqIFBBUlRJQ1VMQVIgUFVSUE9TRSwgT1IgTk9OLUlORlJJTkdFTUVOVC4gV0lER0VUIFdPUktTSE9QIFNIQUxMIE5PVCBCRSBMSUFCTEVcbiAqIEZPUiBBTlkgREFNQUdFUyBTVUZGRVJFRCBCWSBMSUNFTlNFRSBBUyBBIFJFU1VMVCBPRiBVU0lORywgTU9ESUZZSU5HIE9SXG4gKiBESVNUUklCVVRJTkcgVEhJUyBTT0ZUV0FSRSBPUiBJVFMgREVSSVZBVElWRVMuXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBOT1QgREVTSUdORUQgT1IgSU5URU5ERUQgRk9SIFVTRSBPUiBSRVNBTEUgQVMgT04tTElORVxuICogQ09OVFJPTCBFUVVJUE1FTlQgSU4gSEFaQVJET1VTIEVOVklST05NRU5UUyBSRVFVSVJJTkcgRkFJTC1TQUZFXG4gKiBQRVJGT1JNQU5DRSwgU1VDSCBBUyBJTiBUSEUgT1BFUkFUSU9OIE9GIE5VQ0xFQVIgRkFDSUxJVElFUywgQUlSQ1JBRlRcbiAqIE5BVklHQVRJT04gT1IgQ09NTVVOSUNBVElPTiBTWVNURU1TLCBBSVIgVFJBRkZJQyBDT05UUk9MLCBESVJFQ1QgTElGRVxuICogU1VQUE9SVCBNQUNISU5FUywgT1IgV0VBUE9OUyBTWVNURU1TLCBJTiBXSElDSCBUSEUgRkFJTFVSRSBPRiBUSEVcbiAqIFNPRlRXQVJFIENPVUxEIExFQUQgRElSRUNUTFkgVE8gREVBVEgsIFBFUlNPTkFMIElOSlVSWSwgT1IgU0VWRVJFXG4gKiBQSFlTSUNBTCBPUiBFTlZJUk9OTUVOVEFMIERBTUFHRSAoXCJISUdIIFJJU0sgQUNUSVZJVElFU1wiKS4gIFdJREdFVCBXT1JLU0hPUFxuICogU1BFQ0lGSUNBTExZIERJU0NMQUlNUyBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRZIE9GIEZJVE5FU1MgRk9SXG4gKiBISUdIIFJJU0sgQUNUSVZJVElFUy5cbiAqXG4gKlxuICogVGhlIHJlc3QgaXM6XG4gKlxuICogQ29weXJpZ2h0IChDKSAxOTk2IGJ5IEplZiBQb3NrYW56ZXIgPGplZkBhY21lLmNvbT4uICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gKiBhcmUgbWV0OlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIEFVVEhPUiBBTkQgQ09OVFJJQlVUT1JTIGBgQVMgSVMnJyBBTkRcbiAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICogSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAqIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFXG4gKiBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxuICogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFNcbiAqIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKVxuICogSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1RcbiAqIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVlcbiAqIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAqIFNVQ0ggREFNQUdFLlxuICpcbiAqIFZpc2l0IHRoZSBBQ01FIExhYnMgSmF2YSBwYWdlIGZvciB1cC10by1kYXRlIHZlcnNpb25zIG9mIHRoaXMgYW5kIG90aGVyXG4gKiBmaW5lIEphdmEgdXRpbGl0aWVzOiBodHRwOi8vd3d3LmFjbWUuY29tL2phdmEvXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gREVTKHBhc3N3ZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gVGFibGVzLCBwZXJtdXRhdGlvbnMsIFMtYm94ZXMsIGV0Yy5cbiAgICB2YXIgUEMyID0gWzEzLDE2LDEwLDIzLCAwLCA0LCAyLDI3LDE0LCA1LDIwLCA5LDIyLDE4LDExLCAzLFxuICAgICAgICAgICAgICAgMjUsIDcsMTUsIDYsMjYsMTksMTIsIDEsNDAsNTEsMzAsMzYsNDYsNTQsMjksMzksXG4gICAgICAgICAgICAgICA1MCw0NCwzMiw0Nyw0Myw0OCwzOCw1NSwzMyw1Miw0NSw0MSw0OSwzNSwyOCwzMSBdLFxuICAgICAgICB0b3Ryb3QgPSBbIDEsIDIsIDQsIDYsIDgsMTAsMTIsMTQsMTUsMTcsMTksMjEsMjMsMjUsMjcsMjhdLFxuICAgICAgICB6ID0gMHgwLCBhLGIsYyxkLGUsZiwgU1AxLFNQMixTUDMsU1A0LFNQNSxTUDYsU1A3LFNQOCxcbiAgICAgICAga2V5cyA9IFtdO1xuXG4gICAgYT0xPDwxNjsgYj0xPDwyNDsgYz1hfGI7IGQ9MTw8MjsgZT0xPDwxMDsgZj1kfGU7XG4gICAgU1AxID0gW2N8ZSx6fHosYXx6LGN8ZixjfGQsYXxmLHp8ZCxhfHosenxlLGN8ZSxjfGYsenxlLGJ8ZixjfGQsYnx6LHp8ZCxcbiAgICAgICAgICAgenxmLGJ8ZSxifGUsYXxlLGF8ZSxjfHosY3x6LGJ8ZixhfGQsYnxkLGJ8ZCxhfGQsenx6LHp8ZixhfGYsYnx6LFxuICAgICAgICAgICBhfHosY3xmLHp8ZCxjfHosY3xlLGJ8eixifHosenxlLGN8ZCxhfHosYXxlLGJ8ZCx6fGUsenxkLGJ8ZixhfGYsXG4gICAgICAgICAgIGN8ZixhfGQsY3x6LGJ8ZixifGQsenxmLGF8ZixjfGUsenxmLGJ8ZSxifGUsenx6LGF8ZCxhfGUsenx6LGN8ZF07XG4gICAgYT0xPDwyMDsgYj0xPDwzMTsgYz1hfGI7IGQ9MTw8NTsgZT0xPDwxNTsgZj1kfGU7XG4gICAgU1AyID0gW2N8ZixifGUsenxlLGF8ZixhfHosenxkLGN8ZCxifGYsYnxkLGN8ZixjfGUsYnx6LGJ8ZSxhfHosenxkLGN8ZCxcbiAgICAgICAgICAgYXxlLGF8ZCxifGYsenx6LGJ8eix6fGUsYXxmLGN8eixhfGQsYnxkLHp8eixhfGUsenxmLGN8ZSxjfHosenxmLFxuICAgICAgICAgICB6fHosYXxmLGN8ZCxhfHosYnxmLGN8eixjfGUsenxlLGN8eixifGUsenxkLGN8ZixhfGYsenxkLHp8ZSxifHosXG4gICAgICAgICAgIHp8ZixjfGUsYXx6LGJ8ZCxhfGQsYnxmLGJ8ZCxhfGQsYXxlLHp8eixifGUsenxmLGJ8eixjfGQsY3xmLGF8ZV07XG4gICAgYT0xPDwxNzsgYj0xPDwyNzsgYz1hfGI7IGQ9MTw8MzsgZT0xPDw5OyBmPWR8ZTtcbiAgICBTUDMgPSBbenxmLGN8ZSx6fHosY3xkLGJ8ZSx6fHosYXxmLGJ8ZSxhfGQsYnxkLGJ8ZCxhfHosY3xmLGF8ZCxjfHosenxmLFxuICAgICAgICAgICBifHosenxkLGN8ZSx6fGUsYXxlLGN8eixjfGQsYXxmLGJ8ZixhfGUsYXx6LGJ8Zix6fGQsY3xmLHp8ZSxifHosXG4gICAgICAgICAgIGN8ZSxifHosYXxkLHp8ZixhfHosY3xlLGJ8ZSx6fHosenxlLGF8ZCxjfGYsYnxlLGJ8ZCx6fGUsenx6LGN8ZCxcbiAgICAgICAgICAgYnxmLGF8eixifHosY3xmLHp8ZCxhfGYsYXxlLGJ8ZCxjfHosYnxmLHp8ZixjfHosYXxmLHp8ZCxjfGQsYXxlXTtcbiAgICBhPTE8PDEzOyBiPTE8PDIzOyBjPWF8YjsgZD0xPDwwOyBlPTE8PDc7IGY9ZHxlO1xuICAgIFNQNCA9IFtjfGQsYXxmLGF8Zix6fGUsY3xlLGJ8ZixifGQsYXxkLHp8eixjfHosY3x6LGN8Zix6fGYsenx6LGJ8ZSxifGQsXG4gICAgICAgICAgIHp8ZCxhfHosYnx6LGN8ZCx6fGUsYnx6LGF8ZCxhfGUsYnxmLHp8ZCxhfGUsYnxlLGF8eixjfGUsY3xmLHp8ZixcbiAgICAgICAgICAgYnxlLGJ8ZCxjfHosY3xmLHp8Zix6fHosenx6LGN8eixhfGUsYnxlLGJ8Zix6fGQsY3xkLGF8ZixhfGYsenxlLFxuICAgICAgICAgICBjfGYsenxmLHp8ZCxhfHosYnxkLGF8ZCxjfGUsYnxmLGF8ZCxhfGUsYnx6LGN8ZCx6fGUsYnx6LGF8eixjfGVdO1xuICAgIGE9MTw8MjU7IGI9MTw8MzA7IGM9YXxiOyBkPTE8PDg7IGU9MTw8MTk7IGY9ZHxlO1xuICAgIFNQNSA9IFt6fGQsYXxmLGF8ZSxjfGQsenxlLHp8ZCxifHosYXxlLGJ8Zix6fGUsYXxkLGJ8ZixjfGQsY3xlLHp8ZixifHosXG4gICAgICAgICAgIGF8eixifGUsYnxlLHp8eixifGQsY3xmLGN8ZixhfGQsY3xlLGJ8ZCx6fHosY3x6LGF8ZixhfHosY3x6LHp8ZixcbiAgICAgICAgICAgenxlLGN8ZCx6fGQsYXx6LGJ8eixhfGUsY3xkLGJ8ZixhfGQsYnx6LGN8ZSxhfGYsYnxmLHp8ZCxhfHosY3xlLFxuICAgICAgICAgICBjfGYsenxmLGN8eixjfGYsYXxlLHp8eixifGUsY3x6LHp8ZixhfGQsYnxkLHp8ZSx6fHosYnxlLGF8ZixifGRdO1xuICAgIGE9MTw8MjI7IGI9MTw8Mjk7IGM9YXxiOyBkPTE8PDQ7IGU9MTw8MTQ7IGY9ZHxlO1xuICAgIFNQNiA9IFtifGQsY3x6LHp8ZSxjfGYsY3x6LHp8ZCxjfGYsYXx6LGJ8ZSxhfGYsYXx6LGJ8ZCxhfGQsYnxlLGJ8eix6fGYsXG4gICAgICAgICAgIHp8eixhfGQsYnxmLHp8ZSxhfGUsYnxmLHp8ZCxjfGQsY3xkLHp8eixhfGYsY3xlLHp8ZixhfGUsY3xlLGJ8eixcbiAgICAgICAgICAgYnxlLHp8ZCxjfGQsYXxlLGN8ZixhfHosenxmLGJ8ZCxhfHosYnxlLGJ8eix6fGYsYnxkLGN8ZixhfGUsY3x6LFxuICAgICAgICAgICBhfGYsY3xlLHp8eixjfGQsenxkLHp8ZSxjfHosYXxmLHp8ZSxhfGQsYnxmLHp8eixjfGUsYnx6LGF8ZCxifGZdO1xuICAgIGE9MTw8MjE7IGI9MTw8MjY7IGM9YXxiOyBkPTE8PDE7IGU9MTw8MTE7IGY9ZHxlO1xuICAgIFNQNyA9IFthfHosY3xkLGJ8Zix6fHosenxlLGJ8ZixhfGYsY3xlLGN8ZixhfHosenx6LGJ8ZCx6fGQsYnx6LGN8ZCx6fGYsXG4gICAgICAgICAgIGJ8ZSxhfGYsYXxkLGJ8ZSxifGQsY3x6LGN8ZSxhfGQsY3x6LHp8ZSx6fGYsY3xmLGF8ZSx6fGQsYnx6LGF8ZSxcbiAgICAgICAgICAgYnx6LGF8ZSxhfHosYnxmLGJ8ZixjfGQsY3xkLHp8ZCxhfGQsYnx6LGJ8ZSxhfHosY3xlLHp8ZixhfGYsY3xlLFxuICAgICAgICAgICB6fGYsYnxkLGN8ZixjfHosYXxlLHp8eix6fGQsY3xmLHp8eixhfGYsY3x6LHp8ZSxifGQsYnxlLHp8ZSxhfGRdO1xuICAgIGE9MTw8MTg7IGI9MTw8Mjg7IGM9YXxiOyBkPTE8PDY7IGU9MTw8MTI7IGY9ZHxlO1xuICAgIFNQOCA9IFtifGYsenxlLGF8eixjfGYsYnx6LGJ8Zix6fGQsYnx6LGF8ZCxjfHosY3xmLGF8ZSxjfGUsYXxmLHp8ZSx6fGQsXG4gICAgICAgICAgIGN8eixifGQsYnxlLHp8ZixhfGUsYXxkLGN8ZCxjfGUsenxmLHp8eix6fHosY3xkLGJ8ZCxifGUsYXxmLGF8eixcbiAgICAgICAgICAgYXxmLGF8eixjfGUsenxlLHp8ZCxjfGQsenxlLGF8ZixifGUsenxkLGJ8ZCxjfHosY3xkLGJ8eixhfHosYnxmLFxuICAgICAgICAgICB6fHosY3xmLGF8ZCxifGQsY3x6LGJ8ZSxifGYsenx6LGN8ZixhfGUsYXxlLHp8Zix6fGYsYXxkLGJ8eixjfGVdO1xuXG4gICAgLy8gU2V0IHRoZSBrZXkuXG4gICAgZnVuY3Rpb24gc2V0S2V5cyhrZXlCbG9jaykge1xuICAgICAgICB2YXIgaSwgaiwgbCwgbSwgbiwgbywgcGMxbSA9IFtdLCBwY3IgPSBbXSwga24gPSBbXSxcbiAgICAgICAgICAgIHJhdzAsIHJhdzEsIHJhd2ksIEtuTGk7XG5cbiAgICAgICAgZm9yIChqID0gMCwgbCA9IDU2OyBqIDwgNTY7ICsraiwgbCAtPSA4KSB7XG4gICAgICAgICAgICBsICs9IGwgPCAtNSA/IDY1IDogbCA8IC0zID8gMzEgOiBsIDwgLTEgPyA2MyA6IGwgPT09IDI3ID8gMzUgOiAwOyAvLyBQQzFcbiAgICAgICAgICAgIG0gPSBsICYgMHg3O1xuICAgICAgICAgICAgcGMxbVtqXSA9ICgoa2V5QmxvY2tbbCA+Pj4gM10gJiAoMTw8bSkpICE9PSAwKSA/IDE6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICAgICAgbSA9IGkgPDwgMTtcbiAgICAgICAgICAgIG4gPSBtICsgMTtcbiAgICAgICAgICAgIGtuW21dID0ga25bbl0gPSAwO1xuICAgICAgICAgICAgZm9yIChvID0gMjg7IG8gPCA1OTsgbyArPSAyOCkge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IG8gLSAyODsgaiA8IG87ICsraikge1xuICAgICAgICAgICAgICAgICAgICBsID0gaiArIHRvdHJvdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPCBvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwY3Jbal0gPSBwYzFtW2xdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGNyW2pdID0gcGMxbVtsIC0gMjhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IDI0OyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAocGNyW1BDMltqXV0gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAga25bbV0gfD0gMSA8PCAoMjMgLSBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBjcltQQzJbaiArIDI0XV0gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAga25bbl0gfD0gMSA8PCAoMjMgLSBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb29rZXlcbiAgICAgICAgZm9yIChpID0gMCwgcmF3aSA9IDAsIEtuTGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICAgICAgcmF3MCA9IGtuW3Jhd2krK107XG4gICAgICAgICAgICByYXcxID0ga25bcmF3aSsrXTtcbiAgICAgICAgICAgIGtleXNbS25MaV0gPSAocmF3MCAmIDB4MDBmYzAwMDApIDw8IDY7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcwICYgMHgwMDAwMGZjMCkgPDwgMTA7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMGZjMDAwMCkgPj4+IDEwO1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MSAmIDB4MDAwMDBmYzApID4+PiA2O1xuICAgICAgICAgICAgKytLbkxpO1xuICAgICAgICAgICAga2V5c1tLbkxpXSA9IChyYXcwICYgMHgwMDAzZjAwMCkgPDwgMTI7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcwICYgMHgwMDAwMDAzZikgPDwgMTY7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMDAzZjAwMCkgPj4+IDQ7XG4gICAgICAgICAgICBrZXlzW0tuTGldIHw9IChyYXcxICYgMHgwMDAwMDAzZik7XG4gICAgICAgICAgICArK0tuTGk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbmNyeXB0IDggYnl0ZXMgb2YgdGV4dFxuICAgIGZ1bmN0aW9uIGVuYzgodGV4dCkge1xuICAgICAgICB2YXIgaSA9IDAsIGIgPSB0ZXh0LnNsaWNlKCksIGZ2YWwsIGtleXNpID0gMCxcbiAgICAgICAgICAgIGwsIHIsIHg7IC8vIGxlZnQsIHJpZ2h0LCBhY2N1bXVsYXRvclxuXG4gICAgICAgIC8vIFNxdWFzaCA4IGJ5dGVzIHRvIDIgaW50c1xuICAgICAgICBsID0gYltpKytdPDwyNCB8IGJbaSsrXTw8MTYgfCBiW2krK108PDggfCBiW2krK107XG4gICAgICAgIHIgPSBiW2krK108PDI0IHwgYltpKytdPDwxNiB8IGJbaSsrXTw8OCB8IGJbaSsrXTtcblxuICAgICAgICB4ID0gKChsID4+PiA0KSBeIHIpICYgMHgwZjBmMGYwZjtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDQpO1xuICAgICAgICB4ID0gKChsID4+PiAxNikgXiByKSAmIDB4MDAwMGZmZmY7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCBePSAoeCA8PCAxNik7XG4gICAgICAgIHggPSAoKHIgPj4+IDIpIF4gbCkgJiAweDMzMzMzMzMzO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0gKHggPDwgMik7XG4gICAgICAgIHggPSAoKHIgPj4+IDgpIF4gbCkgJiAweDAwZmYwMGZmO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0gKHggPDwgOCk7XG4gICAgICAgIHIgPSAociA8PCAxKSB8ICgociA+Pj4gMzEpICYgMSk7XG4gICAgICAgIHggPSAobCBeIHIpICYgMHhhYWFhYWFhYTtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgPSAobCA8PCAxKSB8ICgobCA+Pj4gMzEpICYgMSk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICAgICAgeCA9IChyIDw8IDI4KSB8IChyID4+PiA0KTtcbiAgICAgICAgICAgIHggXj0ga2V5c1trZXlzaSsrXTtcbiAgICAgICAgICAgIGZ2YWwgPSAgU1A3W3ggJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A1Wyh4ID4+PiA4KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDNbKHggPj4+IDE2KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDFbKHggPj4+IDI0KSAmIDB4M2ZdO1xuICAgICAgICAgICAgeCA9IHIgXiBrZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDhbeCAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDZbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNFsoeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMlsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICBsIF49IGZ2YWw7XG4gICAgICAgICAgICB4ID0gKGwgPDwgMjgpIHwgKGwgPj4+IDQpO1xuICAgICAgICAgICAgeCBePSBrZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCA9ICBTUDdbeCAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDVbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQM1soeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMVsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICB4ID0gbCBeIGtleXNba2V5c2krK107XG4gICAgICAgICAgICBmdmFsIHw9IFNQOFt4ICYgMHgwMDAwMDAzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNlsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A0Wyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AyWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIHIgXj0gZnZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHIgPSAociA8PCAzMSkgfCAociA+Pj4gMSk7XG4gICAgICAgIHggPSAobCBeIHIpICYgMHhhYWFhYWFhYTtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgPSAobCA8PCAzMSkgfCAobCA+Pj4gMSk7XG4gICAgICAgIHggPSAoKGwgPj4+IDgpIF4gcikgJiAweDAwZmYwMGZmO1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgXj0gKHggPDwgOCk7XG4gICAgICAgIHggPSAoKGwgPj4+IDIpIF4gcikgJiAweDMzMzMzMzMzO1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgXj0gKHggPDwgMik7XG4gICAgICAgIHggPSAoKHIgPj4+IDE2KSBeIGwpICYgMHgwMDAwZmZmZjtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDE2KTtcbiAgICAgICAgeCA9ICgociA+Pj4gNCkgXiBsKSAmIDB4MGYwZjBmMGY7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSAoeCA8PCA0KTtcblxuICAgICAgICAvLyBTcHJlYWQgaW50cyB0byBieXRlc1xuICAgICAgICB4ID0gW3IsIGxdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICBiW2ldID0gKHhbaT4+PjJdID4+PiAoOCAqICgzIC0gKGkgJSA0KSkpKSAlIDI1NjtcbiAgICAgICAgICAgIGlmIChiW2ldIDwgMCkgeyBiW2ldICs9IDI1NjsgfSAvLyB1bnNpZ25lZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cblxuICAgIC8vIEVuY3J5cHQgMTYgYnl0ZXMgb2YgdGV4dCB1c2luZyBwYXNzd2QgYXMga2V5XG4gICAgZnVuY3Rpb24gZW5jcnlwdCh0KSB7XG4gICAgICAgIHJldHVybiBlbmM4KHQuc2xpY2UoMCwgOCkpLmNvbmNhdChlbmM4KHQuc2xpY2UoOCwgMTYpKSk7XG4gICAgfVxuXG4gICAgc2V0S2V5cyhwYXNzd2QpOyAgICAgICAgICAgICAvLyBTZXR1cCBrZXlzXG4gICAgcmV0dXJuIHsnZW5jcnlwdCc6IGVuY3J5cHR9OyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbn07IC8vIGZ1bmN0aW9uIERFU1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIENvcHlyaWdodCAoQykgMjAxNSBTYW11ZWwgTWFubmVoZWQgZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCBCYXNlNjQgZnJvbSBcIi4vYmFzZTY0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpc3BsYXkodGFyZ2V0KSB7XG4gICAgdGhpcy5fZHJhd0N0eCA9IG51bGw7XG4gICAgdGhpcy5fY19mb3JjZUNhbnZhcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcmVuZGVyUSA9IFtdOyAgLy8gcXVldWUgZHJhd2luZyBhY3Rpb25zIGZvciBpbi1vZGVyIHJlbmRlcmluZ1xuICAgIHRoaXMuX2ZsdXNoaW5nID0gZmFsc2U7XG5cbiAgICAvLyB0aGUgZnVsbCBmcmFtZSBidWZmZXIgKGxvZ2ljYWwgY2FudmFzKSBzaXplXG4gICAgdGhpcy5fZmJfd2lkdGggPSAwO1xuICAgIHRoaXMuX2ZiX2hlaWdodCA9IDA7XG5cbiAgICB0aGlzLl9wcmV2RHJhd1N0eWxlID0gXCJcIjtcbiAgICB0aGlzLl90aWxlID0gbnVsbDtcbiAgICB0aGlzLl90aWxlMTZ4MTYgPSBudWxsO1xuICAgIHRoaXMuX3RpbGVfeCA9IDA7XG4gICAgdGhpcy5fdGlsZV95ID0gMDtcblxuICAgIExvZy5EZWJ1ZyhcIj4+IERpc3BsYXkuY29uc3RydWN0b3JcIik7XG5cbiAgICAvLyBUaGUgdmlzaWJsZSBjYW52YXNcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICBpZiAoIXRoaXMuX3RhcmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgbXVzdCBiZSBzZXRcIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLl90YXJnZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IG11c3QgYmUgYSBET00gZWxlbWVudCcpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fdGFyZ2V0LmdldENvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gZ2V0Q29udGV4dCBtZXRob2RcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fdGFyZ2V0Q3R4ID0gdGhpcy5fdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyB0aGUgdmlzaWJsZSBjYW52YXMgdmlld3BvcnQgKGkuZS4gd2hhdCBhY3R1YWxseSBnZXRzIHNlZW4pXG4gICAgdGhpcy5fdmlld3BvcnRMb2MgPSB7ICd4JzogMCwgJ3knOiAwLCAndyc6IHRoaXMuX3RhcmdldC53aWR0aCwgJ2gnOiB0aGlzLl90YXJnZXQuaGVpZ2h0IH07XG5cbiAgICAvLyBUaGUgaGlkZGVuIGNhbnZhcywgd2hlcmUgd2UgZG8gdGhlIGFjdHVhbCByZW5kZXJpbmdcbiAgICB0aGlzLl9iYWNrYnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fZHJhd0N0eCA9IHRoaXMuX2JhY2tidWZmZXIuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMuX2RhbWFnZUJvdW5kcyA9IHsgbGVmdDowLCB0b3A6MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLl9iYWNrYnVmZmVyLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLl9iYWNrYnVmZmVyLmhlaWdodCB9O1xuXG4gICAgTG9nLkRlYnVnKFwiVXNlciBBZ2VudDogXCIgKyBuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIC8vIENoZWNrIGNhbnZhcyBmZWF0dXJlc1xuICAgIGlmICghKCdjcmVhdGVJbWFnZURhdGEnIGluIHRoaXMuX2RyYXdDdHgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0ZUltYWdlRGF0YVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl90aWxlMTZ4MTYgPSB0aGlzLl9kcmF3Q3R4LmNyZWF0ZUltYWdlRGF0YSgxNiwgMTYpO1xuICAgIExvZy5EZWJ1ZyhcIjw8IERpc3BsYXkuY29uc3RydWN0b3JcIik7XG59O1xuXG52YXIgU1VQUE9SVFNfSU1BR0VEQVRBX0NPTlNUUlVDVE9SID0gZmFsc2U7XG50cnkge1xuICAgIG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDQpLCAxLCAxKTtcbiAgICBTVVBQT1JUU19JTUFHRURBVEFfQ09OU1RSVUNUT1IgPSB0cnVlO1xufSBjYXRjaCAoZXgpIHtcbiAgICAvLyBpZ25vcmUgZmFpbHVyZVxufVxuXG5EaXNwbGF5LnByb3RvdHlwZSA9IHtcbiAgICAvLyA9PT09PSBQUk9QRVJUSUVTID09PT09XG5cbiAgICBfc2NhbGU6IDEuMCxcbiAgICBnZXQgc2NhbGUoKSB7IHJldHVybiB0aGlzLl9zY2FsZTsgfSxcbiAgICBzZXQgc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5fcmVzY2FsZShzY2FsZSk7XG4gICAgfSxcblxuICAgIF9jbGlwVmlld3BvcnQ6IGZhbHNlLFxuICAgIGdldCBjbGlwVmlld3BvcnQoKSB7IHJldHVybiB0aGlzLl9jbGlwVmlld3BvcnQ7IH0sXG4gICAgc2V0IGNsaXBWaWV3cG9ydCh2aWV3cG9ydCkge1xuICAgICAgICB0aGlzLl9jbGlwVmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgLy8gTWF5IG5lZWQgdG8gcmVhZGp1c3QgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VTaXplKHZwLncsIHZwLmgpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlUG9zKDAsIDApO1xuICAgIH0sXG5cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYl93aWR0aDtcbiAgICB9LFxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYl9oZWlnaHQ7XG4gICAgfSxcblxuICAgIGxvZ286IG51bGwsXG5cbiAgICAvLyA9PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PVxuXG4gICAgb25mbHVzaDogZnVuY3Rpb24gKCkge30sICAgICAgICAvLyBBIGZsdXNoIHJlcXVlc3QgaGFzIGZpbmlzaGVkXG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgdmlld3BvcnRDaGFuZ2VQb3M6IGZ1bmN0aW9uIChkZWx0YVgsIGRlbHRhWSkge1xuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgZGVsdGFYID0gTWF0aC5mbG9vcihkZWx0YVgpO1xuICAgICAgICBkZWx0YVkgPSBNYXRoLmZsb29yKGRlbHRhWSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jbGlwVmlld3BvcnQpIHtcbiAgICAgICAgICAgIGRlbHRhWCA9IC12cC53OyAgLy8gY2xhbXBlZCBsYXRlciBvZiBvdXQgb2YgYm91bmRzXG4gICAgICAgICAgICBkZWx0YVkgPSAtdnAuaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2eDIgPSB2cC54ICsgdnAudyAtIDE7XG4gICAgICAgIHZhciB2eTIgPSB2cC55ICsgdnAuaCAtIDE7XG5cbiAgICAgICAgLy8gUG9zaXRpb24gY2hhbmdlXG5cbiAgICAgICAgaWYgKGRlbHRhWCA8IDAgJiYgdnAueCArIGRlbHRhWCA8IDApIHtcbiAgICAgICAgICAgIGRlbHRhWCA9IC12cC54O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2eDIgKyBkZWx0YVggPj0gdGhpcy5fZmJfd2lkdGgpIHtcbiAgICAgICAgICAgIGRlbHRhWCAtPSB2eDIgKyBkZWx0YVggLSB0aGlzLl9mYl93aWR0aCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodnAueSArIGRlbHRhWSA8IDApIHtcbiAgICAgICAgICAgIGRlbHRhWSA9IC12cC55O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2eTIgKyBkZWx0YVkgPj0gdGhpcy5fZmJfaGVpZ2h0KSB7XG4gICAgICAgICAgICBkZWx0YVkgLT0gKHZ5MiArIGRlbHRhWSAtIHRoaXMuX2ZiX2hlaWdodCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhWCA9PT0gMCAmJiBkZWx0YVkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBMb2cuRGVidWcoXCJ2aWV3cG9ydENoYW5nZSBkZWx0YVg6IFwiICsgZGVsdGFYICsgXCIsIGRlbHRhWTogXCIgKyBkZWx0YVkpO1xuXG4gICAgICAgIHZwLnggKz0gZGVsdGFYO1xuICAgICAgICB2cC55ICs9IGRlbHRhWTtcblxuICAgICAgICB0aGlzLl9kYW1hZ2UodnAueCwgdnAueSwgdnAudywgdnAuaCk7XG5cbiAgICAgICAgdGhpcy5mbGlwKCk7XG4gICAgfSxcblxuICAgIHZpZXdwb3J0Q2hhbmdlU2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fY2xpcFZpZXdwb3J0IHx8XG4gICAgICAgICAgICB0eXBlb2Yod2lkdGgpID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgICAgICB0eXBlb2YoaGVpZ2h0KSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXG4gICAgICAgICAgICBMb2cuRGVidWcoXCJTZXR0aW5nIHZpZXdwb3J0IHRvIGZ1bGwgZGlzcGxheSByZWdpb25cIik7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuX2ZiX3dpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZmJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID4gdGhpcy5fZmJfd2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fZmJfd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCA+IHRoaXMuX2ZiX2hlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZmJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgIGlmICh2cC53ICE9PSB3aWR0aCB8fCB2cC5oICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIHZwLncgPSB3aWR0aDtcbiAgICAgICAgICAgIHZwLmggPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIFRoZSBwb3NpdGlvbiBtaWdodCBuZWVkIHRvIGJlIHVwZGF0ZWQgaWYgd2UndmUgZ3Jvd25cbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VQb3MoMCwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZSh2cC54LCB2cC55LCB2cC53LCB2cC5oKTtcbiAgICAgICAgICAgIHRoaXMuZmxpcCgpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHZpc2libGUgc2l6ZSBvZiB0aGUgdGFyZ2V0IGNhbnZhc1xuICAgICAgICAgICAgdGhpcy5fcmVzY2FsZSh0aGlzLl9zY2FsZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJzWDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHggLyB0aGlzLl9zY2FsZSArIHRoaXMuX3ZpZXdwb3J0TG9jLng7XG4gICAgfSxcblxuICAgIGFic1k6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgIHJldHVybiB5IC8gdGhpcy5fc2NhbGUgKyB0aGlzLl92aWV3cG9ydExvYy55O1xuICAgIH0sXG5cbiAgICByZXNpemU6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX3ByZXZEcmF3U3R5bGUgPSBcIlwiO1xuXG4gICAgICAgIHRoaXMuX2ZiX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZiX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5fYmFja2J1ZmZlcjtcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG5cbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gc2F2ZSB0aGUgY2FudmFzIGRhdGEgc2luY2UgY2hhbmdpbmcgdGhlIHNpemUgd2lsbCBjbGVhciBpdFxuICAgICAgICAgICAgdmFyIHNhdmVJbWcgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCA+IDAgJiYgY2FudmFzLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBzYXZlSW1nID0gdGhpcy5fZHJhd0N0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW52YXMuaGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2F2ZUltZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKHNhdmVJbWcsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVhZGp1c3QgdGhlIHZpZXdwb3J0IGFzIGl0IG1heSBiZSBpbmNvcnJlY3RseSBzaXplZFxuICAgICAgICAvLyBhbmQgcG9zaXRpb25lZFxuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVNpemUodnAudywgdnAuaCk7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VQb3MoMCwgMCk7XG4gICAgfSxcblxuICAgIC8vIFRyYWNrIHdoYXQgcGFydHMgb2YgdGhlIHZpc2libGUgY2FudmFzIHRoYXQgbmVlZCB1cGRhdGluZ1xuICAgIF9kYW1hZ2U6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcbiAgICAgICAgaWYgKHggPCB0aGlzLl9kYW1hZ2VCb3VuZHMubGVmdCkge1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQgPSB4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh5IDwgdGhpcy5fZGFtYWdlQm91bmRzLnRvcCkge1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLnRvcCA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh4ICsgdykgPiB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5yaWdodCA9IHggKyB3O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoeSArIGgpID4gdGhpcy5fZGFtYWdlQm91bmRzLmJvdHRvbSkge1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLmJvdHRvbSA9IHkgKyBoO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlzaWJsZSBjYW52YXMgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlXG4gICAgLy8gcmVuZGVyaW5nIGNhbnZhc1xuICAgIGZsaXA6IGZ1bmN0aW9uKGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2ZsaXAnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB4LCB5LCB2eCwgdnksIHcsIGg7XG5cbiAgICAgICAgICAgIHggPSB0aGlzLl9kYW1hZ2VCb3VuZHMubGVmdDtcbiAgICAgICAgICAgIHkgPSB0aGlzLl9kYW1hZ2VCb3VuZHMudG9wO1xuICAgICAgICAgICAgdyA9IHRoaXMuX2RhbWFnZUJvdW5kcy5yaWdodCAtIHg7XG4gICAgICAgICAgICBoID0gdGhpcy5fZGFtYWdlQm91bmRzLmJvdHRvbSAtIHk7XG5cbiAgICAgICAgICAgIHZ4ID0geCAtIHRoaXMuX3ZpZXdwb3J0TG9jLng7XG4gICAgICAgICAgICB2eSA9IHkgLSB0aGlzLl92aWV3cG9ydExvYy55O1xuXG4gICAgICAgICAgICBpZiAodnggPCAwKSB7XG4gICAgICAgICAgICAgICAgdyArPSB2eDtcbiAgICAgICAgICAgICAgICB4IC09IHZ4O1xuICAgICAgICAgICAgICAgIHZ4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2eSA8IDApIHtcbiAgICAgICAgICAgICAgICBoICs9IHZ5O1xuICAgICAgICAgICAgICAgIHkgLT0gdnk7XG4gICAgICAgICAgICAgICAgdnkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHZ4ICsgdykgPiB0aGlzLl92aWV3cG9ydExvYy53KSB7XG4gICAgICAgICAgICAgICAgdyA9IHRoaXMuX3ZpZXdwb3J0TG9jLncgLSB2eDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodnkgKyBoKSA+IHRoaXMuX3ZpZXdwb3J0TG9jLmgpIHtcbiAgICAgICAgICAgICAgICBoID0gdGhpcy5fdmlld3BvcnRMb2MuaCAtIHZ5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHcgPiAwKSAmJiAoaCA+IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFdlIG1heSBuZWVkIHRvIGRpc2FibGUgaW1hZ2Ugc21vb3RoaW5nIGhlcmVcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgYXMgd2VsbCAoc2VlIGNvcHlJbWFnZSgpKSwgYnV0IHdlIGhhdmVuJ3RcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgbm90aWNlZCBhbnkgcHJvYmxlbSB5ZXQuXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Q3R4LmRyYXdJbWFnZSh0aGlzLl9iYWNrYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCwgeSwgdywgaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZ4LCB2eSwgdywgaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5sZWZ0ID0gdGhpcy5fZGFtYWdlQm91bmRzLnRvcCA9IDY1NTM1O1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0ID0gdGhpcy5fZGFtYWdlQm91bmRzLmJvdHRvbSA9IDA7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvZ28pIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHRoaXMuX2xvZ28ud2lkdGgsIHRoaXMuX2xvZ28uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VSZWN0KDAsIDAsIHRoaXMuX2xvZ28udHlwZSwgdGhpcy5fbG9nby5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKDI0MCwgMjApO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fZmJfd2lkdGgsIHRoaXMuX2ZiX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGlwKCk7XG4gICAgfSxcblxuICAgIHBlbmRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUS5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICBmbHVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5vbmZsdXNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmlsbFJlY3Q6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnZmlsbCcsXG4gICAgICAgICAgICAgICAgJ3gnOiB4LFxuICAgICAgICAgICAgICAgICd5JzogeSxcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICdjb2xvcic6IGNvbG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEZpbGxDb2xvcihjb2xvcik7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvcHlJbWFnZTogZnVuY3Rpb24gKG9sZF94LCBvbGRfeSwgbmV3X3gsIG5ld195LCB3LCBoLCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdjb3B5JyxcbiAgICAgICAgICAgICAgICAnb2xkX3gnOiBvbGRfeCxcbiAgICAgICAgICAgICAgICAnb2xkX3knOiBvbGRfeSxcbiAgICAgICAgICAgICAgICAneCc6IG5ld194LFxuICAgICAgICAgICAgICAgICd5JzogbmV3X3ksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogdyxcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogaCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRHVlIHRvIHRoaXMgYnVnIGFtb25nIG90aGVycyBbMV0gd2UgbmVlZCB0byBkaXNhYmxlIHRoZSBpbWFnZS1zbW9vdGhpbmcgdG9cbiAgICAgICAgICAgIC8vIGF2b2lkIGdldHRpbmcgYSBibHVyIGVmZmVjdCB3aGVuIGNvcHlpbmcgZGF0YS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAxLiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTk0NzE5XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhlc2UgZXZlcnkgdGltZSBzaW5jZSBhbGwgcHJvcGVydGllcyBhcmUgcmVzZXRcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHRoZSBzaXplIGlzIGNoYW5nZWRcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5kcmF3SW1hZ2UodGhpcy5fYmFja2J1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZF94LCBvbGRfeSwgdywgaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld194LCBuZXdfeSwgdywgaCk7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2UobmV3X3gsIG5ld195LCB3LCBoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbWFnZVJlY3Q6IGZ1bmN0aW9uKHgsIHksIG1pbWUsIGFycikge1xuICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5zcmMgPSBcImRhdGE6IFwiICsgbWltZSArIFwiO2Jhc2U2NCxcIiArIEJhc2U2NC5lbmNvZGUoYXJyKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICd0eXBlJzogJ2ltZycsXG4gICAgICAgICAgICAnaW1nJzogaW1nLFxuICAgICAgICAgICAgJ3gnOiB4LFxuICAgICAgICAgICAgJ3knOiB5XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBzdGFydCB1cGRhdGluZyBhIHRpbGVcbiAgICBzdGFydFRpbGU6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvcikge1xuICAgICAgICB0aGlzLl90aWxlX3ggPSB4O1xuICAgICAgICB0aGlzLl90aWxlX3kgPSB5O1xuICAgICAgICBpZiAod2lkdGggPT09IDE2ICYmIGhlaWdodCA9PT0gMTYpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGUgPSB0aGlzLl90aWxlMTZ4MTY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVkID0gY29sb3JbMl07XG4gICAgICAgIHZhciBncmVlbiA9IGNvbG9yWzFdO1xuICAgICAgICB2YXIgYmx1ZSA9IGNvbG9yWzBdO1xuXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fdGlsZS5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpZHRoICogaGVpZ2h0ICogNDsgaSArPSA0KSB7XG4gICAgICAgICAgICBkYXRhW2ldID0gcmVkO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBncmVlbjtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYmx1ZTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gMjU1O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIHVwZGF0ZSBzdWItcmVjdGFuZ2xlIG9mIHRoZSBjdXJyZW50IHRpbGVcbiAgICBzdWJUaWxlOiBmdW5jdGlvbiAoeCwgeSwgdywgaCwgY29sb3IpIHtcbiAgICAgICAgdmFyIHJlZCA9IGNvbG9yWzJdO1xuICAgICAgICB2YXIgZ3JlZW4gPSBjb2xvclsxXTtcbiAgICAgICAgdmFyIGJsdWUgPSBjb2xvclswXTtcbiAgICAgICAgdmFyIHhlbmQgPSB4ICsgdztcbiAgICAgICAgdmFyIHllbmQgPSB5ICsgaDtcblxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX3RpbGUuZGF0YTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGlsZS53aWR0aDtcbiAgICAgICAgZm9yICh2YXIgaiA9IHk7IGogPCB5ZW5kOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB4OyBpIDwgeGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSAoaSArIChqICogd2lkdGgpKSAqIDQ7XG4gICAgICAgICAgICAgICAgZGF0YVtwXSA9IHJlZDtcbiAgICAgICAgICAgICAgICBkYXRhW3AgKyAxXSA9IGdyZWVuO1xuICAgICAgICAgICAgICAgIGRhdGFbcCArIDJdID0gYmx1ZTtcbiAgICAgICAgICAgICAgICBkYXRhW3AgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBkcmF3IHRoZSBjdXJyZW50IHRpbGUgdG8gdGhlIHNjcmVlblxuICAgIGZpbmlzaFRpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEodGhpcy5fdGlsZSwgdGhpcy5fdGlsZV94LCB0aGlzLl90aWxlX3kpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UodGhpcy5fdGlsZV94LCB0aGlzLl90aWxlX3ksXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWxlLndpZHRoLCB0aGlzLl90aWxlLmhlaWdodCk7XG4gICAgfSxcblxuICAgIGJsaXRJbWFnZTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0LCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogaXQncyB0ZWNobmljYWxseSBtb3JlIHBlcmZvcm1hbnQgaGVyZSB0byB1c2UgcHJlYWxsb2NhdGVkIGFycmF5cyxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCdzIGEgbG90IG9mIGV4dHJhIHdvcmsgZm9yIG5vdCBhIGxvdCBvZiBwYXlvZmYgLS0gaWYgd2UncmUgdXNpbmcgdGhlIHJlbmRlciBxdWV1ZSxcbiAgICAgICAgICAgIC8vIHRoaXMgcHJvYmFibHkgaXNuJ3QgZ2V0dGluZyBjYWxsZWQgKm5lYXJseSogYXMgbXVjaFxuICAgICAgICAgICAgdmFyIG5ld19hcnIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICAgICAgbmV3X2Fyci5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgMCwgbmV3X2Fyci5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYmxpdCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBuZXdfYXJyLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYmdyeEltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmxpdFJnYkltYWdlOiBmdW5jdGlvbiAoeCwgeSAsIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0LCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogaXQncyB0ZWNobmljYWxseSBtb3JlIHBlcmZvcm1hbnQgaGVyZSB0byB1c2UgcHJlYWxsb2NhdGVkIGFycmF5cyxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCdzIGEgbG90IG9mIGV4dHJhIHdvcmsgZm9yIG5vdCBhIGxvdCBvZiBwYXlvZmYgLS0gaWYgd2UncmUgdXNpbmcgdGhlIHJlbmRlciBxdWV1ZSxcbiAgICAgICAgICAgIC8vIHRoaXMgcHJvYmFibHkgaXNuJ3QgZ2V0dGluZyBjYWxsZWQgKm5lYXJseSogYXMgbXVjaFxuICAgICAgICAgICAgdmFyIG5ld19hcnIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDMpO1xuICAgICAgICAgICAgbmV3X2Fyci5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgMCwgbmV3X2Fyci5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYmxpdFJnYicsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBuZXdfYXJyLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmdiSW1hZ2VEYXRhKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBibGl0UmdieEltYWdlOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBpdCdzIHRlY2huaWNhbGx5IG1vcmUgcGVyZm9ybWFudCBoZXJlIHRvIHVzZSBwcmVhbGxvY2F0ZWQgYXJyYXlzLFxuICAgICAgICAgICAgLy8gYnV0IGl0J3MgYSBsb3Qgb2YgZXh0cmEgd29yayBmb3Igbm90IGEgbG90IG9mIHBheW9mZiAtLSBpZiB3ZSdyZSB1c2luZyB0aGUgcmVuZGVyIHF1ZXVlLFxuICAgICAgICAgICAgLy8gdGhpcyBwcm9iYWJseSBpc24ndCBnZXR0aW5nIGNhbGxlZCAqbmVhcmx5KiBhcyBtdWNoXG4gICAgICAgICAgICB2YXIgbmV3X2FyciA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgICAgICBuZXdfYXJyLnNldChuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCAwLCBuZXdfYXJyLmxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdibGl0UmdieCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBuZXdfYXJyLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmdieEltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZHJhd0ltYWdlOiBmdW5jdGlvbiAoaW1nLCB4LCB5KSB7XG4gICAgICAgIHRoaXMuX2RyYXdDdHguZHJhd0ltYWdlKGltZywgeCwgeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VDdXJzb3I6IGZ1bmN0aW9uIChwaXhlbHMsIG1hc2ssIGhvdHgsIGhvdHksIHcsIGgpIHtcbiAgICAgICAgRGlzcGxheS5jaGFuZ2VDdXJzb3IodGhpcy5fdGFyZ2V0LCBwaXhlbHMsIG1hc2ssIGhvdHgsIGhvdHksIHcsIGgpO1xuICAgIH0sXG5cbiAgICBkZWZhdWx0Q3Vyc29yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldC5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcbiAgICB9LFxuXG4gICAgZGlzYWJsZUxvY2FsQ3Vyc29yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldC5zdHlsZS5jdXJzb3IgPSBcIm5vbmVcIjtcbiAgICB9LFxuXG4gICAgYXV0b3NjYWxlOiBmdW5jdGlvbiAoY29udGFpbmVyV2lkdGgsIGNvbnRhaW5lckhlaWdodCkge1xuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcbiAgICAgICAgdmFyIHRhcmdldEFzcGVjdFJhdGlvID0gY29udGFpbmVyV2lkdGggLyBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgIHZhciBmYkFzcGVjdFJhdGlvID0gdnAudyAvIHZwLmg7XG5cbiAgICAgICAgdmFyIHNjYWxlUmF0aW87XG4gICAgICAgIGlmIChmYkFzcGVjdFJhdGlvID49IHRhcmdldEFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICBzY2FsZVJhdGlvID0gY29udGFpbmVyV2lkdGggLyB2cC53O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVSYXRpbyA9IGNvbnRhaW5lckhlaWdodCAvIHZwLmg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXNjYWxlKHNjYWxlUmF0aW8pO1xuICAgIH0sXG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9yZXNjYWxlOiBmdW5jdGlvbiAoZmFjdG9yKSB7XG4gICAgICAgIHRoaXMuX3NjYWxlID0gZmFjdG9yO1xuICAgICAgICB2YXIgdnAgPSB0aGlzLl92aWV3cG9ydExvYztcblxuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiBJZiB5b3Ugc2V0IHRoZSB3aWR0aCBkaXJlY3RseSwgb3Igc2V0IHRoZVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBzdHlsZSB3aWR0aCB0byBhIG51bWJlciwgdGhlIGNhbnZhcyBpcyBjbGVhcmVkLlxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBIb3dldmVyLCBpZiB5b3Ugc2V0IHRoZSBzdHlsZSB3aWR0aCB0byBhIHN0cmluZ1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAoJ05OTnB4JyksIHRoZSBjYW52YXMgaXMgc2NhbGVkIHdpdGhvdXQgY2xlYXJpbmcuXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZmFjdG9yICogdnAudykgKyAncHgnO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmYWN0b3IgKiB2cC5oKSArICdweCc7XG5cbiAgICAgICAgaWYgKCh0aGlzLl90YXJnZXQuc3R5bGUud2lkdGggIT09IHdpZHRoKSB8fFxuICAgICAgICAgICAgKHRoaXMuX3RhcmdldC5zdHlsZS5oZWlnaHQgIT09IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0RmlsbENvbG9yOiBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdmFyIG5ld1N0eWxlID0gJ3JnYignICsgY29sb3JbMl0gKyAnLCcgKyBjb2xvclsxXSArICcsJyArIGNvbG9yWzBdICsgJyknO1xuICAgICAgICBpZiAobmV3U3R5bGUgIT09IHRoaXMuX3ByZXZEcmF3U3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguZmlsbFN0eWxlID0gbmV3U3R5bGU7XG4gICAgICAgICAgICB0aGlzLl9wcmV2RHJhd1N0eWxlID0gbmV3U3R5bGU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3JnYkltYWdlRGF0YTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBpbWcgPSB0aGlzLl9kcmF3Q3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdmFyIGRhdGEgPSBpbWcuZGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBvZmZzZXQ7IGkgPCB3aWR0aCAqIGhlaWdodCAqIDQ7IGkgKz0gNCwgaiArPSAzKSB7XG4gICAgICAgICAgICBkYXRhW2ldICAgICA9IGFycltqXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gYXJyW2ogKyAxXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYXJyW2ogKyAyXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gMjU1OyAgLy8gQWxwaGFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgX2JncnhJbWFnZURhdGE6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCkge1xuICAgICAgICB2YXIgaW1nID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHZhciBkYXRhID0gaW1nLmRhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gb2Zmc2V0OyBpIDwgd2lkdGggKiBoZWlnaHQgKiA0OyBpICs9IDQsIGogKz0gNCkge1xuICAgICAgICAgICAgZGF0YVtpXSAgICAgPSBhcnJbaiArIDJdO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBhcnJbaiArIDFdO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBhcnJbal07XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IDI1NTsgIC8vIEFscGhhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEoaW1nLCB4LCB5KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgfSxcblxuICAgIF9yZ2J4SW1hZ2VEYXRhOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogYXJyIG11c3QgYmUgYW4gVHlwZSBBcnJheSB2aWV3XG4gICAgICAgIHZhciBpbWc7XG4gICAgICAgIGlmIChTVVBQT1JUU19JTUFHRURBVEFfQ09OU1RSVUNUT1IpIHtcbiAgICAgICAgICAgIGltZyA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGFyci5idWZmZXIsIGFyci5ieXRlT2Zmc2V0LCB3aWR0aCAqIGhlaWdodCAqIDQpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltZyA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgaW1nLmRhdGEuc2V0KG5ldyBVaW50OENsYW1wZWRBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgd2lkdGggKiBoZWlnaHQgKiA0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEoaW1nLCB4LCB5KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgfSxcblxuICAgIF9yZW5kZXJRX3B1c2g6IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyUS5wdXNoKGFjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBjYW4gYmUgcmVuZGVyZWQgaW1tZWRpYXRlbHkgaXQgd2lsbCBiZSwgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyB0aGUgc2Nhbm5lciB3aWxsIHdhaXQgZm9yIHRoZSByZWxldmFudCBldmVudFxuICAgICAgICAgICAgdGhpcy5fc2Nhbl9yZW5kZXJRKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3Jlc3VtZV9yZW5kZXJROiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gXCJ0aGlzXCIgaXMgdGhlIG9iamVjdCB0aGF0IGlzIHJlYWR5LCBub3QgdGhlXG4gICAgICAgIC8vIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX25vVk5DX2Rpc3BsYXkuX3Jlc3VtZV9yZW5kZXJRKTtcbiAgICAgICAgdGhpcy5fbm9WTkNfZGlzcGxheS5fc2Nhbl9yZW5kZXJRKCk7XG4gICAgfSxcblxuICAgIF9zY2FuX3JlbmRlclE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKHJlYWR5ICYmIHRoaXMuX3JlbmRlclEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLl9yZW5kZXJRWzBdO1xuICAgICAgICAgICAgc3dpdGNoIChhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbGlwJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjb3B5JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3B5SW1hZ2UoYS5vbGRfeCwgYS5vbGRfeSwgYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsbCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbFJlY3QoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmNvbG9yLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxpdCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpdEltYWdlKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCwgYS5kYXRhLCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxpdFJnYic6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpdFJnYkltYWdlKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCwgYS5kYXRhLCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxpdFJnYngnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsaXRSZ2J4SW1hZ2UoYS54LCBhLnksIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmRhdGEsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYS5pbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0ltYWdlKGEuaW1nLCBhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmltZy5fbm9WTkNfZGlzcGxheSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fcmVzdW1lX3JlbmRlclEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGlzIGltYWdlIHRvICdsb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8ga2VlcCB0aGluZ3MgaW4tb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclEuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCA9PT0gMCAmJiB0aGlzLl9mbHVzaGluZykge1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub25mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8vIENsYXNzIE1ldGhvZHNcbkRpc3BsYXkuY2hhbmdlQ3Vyc29yID0gZnVuY3Rpb24gKHRhcmdldCwgcGl4ZWxzLCBtYXNrLCBob3R4LCBob3R5LCB3LCBoKSB7XG4gICAgaWYgKCh3ID09PSAwKSB8fCAoaCA9PT0gMCkpIHtcbiAgICAgICAgdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICdub25lJztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjdXIgPSBbXVxuICAgIHZhciB5LCB4O1xuICAgIGZvciAoeSA9IDA7IHkgPCBoOyB5KyspIHtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHc7IHgrKykge1xuICAgICAgICAgICAgdmFyIGlkeCA9IHkgKiBNYXRoLmNlaWwodyAvIDgpICsgTWF0aC5mbG9vcih4IC8gOCk7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSAobWFza1tpZHhdIDw8ICh4ICUgOCkpICYgMHg4MCA/IDI1NSA6IDA7XG4gICAgICAgICAgICBpZHggPSAoKHcgKiB5KSArIHgpICogNDtcbiAgICAgICAgICAgIGN1ci5wdXNoKHBpeGVsc1tpZHggKyAyXSk7IC8vIHJlZFxuICAgICAgICAgICAgY3VyLnB1c2gocGl4ZWxzW2lkeCArIDFdKTsgLy8gZ3JlZW5cbiAgICAgICAgICAgIGN1ci5wdXNoKHBpeGVsc1tpZHhdKTsgICAgIC8vIGJsdWVcbiAgICAgICAgICAgIGN1ci5wdXNoKGFscGhhKTsgICAgICAgICAgIC8vIGFscGhhXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY2FudmFzLndpZHRoID0gdztcbiAgICBjYW52YXMuaGVpZ2h0ID0gaDtcblxuICAgIHZhciBpbWc7XG4gICAgaWYgKFNVUFBPUlRTX0lNQUdFREFUQV9DT05TVFJVQ1RPUikge1xuICAgICAgICBpbWcgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShjdXIpLCB3LCBoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbWcgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKHcsIGgpO1xuICAgICAgICBpbWcuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGN1cikpO1xuICAgIH1cbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpO1xuICAgIGN0eC5wdXRJbWFnZURhdGEoaW1nLCAwLCAwKTtcblxuICAgIHZhciB1cmwgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICd1cmwoJyArIHVybCArICcpJyArIGhvdHggKyAnICcgKyBob3R5ICsgJywgZGVmYXVsdCc7XG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgUGllcnJlIE9zc21hbiBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG5leHBvcnQgdmFyIGVuY29kaW5ncyA9IHtcbiAgICBlbmNvZGluZ1JhdzogMCxcbiAgICBlbmNvZGluZ0NvcHlSZWN0OiAxLFxuICAgIGVuY29kaW5nUlJFOiAyLFxuICAgIGVuY29kaW5nSGV4dGlsZTogNSxcbiAgICBlbmNvZGluZ1RpZ2h0OiA3LFxuXG4gICAgcHNldWRvRW5jb2RpbmdRdWFsaXR5TGV2ZWw5OiAtMjMsXG4gICAgcHNldWRvRW5jb2RpbmdRdWFsaXR5TGV2ZWwwOiAtMzIsXG4gICAgcHNldWRvRW5jb2RpbmdEZXNrdG9wU2l6ZTogLTIyMyxcbiAgICBwc2V1ZG9FbmNvZGluZ0xhc3RSZWN0OiAtMjI0LFxuICAgIHBzZXVkb0VuY29kaW5nQ3Vyc29yOiAtMjM5LFxuICAgIHBzZXVkb0VuY29kaW5nUUVNVUV4dGVuZGVkS2V5RXZlbnQ6IC0yNTgsXG4gICAgcHNldWRvRW5jb2RpbmdUaWdodFBORzogLTI2MCxcbiAgICBwc2V1ZG9FbmNvZGluZ0V4dGVuZGVkRGVza3RvcFNpemU6IC0zMDgsXG4gICAgcHNldWRvRW5jb2RpbmdYdnA6IC0zMDksXG4gICAgcHNldWRvRW5jb2RpbmdGZW5jZTogLTMxMixcbiAgICBwc2V1ZG9FbmNvZGluZ0NvbnRpbnVvdXNVcGRhdGVzOiAtMzEzLFxuICAgIHBzZXVkb0VuY29kaW5nQ29tcHJlc3NMZXZlbDk6IC0yNDcsXG4gICAgcHNldWRvRW5jb2RpbmdDb21wcmVzc0xldmVsMDogLTI1Nixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGluZ05hbWUobnVtKSB7XG4gICAgc3dpdGNoIChudW0pIHtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdSYXc6ICAgICAgcmV0dXJuIFwiUmF3XCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nQ29weVJlY3Q6IHJldHVybiBcIkNvcHlSZWN0XCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nUlJFOiAgICAgIHJldHVybiBcIlJSRVwiO1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ0hleHRpbGU6ICByZXR1cm4gXCJIZXh0aWxlXCI7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nVGlnaHQ6ICAgIHJldHVybiBcIlRpZ2h0XCI7XG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlt1bmtub3duIGVuY29kaW5nIFwiICsgbnVtICsgXCJdXCI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaW5mbGF0ZUluaXQsIGluZmxhdGUsIGluZmxhdGVSZXNldCB9IGZyb20gXCIuLi92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZsYXRlLmpzXCI7XG5pbXBvcnQgWlN0cmVhbSBmcm9tIFwiLi4vdmVuZG9yL3Bha28vbGliL3psaWIvenN0cmVhbS5qc1wiO1xuXG5JbmZsYXRlLnByb3RvdHlwZSA9IHtcbiAgICBpbmZsYXRlOiBmdW5jdGlvbiAoZGF0YSwgZmx1c2gsIGV4cGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc3RybS5pbnB1dCA9IGRhdGE7XG4gICAgICAgIHRoaXMuc3RybS5hdmFpbF9pbiA9IHRoaXMuc3RybS5pbnB1dC5sZW5ndGg7XG4gICAgICAgIHRoaXMuc3RybS5uZXh0X2luID0gMDtcbiAgICAgICAgdGhpcy5zdHJtLm5leHRfb3V0ID0gMDtcblxuICAgICAgICAvLyByZXNpemUgb3VyIG91dHB1dCBidWZmZXIgaWYgaXQncyB0b28gc21hbGxcbiAgICAgICAgLy8gKHdlIGNvdWxkIGp1c3QgdXNlIG11bHRpcGxlIGNodW5rcywgYnV0IHRoYXQgd291bGQgY2F1c2UgYW4gZXh0cmFcbiAgICAgICAgLy8gYWxsb2NhdGlvbiBlYWNoIHRpbWUgdG8gZmxhdHRlbiB0aGUgY2h1bmtzKVxuICAgICAgICBpZiAoZXhwZWN0ZWQgPiB0aGlzLmNodW5rU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5jaHVua1NpemUgPSBleHBlY3RlZDtcbiAgICAgICAgICAgIHRoaXMuc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLmNodW5rU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gdGhpcy5jaHVua1NpemU7XG5cbiAgICAgICAgaW5mbGF0ZSh0aGlzLnN0cm0sIGZsdXNoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5zdHJtLm91dHB1dC5idWZmZXIsIDAsIHRoaXMuc3RybS5uZXh0X291dCk7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluZmxhdGVSZXNldCh0aGlzLnN0cm0pO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluZmxhdGUoKSB7XG4gICAgdGhpcy5zdHJtID0gbmV3IFpTdHJlYW0oKTtcbiAgICB0aGlzLmNodW5rU2l6ZSA9IDEwMjQgKiAxMCAqIDEwO1xuICAgIHRoaXMuc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLmNodW5rU2l6ZSk7XG4gICAgdGhpcy53aW5kb3dCaXRzID0gNTtcblxuICAgIGluZmxhdGVJbml0KHRoaXMuc3RybSwgdGhpcy53aW5kb3dCaXRzKTtcbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4va2V5c3ltLmpzXCI7XG5cbi8qXG4gKiBNYXBwaW5nIGJldHdlZW4gSFRNTCBrZXkgdmFsdWVzIGFuZCBWTkMvWDExIGtleXN5bXMgZm9yIFwic3BlY2lhbFwiXG4gKiBrZXlzIHRoYXQgY2Fubm90IGJlIGhhbmRsZWQgdmlhIHRoZWlyIFVuaWNvZGUgY29kZXBvaW50LlxuICpcbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyBmb3IgcG9zc2libGUgdmFsdWVzLlxuICovXG5cbnZhciBET01LZXlUYWJsZSA9IHt9O1xuXG5mdW5jdGlvbiBhZGRTdGFuZGFyZChrZXksIHN0YW5kYXJkKVxue1xuICAgIGlmIChzdGFuZGFyZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB0aHJvdyBcIkR1cGxpY2F0ZSBlbnRyeSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIERPTUtleVRhYmxlW2tleV0gPSBbc3RhbmRhcmQsIHN0YW5kYXJkLCBzdGFuZGFyZCwgc3RhbmRhcmRdO1xufVxuXG5mdW5jdGlvbiBhZGRMZWZ0UmlnaHQoa2V5LCBsZWZ0LCByaWdodClcbntcbiAgICBpZiAobGVmdCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBpZiAocmlnaHQgPT09IHVuZGVmaW5lZCkgdGhyb3cgXCJVbmRlZmluZWQga2V5c3ltIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgaWYgKGtleSBpbiBET01LZXlUYWJsZSkgdGhyb3cgXCJEdXBsaWNhdGUgZW50cnkgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBET01LZXlUYWJsZVtrZXldID0gW2xlZnQsIGxlZnQsIHJpZ2h0LCBsZWZ0XTtcbn1cblxuZnVuY3Rpb24gYWRkTnVtcGFkKGtleSwgc3RhbmRhcmQsIG51bXBhZClcbntcbiAgICBpZiAoc3RhbmRhcmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgXCJVbmRlZmluZWQga2V5c3ltIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgaWYgKG51bXBhZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBcIlVuZGVmaW5lZCBrZXlzeW0gZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBpZiAoa2V5IGluIERPTUtleVRhYmxlKSB0aHJvdyBcIkR1cGxpY2F0ZSBlbnRyeSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIERPTUtleVRhYmxlW2tleV0gPSBbc3RhbmRhcmQsIHN0YW5kYXJkLCBzdGFuZGFyZCwgbnVtcGFkXTtcbn1cblxuLy8gMi4yLiBNb2RpZmllciBLZXlzXG5cbmFkZExlZnRSaWdodChcIkFsdFwiLCBLZXlUYWJsZS5YS19BbHRfTCwgS2V5VGFibGUuWEtfQWx0X1IpO1xuYWRkU3RhbmRhcmQoXCJBbHRHcmFwaFwiLCBLZXlUYWJsZS5YS19JU09fTGV2ZWwzX1NoaWZ0KTtcbmFkZFN0YW5kYXJkKFwiQ2Fwc0xvY2tcIiwgS2V5VGFibGUuWEtfQ2Fwc19Mb2NrKTtcbmFkZExlZnRSaWdodChcIkNvbnRyb2xcIiwgS2V5VGFibGUuWEtfQ29udHJvbF9MLCBLZXlUYWJsZS5YS19Db250cm9sX1IpO1xuLy8gLSBGblxuLy8gLSBGbkxvY2tcbmFkZExlZnRSaWdodChcIkh5cGVyXCIsIEtleVRhYmxlLlhLX1N1cGVyX0wsIEtleVRhYmxlLlhLX1N1cGVyX1IpO1xuYWRkTGVmdFJpZ2h0KFwiTWV0YVwiLCBLZXlUYWJsZS5YS19TdXBlcl9MLCBLZXlUYWJsZS5YS19TdXBlcl9SKTtcbmFkZFN0YW5kYXJkKFwiTnVtTG9ja1wiLCBLZXlUYWJsZS5YS19OdW1fTG9jayk7XG5hZGRTdGFuZGFyZChcIlNjcm9sbExvY2tcIiwgS2V5VGFibGUuWEtfU2Nyb2xsX0xvY2spO1xuYWRkTGVmdFJpZ2h0KFwiU2hpZnRcIiwgS2V5VGFibGUuWEtfU2hpZnRfTCwgS2V5VGFibGUuWEtfU2hpZnRfUik7XG5hZGRMZWZ0UmlnaHQoXCJTdXBlclwiLCBLZXlUYWJsZS5YS19TdXBlcl9MLCBLZXlUYWJsZS5YS19TdXBlcl9SKTtcbi8vIC0gU3ltYm9sXG4vLyAtIFN5bWJvbExvY2tcblxuLy8gMi4zLiBXaGl0ZXNwYWNlIEtleXNcblxuYWRkTnVtcGFkKFwiRW50ZXJcIiwgS2V5VGFibGUuWEtfUmV0dXJuLCBLZXlUYWJsZS5YS19LUF9FbnRlcik7XG5hZGRTdGFuZGFyZChcIlRhYlwiLCBLZXlUYWJsZS5YS19UYWIpO1xuYWRkTnVtcGFkKFwiIFwiLCBLZXlUYWJsZS5YS19zcGFjZSwgS2V5VGFibGUuWEtfS1BfU3BhY2UpO1xuXG4vLyAyLjQuIE5hdmlnYXRpb24gS2V5c1xuXG5hZGROdW1wYWQoXCJBcnJvd0Rvd25cIiwgS2V5VGFibGUuWEtfRG93biwgS2V5VGFibGUuWEtfS1BfRG93bik7XG5hZGROdW1wYWQoXCJBcnJvd1VwXCIsIEtleVRhYmxlLlhLX1VwLCBLZXlUYWJsZS5YS19LUF9VcCk7XG5hZGROdW1wYWQoXCJBcnJvd0xlZnRcIiwgS2V5VGFibGUuWEtfTGVmdCwgS2V5VGFibGUuWEtfS1BfTGVmdCk7XG5hZGROdW1wYWQoXCJBcnJvd1JpZ2h0XCIsIEtleVRhYmxlLlhLX1JpZ2h0LCBLZXlUYWJsZS5YS19LUF9SaWdodCk7XG5hZGROdW1wYWQoXCJFbmRcIiwgS2V5VGFibGUuWEtfRW5kLCBLZXlUYWJsZS5YS19LUF9FbmQpO1xuYWRkTnVtcGFkKFwiSG9tZVwiLCBLZXlUYWJsZS5YS19Ib21lLCBLZXlUYWJsZS5YS19LUF9Ib21lKTtcbmFkZE51bXBhZChcIlBhZ2VEb3duXCIsIEtleVRhYmxlLlhLX05leHQsIEtleVRhYmxlLlhLX0tQX05leHQpO1xuYWRkTnVtcGFkKFwiUGFnZVVwXCIsIEtleVRhYmxlLlhLX1ByaW9yLCBLZXlUYWJsZS5YS19LUF9Qcmlvcik7XG5cbi8vIDIuNS4gRWRpdGluZyBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQmFja3NwYWNlXCIsIEtleVRhYmxlLlhLX0JhY2tTcGFjZSk7XG5hZGRTdGFuZGFyZChcIkNsZWFyXCIsIEtleVRhYmxlLlhLX0NsZWFyKTtcbmFkZFN0YW5kYXJkKFwiQ29weVwiLCBLZXlUYWJsZS5YRjg2WEtfQ29weSk7XG4vLyAtIENyU2VsXG5hZGRTdGFuZGFyZChcIkN1dFwiLCBLZXlUYWJsZS5YRjg2WEtfQ3V0KTtcbmFkZE51bXBhZChcIkRlbGV0ZVwiLCBLZXlUYWJsZS5YS19EZWxldGUsIEtleVRhYmxlLlhLX0tQX0RlbGV0ZSk7XG4vLyAtIEVyYXNlRW9mXG4vLyAtIEV4U2VsXG5hZGROdW1wYWQoXCJJbnNlcnRcIiwgS2V5VGFibGUuWEtfSW5zZXJ0LCBLZXlUYWJsZS5YS19LUF9JbnNlcnQpO1xuYWRkU3RhbmRhcmQoXCJQYXN0ZVwiLCBLZXlUYWJsZS5YRjg2WEtfUGFzdGUpO1xuYWRkU3RhbmRhcmQoXCJSZWRvXCIsIEtleVRhYmxlLlhLX1JlZG8pO1xuYWRkU3RhbmRhcmQoXCJVbmRvXCIsIEtleVRhYmxlLlhLX1VuZG8pO1xuXG4vLyAyLjYuIFVJIEtleXNcblxuLy8gLSBBY2NlcHRcbi8vIC0gQWdhaW4gKGNvdWxkIGp1c3QgYmUgWEtfUmVkbylcbi8vIC0gQXR0blxuYWRkU3RhbmRhcmQoXCJDYW5jZWxcIiwgS2V5VGFibGUuWEtfQ2FuY2VsKTtcbmFkZFN0YW5kYXJkKFwiQ29udGV4dE1lbnVcIiwgS2V5VGFibGUuWEtfTWVudSk7XG5hZGRTdGFuZGFyZChcIkVzY2FwZVwiLCBLZXlUYWJsZS5YS19Fc2NhcGUpO1xuYWRkU3RhbmRhcmQoXCJFeGVjdXRlXCIsIEtleVRhYmxlLlhLX0V4ZWN1dGUpO1xuYWRkU3RhbmRhcmQoXCJGaW5kXCIsIEtleVRhYmxlLlhLX0ZpbmQpO1xuYWRkU3RhbmRhcmQoXCJIZWxwXCIsIEtleVRhYmxlLlhLX0hlbHApO1xuYWRkU3RhbmRhcmQoXCJQYXVzZVwiLCBLZXlUYWJsZS5YS19QYXVzZSk7XG4vLyAtIFBsYXlcbi8vIC0gUHJvcHNcbmFkZFN0YW5kYXJkKFwiU2VsZWN0XCIsIEtleVRhYmxlLlhLX1NlbGVjdCk7XG5hZGRTdGFuZGFyZChcIlpvb21JblwiLCBLZXlUYWJsZS5YRjg2WEtfWm9vbUluKTtcbmFkZFN0YW5kYXJkKFwiWm9vbU91dFwiLCBLZXlUYWJsZS5YRjg2WEtfWm9vbU91dCk7XG5cbi8vIDIuNy4gRGV2aWNlIEtleXNcblxuYWRkU3RhbmRhcmQoXCJCcmlnaHRuZXNzRG93blwiLCBLZXlUYWJsZS5YRjg2WEtfTW9uQnJpZ2h0bmVzc0Rvd24pO1xuYWRkU3RhbmRhcmQoXCJCcmlnaHRuZXNzVXBcIiwgS2V5VGFibGUuWEY4NlhLX01vbkJyaWdodG5lc3NVcCk7XG5hZGRTdGFuZGFyZChcIkVqZWN0XCIsIEtleVRhYmxlLlhGODZYS19FamVjdCk7XG5hZGRTdGFuZGFyZChcIkxvZ09mZlwiLCBLZXlUYWJsZS5YRjg2WEtfTG9nT2ZmKTtcbmFkZFN0YW5kYXJkKFwiUG93ZXJcIiwgS2V5VGFibGUuWEY4NlhLX1Bvd2VyT2ZmKTtcbmFkZFN0YW5kYXJkKFwiUG93ZXJPZmZcIiwgS2V5VGFibGUuWEY4NlhLX1Bvd2VyRG93bik7XG5hZGRTdGFuZGFyZChcIlByaW50U2NyZWVuXCIsIEtleVRhYmxlLlhLX1ByaW50KTtcbmFkZFN0YW5kYXJkKFwiSGliZXJuYXRlXCIsIEtleVRhYmxlLlhGODZYS19IaWJlcm5hdGUpO1xuYWRkU3RhbmRhcmQoXCJTdGFuZGJ5XCIsIEtleVRhYmxlLlhGODZYS19TdGFuZGJ5KTtcbmFkZFN0YW5kYXJkKFwiV2FrZVVwXCIsIEtleVRhYmxlLlhGODZYS19XYWtlVXApO1xuXG4vLyAyLjguIElNRSBhbmQgQ29tcG9zaXRpb24gS2V5c1xuXG5hZGRTdGFuZGFyZChcIkFsbENhbmRpZGF0ZXNcIiwgS2V5VGFibGUuWEtfTXVsdGlwbGVDYW5kaWRhdGUpO1xuYWRkU3RhbmRhcmQoXCJBbHBoYW51bWVyaWNcIiwgS2V5VGFibGUuWEtfRWlzdV9TaGlmdCk7IC8vIGNvdWxkIGFsc28gYmUgX0Vpc3VfVG9nZ2xlXG5hZGRTdGFuZGFyZChcIkNvZGVJbnB1dFwiLCBLZXlUYWJsZS5YS19Db2RlaW5wdXQpO1xuYWRkU3RhbmRhcmQoXCJDb21wb3NlXCIsIEtleVRhYmxlLlhLX011bHRpX2tleSk7XG5hZGRTdGFuZGFyZChcIkNvbnZlcnRcIiwgS2V5VGFibGUuWEtfSGVua2FuKTtcbi8vIC0gRGVhZFxuLy8gLSBGaW5hbE1vZGVcbmFkZFN0YW5kYXJkKFwiR3JvdXBGaXJzdFwiLCBLZXlUYWJsZS5YS19JU09fRmlyc3RfR3JvdXApO1xuYWRkU3RhbmRhcmQoXCJHcm91cExhc3RcIiwgS2V5VGFibGUuWEtfSVNPX0xhc3RfR3JvdXApO1xuYWRkU3RhbmRhcmQoXCJHcm91cE5leHRcIiwgS2V5VGFibGUuWEtfSVNPX05leHRfR3JvdXApO1xuYWRkU3RhbmRhcmQoXCJHcm91cFByZXZpb3VzXCIsIEtleVRhYmxlLlhLX0lTT19QcmV2X0dyb3VwKTtcbi8vIC0gTW9kZUNoYW5nZSAoWEtfTW9kZV9zd2l0Y2ggaXMgb2Z0ZW4gdXNlZCBmb3IgQWx0R3IpXG4vLyAtIE5leHRDYW5kaWRhdGVcbmFkZFN0YW5kYXJkKFwiTm9uQ29udmVydFwiLCBLZXlUYWJsZS5YS19NdWhlbmthbik7XG5hZGRTdGFuZGFyZChcIlByZXZpb3VzQ2FuZGlkYXRlXCIsIEtleVRhYmxlLlhLX1ByZXZpb3VzQ2FuZGlkYXRlKTtcbi8vIC0gUHJvY2Vzc1xuYWRkU3RhbmRhcmQoXCJTaW5nbGVDYW5kaWRhdGVcIiwgS2V5VGFibGUuWEtfU2luZ2xlQ2FuZGlkYXRlKTtcbmFkZFN0YW5kYXJkKFwiSGFuZ3VsTW9kZVwiLCBLZXlUYWJsZS5YS19IYW5ndWwpO1xuYWRkU3RhbmRhcmQoXCJIYW5qYU1vZGVcIiwgS2V5VGFibGUuWEtfSGFuZ3VsX0hhbmphKTtcbmFkZFN0YW5kYXJkKFwiSnVuanVhTW9kZVwiLCBLZXlUYWJsZS5YS19IYW5ndWxfSmVvbmphKTtcbmFkZFN0YW5kYXJkKFwiRWlzdVwiLCBLZXlUYWJsZS5YS19FaXN1X3RvZ2dsZSk7XG5hZGRTdGFuZGFyZChcIkhhbmtha3VcIiwgS2V5VGFibGUuWEtfSGFua2FrdSk7XG5hZGRTdGFuZGFyZChcIkhpcmFnYW5hXCIsIEtleVRhYmxlLlhLX0hpcmFnYW5hKTtcbmFkZFN0YW5kYXJkKFwiSGlyYWdhbmFLYXRha2FuYVwiLCBLZXlUYWJsZS5YS19IaXJhZ2FuYV9LYXRha2FuYSk7XG5hZGRTdGFuZGFyZChcIkthbmFNb2RlXCIsIEtleVRhYmxlLlhLX0thbmFfU2hpZnQpOyAvLyBjb3VsZCBhbHNvIGJlIF9LYW5hX0xvY2tcbmFkZFN0YW5kYXJkKFwiS2FuamlNb2RlXCIsIEtleVRhYmxlLlhLX0thbmppKTtcbmFkZFN0YW5kYXJkKFwiS2F0YWthbmFcIiwgS2V5VGFibGUuWEtfS2F0YWthbmEpO1xuYWRkU3RhbmRhcmQoXCJSb21hamlcIiwgS2V5VGFibGUuWEtfUm9tYWppKTtcbmFkZFN0YW5kYXJkKFwiWmVua2FrdVwiLCBLZXlUYWJsZS5YS19aZW5rYWt1KTtcbmFkZFN0YW5kYXJkKFwiWmVua2FrdUhhbmFrdVwiLCBLZXlUYWJsZS5YS19aZW5rYWt1X0hhbmtha3UpO1xuXG4vLyAyLjkuIEdlbmVyYWwtUHVycG9zZSBGdW5jdGlvbiBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiRjFcIiwgS2V5VGFibGUuWEtfRjEpO1xuYWRkU3RhbmRhcmQoXCJGMlwiLCBLZXlUYWJsZS5YS19GMik7XG5hZGRTdGFuZGFyZChcIkYzXCIsIEtleVRhYmxlLlhLX0YzKTtcbmFkZFN0YW5kYXJkKFwiRjRcIiwgS2V5VGFibGUuWEtfRjQpO1xuYWRkU3RhbmRhcmQoXCJGNVwiLCBLZXlUYWJsZS5YS19GNSk7XG5hZGRTdGFuZGFyZChcIkY2XCIsIEtleVRhYmxlLlhLX0Y2KTtcbmFkZFN0YW5kYXJkKFwiRjdcIiwgS2V5VGFibGUuWEtfRjcpO1xuYWRkU3RhbmRhcmQoXCJGOFwiLCBLZXlUYWJsZS5YS19GOCk7XG5hZGRTdGFuZGFyZChcIkY5XCIsIEtleVRhYmxlLlhLX0Y5KTtcbmFkZFN0YW5kYXJkKFwiRjEwXCIsIEtleVRhYmxlLlhLX0YxMCk7XG5hZGRTdGFuZGFyZChcIkYxMVwiLCBLZXlUYWJsZS5YS19GMTEpO1xuYWRkU3RhbmRhcmQoXCJGMTJcIiwgS2V5VGFibGUuWEtfRjEyKTtcbmFkZFN0YW5kYXJkKFwiRjEzXCIsIEtleVRhYmxlLlhLX0YxMyk7XG5hZGRTdGFuZGFyZChcIkYxNFwiLCBLZXlUYWJsZS5YS19GMTQpO1xuYWRkU3RhbmRhcmQoXCJGMTVcIiwgS2V5VGFibGUuWEtfRjE1KTtcbmFkZFN0YW5kYXJkKFwiRjE2XCIsIEtleVRhYmxlLlhLX0YxNik7XG5hZGRTdGFuZGFyZChcIkYxN1wiLCBLZXlUYWJsZS5YS19GMTcpO1xuYWRkU3RhbmRhcmQoXCJGMThcIiwgS2V5VGFibGUuWEtfRjE4KTtcbmFkZFN0YW5kYXJkKFwiRjE5XCIsIEtleVRhYmxlLlhLX0YxOSk7XG5hZGRTdGFuZGFyZChcIkYyMFwiLCBLZXlUYWJsZS5YS19GMjApO1xuYWRkU3RhbmRhcmQoXCJGMjFcIiwgS2V5VGFibGUuWEtfRjIxKTtcbmFkZFN0YW5kYXJkKFwiRjIyXCIsIEtleVRhYmxlLlhLX0YyMik7XG5hZGRTdGFuZGFyZChcIkYyM1wiLCBLZXlUYWJsZS5YS19GMjMpO1xuYWRkU3RhbmRhcmQoXCJGMjRcIiwgS2V5VGFibGUuWEtfRjI0KTtcbmFkZFN0YW5kYXJkKFwiRjI1XCIsIEtleVRhYmxlLlhLX0YyNSk7XG5hZGRTdGFuZGFyZChcIkYyNlwiLCBLZXlUYWJsZS5YS19GMjYpO1xuYWRkU3RhbmRhcmQoXCJGMjdcIiwgS2V5VGFibGUuWEtfRjI3KTtcbmFkZFN0YW5kYXJkKFwiRjI4XCIsIEtleVRhYmxlLlhLX0YyOCk7XG5hZGRTdGFuZGFyZChcIkYyOVwiLCBLZXlUYWJsZS5YS19GMjkpO1xuYWRkU3RhbmRhcmQoXCJGMzBcIiwgS2V5VGFibGUuWEtfRjMwKTtcbmFkZFN0YW5kYXJkKFwiRjMxXCIsIEtleVRhYmxlLlhLX0YzMSk7XG5hZGRTdGFuZGFyZChcIkYzMlwiLCBLZXlUYWJsZS5YS19GMzIpO1xuYWRkU3RhbmRhcmQoXCJGMzNcIiwgS2V5VGFibGUuWEtfRjMzKTtcbmFkZFN0YW5kYXJkKFwiRjM0XCIsIEtleVRhYmxlLlhLX0YzNCk7XG5hZGRTdGFuZGFyZChcIkYzNVwiLCBLZXlUYWJsZS5YS19GMzUpO1xuLy8gLSBTb2Z0MS4uLlxuXG4vLyAyLjEwLiBNdWx0aW1lZGlhIEtleXNcblxuLy8gLSBDaGFubmVsRG93blxuLy8gLSBDaGFubmVsVXBcbmFkZFN0YW5kYXJkKFwiQ2xvc2VcIiwgS2V5VGFibGUuWEY4NlhLX0Nsb3NlKTtcbmFkZFN0YW5kYXJkKFwiTWFpbEZvcndhcmRcIiwgS2V5VGFibGUuWEY4NlhLX01haWxGb3J3YXJkKTtcbmFkZFN0YW5kYXJkKFwiTWFpbFJlcGx5XCIsIEtleVRhYmxlLlhGODZYS19SZXBseSk7XG5hZGRTdGFuZGFyZChcIk1haW5TZW5kXCIsIEtleVRhYmxlLlhGODZYS19TZW5kKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFGYXN0Rm9yd2FyZFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9Gb3J3YXJkKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFQYXVzZVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9QYXVzZSk7XG5hZGRTdGFuZGFyZChcIk1lZGlhUGxheVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9QbGF5KTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFSZWNvcmRcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUmVjb3JkKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFSZXdpbmRcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUmV3aW5kKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFTdG9wXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1N0b3ApO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVRyYWNrTmV4dFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9OZXh0KTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFUcmFja1ByZXZpb3VzXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1ByZXYpO1xuYWRkU3RhbmRhcmQoXCJOZXdcIiwgS2V5VGFibGUuWEY4NlhLX05ldyk7XG5hZGRTdGFuZGFyZChcIk9wZW5cIiwgS2V5VGFibGUuWEY4NlhLX09wZW4pO1xuYWRkU3RhbmRhcmQoXCJQcmludFwiLCBLZXlUYWJsZS5YS19QcmludCk7XG5hZGRTdGFuZGFyZChcIlNhdmVcIiwgS2V5VGFibGUuWEY4NlhLX1NhdmUpO1xuYWRkU3RhbmRhcmQoXCJTcGVsbENoZWNrXCIsIEtleVRhYmxlLlhGODZYS19TcGVsbCk7XG5cbi8vIDIuMTEuIE11bHRpbWVkaWEgTnVtcGFkIEtleXNcblxuLy8gLSBLZXkxMVxuLy8gLSBLZXkxMlxuXG4vLyAyLjEyLiBBdWRpbyBLZXlzXG5cbi8vIC0gQXVkaW9CYWxhbmNlTGVmdFxuLy8gLSBBdWRpb0JhbGFuY2VSaWdodFxuLy8gLSBBdWRpb0Jhc3NEb3duXG4vLyAtIEF1ZGlvQmFzc0Jvb3N0RG93blxuLy8gLSBBdWRpb0Jhc3NCb29zdFRvZ2dsZVxuLy8gLSBBdWRpb0Jhc3NCb29zdFVwXG4vLyAtIEF1ZGlvQmFzc1VwXG4vLyAtIEF1ZGlvRmFkZXJGcm9udFxuLy8gLSBBdWRpb0ZhZGVyUmVhclxuLy8gLSBBdWRpb1N1cnJvdW5kTW9kZU5leHRcbi8vIC0gQXVkaW9UcmVibGVEb3duXG4vLyAtIEF1ZGlvVHJlYmxlVXBcbmFkZFN0YW5kYXJkKFwiQXVkaW9Wb2x1bWVEb3duXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb0xvd2VyVm9sdW1lKTtcbmFkZFN0YW5kYXJkKFwiQXVkaW9Wb2x1bWVVcFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SYWlzZVZvbHVtZSk7XG5hZGRTdGFuZGFyZChcIkF1ZGlvVm9sdW1lTXV0ZVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9NdXRlKTtcbi8vIC0gTWljcm9waG9uZVRvZ2dsZVxuLy8gLSBNaWNyb3Bob25lVm9sdW1lRG93blxuLy8gLSBNaWNyb3Bob25lVm9sdW1lVXBcbmFkZFN0YW5kYXJkKFwiTWljcm9waG9uZVZvbHVtZU11dGVcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTWljTXV0ZSk7XG5cbi8vIDIuMTMuIFNwZWVjaCBLZXlzXG5cbi8vIC0gU3BlZWNoQ29ycmVjdGlvbkxpc3Rcbi8vIC0gU3BlZWNoSW5wdXRUb2dnbGVcblxuLy8gMi4xNC4gQXBwbGljYXRpb24gS2V5c1xuXG5hZGRTdGFuZGFyZChcIkxhdW5jaENhbGN1bGF0b3JcIiwgS2V5VGFibGUuWEY4NlhLX0NhbGN1bGF0b3IpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hDYWxlbmRhclwiLCBLZXlUYWJsZS5YRjg2WEtfQ2FsZW5kYXIpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hNYWlsXCIsIEtleVRhYmxlLlhGODZYS19NYWlsKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoTWVkaWFQbGF5ZXJcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTWVkaWEpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hNdXNpY1BsYXllclwiLCBLZXlUYWJsZS5YRjg2WEtfTXVzaWMpO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hNeUNvbXB1dGVyXCIsIEtleVRhYmxlLlhGODZYS19NeUNvbXB1dGVyKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoUGhvbmVcIiwgS2V5VGFibGUuWEY4NlhLX1Bob25lKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoU2NyZWVuU2F2ZXJcIiwgS2V5VGFibGUuWEY4NlhLX1NjcmVlblNhdmVyKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoU3ByZWFkc2hlZXRcIiwgS2V5VGFibGUuWEY4NlhLX0V4Y2VsKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoV2ViQnJvd3NlclwiLCBLZXlUYWJsZS5YRjg2WEtfV1dXKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoV2ViQ2FtXCIsIEtleVRhYmxlLlhGODZYS19XZWJDYW0pO1xuYWRkU3RhbmRhcmQoXCJMYXVuY2hXb3JkUHJvY2Vzc29yXCIsIEtleVRhYmxlLlhGODZYS19Xb3JkKTtcblxuLy8gMi4xNS4gQnJvd3NlciBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQnJvd3NlckJhY2tcIiwgS2V5VGFibGUuWEY4NlhLX0JhY2spO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyRmF2b3JpdGVzXCIsIEtleVRhYmxlLlhGODZYS19GYXZvcml0ZXMpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyRm9yd2FyZFwiLCBLZXlUYWJsZS5YRjg2WEtfRm9yd2FyZCk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJIb21lXCIsIEtleVRhYmxlLlhGODZYS19Ib21lUGFnZSk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJSZWZyZXNoXCIsIEtleVRhYmxlLlhGODZYS19SZWZyZXNoKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlclNlYXJjaFwiLCBLZXlUYWJsZS5YRjg2WEtfU2VhcmNoKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlclN0b3BcIiwgS2V5VGFibGUuWEY4NlhLX1N0b3ApO1xuXG4vLyAyLjE2LiBNb2JpbGUgUGhvbmUgS2V5c1xuXG4vLyAtIEEgd2hvbGUgYnVuY2guLi5cblxuLy8gMi4xNy4gVFYgS2V5c1xuXG4vLyAtIEEgd2hvbGUgYnVuY2guLi5cblxuLy8gMi4xOC4gTWVkaWEgQ29udHJvbGxlciBLZXlzXG5cbi8vIC0gQSB3aG9sZSBidW5jaC4uLlxuYWRkU3RhbmRhcmQoXCJEaW1tZXJcIiwgS2V5VGFibGUuWEY4NlhLX0JyaWdodG5lc3NBZGp1c3QpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYUF1ZGlvVHJhY2tcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvQ3ljbGVUcmFjayk7XG5hZGRTdGFuZGFyZChcIlJhbmRvbVRvZ2dsZVwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9SYW5kb21QbGF5KTtcbmFkZFN0YW5kYXJkKFwiU3BsaXRTY3JlZW5Ub2dnbGVcIiwgS2V5VGFibGUuWEY4NlhLX1NwbGl0U2NyZWVuKTtcbmFkZFN0YW5kYXJkKFwiU3VidGl0bGVcIiwgS2V5VGFibGUuWEY4NlhLX1N1YnRpdGxlKTtcbmFkZFN0YW5kYXJkKFwiVmlkZW9Nb2RlTmV4dFwiLCBLZXlUYWJsZS5YRjg2WEtfTmV4dF9WTW9kZSk7XG5cbi8vIEV4dHJhOiBOdW1wYWRcblxuYWRkTnVtcGFkKFwiPVwiLCBLZXlUYWJsZS5YS19lcXVhbCwgS2V5VGFibGUuWEtfS1BfRXF1YWwpO1xuYWRkTnVtcGFkKFwiK1wiLCBLZXlUYWJsZS5YS19wbHVzLCBLZXlUYWJsZS5YS19LUF9BZGQpO1xuYWRkTnVtcGFkKFwiLVwiLCBLZXlUYWJsZS5YS19taW51cywgS2V5VGFibGUuWEtfS1BfU3VidHJhY3QpO1xuYWRkTnVtcGFkKFwiKlwiLCBLZXlUYWJsZS5YS19hc3RlcmlzaywgS2V5VGFibGUuWEtfS1BfTXVsdGlwbHkpO1xuYWRkTnVtcGFkKFwiL1wiLCBLZXlUYWJsZS5YS19zbGFzaCwgS2V5VGFibGUuWEtfS1BfRGl2aWRlKTtcbmFkZE51bXBhZChcIi5cIiwgS2V5VGFibGUuWEtfcGVyaW9kLCBLZXlUYWJsZS5YS19LUF9EZWNpbWFsKTtcbmFkZE51bXBhZChcIixcIiwgS2V5VGFibGUuWEtfY29tbWEsIEtleVRhYmxlLlhLX0tQX1NlcGFyYXRvcik7XG5hZGROdW1wYWQoXCIwXCIsIEtleVRhYmxlLlhLXzAsIEtleVRhYmxlLlhLX0tQXzApO1xuYWRkTnVtcGFkKFwiMVwiLCBLZXlUYWJsZS5YS18xLCBLZXlUYWJsZS5YS19LUF8xKTtcbmFkZE51bXBhZChcIjJcIiwgS2V5VGFibGUuWEtfMiwgS2V5VGFibGUuWEtfS1BfMik7XG5hZGROdW1wYWQoXCIzXCIsIEtleVRhYmxlLlhLXzMsIEtleVRhYmxlLlhLX0tQXzMpO1xuYWRkTnVtcGFkKFwiNFwiLCBLZXlUYWJsZS5YS180LCBLZXlUYWJsZS5YS19LUF80KTtcbmFkZE51bXBhZChcIjVcIiwgS2V5VGFibGUuWEtfNSwgS2V5VGFibGUuWEtfS1BfNSk7XG5hZGROdW1wYWQoXCI2XCIsIEtleVRhYmxlLlhLXzYsIEtleVRhYmxlLlhLX0tQXzYpO1xuYWRkTnVtcGFkKFwiN1wiLCBLZXlUYWJsZS5YS183LCBLZXlUYWJsZS5YS19LUF83KTtcbmFkZE51bXBhZChcIjhcIiwgS2V5VGFibGUuWEtfOCwgS2V5VGFibGUuWEtfS1BfOCk7XG5hZGROdW1wYWQoXCI5XCIsIEtleVRhYmxlLlhLXzksIEtleVRhYmxlLlhLX0tQXzkpO1xuXG5leHBvcnQgZGVmYXVsdCBET01LZXlUYWJsZTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbi8qXG4gKiBGYWxsYmFjayBtYXBwaW5nIGJldHdlZW4gSFRNTCBrZXkgY29kZXMgKHBoeXNpY2FsIGtleXMpIGFuZFxuICogSFRNTCBrZXkgdmFsdWVzLiBUaGlzIG9ubHkgd29ya3MgZm9yIGtleXMgdGhhdCBkb24ndCB2YXJ5XG4gKiBiZXR3ZWVuIGxheW91dHMuIFdlIGFsc28gb21pdCB0aG9zZSB3aG8gbWFuYWdlIGZpbmUgYnkgbWFwcGluZyB0aGVcbiAqIFVuaWNvZGUgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1jb2RlLyBmb3IgcG9zc2libGUgY29kZXMuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWtleS8gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbi8vIDMuMS4xLjEuIFdyaXRpbmcgU3lzdGVtIEtleXNcblxuICAgICdCYWNrc3BhY2UnOiAgICAgICAgJ0JhY2tzcGFjZScsXG5cbi8vIDMuMS4xLjIuIEZ1bmN0aW9uYWwgS2V5c1xuXG4gICAgJ0FsdExlZnQnOiAgICAgICAgICAnQWx0JyxcbiAgICAnQWx0UmlnaHQnOiAgICAgICAgICdBbHQnLCAvLyBUaGlzIGNvdWxkIGFsc28gYmUgJ0FsdEdyYXBoJ1xuICAgICdDYXBzTG9jayc6ICAgICAgICAgJ0NhcHNMb2NrJyxcbiAgICAnQ29udGV4dE1lbnUnOiAgICAgICdDb250ZXh0TWVudScsXG4gICAgJ0NvbnRyb2xMZWZ0JzogICAgICAnQ29udHJvbCcsXG4gICAgJ0NvbnRyb2xSaWdodCc6ICAgICAnQ29udHJvbCcsXG4gICAgJ0VudGVyJzogICAgICAgICAgICAnRW50ZXInLFxuICAgICdNZXRhTGVmdCc6ICAgICAgICAgJ01ldGEnLFxuICAgICdNZXRhUmlnaHQnOiAgICAgICAgJ01ldGEnLFxuICAgICdTaGlmdExlZnQnOiAgICAgICAgJ1NoaWZ0JyxcbiAgICAnU2hpZnRSaWdodCc6ICAgICAgICdTaGlmdCcsXG4gICAgJ1RhYic6ICAgICAgICAgICAgICAnVGFiJyxcbiAgICAvLyBGSVhNRTogSmFwYW5lc2UvS29yZWFuIGtleXNcblxuLy8gMy4xLjIuIENvbnRyb2wgUGFkIFNlY3Rpb25cblxuICAgICdEZWxldGUnOiAgICAgICAgICAgJ0RlbGV0ZScsXG4gICAgJ0VuZCc6ICAgICAgICAgICAgICAnRW5kJyxcbiAgICAnSGVscCc6ICAgICAgICAgICAgICdIZWxwJyxcbiAgICAnSG9tZSc6ICAgICAgICAgICAgICdIb21lJyxcbiAgICAnSW5zZXJ0JzogICAgICAgICAgICdJbnNlcnQnLFxuICAgICdQYWdlRG93bic6ICAgICAgICAgJ1BhZ2VEb3duJyxcbiAgICAnUGFnZVVwJzogICAgICAgICAgICdQYWdlVXAnLFxuXG4vLyAzLjEuMy4gQXJyb3cgUGFkIFNlY3Rpb25cblxuICAgICdBcnJvd0Rvd24nOiAgICAgICAgJ0Fycm93RG93bicsXG4gICAgJ0Fycm93TGVmdCc6ICAgICAgICAnQXJyb3dMZWZ0JyxcbiAgICAnQXJyb3dSaWdodCc6ICAgICAgICdBcnJvd1JpZ2h0JyxcbiAgICAnQXJyb3dVcCc6ICAgICAgICAgICdBcnJvd1VwJyxcblxuLy8gMy4xLjQuIE51bXBhZCBTZWN0aW9uXG5cbiAgICAnTnVtTG9jayc6ICAgICAgICAgICdOdW1Mb2NrJyxcbiAgICAnTnVtcGFkQmFja3NwYWNlJzogICdCYWNrc3BhY2UnLFxuICAgICdOdW1wYWRDbGVhcic6ICAgICAgJ0NsZWFyJyxcblxuLy8gMy4xLjUuIEZ1bmN0aW9uIFNlY3Rpb25cblxuICAgICdFc2NhcGUnOiAgICAgICAgICAgJ0VzY2FwZScsXG4gICAgJ0YxJzogICAgICAgICAgICAgICAnRjEnLFxuICAgICdGMic6ICAgICAgICAgICAgICAgJ0YyJyxcbiAgICAnRjMnOiAgICAgICAgICAgICAgICdGMycsXG4gICAgJ0Y0JzogICAgICAgICAgICAgICAnRjQnLFxuICAgICdGNSc6ICAgICAgICAgICAgICAgJ0Y1JyxcbiAgICAnRjYnOiAgICAgICAgICAgICAgICdGNicsXG4gICAgJ0Y3JzogICAgICAgICAgICAgICAnRjcnLFxuICAgICdGOCc6ICAgICAgICAgICAgICAgJ0Y4JyxcbiAgICAnRjknOiAgICAgICAgICAgICAgICdGOScsXG4gICAgJ0YxMCc6ICAgICAgICAgICAgICAnRjEwJyxcbiAgICAnRjExJzogICAgICAgICAgICAgICdGMTEnLFxuICAgICdGMTInOiAgICAgICAgICAgICAgJ0YxMicsXG4gICAgJ0YxMyc6ICAgICAgICAgICAgICAnRjEzJyxcbiAgICAnRjE0JzogICAgICAgICAgICAgICdGMTQnLFxuICAgICdGMTUnOiAgICAgICAgICAgICAgJ0YxNScsXG4gICAgJ0YxNic6ICAgICAgICAgICAgICAnRjE2JyxcbiAgICAnRjE3JzogICAgICAgICAgICAgICdGMTcnLFxuICAgICdGMTgnOiAgICAgICAgICAgICAgJ0YxOCcsXG4gICAgJ0YxOSc6ICAgICAgICAgICAgICAnRjE5JyxcbiAgICAnRjIwJzogICAgICAgICAgICAgICdGMjAnLFxuICAgICdGMjEnOiAgICAgICAgICAgICAgJ0YyMScsXG4gICAgJ0YyMic6ICAgICAgICAgICAgICAnRjIyJyxcbiAgICAnRjIzJzogICAgICAgICAgICAgICdGMjMnLFxuICAgICdGMjQnOiAgICAgICAgICAgICAgJ0YyNCcsXG4gICAgJ0YyNSc6ICAgICAgICAgICAgICAnRjI1JyxcbiAgICAnRjI2JzogICAgICAgICAgICAgICdGMjYnLFxuICAgICdGMjcnOiAgICAgICAgICAgICAgJ0YyNycsXG4gICAgJ0YyOCc6ICAgICAgICAgICAgICAnRjI4JyxcbiAgICAnRjI5JzogICAgICAgICAgICAgICdGMjknLFxuICAgICdGMzAnOiAgICAgICAgICAgICAgJ0YzMCcsXG4gICAgJ0YzMSc6ICAgICAgICAgICAgICAnRjMxJyxcbiAgICAnRjMyJzogICAgICAgICAgICAgICdGMzInLFxuICAgICdGMzMnOiAgICAgICAgICAgICAgJ0YzMycsXG4gICAgJ0YzNCc6ICAgICAgICAgICAgICAnRjM0JyxcbiAgICAnRjM1JzogICAgICAgICAgICAgICdGMzUnLFxuICAgICdQcmludFNjcmVlbic6ICAgICAgJ1ByaW50U2NyZWVuJyxcbiAgICAnU2Nyb2xsTG9jayc6ICAgICAgICdTY3JvbGxMb2NrJyxcbiAgICAnUGF1c2UnOiAgICAgICAgICAgICdQYXVzZScsXG5cbi8vIDMuMS42LiBNZWRpYSBLZXlzXG5cbiAgICAnQnJvd3NlckJhY2snOiAgICAgICdCcm93c2VyQmFjaycsXG4gICAgJ0Jyb3dzZXJGYXZvcml0ZXMnOiAnQnJvd3NlckZhdm9yaXRlcycsXG4gICAgJ0Jyb3dzZXJGb3J3YXJkJzogICAnQnJvd3NlckZvcndhcmQnLFxuICAgICdCcm93c2VySG9tZSc6ICAgICAgJ0Jyb3dzZXJIb21lJyxcbiAgICAnQnJvd3NlclJlZnJlc2gnOiAgICdCcm93c2VyUmVmcmVzaCcsXG4gICAgJ0Jyb3dzZXJTZWFyY2gnOiAgICAnQnJvd3NlclNlYXJjaCcsXG4gICAgJ0Jyb3dzZXJTdG9wJzogICAgICAnQnJvd3NlclN0b3AnLFxuICAgICdFamVjdCc6ICAgICAgICAgICAgJ0VqZWN0JyxcbiAgICAnTGF1bmNoQXBwMSc6ICAgICAgICdMYXVuY2hNeUNvbXB1dGVyJyxcbiAgICAnTGF1bmNoQXBwMic6ICAgICAgICdMYXVuY2hDYWxlbmRhcicsXG4gICAgJ0xhdW5jaE1haWwnOiAgICAgICAnTGF1bmNoTWFpbCcsXG4gICAgJ01lZGlhUGxheVBhdXNlJzogICAnTWVkaWFQbGF5JyxcbiAgICAnTWVkaWFTdG9wJzogICAgICAgICdNZWRpYVN0b3AnLFxuICAgICdNZWRpYVRyYWNrTmV4dCc6ICAgJ01lZGlhVHJhY2tOZXh0JyxcbiAgICAnTWVkaWFUcmFja1ByZXZpb3VzJzogJ01lZGlhVHJhY2tQcmV2aW91cycsXG4gICAgJ1Bvd2VyJzogICAgICAgICAgICAnUG93ZXInLFxuICAgICdTbGVlcCc6ICAgICAgICAgICAgJ1NsZWVwJyxcbiAgICAnQXVkaW9Wb2x1bWVEb3duJzogICdBdWRpb1ZvbHVtZURvd24nLFxuICAgICdBdWRpb1ZvbHVtZU11dGUnOiAgJ0F1ZGlvVm9sdW1lTXV0ZScsXG4gICAgJ0F1ZGlvVm9sdW1lVXAnOiAgICAnQXVkaW9Wb2x1bWVVcCcsXG4gICAgJ1dha2VVcCc6ICAgICAgICAgICAnV2FrZVVwJyxcbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogQ29weXJpZ2h0IChDKSAyMDEzIFNhbXVlbCBNYW5uZWhlZCBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4uL3V0aWwvbG9nZ2luZy5qcyc7XG5pbXBvcnQgeyBzdG9wRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50cy5qcyc7XG5pbXBvcnQgKiBhcyBLZXlib2FyZFV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IEtleVRhYmxlIGZyb20gXCIuL2tleXN5bS5qc1wiO1xuaW1wb3J0ICogYXMgYnJvd3NlciBmcm9tIFwiLi4vdXRpbC9icm93c2VyLmpzXCI7XG5cbi8vXG4vLyBLZXlib2FyZCBldmVudCBoYW5kbGVyXG4vL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZCh0YXJnZXQpIHtcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQgfHwgbnVsbDtcblxuICAgIHRoaXMuX2tleURvd25MaXN0ID0ge307ICAgICAgICAgLy8gTGlzdCBvZiBkZXByZXNzZWQga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGV2ZW4gaWYgdGhleSBhcmUgaGFwcHkpXG4gICAgdGhpcy5fcGVuZGluZ0tleSA9IG51bGw7ICAgICAgICAvLyBLZXkgd2FpdGluZyBmb3Iga2V5cHJlc3NcblxuICAgIC8vIGtlZXAgdGhlc2UgaGVyZSBzbyB3ZSBjYW4gcmVmZXIgdG8gdGhlbSBsYXRlclxuICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgICdrZXl1cCc6IHRoaXMuX2hhbmRsZUtleVVwLmJpbmQodGhpcyksXG4gICAgICAgICdrZXlkb3duJzogdGhpcy5faGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpLFxuICAgICAgICAna2V5cHJlc3MnOiB0aGlzLl9oYW5kbGVLZXlQcmVzcy5iaW5kKHRoaXMpLFxuICAgICAgICAnYmx1cic6IHRoaXMuX2FsbEtleXNVcC5iaW5kKHRoaXMpXG4gICAgfTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZSA9IHtcbiAgICAvLyA9PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PVxuXG4gICAgb25rZXlldmVudDogZnVuY3Rpb24gKCkge30sICAgICAvLyBIYW5kbGVyIGZvciBrZXkgcHJlc3MvcmVsZWFzZVxuXG4gICAgLy8gPT09PT0gUFJJVkFURSBNRVRIT0RTID09PT09XG5cbiAgICBfc2VuZEtleUV2ZW50OiBmdW5jdGlvbiAoa2V5c3ltLCBjb2RlLCBkb3duKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIm9ua2V5ZXZlbnQgXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArXG4gICAgICAgICAgICAgICAgICBcIiwga2V5c3ltOiBcIiArIGtleXN5bSwgXCIsIGNvZGU6IFwiICsgY29kZSk7XG5cbiAgICAgICAgLy8gV2luZG93cyBzZW5kcyBDdHJsTGVmdCtBbHRSaWdodCB3aGVuIHlvdSBwcmVzc1xuICAgICAgICAvLyBBbHRHcmFwaCwgd2hpY2ggdGVuZHMgdG8gY29uZnVzZSB0aGUgaGVsbCBvdXQgb2ZcbiAgICAgICAgLy8gcmVtb3RlIHN5c3RlbXMuIEZha2UgYSByZWxlYXNlIG9mIHRoZXNlIGtleXMgdW50aWxcbiAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gZGV0ZWN0IEFsdEdyYXBoIHByb3Blcmx5LlxuICAgICAgICB2YXIgZmFrZUFsdEdyYXBoID0gZmFsc2U7XG4gICAgICAgIGlmIChkb3duICYmIGJyb3dzZXIuaXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgIGlmICgoY29kZSAhPT0gJ0NvbnRyb2xMZWZ0JykgJiZcbiAgICAgICAgICAgICAgICAoY29kZSAhPT0gJ0FsdFJpZ2h0JykgJiZcbiAgICAgICAgICAgICAgICAoJ0NvbnRyb2xMZWZ0JyBpbiB0aGlzLl9rZXlEb3duTGlzdCkgJiZcbiAgICAgICAgICAgICAgICAoJ0FsdFJpZ2h0JyBpbiB0aGlzLl9rZXlEb3duTGlzdCkpIHtcbiAgICAgICAgICAgICAgICBmYWtlQWx0R3JhcGggPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub25rZXlldmVudCh0aGlzLl9rZXlEb3duTGlzdFsnQWx0UmlnaHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbHRSaWdodCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9ua2V5ZXZlbnQodGhpcy5fa2V5RG93bkxpc3RbJ0NvbnRyb2xMZWZ0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udHJvbExlZnQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9ua2V5ZXZlbnQoa2V5c3ltLCBjb2RlLCBkb3duKTtcblxuICAgICAgICBpZiAoZmFrZUFsdEdyYXBoKSB7XG4gICAgICAgICAgICB0aGlzLm9ua2V5ZXZlbnQodGhpcy5fa2V5RG93bkxpc3RbJ0NvbnRyb2xMZWZ0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250cm9sTGVmdCcsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5vbmtleWV2ZW50KHRoaXMuX2tleURvd25MaXN0WydBbHRSaWdodCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWx0UmlnaHQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0S2V5Q29kZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvZGUgPSBLZXlib2FyZFV0aWwuZ2V0S2V5Y29kZShlKTtcbiAgICAgICAgaWYgKGNvZGUgIT09ICdVbmlkZW50aWZpZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuc3RhYmxlLCBidXQgd2UgZG9uJ3QgaGF2ZSBhbnl0aGluZyBlbHNlIHRvIGdvIG9uXG4gICAgICAgIC8vIChkb24ndCB1c2UgaXQgZm9yICdrZXlwcmVzcycgZXZlbnRzIHRob3VnaHQgc2luY2VcbiAgICAgICAgLy8gV2ViS2l0IHNldHMgaXQgdG8gdGhlIHNhbWUgYXMgY2hhckNvZGUpXG4gICAgICAgIGlmIChlLmtleUNvZGUgJiYgKGUudHlwZSAhPT0gJ2tleXByZXNzJykpIHtcbiAgICAgICAgICAgIC8vIDIyOSBpcyB1c2VkIGZvciBjb21wb3NpdGlvbiBldmVudHNcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT09IDIyOSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnUGxhdGZvcm0nICsgZS5rZXlDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBwcmVjdXJzb3IgdG8gdGhlIGZpbmFsIERPTTMgc3RhbmRhcmQuIFVuZm9ydHVuYXRlbHkgaXRcbiAgICAgICAgLy8gaXMgbm90IGxheW91dCBpbmRlcGVuZGVudCwgc28gaXQgaXMgYXMgYmFkIGFzIHVzaW5nIGtleUNvZGVcbiAgICAgICAgaWYgKGUua2V5SWRlbnRpZmllcikge1xuICAgICAgICAgICAgLy8gTm9uLWNoYXJhY3RlciBrZXk/XG4gICAgICAgICAgICBpZiAoZS5rZXlJZGVudGlmaWVyLnN1YnN0cigwLCAyKSAhPT0gJ1UrJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLmtleUlkZW50aWZpZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb2RlcG9pbnQgPSBwYXJzZUludChlLmtleUlkZW50aWZpZXIuc3Vic3RyKDIpLCAxNik7XG4gICAgICAgICAgICB2YXIgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZXBvaW50KTtcbiAgICAgICAgICAgIC8vIFNvbWUgaW1wbGVtZW50YXRpb25zIGZhaWwgdG8gdXBwZXJjYXNlIHRoZSBzeW1ib2xzXG4gICAgICAgICAgICBjaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gJ1BsYXRmb3JtJyArIGNoYXIuY2hhckNvZGVBdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdVbmlkZW50aWZpZWQnO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvZGUgPSB0aGlzLl9nZXRLZXlDb2RlKGUpO1xuICAgICAgICB2YXIga2V5c3ltID0gS2V5Ym9hcmRVdGlsLmdldEtleXN5bShlKTtcblxuICAgICAgICAvLyBXZSBjYW5ub3QgaGFuZGxlIGtleXMgd2UgY2Fubm90IHRyYWNrLCBidXQgd2UgYWxzbyBuZWVkXG4gICAgICAgIC8vIHRvIGRlYWwgd2l0aCB2aXJ0dWFsIGtleWJvYXJkcyB3aGljaCBvbWl0IGtleSBpbmZvXG4gICAgICAgIC8vIChpT1Mgb21pdHMgdHJhY2tpbmcgaW5mbyBvbiBrZXl1cCBldmVudHMsIHdoaWNoIGZvcmNlcyB1cyB0b1xuICAgICAgICAvLyBzcGVjaWFsIHRyZWF0IHRoYXQgcGxhdGZvcm0gaGVyZSlcbiAgICAgICAgaWYgKChjb2RlID09PSAnVW5pZGVudGlmaWVkJykgfHwgYnJvd3Nlci5pc0lPUygpKSB7XG4gICAgICAgICAgICBpZiAoa2V5c3ltKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIHZpcnR1YWwga2V5Ym9hcmQgdGhlbiBpdCBzaG91bGQgYmVcbiAgICAgICAgICAgICAgICAvLyBzdWZmaWNpZW50IHRvIGp1c3Qgc2VuZCBwcmVzcyBhbmQgcmVsZWFzZSByaWdodFxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIGVhY2ggb3RoZXJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0b3BFdmVudChlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsdCBiZWhhdmVzIG1vcmUgbGlrZSBBbHRHcmFwaCBvbiBtYWNPUywgc28gc2h1ZmZsZSB0aGVcbiAgICAgICAgLy8ga2V5cyBhcm91bmQgYSBiaXQgdG8gbWFrZSB0aGluZ3MgbW9yZSBzYW5lIGZvciB0aGUgcmVtb3RlXG4gICAgICAgIC8vIHNlcnZlci4gVGhpcyBtZXRob2QgaXMgdXNlZCBieSBSZWFsVk5DIGFuZCBUaWdlclZOQyAoYW5kXG4gICAgICAgIC8vIHBvc3NpYmx5IG90aGVycykuXG4gICAgICAgIGlmIChicm93c2VyLmlzTWFjKCkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5c3ltKSB7XG4gICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX1N1cGVyX0w6XG4gICAgICAgICAgICAgICAga2V5c3ltID0gS2V5VGFibGUuWEtfQWx0X0w7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX1N1cGVyX1I6XG4gICAgICAgICAgICAgICAga2V5c3ltID0gS2V5VGFibGUuWEtfU3VwZXJfTDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5VGFibGUuWEtfQWx0X0w6XG4gICAgICAgICAgICAgICAga2V5c3ltID0gS2V5VGFibGUuWEtfTW9kZV9zd2l0Y2g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX0FsdF9SOlxuICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX0lTT19MZXZlbDNfU2hpZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJcyB0aGlzIGtleSBhbHJlYWR5IHByZXNzZWQ/IElmIHNvLCB0aGVuIHdlIG11c3QgdXNlIHRoZVxuICAgICAgICAvLyBzYW1lIGtleXN5bSBvciB3ZSdsbCBjb25mdXNlIHRoZSBzZXJ2ZXJcbiAgICAgICAgaWYgKGNvZGUgaW4gdGhpcy5fa2V5RG93bkxpc3QpIHtcbiAgICAgICAgICAgIGtleXN5bSA9IHRoaXMuX2tleURvd25MaXN0W2NvZGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFjT1MgZG9lc24ndCBzZW5kIHByb3BlciBrZXkgZXZlbnRzIGZvciBtb2RpZmllcnMsIG9ubHlcbiAgICAgICAgLy8gc3RhdGUgY2hhbmdlIGV2ZW50cy4gVGhhdCBnZXRzIGV4dHJhIGNvbmZ1c2luZyBmb3IgQ2Fwc0xvY2tcbiAgICAgICAgLy8gd2hpY2ggdG9nZ2xlcyBvbiBlYWNoIHByZXNzLCBidXQgbm90IG9uIHJlbGVhc2UuIFNvIHByZXRlbmRcbiAgICAgICAgLy8gaXQgd2FzIGEgcXVpY2sgcHJlc3MgYW5kIHJlbGVhc2Ugb2YgdGhlIGJ1dHRvbi5cbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSAmJiAoY29kZSA9PT0gJ0NhcHNMb2NrJykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChLZXlUYWJsZS5YS19DYXBzX0xvY2ssICdDYXBzTG9jaycsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgZmFsc2UpO1xuICAgICAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxlZ2FjeSBicm93c2VyIHRoZW4gd2UnbGwgbmVlZCB0byB3YWl0IGZvclxuICAgICAgICAvLyBhIGtleXByZXNzIGV2ZW50IGFzIHdlbGxcbiAgICAgICAgLy8gKElFIGFuZCBFZGdlIGhhcyBhIGJyb2tlbiBLZXlib2FyZEV2ZW50LmtleSwgc28gd2UgY2FuJ3RcbiAgICAgICAgLy8ganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIHRoYXQgZmllbGQpXG4gICAgICAgIGlmICgha2V5c3ltICYmICghZS5rZXkgfHwgYnJvd3Nlci5pc0lFKCkgfHwgYnJvd3Nlci5pc0VkZ2UoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBjb2RlO1xuICAgICAgICAgICAgLy8gSG93ZXZlciB3ZSBtaWdodCBub3QgZ2V0IGEga2V5cHJlc3MgZXZlbnQgaWYgdGhlIGtleVxuICAgICAgICAgICAgLy8gaXMgbm9uLXByaW50YWJsZSwgd2hpY2ggbmVlZHMgc29tZSBzcGVjaWFsIGZhbGxiYWNrXG4gICAgICAgICAgICAvLyBoYW5kbGluZ1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLl9oYW5kbGVLZXlQcmVzc1RpbWVvdXQuYmluZCh0aGlzKSwgMTAsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ0tleSA9IG51bGw7XG4gICAgICAgIHN0b3BFdmVudChlKTtcblxuICAgICAgICB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXSA9IGtleXN5bTtcblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgLy8gTGVnYWN5IGV2ZW50IGZvciBicm93c2VycyB3aXRob3V0IGNvZGUva2V5XG4gICAgX2hhbmRsZUtleVByZXNzOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG5cbiAgICAgICAgLy8gQXJlIHdlIGV4cGVjdGluZyBhIGtleXByZXNzP1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0tleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvZGUgPSB0aGlzLl9nZXRLZXlDb2RlKGUpO1xuICAgICAgICB2YXIga2V5c3ltID0gS2V5Ym9hcmRVdGlsLmdldEtleXN5bShlKTtcblxuICAgICAgICAvLyBUaGUga2V5IHdlIHdlcmUgd2FpdGluZyBmb3I/XG4gICAgICAgIGlmICgoY29kZSAhPT0gJ1VuaWRlbnRpZmllZCcpICYmIChjb2RlICE9IHRoaXMuX3BlbmRpbmdLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb2RlID0gdGhpcy5fcGVuZGluZ0tleTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0tleSA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFrZXlzeW0pIHtcbiAgICAgICAgICAgIExvZy5JbmZvKCdrZXlwcmVzcyB3aXRoIG5vIGtleXN5bTonLCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2tleURvd25MaXN0W2NvZGVdID0ga2V5c3ltO1xuXG4gICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgIH0sXG4gICAgX2hhbmRsZUtleVByZXNzVGltZW91dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gRGlkIHNvbWVvbmUgbWFuYWdlIHRvIHNvcnQgb3V0IHRoZSBrZXkgYWxyZWFkeT9cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdLZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb2RlLCBrZXlzeW07XG5cbiAgICAgICAgY29kZSA9IHRoaXMuX3BlbmRpbmdLZXk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBudWxsO1xuXG4gICAgICAgIC8vIFdlIGhhdmUgbm8gd2F5IG9mIGtub3dpbmcgdGhlIHByb3BlciBrZXlzeW0gd2l0aCB0aGVcbiAgICAgICAgLy8gaW5mb3JtYXRpb24gZ2l2ZW4sIGJ1dCB0aGUgZm9sbG93aW5nIGFyZSB0cnVlIGZvciBtb3N0XG4gICAgICAgIC8vIGxheW91dHNcbiAgICAgICAgaWYgKChlLmtleUNvZGUgPj0gMHgzMCkgJiYgKGUua2V5Q29kZSA8PSAweDM5KSkge1xuICAgICAgICAgICAgLy8gRGlnaXRcbiAgICAgICAgICAgIGtleXN5bSA9IGUua2V5Q29kZTtcbiAgICAgICAgfSBlbHNlIGlmICgoZS5rZXlDb2RlID49IDB4NDEpICYmIChlLmtleUNvZGUgPD0gMHg1YSkpIHtcbiAgICAgICAgICAgIC8vIENoYXJhY3RlciAoQS1aKVxuICAgICAgICAgICAgdmFyIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSk7XG4gICAgICAgICAgICAvLyBBIGZlZWJsZSBhdHRlbXB0IGF0IHRoZSBjb3JyZWN0IGNhc2VcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KVxuICAgICAgICAgICAgICAgIGNoYXIgPSBjaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2hhciA9IGNoYXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGtleXN5bSA9IGNoYXIuY2hhckNvZGVBdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVW5rbm93biwgZ2l2ZSB1cFxuICAgICAgICAgICAga2V5c3ltID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2tleURvd25MaXN0W2NvZGVdID0ga2V5c3ltO1xuXG4gICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlS2V5VXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN0b3BFdmVudChlKTtcblxuICAgICAgICB2YXIgY29kZSA9IHRoaXMuX2dldEtleUNvZGUoZSk7XG5cbiAgICAgICAgLy8gU2VlIGNvbW1lbnQgaW4gX2hhbmRsZUtleURvd24oKVxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpICYmIChjb2RlID09PSAnQ2Fwc0xvY2snKSkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEbyB3ZSByZWFsbHkgdGhpbmsgdGhpcyBrZXkgaXMgZG93bj9cbiAgICAgICAgaWYgKCEoY29kZSBpbiB0aGlzLl9rZXlEb3duTGlzdCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudCh0aGlzLl9rZXlEb3duTGlzdFtjb2RlXSwgY29kZSwgZmFsc2UpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXTtcbiAgICB9LFxuXG4gICAgX2FsbEtleXNVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCI+PiBLZXlib2FyZC5hbGxLZXlzVXBcIik7XG4gICAgICAgIGZvciAodmFyIGNvZGUgaW4gdGhpcy5fa2V5RG93bkxpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudCh0aGlzLl9rZXlEb3duTGlzdFtjb2RlXSwgY29kZSwgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9rZXlEb3duTGlzdCA9IHt9O1xuICAgICAgICBMb2cuRGVidWcoXCI8PCBLZXlib2FyZC5hbGxLZXlzVXBcIik7XG4gICAgfSxcblxuICAgIC8vID09PT09IFBVQkxJQyBNRVRIT0RTID09PT09XG5cbiAgICBncmFiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQuZ3JhYlwiKTtcbiAgICAgICAgdmFyIGMgPSB0aGlzLl90YXJnZXQ7XG5cbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXlkb3duKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5dXApO1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXlwcmVzcyk7XG5cbiAgICAgICAgLy8gUmVsZWFzZSAoa2V5IHVwKSBpZiB3aW5kb3cgbG9zZXMgZm9jdXNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9ldmVudEhhbmRsZXJzLmJsdXIpO1xuXG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPDwgS2V5Ym9hcmQuZ3JhYlwiKTtcbiAgICB9LFxuXG4gICAgdW5ncmFiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQudW5ncmFiXCIpO1xuICAgICAgICB2YXIgYyA9IHRoaXMuX3RhcmdldDtcblxuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleWRvd24pO1xuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXl1cCk7XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXByZXNzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9ldmVudEhhbmRsZXJzLmJsdXIpO1xuXG4gICAgICAgIC8vIFJlbGVhc2UgKGtleSB1cCkgYWxsIGtleXMgdGhhdCBhcmUgaW4gYSBkb3duIHN0YXRlXG4gICAgICAgIHRoaXMuX2FsbEtleXNVcCgpO1xuXG4gICAgICAgIC8vTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQudW5ncmFiXCIpO1xuICAgIH0sXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIFhLX1ZvaWRTeW1ib2w6ICAgICAgICAgICAgICAgICAgMHhmZmZmZmYsIC8qIFZvaWQgc3ltYm9sICovXG5cbiAgICBYS19CYWNrU3BhY2U6ICAgICAgICAgICAgICAgICAgIDB4ZmYwOCwgLyogQmFjayBzcGFjZSwgYmFjayBjaGFyICovXG4gICAgWEtfVGFiOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmMDksXG4gICAgWEtfTGluZWZlZWQ6ICAgICAgICAgICAgICAgICAgICAweGZmMGEsIC8qIExpbmVmZWVkLCBMRiAqL1xuICAgIFhLX0NsZWFyOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjBiLFxuICAgIFhLX1JldHVybjogICAgICAgICAgICAgICAgICAgICAgMHhmZjBkLCAvKiBSZXR1cm4sIGVudGVyICovXG4gICAgWEtfUGF1c2U6ICAgICAgICAgICAgICAgICAgICAgICAweGZmMTMsIC8qIFBhdXNlLCBob2xkICovXG4gICAgWEtfU2Nyb2xsX0xvY2s6ICAgICAgICAgICAgICAgICAweGZmMTQsXG4gICAgWEtfU3lzX1JlcTogICAgICAgICAgICAgICAgICAgICAweGZmMTUsXG4gICAgWEtfRXNjYXBlOiAgICAgICAgICAgICAgICAgICAgICAweGZmMWIsXG4gICAgWEtfRGVsZXRlOiAgICAgICAgICAgICAgICAgICAgICAweGZmZmYsIC8qIERlbGV0ZSwgcnVib3V0ICovXG5cbiAgICAvKiBJbnRlcm5hdGlvbmFsICYgbXVsdGkta2V5IGNoYXJhY3RlciBjb21wb3NpdGlvbiAqL1xuXG4gICAgWEtfTXVsdGlfa2V5OiAgICAgICAgICAgICAgICAgICAweGZmMjAsIC8qIE11bHRpLWtleSBjaGFyYWN0ZXIgY29tcG9zZSAqL1xuICAgIFhLX0NvZGVpbnB1dDogICAgICAgICAgICAgICAgICAgMHhmZjM3LFxuICAgIFhLX1NpbmdsZUNhbmRpZGF0ZTogICAgICAgICAgICAgMHhmZjNjLFxuICAgIFhLX011bHRpcGxlQ2FuZGlkYXRlOiAgICAgICAgICAgMHhmZjNkLFxuICAgIFhLX1ByZXZpb3VzQ2FuZGlkYXRlOiAgICAgICAgICAgMHhmZjNlLFxuXG4gICAgLyogSmFwYW5lc2Uga2V5Ym9hcmQgc3VwcG9ydCAqL1xuXG4gICAgWEtfS2Fuamk6ICAgICAgICAgICAgICAgICAgICAgICAweGZmMjEsIC8qIEthbmppLCBLYW5qaSBjb252ZXJ0ICovXG4gICAgWEtfTXVoZW5rYW46ICAgICAgICAgICAgICAgICAgICAweGZmMjIsIC8qIENhbmNlbCBDb252ZXJzaW9uICovXG4gICAgWEtfSGVua2FuX01vZGU6ICAgICAgICAgICAgICAgICAweGZmMjMsIC8qIFN0YXJ0L1N0b3AgQ29udmVyc2lvbiAqL1xuICAgIFhLX0hlbmthbjogICAgICAgICAgICAgICAgICAgICAgMHhmZjIzLCAvKiBBbGlhcyBmb3IgSGVua2FuX01vZGUgKi9cbiAgICBYS19Sb21hamk6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyNCwgLyogdG8gUm9tYWppICovXG4gICAgWEtfSGlyYWdhbmE6ICAgICAgICAgICAgICAgICAgICAweGZmMjUsIC8qIHRvIEhpcmFnYW5hICovXG4gICAgWEtfS2F0YWthbmE6ICAgICAgICAgICAgICAgICAgICAweGZmMjYsIC8qIHRvIEthdGFrYW5hICovXG4gICAgWEtfSGlyYWdhbmFfS2F0YWthbmE6ICAgICAgICAgICAweGZmMjcsIC8qIEhpcmFnYW5hL0thdGFrYW5hIHRvZ2dsZSAqL1xuICAgIFhLX1plbmtha3U6ICAgICAgICAgICAgICAgICAgICAgMHhmZjI4LCAvKiB0byBaZW5rYWt1ICovXG4gICAgWEtfSGFua2FrdTogICAgICAgICAgICAgICAgICAgICAweGZmMjksIC8qIHRvIEhhbmtha3UgKi9cbiAgICBYS19aZW5rYWt1X0hhbmtha3U6ICAgICAgICAgICAgIDB4ZmYyYSwgLyogWmVua2FrdS9IYW5rYWt1IHRvZ2dsZSAqL1xuICAgIFhLX1RvdXJva3U6ICAgICAgICAgICAgICAgICAgICAgMHhmZjJiLCAvKiBBZGQgdG8gRGljdGlvbmFyeSAqL1xuICAgIFhLX01hc3N5bzogICAgICAgICAgICAgICAgICAgICAgMHhmZjJjLCAvKiBEZWxldGUgZnJvbSBEaWN0aW9uYXJ5ICovXG4gICAgWEtfS2FuYV9Mb2NrOiAgICAgICAgICAgICAgICAgICAweGZmMmQsIC8qIEthbmEgTG9jayAqL1xuICAgIFhLX0thbmFfU2hpZnQ6ICAgICAgICAgICAgICAgICAgMHhmZjJlLCAvKiBLYW5hIFNoaWZ0ICovXG4gICAgWEtfRWlzdV9TaGlmdDogICAgICAgICAgICAgICAgICAweGZmMmYsIC8qIEFscGhhbnVtZXJpYyBTaGlmdCAqL1xuICAgIFhLX0Vpc3VfdG9nZ2xlOiAgICAgICAgICAgICAgICAgMHhmZjMwLCAvKiBBbHBoYW51bWVyaWMgdG9nZ2xlICovXG4gICAgWEtfS2FuamlfQmFuZ291OiAgICAgICAgICAgICAgICAweGZmMzcsIC8qIENvZGVpbnB1dCAqL1xuICAgIFhLX1plbl9Lb2hvOiAgICAgICAgICAgICAgICAgICAgMHhmZjNkLCAvKiBNdWx0aXBsZS9BbGwgQ2FuZGlkYXRlKHMpICovXG4gICAgWEtfTWFlX0tvaG86ICAgICAgICAgICAgICAgICAgICAweGZmM2UsIC8qIFByZXZpb3VzIENhbmRpZGF0ZSAqL1xuXG4gICAgLyogQ3Vyc29yIGNvbnRyb2wgJiBtb3Rpb24gKi9cblxuICAgIFhLX0hvbWU6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjUwLFxuICAgIFhLX0xlZnQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjUxLCAvKiBNb3ZlIGxlZnQsIGxlZnQgYXJyb3cgKi9cbiAgICBYS19VcDogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MiwgLyogTW92ZSB1cCwgdXAgYXJyb3cgKi9cbiAgICBYS19SaWdodDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MywgLyogTW92ZSByaWdodCwgcmlnaHQgYXJyb3cgKi9cbiAgICBYS19Eb3duOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NCwgLyogTW92ZSBkb3duLCBkb3duIGFycm93ICovXG4gICAgWEtfUHJpb3I6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNTUsIC8qIFByaW9yLCBwcmV2aW91cyAqL1xuICAgIFhLX1BhZ2VfVXA6ICAgICAgICAgICAgICAgICAgICAgMHhmZjU1LFxuICAgIFhLX05leHQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU2LCAvKiBOZXh0ICovXG4gICAgWEtfUGFnZV9Eb3duOiAgICAgICAgICAgICAgICAgICAweGZmNTYsXG4gICAgWEtfRW5kOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmNTcsIC8qIEVPTCAqL1xuICAgIFhLX0JlZ2luOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU4LCAvKiBCT0wgKi9cblxuXG4gICAgLyogTWlzYyBmdW5jdGlvbnMgKi9cblxuICAgIFhLX1NlbGVjdDogICAgICAgICAgICAgICAgICAgICAgMHhmZjYwLCAvKiBTZWxlY3QsIG1hcmsgKi9cbiAgICBYS19QcmludDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MSxcbiAgICBYS19FeGVjdXRlOiAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MiwgLyogRXhlY3V0ZSwgcnVuLCBkbyAqL1xuICAgIFhLX0luc2VydDogICAgICAgICAgICAgICAgICAgICAgMHhmZjYzLCAvKiBJbnNlcnQsIGluc2VydCBoZXJlICovXG4gICAgWEtfVW5kbzogICAgICAgICAgICAgICAgICAgICAgICAweGZmNjUsXG4gICAgWEtfUmVkbzogICAgICAgICAgICAgICAgICAgICAgICAweGZmNjYsIC8qIFJlZG8sIGFnYWluICovXG4gICAgWEtfTWVudTogICAgICAgICAgICAgICAgICAgICAgICAweGZmNjcsXG4gICAgWEtfRmluZDogICAgICAgICAgICAgICAgICAgICAgICAweGZmNjgsIC8qIEZpbmQsIHNlYXJjaCAqL1xuICAgIFhLX0NhbmNlbDogICAgICAgICAgICAgICAgICAgICAgMHhmZjY5LCAvKiBDYW5jZWwsIHN0b3AsIGFib3J0LCBleGl0ICovXG4gICAgWEtfSGVscDogICAgICAgICAgICAgICAgICAgICAgICAweGZmNmEsIC8qIEhlbHAgKi9cbiAgICBYS19CcmVhazogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2YixcbiAgICBYS19Nb2RlX3N3aXRjaDogICAgICAgICAgICAgICAgIDB4ZmY3ZSwgLyogQ2hhcmFjdGVyIHNldCBzd2l0Y2ggKi9cbiAgICBYS19zY3JpcHRfc3dpdGNoOiAgICAgICAgICAgICAgIDB4ZmY3ZSwgLyogQWxpYXMgZm9yIG1vZGVfc3dpdGNoICovXG4gICAgWEtfTnVtX0xvY2s6ICAgICAgICAgICAgICAgICAgICAweGZmN2YsXG5cbiAgICAvKiBLZXlwYWQgZnVuY3Rpb25zLCBrZXlwYWQgbnVtYmVycyBjbGV2ZXJseSBjaG9zZW4gdG8gbWFwIHRvIEFTQ0lJICovXG5cbiAgICBYS19LUF9TcGFjZTogICAgICAgICAgICAgICAgICAgIDB4ZmY4MCwgLyogU3BhY2UgKi9cbiAgICBYS19LUF9UYWI6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY4OSxcbiAgICBYS19LUF9FbnRlcjogICAgICAgICAgICAgICAgICAgIDB4ZmY4ZCwgLyogRW50ZXIgKi9cbiAgICBYS19LUF9GMTogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5MSwgLyogUEYxLCBLUF9BLCAuLi4gKi9cbiAgICBYS19LUF9GMjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5MixcbiAgICBYS19LUF9GMzogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5MyxcbiAgICBYS19LUF9GNDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5NCxcbiAgICBYS19LUF9Ib21lOiAgICAgICAgICAgICAgICAgICAgIDB4ZmY5NSxcbiAgICBYS19LUF9MZWZ0OiAgICAgICAgICAgICAgICAgICAgIDB4ZmY5NixcbiAgICBYS19LUF9VcDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5NyxcbiAgICBYS19LUF9SaWdodDogICAgICAgICAgICAgICAgICAgIDB4ZmY5OCxcbiAgICBYS19LUF9Eb3duOiAgICAgICAgICAgICAgICAgICAgIDB4ZmY5OSxcbiAgICBYS19LUF9QcmlvcjogICAgICAgICAgICAgICAgICAgIDB4ZmY5YSxcbiAgICBYS19LUF9QYWdlX1VwOiAgICAgICAgICAgICAgICAgIDB4ZmY5YSxcbiAgICBYS19LUF9OZXh0OiAgICAgICAgICAgICAgICAgICAgIDB4ZmY5YixcbiAgICBYS19LUF9QYWdlX0Rvd246ICAgICAgICAgICAgICAgIDB4ZmY5YixcbiAgICBYS19LUF9FbmQ6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY5YyxcbiAgICBYS19LUF9CZWdpbjogICAgICAgICAgICAgICAgICAgIDB4ZmY5ZCxcbiAgICBYS19LUF9JbnNlcnQ6ICAgICAgICAgICAgICAgICAgIDB4ZmY5ZSxcbiAgICBYS19LUF9EZWxldGU6ICAgICAgICAgICAgICAgICAgIDB4ZmY5ZixcbiAgICBYS19LUF9FcXVhbDogICAgICAgICAgICAgICAgICAgIDB4ZmZiZCwgLyogRXF1YWxzICovXG4gICAgWEtfS1BfTXVsdGlwbHk6ICAgICAgICAgICAgICAgICAweGZmYWEsXG4gICAgWEtfS1BfQWRkOiAgICAgICAgICAgICAgICAgICAgICAweGZmYWIsXG4gICAgWEtfS1BfU2VwYXJhdG9yOiAgICAgICAgICAgICAgICAweGZmYWMsIC8qIFNlcGFyYXRvciwgb2Z0ZW4gY29tbWEgKi9cbiAgICBYS19LUF9TdWJ0cmFjdDogICAgICAgICAgICAgICAgIDB4ZmZhZCxcbiAgICBYS19LUF9EZWNpbWFsOiAgICAgICAgICAgICAgICAgIDB4ZmZhZSxcbiAgICBYS19LUF9EaXZpZGU6ICAgICAgICAgICAgICAgICAgIDB4ZmZhZixcblxuICAgIFhLX0tQXzA6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmIwLFxuICAgIFhLX0tQXzE6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmIxLFxuICAgIFhLX0tQXzI6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmIyLFxuICAgIFhLX0tQXzM6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmIzLFxuICAgIFhLX0tQXzQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI0LFxuICAgIFhLX0tQXzU6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI1LFxuICAgIFhLX0tQXzY6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI2LFxuICAgIFhLX0tQXzc6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI3LFxuICAgIFhLX0tQXzg6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI4LFxuICAgIFhLX0tQXzk6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZmI5LFxuXG4gICAgLypcbiAgICAgKiBBdXhpbGlhcnkgZnVuY3Rpb25zOyBub3RlIHRoZSBkdXBsaWNhdGUgZGVmaW5pdGlvbnMgZm9yIGxlZnQgYW5kIHJpZ2h0XG4gICAgICogZnVuY3Rpb24ga2V5czsgIFN1biBrZXlib2FyZHMgYW5kIGEgZmV3IG90aGVyIG1hbnVmYWN0dXJlcnMgaGF2ZSBzdWNoXG4gICAgICogZnVuY3Rpb24ga2V5IGdyb3VwcyBvbiB0aGUgbGVmdCBhbmQvb3IgcmlnaHQgc2lkZXMgb2YgdGhlIGtleWJvYXJkLlxuICAgICAqIFdlJ3ZlIG5vdCBmb3VuZCBhIGtleWJvYXJkIHdpdGggbW9yZSB0aGFuIDM1IGZ1bmN0aW9uIGtleXMgdG90YWwuXG4gICAgICovXG5cbiAgICBYS19GMTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiZSxcbiAgICBYS19GMjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiZixcbiAgICBYS19GMzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjMCxcbiAgICBYS19GNDogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjMSxcbiAgICBYS19GNTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjMixcbiAgICBYS19GNjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjMyxcbiAgICBYS19GNzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjNCxcbiAgICBYS19GODogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjNSxcbiAgICBYS19GOTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjNixcbiAgICBYS19GMTA6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjNyxcbiAgICBYS19GMTE6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjOCxcbiAgICBYS19MMTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjOCxcbiAgICBYS19GMTI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjOSxcbiAgICBYS19MMjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjOSxcbiAgICBYS19GMTM6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYSxcbiAgICBYS19MMzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYSxcbiAgICBYS19GMTQ6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYixcbiAgICBYS19MNDogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYixcbiAgICBYS19GMTU6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYyxcbiAgICBYS19MNTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjYyxcbiAgICBYS19GMTY6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZCxcbiAgICBYS19MNjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZCxcbiAgICBYS19GMTc6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZSxcbiAgICBYS19MNzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZSxcbiAgICBYS19GMTg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZixcbiAgICBYS19MODogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZjZixcbiAgICBYS19GMTk6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMCxcbiAgICBYS19MOTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMCxcbiAgICBYS19GMjA6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMSxcbiAgICBYS19MMTA6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMSxcbiAgICBYS19GMjE6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMixcbiAgICBYS19SMTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMixcbiAgICBYS19GMjI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMyxcbiAgICBYS19SMjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkMyxcbiAgICBYS19GMjM6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNCxcbiAgICBYS19SMzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNCxcbiAgICBYS19GMjQ6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNSxcbiAgICBYS19SNDogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNSxcbiAgICBYS19GMjU6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNixcbiAgICBYS19SNTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNixcbiAgICBYS19GMjY6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNyxcbiAgICBYS19SNjogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkNyxcbiAgICBYS19GMjc6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkOCxcbiAgICBYS19SNzogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkOCxcbiAgICBYS19GMjg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkOSxcbiAgICBYS19SODogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkOSxcbiAgICBYS19GMjk6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYSxcbiAgICBYS19SOTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYSxcbiAgICBYS19GMzA6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYixcbiAgICBYS19SMTA6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYixcbiAgICBYS19GMzE6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYyxcbiAgICBYS19SMTE6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkYyxcbiAgICBYS19GMzI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZCxcbiAgICBYS19SMTI6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZCxcbiAgICBYS19GMzM6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZSxcbiAgICBYS19SMTM6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZSxcbiAgICBYS19GMzQ6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZixcbiAgICBYS19SMTQ6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZkZixcbiAgICBYS19GMzU6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlMCxcbiAgICBYS19SMTU6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlMCxcblxuICAgIC8qIE1vZGlmaWVycyAqL1xuXG4gICAgWEtfU2hpZnRfTDogICAgICAgICAgICAgICAgICAgICAweGZmZTEsIC8qIExlZnQgc2hpZnQgKi9cbiAgICBYS19TaGlmdF9SOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlMiwgLyogUmlnaHQgc2hpZnQgKi9cbiAgICBYS19Db250cm9sX0w6ICAgICAgICAgICAgICAgICAgIDB4ZmZlMywgLyogTGVmdCBjb250cm9sICovXG4gICAgWEtfQ29udHJvbF9SOiAgICAgICAgICAgICAgICAgICAweGZmZTQsIC8qIFJpZ2h0IGNvbnRyb2wgKi9cbiAgICBYS19DYXBzX0xvY2s6ICAgICAgICAgICAgICAgICAgIDB4ZmZlNSwgLyogQ2FwcyBsb2NrICovXG4gICAgWEtfU2hpZnRfTG9jazogICAgICAgICAgICAgICAgICAweGZmZTYsIC8qIFNoaWZ0IGxvY2sgKi9cblxuICAgIFhLX01ldGFfTDogICAgICAgICAgICAgICAgICAgICAgMHhmZmU3LCAvKiBMZWZ0IG1ldGEgKi9cbiAgICBYS19NZXRhX1I6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlOCwgLyogUmlnaHQgbWV0YSAqL1xuICAgIFhLX0FsdF9MOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZmU5LCAvKiBMZWZ0IGFsdCAqL1xuICAgIFhLX0FsdF9SOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZmVhLCAvKiBSaWdodCBhbHQgKi9cbiAgICBYS19TdXBlcl9MOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlYiwgLyogTGVmdCBzdXBlciAqL1xuICAgIFhLX1N1cGVyX1I6ICAgICAgICAgICAgICAgICAgICAgMHhmZmVjLCAvKiBSaWdodCBzdXBlciAqL1xuICAgIFhLX0h5cGVyX0w6ICAgICAgICAgICAgICAgICAgICAgMHhmZmVkLCAvKiBMZWZ0IGh5cGVyICovXG4gICAgWEtfSHlwZXJfUjogICAgICAgICAgICAgICAgICAgICAweGZmZWUsIC8qIFJpZ2h0IGh5cGVyICovXG5cbiAgICAvKlxuICAgICAqIEtleWJvYXJkIChYS0IpIEV4dGVuc2lvbiBmdW5jdGlvbiBhbmQgbW9kaWZpZXIga2V5c1xuICAgICAqIChmcm9tIEFwcGVuZGl4IEMgb2YgXCJUaGUgWCBLZXlib2FyZCBFeHRlbnNpb246IFByb3RvY29sIFNwZWNpZmljYXRpb25cIilcbiAgICAgKiBCeXRlIDMgPSAweGZlXG4gICAgICovXG5cbiAgICBYS19JU09fTGV2ZWwzX1NoaWZ0OiAgICAgICAgICAgIDB4ZmUwMywgLyogQWx0R3IgKi9cbiAgICBYS19JU09fTmV4dF9Hcm91cDogICAgICAgICAgICAgIDB4ZmUwOCxcbiAgICBYS19JU09fUHJldl9Hcm91cDogICAgICAgICAgICAgIDB4ZmUwYSxcbiAgICBYS19JU09fRmlyc3RfR3JvdXA6ICAgICAgICAgICAgIDB4ZmUwYyxcbiAgICBYS19JU09fTGFzdF9Hcm91cDogICAgICAgICAgICAgIDB4ZmUwZSxcblxuICAgIC8qXG4gICAgICogTGF0aW4gMVxuICAgICAqIChJU08vSUVDIDg4NTktMTogVW5pY29kZSBVKzAwMjAuLlUrMDBGRilcbiAgICAgKiBCeXRlIDM6IDBcbiAgICAgKi9cblxuICAgIFhLX3NwYWNlOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDIwLCAvKiBVKzAwMjAgU1BBQ0UgKi9cbiAgICBYS19leGNsYW06ICAgICAgICAgICAgICAgICAgICAgIDB4MDAyMSwgLyogVSswMDIxIEVYQ0xBTUFUSU9OIE1BUksgKi9cbiAgICBYS19xdW90ZWRibDogICAgICAgICAgICAgICAgICAgIDB4MDAyMiwgLyogVSswMDIyIFFVT1RBVElPTiBNQVJLICovXG4gICAgWEtfbnVtYmVyc2lnbjogICAgICAgICAgICAgICAgICAweDAwMjMsIC8qIFUrMDAyMyBOVU1CRVIgU0lHTiAqL1xuICAgIFhLX2RvbGxhcjogICAgICAgICAgICAgICAgICAgICAgMHgwMDI0LCAvKiBVKzAwMjQgRE9MTEFSIFNJR04gKi9cbiAgICBYS19wZXJjZW50OiAgICAgICAgICAgICAgICAgICAgIDB4MDAyNSwgLyogVSswMDI1IFBFUkNFTlQgU0lHTiAqL1xuICAgIFhLX2FtcGVyc2FuZDogICAgICAgICAgICAgICAgICAgMHgwMDI2LCAvKiBVKzAwMjYgQU1QRVJTQU5EICovXG4gICAgWEtfYXBvc3Ryb3BoZTogICAgICAgICAgICAgICAgICAweDAwMjcsIC8qIFUrMDAyNyBBUE9TVFJPUEhFICovXG4gICAgWEtfcXVvdGVyaWdodDogICAgICAgICAgICAgICAgICAweDAwMjcsIC8qIGRlcHJlY2F0ZWQgKi9cbiAgICBYS19wYXJlbmxlZnQ6ICAgICAgICAgICAgICAgICAgIDB4MDAyOCwgLyogVSswMDI4IExFRlQgUEFSRU5USEVTSVMgKi9cbiAgICBYS19wYXJlbnJpZ2h0OiAgICAgICAgICAgICAgICAgIDB4MDAyOSwgLyogVSswMDI5IFJJR0hUIFBBUkVOVEhFU0lTICovXG4gICAgWEtfYXN0ZXJpc2s6ICAgICAgICAgICAgICAgICAgICAweDAwMmEsIC8qIFUrMDAyQSBBU1RFUklTSyAqL1xuICAgIFhLX3BsdXM6ICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDJiLCAvKiBVKzAwMkIgUExVUyBTSUdOICovXG4gICAgWEtfY29tbWE6ICAgICAgICAgICAgICAgICAgICAgICAweDAwMmMsIC8qIFUrMDAyQyBDT01NQSAqL1xuICAgIFhLX21pbnVzOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDJkLCAvKiBVKzAwMkQgSFlQSEVOLU1JTlVTICovXG4gICAgWEtfcGVyaW9kOiAgICAgICAgICAgICAgICAgICAgICAweDAwMmUsIC8qIFUrMDAyRSBGVUxMIFNUT1AgKi9cbiAgICBYS19zbGFzaDogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyZiwgLyogVSswMDJGIFNPTElEVVMgKi9cbiAgICBYS18wOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzMCwgLyogVSswMDMwIERJR0lUIFpFUk8gKi9cbiAgICBYS18xOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzMSwgLyogVSswMDMxIERJR0lUIE9ORSAqL1xuICAgIFhLXzI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDMyLCAvKiBVKzAwMzIgRElHSVQgVFdPICovXG4gICAgWEtfMzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzMsIC8qIFUrMDAzMyBESUdJVCBUSFJFRSAqL1xuICAgIFhLXzQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM0LCAvKiBVKzAwMzQgRElHSVQgRk9VUiAqL1xuICAgIFhLXzU6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM1LCAvKiBVKzAwMzUgRElHSVQgRklWRSAqL1xuICAgIFhLXzY6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM2LCAvKiBVKzAwMzYgRElHSVQgU0lYICovXG4gICAgWEtfNzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzcsIC8qIFUrMDAzNyBESUdJVCBTRVZFTiAqL1xuICAgIFhLXzg6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM4LCAvKiBVKzAwMzggRElHSVQgRUlHSFQgKi9cbiAgICBYS185OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzOSwgLyogVSswMDM5IERJR0lUIE5JTkUgKi9cbiAgICBYS19jb2xvbjogICAgICAgICAgICAgICAgICAgICAgIDB4MDAzYSwgLyogVSswMDNBIENPTE9OICovXG4gICAgWEtfc2VtaWNvbG9uOiAgICAgICAgICAgICAgICAgICAweDAwM2IsIC8qIFUrMDAzQiBTRU1JQ09MT04gKi9cbiAgICBYS19sZXNzOiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzYywgLyogVSswMDNDIExFU1MtVEhBTiBTSUdOICovXG4gICAgWEtfZXF1YWw6ICAgICAgICAgICAgICAgICAgICAgICAweDAwM2QsIC8qIFUrMDAzRCBFUVVBTFMgU0lHTiAqL1xuICAgIFhLX2dyZWF0ZXI6ICAgICAgICAgICAgICAgICAgICAgMHgwMDNlLCAvKiBVKzAwM0UgR1JFQVRFUi1USEFOIFNJR04gKi9cbiAgICBYS19xdWVzdGlvbjogICAgICAgICAgICAgICAgICAgIDB4MDAzZiwgLyogVSswMDNGIFFVRVNUSU9OIE1BUksgKi9cbiAgICBYS19hdDogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0MCwgLyogVSswMDQwIENPTU1FUkNJQUwgQVQgKi9cbiAgICBYS19BOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0MSwgLyogVSswMDQxIExBVElOIENBUElUQUwgTEVUVEVSIEEgKi9cbiAgICBYS19COiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0MiwgLyogVSswMDQyIExBVElOIENBUElUQUwgTEVUVEVSIEIgKi9cbiAgICBYS19DOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0MywgLyogVSswMDQzIExBVElOIENBUElUQUwgTEVUVEVSIEMgKi9cbiAgICBYS19EOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0NCwgLyogVSswMDQ0IExBVElOIENBUElUQUwgTEVUVEVSIEQgKi9cbiAgICBYS19FOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0NSwgLyogVSswMDQ1IExBVElOIENBUElUQUwgTEVUVEVSIEUgKi9cbiAgICBYS19GOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0NiwgLyogVSswMDQ2IExBVElOIENBUElUQUwgTEVUVEVSIEYgKi9cbiAgICBYS19HOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0NywgLyogVSswMDQ3IExBVElOIENBUElUQUwgTEVUVEVSIEcgKi9cbiAgICBYS19IOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0OCwgLyogVSswMDQ4IExBVElOIENBUElUQUwgTEVUVEVSIEggKi9cbiAgICBYS19JOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0OSwgLyogVSswMDQ5IExBVElOIENBUElUQUwgTEVUVEVSIEkgKi9cbiAgICBYS19KOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0YSwgLyogVSswMDRBIExBVElOIENBUElUQUwgTEVUVEVSIEogKi9cbiAgICBYS19LOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0YiwgLyogVSswMDRCIExBVElOIENBUElUQUwgTEVUVEVSIEsgKi9cbiAgICBYS19MOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0YywgLyogVSswMDRDIExBVElOIENBUElUQUwgTEVUVEVSIEwgKi9cbiAgICBYS19NOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0ZCwgLyogVSswMDREIExBVElOIENBUElUQUwgTEVUVEVSIE0gKi9cbiAgICBYS19OOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0ZSwgLyogVSswMDRFIExBVElOIENBUElUQUwgTEVUVEVSIE4gKi9cbiAgICBYS19POiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA0ZiwgLyogVSswMDRGIExBVElOIENBUElUQUwgTEVUVEVSIE8gKi9cbiAgICBYS19QOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1MCwgLyogVSswMDUwIExBVElOIENBUElUQUwgTEVUVEVSIFAgKi9cbiAgICBYS19ROiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1MSwgLyogVSswMDUxIExBVElOIENBUElUQUwgTEVUVEVSIFEgKi9cbiAgICBYS19SOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1MiwgLyogVSswMDUyIExBVElOIENBUElUQUwgTEVUVEVSIFIgKi9cbiAgICBYS19TOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1MywgLyogVSswMDUzIExBVElOIENBUElUQUwgTEVUVEVSIFMgKi9cbiAgICBYS19UOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1NCwgLyogVSswMDU0IExBVElOIENBUElUQUwgTEVUVEVSIFQgKi9cbiAgICBYS19VOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1NSwgLyogVSswMDU1IExBVElOIENBUElUQUwgTEVUVEVSIFUgKi9cbiAgICBYS19WOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1NiwgLyogVSswMDU2IExBVElOIENBUElUQUwgTEVUVEVSIFYgKi9cbiAgICBYS19XOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1NywgLyogVSswMDU3IExBVElOIENBUElUQUwgTEVUVEVSIFcgKi9cbiAgICBYS19YOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1OCwgLyogVSswMDU4IExBVElOIENBUElUQUwgTEVUVEVSIFggKi9cbiAgICBYS19ZOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1OSwgLyogVSswMDU5IExBVElOIENBUElUQUwgTEVUVEVSIFkgKi9cbiAgICBYS19aOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA1YSwgLyogVSswMDVBIExBVElOIENBUElUQUwgTEVUVEVSIFogKi9cbiAgICBYS19icmFja2V0bGVmdDogICAgICAgICAgICAgICAgIDB4MDA1YiwgLyogVSswMDVCIExFRlQgU1FVQVJFIEJSQUNLRVQgKi9cbiAgICBYS19iYWNrc2xhc2g6ICAgICAgICAgICAgICAgICAgIDB4MDA1YywgLyogVSswMDVDIFJFVkVSU0UgU09MSURVUyAqL1xuICAgIFhLX2JyYWNrZXRyaWdodDogICAgICAgICAgICAgICAgMHgwMDVkLCAvKiBVKzAwNUQgUklHSFQgU1FVQVJFIEJSQUNLRVQgKi9cbiAgICBYS19hc2NpaWNpcmN1bTogICAgICAgICAgICAgICAgIDB4MDA1ZSwgLyogVSswMDVFIENJUkNVTUZMRVggQUNDRU5UICovXG4gICAgWEtfdW5kZXJzY29yZTogICAgICAgICAgICAgICAgICAweDAwNWYsIC8qIFUrMDA1RiBMT1cgTElORSAqL1xuICAgIFhLX2dyYXZlOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDYwLCAvKiBVKzAwNjAgR1JBVkUgQUNDRU5UICovXG4gICAgWEtfcXVvdGVsZWZ0OiAgICAgICAgICAgICAgICAgICAweDAwNjAsIC8qIGRlcHJlY2F0ZWQgKi9cbiAgICBYS19hOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MSwgLyogVSswMDYxIExBVElOIFNNQUxMIExFVFRFUiBBICovXG4gICAgWEtfYjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjIsIC8qIFUrMDA2MiBMQVRJTiBTTUFMTCBMRVRURVIgQiAqL1xuICAgIFhLX2M6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDYzLCAvKiBVKzAwNjMgTEFUSU4gU01BTEwgTEVUVEVSIEMgKi9cbiAgICBYS19kOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2NCwgLyogVSswMDY0IExBVElOIFNNQUxMIExFVFRFUiBEICovXG4gICAgWEtfZTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjUsIC8qIFUrMDA2NSBMQVRJTiBTTUFMTCBMRVRURVIgRSAqL1xuICAgIFhLX2Y6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY2LCAvKiBVKzAwNjYgTEFUSU4gU01BTEwgTEVUVEVSIEYgKi9cbiAgICBYS19nOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2NywgLyogVSswMDY3IExBVElOIFNNQUxMIExFVFRFUiBHICovXG4gICAgWEtfaDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjgsIC8qIFUrMDA2OCBMQVRJTiBTTUFMTCBMRVRURVIgSCAqL1xuICAgIFhLX2k6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY5LCAvKiBVKzAwNjkgTEFUSU4gU01BTEwgTEVUVEVSIEkgKi9cbiAgICBYS19qOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2YSwgLyogVSswMDZBIExBVElOIFNNQUxMIExFVFRFUiBKICovXG4gICAgWEtfazogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmIsIC8qIFUrMDA2QiBMQVRJTiBTTUFMTCBMRVRURVIgSyAqL1xuICAgIFhLX2w6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZjLCAvKiBVKzAwNkMgTEFUSU4gU01BTEwgTEVUVEVSIEwgKi9cbiAgICBYS19tOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2ZCwgLyogVSswMDZEIExBVElOIFNNQUxMIExFVFRFUiBNICovXG4gICAgWEtfbjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmUsIC8qIFUrMDA2RSBMQVRJTiBTTUFMTCBMRVRURVIgTiAqL1xuICAgIFhLX286ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZmLCAvKiBVKzAwNkYgTEFUSU4gU01BTEwgTEVUVEVSIE8gKi9cbiAgICBYS19wOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3MCwgLyogVSswMDcwIExBVElOIFNNQUxMIExFVFRFUiBQICovXG4gICAgWEtfcTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzEsIC8qIFUrMDA3MSBMQVRJTiBTTUFMTCBMRVRURVIgUSAqL1xuICAgIFhLX3I6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDcyLCAvKiBVKzAwNzIgTEFUSU4gU01BTEwgTEVUVEVSIFIgKi9cbiAgICBYS19zOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3MywgLyogVSswMDczIExBVElOIFNNQUxMIExFVFRFUiBTICovXG4gICAgWEtfdDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzQsIC8qIFUrMDA3NCBMQVRJTiBTTUFMTCBMRVRURVIgVCAqL1xuICAgIFhLX3U6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc1LCAvKiBVKzAwNzUgTEFUSU4gU01BTEwgTEVUVEVSIFUgKi9cbiAgICBYS192OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3NiwgLyogVSswMDc2IExBVElOIFNNQUxMIExFVFRFUiBWICovXG4gICAgWEtfdzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzcsIC8qIFUrMDA3NyBMQVRJTiBTTUFMTCBMRVRURVIgVyAqL1xuICAgIFhLX3g6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc4LCAvKiBVKzAwNzggTEFUSU4gU01BTEwgTEVUVEVSIFggKi9cbiAgICBYS195OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3OSwgLyogVSswMDc5IExBVElOIFNNQUxMIExFVFRFUiBZICovXG4gICAgWEtfejogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwN2EsIC8qIFUrMDA3QSBMQVRJTiBTTUFMTCBMRVRURVIgWiAqL1xuICAgIFhLX2JyYWNlbGVmdDogICAgICAgICAgICAgICAgICAgMHgwMDdiLCAvKiBVKzAwN0IgTEVGVCBDVVJMWSBCUkFDS0VUICovXG4gICAgWEtfYmFyOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwN2MsIC8qIFUrMDA3QyBWRVJUSUNBTCBMSU5FICovXG4gICAgWEtfYnJhY2VyaWdodDogICAgICAgICAgICAgICAgICAweDAwN2QsIC8qIFUrMDA3RCBSSUdIVCBDVVJMWSBCUkFDS0VUICovXG4gICAgWEtfYXNjaWl0aWxkZTogICAgICAgICAgICAgICAgICAweDAwN2UsIC8qIFUrMDA3RSBUSUxERSAqL1xuXG4gICAgWEtfbm9icmVha3NwYWNlOiAgICAgICAgICAgICAgICAweDAwYTAsIC8qIFUrMDBBMCBOTy1CUkVBSyBTUEFDRSAqL1xuICAgIFhLX2V4Y2xhbWRvd246ICAgICAgICAgICAgICAgICAgMHgwMGExLCAvKiBVKzAwQTEgSU5WRVJURUQgRVhDTEFNQVRJT04gTUFSSyAqL1xuICAgIFhLX2NlbnQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGEyLCAvKiBVKzAwQTIgQ0VOVCBTSUdOICovXG4gICAgWEtfc3Rlcmxpbmc6ICAgICAgICAgICAgICAgICAgICAweDAwYTMsIC8qIFUrMDBBMyBQT1VORCBTSUdOICovXG4gICAgWEtfY3VycmVuY3k6ICAgICAgICAgICAgICAgICAgICAweDAwYTQsIC8qIFUrMDBBNCBDVVJSRU5DWSBTSUdOICovXG4gICAgWEtfeWVuOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwYTUsIC8qIFUrMDBBNSBZRU4gU0lHTiAqL1xuICAgIFhLX2Jyb2tlbmJhcjogICAgICAgICAgICAgICAgICAgMHgwMGE2LCAvKiBVKzAwQTYgQlJPS0VOIEJBUiAqL1xuICAgIFhLX3NlY3Rpb246ICAgICAgICAgICAgICAgICAgICAgMHgwMGE3LCAvKiBVKzAwQTcgU0VDVElPTiBTSUdOICovXG4gICAgWEtfZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgICAweDAwYTgsIC8qIFUrMDBBOCBESUFFUkVTSVMgKi9cbiAgICBYS19jb3B5cmlnaHQ6ICAgICAgICAgICAgICAgICAgIDB4MDBhOSwgLyogVSswMEE5IENPUFlSSUdIVCBTSUdOICovXG4gICAgWEtfb3JkZmVtaW5pbmU6ICAgICAgICAgICAgICAgICAweDAwYWEsIC8qIFUrMDBBQSBGRU1JTklORSBPUkRJTkFMIElORElDQVRPUiAqL1xuICAgIFhLX2d1aWxsZW1vdGxlZnQ6ICAgICAgICAgICAgICAgMHgwMGFiLCAvKiBVKzAwQUIgTEVGVC1QT0lOVElORyBET1VCTEUgQU5HTEUgUVVPVEFUSU9OIE1BUksgKi9cbiAgICBYS19ub3RzaWduOiAgICAgICAgICAgICAgICAgICAgIDB4MDBhYywgLyogVSswMEFDIE5PVCBTSUdOICovXG4gICAgWEtfaHlwaGVuOiAgICAgICAgICAgICAgICAgICAgICAweDAwYWQsIC8qIFUrMDBBRCBTT0ZUIEhZUEhFTiAqL1xuICAgIFhLX3JlZ2lzdGVyZWQ6ICAgICAgICAgICAgICAgICAgMHgwMGFlLCAvKiBVKzAwQUUgUkVHSVNURVJFRCBTSUdOICovXG4gICAgWEtfbWFjcm9uOiAgICAgICAgICAgICAgICAgICAgICAweDAwYWYsIC8qIFUrMDBBRiBNQUNST04gKi9cbiAgICBYS19kZWdyZWU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBiMCwgLyogVSswMEIwIERFR1JFRSBTSUdOICovXG4gICAgWEtfcGx1c21pbnVzOiAgICAgICAgICAgICAgICAgICAweDAwYjEsIC8qIFUrMDBCMSBQTFVTLU1JTlVTIFNJR04gKi9cbiAgICBYS190d29zdXBlcmlvcjogICAgICAgICAgICAgICAgIDB4MDBiMiwgLyogVSswMEIyIFNVUEVSU0NSSVBUIFRXTyAqL1xuICAgIFhLX3RocmVlc3VwZXJpb3I6ICAgICAgICAgICAgICAgMHgwMGIzLCAvKiBVKzAwQjMgU1VQRVJTQ1JJUFQgVEhSRUUgKi9cbiAgICBYS19hY3V0ZTogICAgICAgICAgICAgICAgICAgICAgIDB4MDBiNCwgLyogVSswMEI0IEFDVVRFIEFDQ0VOVCAqL1xuICAgIFhLX211OiAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGI1LCAvKiBVKzAwQjUgTUlDUk8gU0lHTiAqL1xuICAgIFhLX3BhcmFncmFwaDogICAgICAgICAgICAgICAgICAgMHgwMGI2LCAvKiBVKzAwQjYgUElMQ1JPVyBTSUdOICovXG4gICAgWEtfcGVyaW9kY2VudGVyZWQ6ICAgICAgICAgICAgICAweDAwYjcsIC8qIFUrMDBCNyBNSURETEUgRE9UICovXG4gICAgWEtfY2VkaWxsYTogICAgICAgICAgICAgICAgICAgICAweDAwYjgsIC8qIFUrMDBCOCBDRURJTExBICovXG4gICAgWEtfb25lc3VwZXJpb3I6ICAgICAgICAgICAgICAgICAweDAwYjksIC8qIFUrMDBCOSBTVVBFUlNDUklQVCBPTkUgKi9cbiAgICBYS19tYXNjdWxpbmU6ICAgICAgICAgICAgICAgICAgIDB4MDBiYSwgLyogVSswMEJBIE1BU0NVTElORSBPUkRJTkFMIElORElDQVRPUiAqL1xuICAgIFhLX2d1aWxsZW1vdHJpZ2h0OiAgICAgICAgICAgICAgMHgwMGJiLCAvKiBVKzAwQkIgUklHSFQtUE9JTlRJTkcgRE9VQkxFIEFOR0xFIFFVT1RBVElPTiBNQVJLICovXG4gICAgWEtfb25lcXVhcnRlcjogICAgICAgICAgICAgICAgICAweDAwYmMsIC8qIFUrMDBCQyBWVUxHQVIgRlJBQ1RJT04gT05FIFFVQVJURVIgKi9cbiAgICBYS19vbmVoYWxmOiAgICAgICAgICAgICAgICAgICAgIDB4MDBiZCwgLyogVSswMEJEIFZVTEdBUiBGUkFDVElPTiBPTkUgSEFMRiAqL1xuICAgIFhLX3RocmVlcXVhcnRlcnM6ICAgICAgICAgICAgICAgMHgwMGJlLCAvKiBVKzAwQkUgVlVMR0FSIEZSQUNUSU9OIFRIUkVFIFFVQVJURVJTICovXG4gICAgWEtfcXVlc3Rpb25kb3duOiAgICAgICAgICAgICAgICAweDAwYmYsIC8qIFUrMDBCRiBJTlZFUlRFRCBRVUVTVElPTiBNQVJLICovXG4gICAgWEtfQWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzAsIC8qIFUrMDBDMCBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggR1JBVkUgKi9cbiAgICBYS19BYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjMSwgLyogVSswMEMxIExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBBQ1VURSAqL1xuICAgIFhLX0FjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGMyLCAvKiBVKzAwQzIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19BdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjMywgLyogVSswMEMzIExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBUSUxERSAqL1xuICAgIFhLX0FkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGM0LCAvKiBVKzAwQzQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX0FyaW5nOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGM1LCAvKiBVKzAwQzUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIFJJTkcgQUJPVkUgKi9cbiAgICBYS19BRTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBjNiwgLyogVSswMEM2IExBVElOIENBUElUQUwgTEVUVEVSIEFFICovXG4gICAgWEtfQ2NlZGlsbGE6ICAgICAgICAgICAgICAgICAgICAweDAwYzcsIC8qIFUrMDBDNyBMQVRJTiBDQVBJVEFMIExFVFRFUiBDIFdJVEggQ0VESUxMQSAqL1xuICAgIFhLX0VncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGM4LCAvKiBVKzAwQzggTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIEdSQVZFICovXG4gICAgWEtfRWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzksIC8qIFUrMDBDOSBMQVRJTiBDQVBJVEFMIExFVFRFUiBFIFdJVEggQUNVVEUgKi9cbiAgICBYS19FY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBjYSwgLyogVSswMENBIExBVElOIENBUElUQUwgTEVUVEVSIEUgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfRWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwY2IsIC8qIFUrMDBDQiBMQVRJTiBDQVBJVEFMIExFVFRFUiBFIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfSWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwY2MsIC8qIFUrMDBDQyBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggR1JBVkUgKi9cbiAgICBYS19JYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjZCwgLyogVSswMENEIExBVElOIENBUElUQUwgTEVUVEVSIEkgV0lUSCBBQ1VURSAqL1xuICAgIFhLX0ljaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGNlLCAvKiBVKzAwQ0UgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19JZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBjZiwgLyogVSswMENGIExBVElOIENBUElUQUwgTEVUVEVSIEkgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19FVEg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMCwgLyogVSswMEQwIExBVElOIENBUElUQUwgTEVUVEVSIEVUSCAqL1xuICAgIFhLX0V0aDogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGQwLCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfTnRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDEsIC8qIFUrMDBEMSBMQVRJTiBDQVBJVEFMIExFVFRFUiBOIFdJVEggVElMREUgKi9cbiAgICBYS19PZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMiwgLyogVSswMEQyIExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBHUkFWRSAqL1xuICAgIFhLX09hY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQzLCAvKiBVKzAwRDMgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIEFDVVRFICovXG4gICAgWEtfT2NpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZDQsIC8qIFUrMDBENCBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX090aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQ1LCAvKiBVKzAwRDUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIFRJTERFICovXG4gICAgWEtfT2RpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZDYsIC8qIFUrMDBENiBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfbXVsdGlwbHk6ICAgICAgICAgICAgICAgICAgICAweDAwZDcsIC8qIFUrMDBENyBNVUxUSVBMSUNBVElPTiBTSUdOICovXG4gICAgWEtfT3NsYXNoOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDgsIC8qIFUrMDBEOCBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggU1RST0tFICovXG4gICAgWEtfT29ibGlxdWU6ICAgICAgICAgICAgICAgICAgICAweDAwZDgsIC8qIFUrMDBEOCBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggU1RST0tFICovXG4gICAgWEtfVWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDksIC8qIFUrMDBEOSBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggR1JBVkUgKi9cbiAgICBYS19VYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkYSwgLyogVSswMERBIExBVElOIENBUElUQUwgTEVUVEVSIFUgV0lUSCBBQ1VURSAqL1xuICAgIFhLX1VjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGRiLCAvKiBVKzAwREIgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19VZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBkYywgLyogVSswMERDIExBVElOIENBUElUQUwgTEVUVEVSIFUgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19ZYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZCwgLyogVSswMEREIExBVElOIENBUElUQUwgTEVUVEVSIFkgV0lUSCBBQ1VURSAqL1xuICAgIFhLX1RIT1JOOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGRlLCAvKiBVKzAwREUgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVEhPUk4gKi9cbiAgICBYS19UaG9ybjogICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZSwgLyogZGVwcmVjYXRlZCAqL1xuICAgIFhLX3NzaGFycDogICAgICAgICAgICAgICAgICAgICAgMHgwMGRmLCAvKiBVKzAwREYgTEFUSU4gU01BTEwgTEVUVEVSIFNIQVJQIFMgKi9cbiAgICBYS19hZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlMCwgLyogVSswMEUwIExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggR1JBVkUgKi9cbiAgICBYS19hYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlMSwgLyogVSswMEUxIExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggQUNVVEUgKi9cbiAgICBYS19hY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBlMiwgLyogVSswMEUyIExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX2F0aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGUzLCAvKiBVKzAwRTMgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBUSUxERSAqL1xuICAgIFhLX2FkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGU0LCAvKiBVKzAwRTQgTEFUSU4gU01BTEwgTEVUVEVSIEEgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19hcmluZzogICAgICAgICAgICAgICAgICAgICAgIDB4MDBlNSwgLyogVSswMEU1IExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggUklORyBBQk9WRSAqL1xuICAgIFhLX2FlOiAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGU2LCAvKiBVKzAwRTYgTEFUSU4gU01BTEwgTEVUVEVSIEFFICovXG4gICAgWEtfY2NlZGlsbGE6ICAgICAgICAgICAgICAgICAgICAweDAwZTcsIC8qIFUrMDBFNyBMQVRJTiBTTUFMTCBMRVRURVIgQyBXSVRIIENFRElMTEEgKi9cbiAgICBYS19lZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlOCwgLyogVSswMEU4IExBVElOIFNNQUxMIExFVFRFUiBFIFdJVEggR1JBVkUgKi9cbiAgICBYS19lYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlOSwgLyogVSswMEU5IExBVElOIFNNQUxMIExFVFRFUiBFIFdJVEggQUNVVEUgKi9cbiAgICBYS19lY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBlYSwgLyogVSswMEVBIExBVElOIFNNQUxMIExFVFRFUiBFIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX2VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGViLCAvKiBVKzAwRUIgTEFUSU4gU01BTEwgTEVUVEVSIEUgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19pZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlYywgLyogVSswMEVDIExBVElOIFNNQUxMIExFVFRFUiBJIFdJVEggR1JBVkUgKi9cbiAgICBYS19pYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlZCwgLyogVSswMEVEIExBVElOIFNNQUxMIExFVFRFUiBJIFdJVEggQUNVVEUgKi9cbiAgICBYS19pY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBlZSwgLyogVSswMEVFIExBVElOIFNNQUxMIExFVFRFUiBJIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX2lkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGVmLCAvKiBVKzAwRUYgTEFUSU4gU01BTEwgTEVUVEVSIEkgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19ldGg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBmMCwgLyogVSswMEYwIExBVElOIFNNQUxMIExFVFRFUiBFVEggKi9cbiAgICBYS19udGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmMSwgLyogVSswMEYxIExBVElOIFNNQUxMIExFVFRFUiBOIFdJVEggVElMREUgKi9cbiAgICBYS19vZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmMiwgLyogVSswMEYyIExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggR1JBVkUgKi9cbiAgICBYS19vYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmMywgLyogVSswMEYzIExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggQUNVVEUgKi9cbiAgICBYS19vY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBmNCwgLyogVSswMEY0IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX290aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGY1LCAvKiBVKzAwRjUgTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBUSUxERSAqL1xuICAgIFhLX29kaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGY2LCAvKiBVKzAwRjYgTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19kaXZpc2lvbjogICAgICAgICAgICAgICAgICAgIDB4MDBmNywgLyogVSswMEY3IERJVklTSU9OIFNJR04gKi9cbiAgICBYS19vc2xhc2g6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmOCwgLyogVSswMEY4IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggU1RST0tFICovXG4gICAgWEtfb29ibGlxdWU6ICAgICAgICAgICAgICAgICAgICAweDAwZjgsIC8qIFUrMDBGOCBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX3VncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGY5LCAvKiBVKzAwRjkgTEFUSU4gU01BTEwgTEVUVEVSIFUgV0lUSCBHUkFWRSAqL1xuICAgIFhLX3VhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGZhLCAvKiBVKzAwRkEgTEFUSU4gU01BTEwgTEVUVEVSIFUgV0lUSCBBQ1VURSAqL1xuICAgIFhLX3VjaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGZiLCAvKiBVKzAwRkIgTEFUSU4gU01BTEwgTEVUVEVSIFUgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfdWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZmMsIC8qIFUrMDBGQyBMQVRJTiBTTUFMTCBMRVRURVIgVSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX3lhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGZkLCAvKiBVKzAwRkQgTEFUSU4gU01BTEwgTEVUVEVSIFkgV0lUSCBBQ1VURSAqL1xuICAgIFhLX3Rob3JuOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMGZlLCAvKiBVKzAwRkUgTEFUSU4gU01BTEwgTEVUVEVSIFRIT1JOICovXG4gICAgWEtfeWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZmYsIC8qIFUrMDBGRiBMQVRJTiBTTUFMTCBMRVRURVIgWSBXSVRIIERJQUVSRVNJUyAqL1xuXG4gICAgLypcbiAgICAgKiBLb3JlYW5cbiAgICAgKiBCeXRlIDMgPSAweDBlXG4gICAgICovXG5cbiAgICBYS19IYW5ndWw6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYzMSwgLyogSGFuZ3VsIHN0YXJ0L3N0b3AodG9nZ2xlKSAqL1xuICAgIFhLX0hhbmd1bF9IYW5qYTogICAgICAgICAgICAgICAgMHhmZjM0LCAvKiBTdGFydCBIYW5ndWwtPkhhbmphIENvbnZlcnNpb24gKi9cbiAgICBYS19IYW5ndWxfSmVvbmphOiAgICAgICAgICAgICAgIDB4ZmYzOCwgLyogSmVvbmphIG1vZGUgKi9cblxuICAgIC8qXG4gICAgICogWEZyZWU4NiB2ZW5kb3Igc3BlY2lmaWMga2V5c3ltcy5cbiAgICAgKlxuICAgICAqIFRoZSBYRnJlZTg2IGtleXN5bSByYW5nZSBpcyAweDEwMDgwMDAxIC0gMHgxMDA4RkZGRi5cbiAgICAgKi9cblxuICAgIFhGODZYS19Nb2RlTG9jazogICAgICAgICAgICAgICAgMHgxMDA4RkYwMSxcbiAgICBYRjg2WEtfTW9uQnJpZ2h0bmVzc1VwOiAgICAgICAgIDB4MTAwOEZGMDIsXG4gICAgWEY4NlhLX01vbkJyaWdodG5lc3NEb3duOiAgICAgICAweDEwMDhGRjAzLFxuICAgIFhGODZYS19LYmRMaWdodE9uT2ZmOiAgICAgICAgICAgMHgxMDA4RkYwNCxcbiAgICBYRjg2WEtfS2JkQnJpZ2h0bmVzc1VwOiAgICAgICAgIDB4MTAwOEZGMDUsXG4gICAgWEY4NlhLX0tiZEJyaWdodG5lc3NEb3duOiAgICAgICAweDEwMDhGRjA2LFxuICAgIFhGODZYS19TdGFuZGJ5OiAgICAgICAgICAgICAgICAgMHgxMDA4RkYxMCxcbiAgICBYRjg2WEtfQXVkaW9Mb3dlclZvbHVtZTogICAgICAgIDB4MTAwOEZGMTEsXG4gICAgWEY4NlhLX0F1ZGlvTXV0ZTogICAgICAgICAgICAgICAweDEwMDhGRjEyLFxuICAgIFhGODZYS19BdWRpb1JhaXNlVm9sdW1lOiAgICAgICAgMHgxMDA4RkYxMyxcbiAgICBYRjg2WEtfQXVkaW9QbGF5OiAgICAgICAgICAgICAgIDB4MTAwOEZGMTQsXG4gICAgWEY4NlhLX0F1ZGlvU3RvcDogICAgICAgICAgICAgICAweDEwMDhGRjE1LFxuICAgIFhGODZYS19BdWRpb1ByZXY6ICAgICAgICAgICAgICAgMHgxMDA4RkYxNixcbiAgICBYRjg2WEtfQXVkaW9OZXh0OiAgICAgICAgICAgICAgIDB4MTAwOEZGMTcsXG4gICAgWEY4NlhLX0hvbWVQYWdlOiAgICAgICAgICAgICAgICAweDEwMDhGRjE4LFxuICAgIFhGODZYS19NYWlsOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxOSxcbiAgICBYRjg2WEtfU3RhcnQ6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMUEsXG4gICAgWEY4NlhLX1NlYXJjaDogICAgICAgICAgICAgICAgICAweDEwMDhGRjFCLFxuICAgIFhGODZYS19BdWRpb1JlY29yZDogICAgICAgICAgICAgMHgxMDA4RkYxQyxcbiAgICBYRjg2WEtfQ2FsY3VsYXRvcjogICAgICAgICAgICAgIDB4MTAwOEZGMUQsXG4gICAgWEY4NlhLX01lbW86ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjFFLFxuICAgIFhGODZYS19Ub0RvTGlzdDogICAgICAgICAgICAgICAgMHgxMDA4RkYxRixcbiAgICBYRjg2WEtfQ2FsZW5kYXI6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMjAsXG4gICAgWEY4NlhLX1Bvd2VyRG93bjogICAgICAgICAgICAgICAweDEwMDhGRjIxLFxuICAgIFhGODZYS19Db250cmFzdEFkanVzdDogICAgICAgICAgMHgxMDA4RkYyMixcbiAgICBYRjg2WEtfUm9ja2VyVXA6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMjMsXG4gICAgWEY4NlhLX1JvY2tlckRvd246ICAgICAgICAgICAgICAweDEwMDhGRjI0LFxuICAgIFhGODZYS19Sb2NrZXJFbnRlcjogICAgICAgICAgICAgMHgxMDA4RkYyNSxcbiAgICBYRjg2WEtfQmFjazogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMjYsXG4gICAgWEY4NlhLX0ZvcndhcmQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjI3LFxuICAgIFhGODZYS19TdG9wOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyOCxcbiAgICBYRjg2WEtfUmVmcmVzaDogICAgICAgICAgICAgICAgIDB4MTAwOEZGMjksXG4gICAgWEY4NlhLX1Bvd2VyT2ZmOiAgICAgICAgICAgICAgICAweDEwMDhGRjJBLFxuICAgIFhGODZYS19XYWtlVXA6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyQixcbiAgICBYRjg2WEtfRWplY3Q6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkMsXG4gICAgWEY4NlhLX1NjcmVlblNhdmVyOiAgICAgICAgICAgICAweDEwMDhGRjJELFxuICAgIFhGODZYS19XV1c6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYyRSxcbiAgICBYRjg2WEtfU2xlZXA6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkYsXG4gICAgWEY4NlhLX0Zhdm9yaXRlczogICAgICAgICAgICAgICAweDEwMDhGRjMwLFxuICAgIFhGODZYS19BdWRpb1BhdXNlOiAgICAgICAgICAgICAgMHgxMDA4RkYzMSxcbiAgICBYRjg2WEtfQXVkaW9NZWRpYTogICAgICAgICAgICAgIDB4MTAwOEZGMzIsXG4gICAgWEY4NlhLX015Q29tcHV0ZXI6ICAgICAgICAgICAgICAweDEwMDhGRjMzLFxuICAgIFhGODZYS19WZW5kb3JIb21lOiAgICAgICAgICAgICAgMHgxMDA4RkYzNCxcbiAgICBYRjg2WEtfTGlnaHRCdWxiOiAgICAgICAgICAgICAgIDB4MTAwOEZGMzUsXG4gICAgWEY4NlhLX1Nob3A6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjM2LFxuICAgIFhGODZYS19IaXN0b3J5OiAgICAgICAgICAgICAgICAgMHgxMDA4RkYzNyxcbiAgICBYRjg2WEtfT3BlblVSTDogICAgICAgICAgICAgICAgIDB4MTAwOEZGMzgsXG4gICAgWEY4NlhLX0FkZEZhdm9yaXRlOiAgICAgICAgICAgICAweDEwMDhGRjM5LFxuICAgIFhGODZYS19Ib3RMaW5rczogICAgICAgICAgICAgICAgMHgxMDA4RkYzQSxcbiAgICBYRjg2WEtfQnJpZ2h0bmVzc0FkanVzdDogICAgICAgIDB4MTAwOEZGM0IsXG4gICAgWEY4NlhLX0ZpbmFuY2U6ICAgICAgICAgICAgICAgICAweDEwMDhGRjNDLFxuICAgIFhGODZYS19Db21tdW5pdHk6ICAgICAgICAgICAgICAgMHgxMDA4RkYzRCxcbiAgICBYRjg2WEtfQXVkaW9SZXdpbmQ6ICAgICAgICAgICAgIDB4MTAwOEZGM0UsXG4gICAgWEY4NlhLX0JhY2tGb3J3YXJkOiAgICAgICAgICAgICAweDEwMDhGRjNGLFxuICAgIFhGODZYS19MYXVuY2gwOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0MCxcbiAgICBYRjg2WEtfTGF1bmNoMTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDEsXG4gICAgWEY4NlhLX0xhdW5jaDI6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQyLFxuICAgIFhGODZYS19MYXVuY2gzOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0MyxcbiAgICBYRjg2WEtfTGF1bmNoNDogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDQsXG4gICAgWEY4NlhLX0xhdW5jaDU6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ1LFxuICAgIFhGODZYS19MYXVuY2g2OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0NixcbiAgICBYRjg2WEtfTGF1bmNoNzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDcsXG4gICAgWEY4NlhLX0xhdW5jaDg6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ4LFxuICAgIFhGODZYS19MYXVuY2g5OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0OSxcbiAgICBYRjg2WEtfTGF1bmNoQTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEEsXG4gICAgWEY4NlhLX0xhdW5jaEI6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRCLFxuICAgIFhGODZYS19MYXVuY2hDOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0QyxcbiAgICBYRjg2WEtfTGF1bmNoRDogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEQsXG4gICAgWEY4NlhLX0xhdW5jaEU6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRFLFxuICAgIFhGODZYS19MYXVuY2hGOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0RixcbiAgICBYRjg2WEtfQXBwbGljYXRpb25MZWZ0OiAgICAgICAgIDB4MTAwOEZGNTAsXG4gICAgWEY4NlhLX0FwcGxpY2F0aW9uUmlnaHQ6ICAgICAgICAweDEwMDhGRjUxLFxuICAgIFhGODZYS19Cb29rOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1MixcbiAgICBYRjg2WEtfQ0Q6ICAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTMsXG4gICAgWEY4NlhLX0NhbGN1bGF0ZXI6ICAgICAgICAgICAgICAweDEwMDhGRjU0LFxuICAgIFhGODZYS19DbGVhcjogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1NSxcbiAgICBYRjg2WEtfQ2xvc2U6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTYsXG4gICAgWEY4NlhLX0NvcHk6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjU3LFxuICAgIFhGODZYS19DdXQ6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1OCxcbiAgICBYRjg2WEtfRGlzcGxheTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNTksXG4gICAgWEY4NlhLX0RPUzogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVBLFxuICAgIFhGODZYS19Eb2N1bWVudHM6ICAgICAgICAgICAgICAgMHgxMDA4RkY1QixcbiAgICBYRjg2WEtfRXhjZWw6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNUMsXG4gICAgWEY4NlhLX0V4cGxvcmVyOiAgICAgICAgICAgICAgICAweDEwMDhGRjVELFxuICAgIFhGODZYS19HYW1lOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1RSxcbiAgICBYRjg2WEtfR286ICAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNUYsXG4gICAgWEY4NlhLX2lUb3VjaDogICAgICAgICAgICAgICAgICAweDEwMDhGRjYwLFxuICAgIFhGODZYS19Mb2dPZmY6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MSxcbiAgICBYRjg2WEtfTWFya2V0OiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjIsXG4gICAgWEY4NlhLX01lZXRpbmc6ICAgICAgICAgICAgICAgICAweDEwMDhGRjYzLFxuICAgIFhGODZYS19NZW51S0I6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2NSxcbiAgICBYRjg2WEtfTWVudVBCOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjYsXG4gICAgWEY4NlhLX015U2l0ZXM6ICAgICAgICAgICAgICAgICAweDEwMDhGRjY3LFxuICAgIFhGODZYS19OZXc6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2OCxcbiAgICBYRjg2WEtfTmV3czogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjksXG4gICAgWEY4NlhLX09mZmljZUhvbWU6ICAgICAgICAgICAgICAweDEwMDhGRjZBLFxuICAgIFhGODZYS19PcGVuOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2QixcbiAgICBYRjg2WEtfT3B0aW9uOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkMsXG4gICAgWEY4NlhLX1Bhc3RlOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjZELFxuICAgIFhGODZYS19QaG9uZTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2RSxcbiAgICBYRjg2WEtfUTogICAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNzAsXG4gICAgWEY4NlhLX1JlcGx5OiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjcyLFxuICAgIFhGODZYS19SZWxvYWQ6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3MyxcbiAgICBYRjg2WEtfUm90YXRlV2luZG93czogICAgICAgICAgIDB4MTAwOEZGNzQsXG4gICAgWEY4NlhLX1JvdGF0aW9uUEI6ICAgICAgICAgICAgICAweDEwMDhGRjc1LFxuICAgIFhGODZYS19Sb3RhdGlvbktCOiAgICAgICAgICAgICAgMHgxMDA4RkY3NixcbiAgICBYRjg2WEtfU2F2ZTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNzcsXG4gICAgWEY4NlhLX1Njcm9sbFVwOiAgICAgICAgICAgICAgICAweDEwMDhGRjc4LFxuICAgIFhGODZYS19TY3JvbGxEb3duOiAgICAgICAgICAgICAgMHgxMDA4RkY3OSxcbiAgICBYRjg2WEtfU2Nyb2xsQ2xpY2s6ICAgICAgICAgICAgIDB4MTAwOEZGN0EsXG4gICAgWEY4NlhLX1NlbmQ6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjdCLFxuICAgIFhGODZYS19TcGVsbDogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3QyxcbiAgICBYRjg2WEtfU3BsaXRTY3JlZW46ICAgICAgICAgICAgIDB4MTAwOEZGN0QsXG4gICAgWEY4NlhLX1N1cHBvcnQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjdFLFxuICAgIFhGODZYS19UYXNrUGFuZTogICAgICAgICAgICAgICAgMHgxMDA4RkY3RixcbiAgICBYRjg2WEtfVGVybWluYWw6ICAgICAgICAgICAgICAgIDB4MTAwOEZGODAsXG4gICAgWEY4NlhLX1Rvb2xzOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjgxLFxuICAgIFhGODZYS19UcmF2ZWw6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4MixcbiAgICBYRjg2WEtfVXNlclBCOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODQsXG4gICAgWEY4NlhLX1VzZXIxS0I6ICAgICAgICAgICAgICAgICAweDEwMDhGRjg1LFxuICAgIFhGODZYS19Vc2VyMktCOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY4NixcbiAgICBYRjg2WEtfVmlkZW86ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODcsXG4gICAgWEY4NlhLX1doZWVsQnV0dG9uOiAgICAgICAgICAgICAweDEwMDhGRjg4LFxuICAgIFhGODZYS19Xb3JkOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4OSxcbiAgICBYRjg2WEtfWGZlcjogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOEEsXG4gICAgWEY4NlhLX1pvb21JbjogICAgICAgICAgICAgICAgICAweDEwMDhGRjhCLFxuICAgIFhGODZYS19ab29tT3V0OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY4QyxcbiAgICBYRjg2WEtfQXdheTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOEQsXG4gICAgWEY4NlhLX01lc3NlbmdlcjogICAgICAgICAgICAgICAweDEwMDhGRjhFLFxuICAgIFhGODZYS19XZWJDYW06ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4RixcbiAgICBYRjg2WEtfTWFpbEZvcndhcmQ6ICAgICAgICAgICAgIDB4MTAwOEZGOTAsXG4gICAgWEY4NlhLX1BpY3R1cmVzOiAgICAgICAgICAgICAgICAweDEwMDhGRjkxLFxuICAgIFhGODZYS19NdXNpYzogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY5MixcbiAgICBYRjg2WEtfQmF0dGVyeTogICAgICAgICAgICAgICAgIDB4MTAwOEZGOTMsXG4gICAgWEY4NlhLX0JsdWV0b290aDogICAgICAgICAgICAgICAweDEwMDhGRjk0LFxuICAgIFhGODZYS19XTEFOOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY5NSxcbiAgICBYRjg2WEtfVVdCOiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOTYsXG4gICAgWEY4NlhLX0F1ZGlvRm9yd2FyZDogICAgICAgICAgICAweDEwMDhGRjk3LFxuICAgIFhGODZYS19BdWRpb1JlcGVhdDogICAgICAgICAgICAgMHgxMDA4RkY5OCxcbiAgICBYRjg2WEtfQXVkaW9SYW5kb21QbGF5OiAgICAgICAgIDB4MTAwOEZGOTksXG4gICAgWEY4NlhLX1N1YnRpdGxlOiAgICAgICAgICAgICAgICAweDEwMDhGRjlBLFxuICAgIFhGODZYS19BdWRpb0N5Y2xlVHJhY2s6ICAgICAgICAgMHgxMDA4RkY5QixcbiAgICBYRjg2WEtfQ3ljbGVBbmdsZTogICAgICAgICAgICAgIDB4MTAwOEZGOUMsXG4gICAgWEY4NlhLX0ZyYW1lQmFjazogICAgICAgICAgICAgICAweDEwMDhGRjlELFxuICAgIFhGODZYS19GcmFtZUZvcndhcmQ6ICAgICAgICAgICAgMHgxMDA4RkY5RSxcbiAgICBYRjg2WEtfVGltZTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOUYsXG4gICAgWEY4NlhLX1NlbGVjdDogICAgICAgICAgICAgICAgICAweDEwMDhGRkEwLFxuICAgIFhGODZYS19WaWV3OiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMSxcbiAgICBYRjg2WEtfVG9wTWVudTogICAgICAgICAgICAgICAgIDB4MTAwOEZGQTIsXG4gICAgWEY4NlhLX1JlZDogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRkEzLFxuICAgIFhGODZYS19HcmVlbjogICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBNCxcbiAgICBYRjg2WEtfWWVsbG93OiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTUsXG4gICAgWEY4NlhLX0JsdWU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRkE2LFxuICAgIFhGODZYS19TdXNwZW5kOiAgICAgICAgICAgICAgICAgMHgxMDA4RkZBNyxcbiAgICBYRjg2WEtfSGliZXJuYXRlOiAgICAgICAgICAgICAgIDB4MTAwOEZGQTgsXG4gICAgWEY4NlhLX1RvdWNocGFkVG9nZ2xlOiAgICAgICAgICAweDEwMDhGRkE5LFxuICAgIFhGODZYS19Ub3VjaHBhZE9uOiAgICAgICAgICAgICAgMHgxMDA4RkZCMCxcbiAgICBYRjg2WEtfVG91Y2hwYWRPZmY6ICAgICAgICAgICAgIDB4MTAwOEZGQjEsXG4gICAgWEY4NlhLX0F1ZGlvTWljTXV0ZTogICAgICAgICAgICAweDEwMDhGRkIyLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMTogICAgICAgICAgICAgMHgxMDA4RkUwMSxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzI6ICAgICAgICAgICAgIDB4MTAwOEZFMDIsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8zOiAgICAgICAgICAgICAweDEwMDhGRTAzLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfNDogICAgICAgICAgICAgMHgxMDA4RkUwNCxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzU6ICAgICAgICAgICAgIDB4MTAwOEZFMDUsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF82OiAgICAgICAgICAgICAweDEwMDhGRTA2LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfNzogICAgICAgICAgICAgMHgxMDA4RkUwNyxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzg6ICAgICAgICAgICAgIDB4MTAwOEZFMDgsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF85OiAgICAgICAgICAgICAweDEwMDhGRTA5LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMTA6ICAgICAgICAgICAgMHgxMDA4RkUwQSxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzExOiAgICAgICAgICAgIDB4MTAwOEZFMEIsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8xMjogICAgICAgICAgICAweDEwMDhGRTBDLFxuICAgIFhGODZYS19VbmdyYWI6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkUyMCxcbiAgICBYRjg2WEtfQ2xlYXJHcmFiOiAgICAgICAgICAgICAgIDB4MTAwOEZFMjEsXG4gICAgWEY4NlhLX05leHRfVk1vZGU6ICAgICAgICAgICAgICAweDEwMDhGRTIyLFxuICAgIFhGODZYS19QcmV2X1ZNb2RlOiAgICAgICAgICAgICAgMHgxMDA4RkUyMyxcbiAgICBYRjg2WEtfTG9nV2luZG93VHJlZTogICAgICAgICAgIDB4MTAwOEZFMjQsXG4gICAgWEY4NlhLX0xvZ0dyYWJJbmZvOiAgICAgICAgICAgICAweDEwMDhGRTI1LFxufTtcbiIsIi8qXG4gKiBNYXBwaW5nIGZyb20gVW5pY29kZSBjb2RlcG9pbnRzIHRvIFgxMS9SRkIga2V5c3ltc1xuICpcbiAqIFRoaXMgZmlsZSB3YXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZnJvbSBrZXlzeW1kZWYuaFxuICogRE8gTk9UIEVESVQhXG4gKi9cblxuLyogRnVuY3Rpb25zIGF0IHRoZSBib3R0b20gKi9cblxudmFyIGNvZGVwb2ludHMgPSB7XG4gICAgMHgwMTAwOiAweDAzYzAsIC8vIFhLX0FtYWNyb25cbiAgICAweDAxMDE6IDB4MDNlMCwgLy8gWEtfYW1hY3JvblxuICAgIDB4MDEwMjogMHgwMWMzLCAvLyBYS19BYnJldmVcbiAgICAweDAxMDM6IDB4MDFlMywgLy8gWEtfYWJyZXZlXG4gICAgMHgwMTA0OiAweDAxYTEsIC8vIFhLX0FvZ29uZWtcbiAgICAweDAxMDU6IDB4MDFiMSwgLy8gWEtfYW9nb25la1xuICAgIDB4MDEwNjogMHgwMWM2LCAvLyBYS19DYWN1dGVcbiAgICAweDAxMDc6IDB4MDFlNiwgLy8gWEtfY2FjdXRlXG4gICAgMHgwMTA4OiAweDAyYzYsIC8vIFhLX0NjaXJjdW1mbGV4XG4gICAgMHgwMTA5OiAweDAyZTYsIC8vIFhLX2NjaXJjdW1mbGV4XG4gICAgMHgwMTBhOiAweDAyYzUsIC8vIFhLX0NhYm92ZWRvdFxuICAgIDB4MDEwYjogMHgwMmU1LCAvLyBYS19jYWJvdmVkb3RcbiAgICAweDAxMGM6IDB4MDFjOCwgLy8gWEtfQ2Nhcm9uXG4gICAgMHgwMTBkOiAweDAxZTgsIC8vIFhLX2NjYXJvblxuICAgIDB4MDEwZTogMHgwMWNmLCAvLyBYS19EY2Fyb25cbiAgICAweDAxMGY6IDB4MDFlZiwgLy8gWEtfZGNhcm9uXG4gICAgMHgwMTEwOiAweDAxZDAsIC8vIFhLX0RzdHJva2VcbiAgICAweDAxMTE6IDB4MDFmMCwgLy8gWEtfZHN0cm9rZVxuICAgIDB4MDExMjogMHgwM2FhLCAvLyBYS19FbWFjcm9uXG4gICAgMHgwMTEzOiAweDAzYmEsIC8vIFhLX2VtYWNyb25cbiAgICAweDAxMTY6IDB4MDNjYywgLy8gWEtfRWFib3ZlZG90XG4gICAgMHgwMTE3OiAweDAzZWMsIC8vIFhLX2VhYm92ZWRvdFxuICAgIDB4MDExODogMHgwMWNhLCAvLyBYS19Fb2dvbmVrXG4gICAgMHgwMTE5OiAweDAxZWEsIC8vIFhLX2VvZ29uZWtcbiAgICAweDAxMWE6IDB4MDFjYywgLy8gWEtfRWNhcm9uXG4gICAgMHgwMTFiOiAweDAxZWMsIC8vIFhLX2VjYXJvblxuICAgIDB4MDExYzogMHgwMmQ4LCAvLyBYS19HY2lyY3VtZmxleFxuICAgIDB4MDExZDogMHgwMmY4LCAvLyBYS19nY2lyY3VtZmxleFxuICAgIDB4MDExZTogMHgwMmFiLCAvLyBYS19HYnJldmVcbiAgICAweDAxMWY6IDB4MDJiYiwgLy8gWEtfZ2JyZXZlXG4gICAgMHgwMTIwOiAweDAyZDUsIC8vIFhLX0dhYm92ZWRvdFxuICAgIDB4MDEyMTogMHgwMmY1LCAvLyBYS19nYWJvdmVkb3RcbiAgICAweDAxMjI6IDB4MDNhYiwgLy8gWEtfR2NlZGlsbGFcbiAgICAweDAxMjM6IDB4MDNiYiwgLy8gWEtfZ2NlZGlsbGFcbiAgICAweDAxMjQ6IDB4MDJhNiwgLy8gWEtfSGNpcmN1bWZsZXhcbiAgICAweDAxMjU6IDB4MDJiNiwgLy8gWEtfaGNpcmN1bWZsZXhcbiAgICAweDAxMjY6IDB4MDJhMSwgLy8gWEtfSHN0cm9rZVxuICAgIDB4MDEyNzogMHgwMmIxLCAvLyBYS19oc3Ryb2tlXG4gICAgMHgwMTI4OiAweDAzYTUsIC8vIFhLX0l0aWxkZVxuICAgIDB4MDEyOTogMHgwM2I1LCAvLyBYS19pdGlsZGVcbiAgICAweDAxMmE6IDB4MDNjZiwgLy8gWEtfSW1hY3JvblxuICAgIDB4MDEyYjogMHgwM2VmLCAvLyBYS19pbWFjcm9uXG4gICAgMHgwMTJlOiAweDAzYzcsIC8vIFhLX0lvZ29uZWtcbiAgICAweDAxMmY6IDB4MDNlNywgLy8gWEtfaW9nb25la1xuICAgIDB4MDEzMDogMHgwMmE5LCAvLyBYS19JYWJvdmVkb3RcbiAgICAweDAxMzE6IDB4MDJiOSwgLy8gWEtfaWRvdGxlc3NcbiAgICAweDAxMzQ6IDB4MDJhYywgLy8gWEtfSmNpcmN1bWZsZXhcbiAgICAweDAxMzU6IDB4MDJiYywgLy8gWEtfamNpcmN1bWZsZXhcbiAgICAweDAxMzY6IDB4MDNkMywgLy8gWEtfS2NlZGlsbGFcbiAgICAweDAxMzc6IDB4MDNmMywgLy8gWEtfa2NlZGlsbGFcbiAgICAweDAxMzg6IDB4MDNhMiwgLy8gWEtfa3JhXG4gICAgMHgwMTM5OiAweDAxYzUsIC8vIFhLX0xhY3V0ZVxuICAgIDB4MDEzYTogMHgwMWU1LCAvLyBYS19sYWN1dGVcbiAgICAweDAxM2I6IDB4MDNhNiwgLy8gWEtfTGNlZGlsbGFcbiAgICAweDAxM2M6IDB4MDNiNiwgLy8gWEtfbGNlZGlsbGFcbiAgICAweDAxM2Q6IDB4MDFhNSwgLy8gWEtfTGNhcm9uXG4gICAgMHgwMTNlOiAweDAxYjUsIC8vIFhLX2xjYXJvblxuICAgIDB4MDE0MTogMHgwMWEzLCAvLyBYS19Mc3Ryb2tlXG4gICAgMHgwMTQyOiAweDAxYjMsIC8vIFhLX2xzdHJva2VcbiAgICAweDAxNDM6IDB4MDFkMSwgLy8gWEtfTmFjdXRlXG4gICAgMHgwMTQ0OiAweDAxZjEsIC8vIFhLX25hY3V0ZVxuICAgIDB4MDE0NTogMHgwM2QxLCAvLyBYS19OY2VkaWxsYVxuICAgIDB4MDE0NjogMHgwM2YxLCAvLyBYS19uY2VkaWxsYVxuICAgIDB4MDE0NzogMHgwMWQyLCAvLyBYS19OY2Fyb25cbiAgICAweDAxNDg6IDB4MDFmMiwgLy8gWEtfbmNhcm9uXG4gICAgMHgwMTRhOiAweDAzYmQsIC8vIFhLX0VOR1xuICAgIDB4MDE0YjogMHgwM2JmLCAvLyBYS19lbmdcbiAgICAweDAxNGM6IDB4MDNkMiwgLy8gWEtfT21hY3JvblxuICAgIDB4MDE0ZDogMHgwM2YyLCAvLyBYS19vbWFjcm9uXG4gICAgMHgwMTUwOiAweDAxZDUsIC8vIFhLX09kb3VibGVhY3V0ZVxuICAgIDB4MDE1MTogMHgwMWY1LCAvLyBYS19vZG91YmxlYWN1dGVcbiAgICAweDAxNTI6IDB4MTNiYywgLy8gWEtfT0VcbiAgICAweDAxNTM6IDB4MTNiZCwgLy8gWEtfb2VcbiAgICAweDAxNTQ6IDB4MDFjMCwgLy8gWEtfUmFjdXRlXG4gICAgMHgwMTU1OiAweDAxZTAsIC8vIFhLX3JhY3V0ZVxuICAgIDB4MDE1NjogMHgwM2EzLCAvLyBYS19SY2VkaWxsYVxuICAgIDB4MDE1NzogMHgwM2IzLCAvLyBYS19yY2VkaWxsYVxuICAgIDB4MDE1ODogMHgwMWQ4LCAvLyBYS19SY2Fyb25cbiAgICAweDAxNTk6IDB4MDFmOCwgLy8gWEtfcmNhcm9uXG4gICAgMHgwMTVhOiAweDAxYTYsIC8vIFhLX1NhY3V0ZVxuICAgIDB4MDE1YjogMHgwMWI2LCAvLyBYS19zYWN1dGVcbiAgICAweDAxNWM6IDB4MDJkZSwgLy8gWEtfU2NpcmN1bWZsZXhcbiAgICAweDAxNWQ6IDB4MDJmZSwgLy8gWEtfc2NpcmN1bWZsZXhcbiAgICAweDAxNWU6IDB4MDFhYSwgLy8gWEtfU2NlZGlsbGFcbiAgICAweDAxNWY6IDB4MDFiYSwgLy8gWEtfc2NlZGlsbGFcbiAgICAweDAxNjA6IDB4MDFhOSwgLy8gWEtfU2Nhcm9uXG4gICAgMHgwMTYxOiAweDAxYjksIC8vIFhLX3NjYXJvblxuICAgIDB4MDE2MjogMHgwMWRlLCAvLyBYS19UY2VkaWxsYVxuICAgIDB4MDE2MzogMHgwMWZlLCAvLyBYS190Y2VkaWxsYVxuICAgIDB4MDE2NDogMHgwMWFiLCAvLyBYS19UY2Fyb25cbiAgICAweDAxNjU6IDB4MDFiYiwgLy8gWEtfdGNhcm9uXG4gICAgMHgwMTY2OiAweDAzYWMsIC8vIFhLX1RzbGFzaFxuICAgIDB4MDE2NzogMHgwM2JjLCAvLyBYS190c2xhc2hcbiAgICAweDAxNjg6IDB4MDNkZCwgLy8gWEtfVXRpbGRlXG4gICAgMHgwMTY5OiAweDAzZmQsIC8vIFhLX3V0aWxkZVxuICAgIDB4MDE2YTogMHgwM2RlLCAvLyBYS19VbWFjcm9uXG4gICAgMHgwMTZiOiAweDAzZmUsIC8vIFhLX3VtYWNyb25cbiAgICAweDAxNmM6IDB4MDJkZCwgLy8gWEtfVWJyZXZlXG4gICAgMHgwMTZkOiAweDAyZmQsIC8vIFhLX3VicmV2ZVxuICAgIDB4MDE2ZTogMHgwMWQ5LCAvLyBYS19VcmluZ1xuICAgIDB4MDE2ZjogMHgwMWY5LCAvLyBYS191cmluZ1xuICAgIDB4MDE3MDogMHgwMWRiLCAvLyBYS19VZG91YmxlYWN1dGVcbiAgICAweDAxNzE6IDB4MDFmYiwgLy8gWEtfdWRvdWJsZWFjdXRlXG4gICAgMHgwMTcyOiAweDAzZDksIC8vIFhLX1VvZ29uZWtcbiAgICAweDAxNzM6IDB4MDNmOSwgLy8gWEtfdW9nb25la1xuICAgIDB4MDE3ODogMHgxM2JlLCAvLyBYS19ZZGlhZXJlc2lzXG4gICAgMHgwMTc5OiAweDAxYWMsIC8vIFhLX1phY3V0ZVxuICAgIDB4MDE3YTogMHgwMWJjLCAvLyBYS196YWN1dGVcbiAgICAweDAxN2I6IDB4MDFhZiwgLy8gWEtfWmFib3ZlZG90XG4gICAgMHgwMTdjOiAweDAxYmYsIC8vIFhLX3phYm92ZWRvdFxuICAgIDB4MDE3ZDogMHgwMWFlLCAvLyBYS19aY2Fyb25cbiAgICAweDAxN2U6IDB4MDFiZSwgLy8gWEtfemNhcm9uXG4gICAgMHgwMTkyOiAweDA4ZjYsIC8vIFhLX2Z1bmN0aW9uXG4gICAgMHgwMWQyOiAweDEwMDAxZDEsIC8vIFhLX09jYXJvblxuICAgIDB4MDJjNzogMHgwMWI3LCAvLyBYS19jYXJvblxuICAgIDB4MDJkODogMHgwMWEyLCAvLyBYS19icmV2ZVxuICAgIDB4MDJkOTogMHgwMWZmLCAvLyBYS19hYm92ZWRvdFxuICAgIDB4MDJkYjogMHgwMWIyLCAvLyBYS19vZ29uZWtcbiAgICAweDAyZGQ6IDB4MDFiZCwgLy8gWEtfZG91YmxlYWN1dGVcbiAgICAweDAzODU6IDB4MDdhZSwgLy8gWEtfR3JlZWtfYWNjZW50ZGllcmVzaXNcbiAgICAweDAzODY6IDB4MDdhMSwgLy8gWEtfR3JlZWtfQUxQSEFhY2NlbnRcbiAgICAweDAzODg6IDB4MDdhMiwgLy8gWEtfR3JlZWtfRVBTSUxPTmFjY2VudFxuICAgIDB4MDM4OTogMHgwN2EzLCAvLyBYS19HcmVla19FVEFhY2NlbnRcbiAgICAweDAzOGE6IDB4MDdhNCwgLy8gWEtfR3JlZWtfSU9UQWFjY2VudFxuICAgIDB4MDM4YzogMHgwN2E3LCAvLyBYS19HcmVla19PTUlDUk9OYWNjZW50XG4gICAgMHgwMzhlOiAweDA3YTgsIC8vIFhLX0dyZWVrX1VQU0lMT05hY2NlbnRcbiAgICAweDAzOGY6IDB4MDdhYiwgLy8gWEtfR3JlZWtfT01FR0FhY2NlbnRcbiAgICAweDAzOTA6IDB4MDdiNiwgLy8gWEtfR3JlZWtfaW90YWFjY2VudGRpZXJlc2lzXG4gICAgMHgwMzkxOiAweDA3YzEsIC8vIFhLX0dyZWVrX0FMUEhBXG4gICAgMHgwMzkyOiAweDA3YzIsIC8vIFhLX0dyZWVrX0JFVEFcbiAgICAweDAzOTM6IDB4MDdjMywgLy8gWEtfR3JlZWtfR0FNTUFcbiAgICAweDAzOTQ6IDB4MDdjNCwgLy8gWEtfR3JlZWtfREVMVEFcbiAgICAweDAzOTU6IDB4MDdjNSwgLy8gWEtfR3JlZWtfRVBTSUxPTlxuICAgIDB4MDM5NjogMHgwN2M2LCAvLyBYS19HcmVla19aRVRBXG4gICAgMHgwMzk3OiAweDA3YzcsIC8vIFhLX0dyZWVrX0VUQVxuICAgIDB4MDM5ODogMHgwN2M4LCAvLyBYS19HcmVla19USEVUQVxuICAgIDB4MDM5OTogMHgwN2M5LCAvLyBYS19HcmVla19JT1RBXG4gICAgMHgwMzlhOiAweDA3Y2EsIC8vIFhLX0dyZWVrX0tBUFBBXG4gICAgMHgwMzliOiAweDA3Y2IsIC8vIFhLX0dyZWVrX0xBTURBXG4gICAgMHgwMzljOiAweDA3Y2MsIC8vIFhLX0dyZWVrX01VXG4gICAgMHgwMzlkOiAweDA3Y2QsIC8vIFhLX0dyZWVrX05VXG4gICAgMHgwMzllOiAweDA3Y2UsIC8vIFhLX0dyZWVrX1hJXG4gICAgMHgwMzlmOiAweDA3Y2YsIC8vIFhLX0dyZWVrX09NSUNST05cbiAgICAweDAzYTA6IDB4MDdkMCwgLy8gWEtfR3JlZWtfUElcbiAgICAweDAzYTE6IDB4MDdkMSwgLy8gWEtfR3JlZWtfUkhPXG4gICAgMHgwM2EzOiAweDA3ZDIsIC8vIFhLX0dyZWVrX1NJR01BXG4gICAgMHgwM2E0OiAweDA3ZDQsIC8vIFhLX0dyZWVrX1RBVVxuICAgIDB4MDNhNTogMHgwN2Q1LCAvLyBYS19HcmVla19VUFNJTE9OXG4gICAgMHgwM2E2OiAweDA3ZDYsIC8vIFhLX0dyZWVrX1BISVxuICAgIDB4MDNhNzogMHgwN2Q3LCAvLyBYS19HcmVla19DSElcbiAgICAweDAzYTg6IDB4MDdkOCwgLy8gWEtfR3JlZWtfUFNJXG4gICAgMHgwM2E5OiAweDA3ZDksIC8vIFhLX0dyZWVrX09NRUdBXG4gICAgMHgwM2FhOiAweDA3YTUsIC8vIFhLX0dyZWVrX0lPVEFkaWVyZXNpc1xuICAgIDB4MDNhYjogMHgwN2E5LCAvLyBYS19HcmVla19VUFNJTE9OZGllcmVzaXNcbiAgICAweDAzYWM6IDB4MDdiMSwgLy8gWEtfR3JlZWtfYWxwaGFhY2NlbnRcbiAgICAweDAzYWQ6IDB4MDdiMiwgLy8gWEtfR3JlZWtfZXBzaWxvbmFjY2VudFxuICAgIDB4MDNhZTogMHgwN2IzLCAvLyBYS19HcmVla19ldGFhY2NlbnRcbiAgICAweDAzYWY6IDB4MDdiNCwgLy8gWEtfR3JlZWtfaW90YWFjY2VudFxuICAgIDB4MDNiMDogMHgwN2JhLCAvLyBYS19HcmVla191cHNpbG9uYWNjZW50ZGllcmVzaXNcbiAgICAweDAzYjE6IDB4MDdlMSwgLy8gWEtfR3JlZWtfYWxwaGFcbiAgICAweDAzYjI6IDB4MDdlMiwgLy8gWEtfR3JlZWtfYmV0YVxuICAgIDB4MDNiMzogMHgwN2UzLCAvLyBYS19HcmVla19nYW1tYVxuICAgIDB4MDNiNDogMHgwN2U0LCAvLyBYS19HcmVla19kZWx0YVxuICAgIDB4MDNiNTogMHgwN2U1LCAvLyBYS19HcmVla19lcHNpbG9uXG4gICAgMHgwM2I2OiAweDA3ZTYsIC8vIFhLX0dyZWVrX3pldGFcbiAgICAweDAzYjc6IDB4MDdlNywgLy8gWEtfR3JlZWtfZXRhXG4gICAgMHgwM2I4OiAweDA3ZTgsIC8vIFhLX0dyZWVrX3RoZXRhXG4gICAgMHgwM2I5OiAweDA3ZTksIC8vIFhLX0dyZWVrX2lvdGFcbiAgICAweDAzYmE6IDB4MDdlYSwgLy8gWEtfR3JlZWtfa2FwcGFcbiAgICAweDAzYmI6IDB4MDdlYiwgLy8gWEtfR3JlZWtfbGFtZGFcbiAgICAweDAzYmM6IDB4MDdlYywgLy8gWEtfR3JlZWtfbXVcbiAgICAweDAzYmQ6IDB4MDdlZCwgLy8gWEtfR3JlZWtfbnVcbiAgICAweDAzYmU6IDB4MDdlZSwgLy8gWEtfR3JlZWtfeGlcbiAgICAweDAzYmY6IDB4MDdlZiwgLy8gWEtfR3JlZWtfb21pY3JvblxuICAgIDB4MDNjMDogMHgwN2YwLCAvLyBYS19HcmVla19waVxuICAgIDB4MDNjMTogMHgwN2YxLCAvLyBYS19HcmVla19yaG9cbiAgICAweDAzYzI6IDB4MDdmMywgLy8gWEtfR3JlZWtfZmluYWxzbWFsbHNpZ21hXG4gICAgMHgwM2MzOiAweDA3ZjIsIC8vIFhLX0dyZWVrX3NpZ21hXG4gICAgMHgwM2M0OiAweDA3ZjQsIC8vIFhLX0dyZWVrX3RhdVxuICAgIDB4MDNjNTogMHgwN2Y1LCAvLyBYS19HcmVla191cHNpbG9uXG4gICAgMHgwM2M2OiAweDA3ZjYsIC8vIFhLX0dyZWVrX3BoaVxuICAgIDB4MDNjNzogMHgwN2Y3LCAvLyBYS19HcmVla19jaGlcbiAgICAweDAzYzg6IDB4MDdmOCwgLy8gWEtfR3JlZWtfcHNpXG4gICAgMHgwM2M5OiAweDA3ZjksIC8vIFhLX0dyZWVrX29tZWdhXG4gICAgMHgwM2NhOiAweDA3YjUsIC8vIFhLX0dyZWVrX2lvdGFkaWVyZXNpc1xuICAgIDB4MDNjYjogMHgwN2I5LCAvLyBYS19HcmVla191cHNpbG9uZGllcmVzaXNcbiAgICAweDAzY2M6IDB4MDdiNywgLy8gWEtfR3JlZWtfb21pY3JvbmFjY2VudFxuICAgIDB4MDNjZDogMHgwN2I4LCAvLyBYS19HcmVla191cHNpbG9uYWNjZW50XG4gICAgMHgwM2NlOiAweDA3YmIsIC8vIFhLX0dyZWVrX29tZWdhYWNjZW50XG4gICAgMHgwNDAxOiAweDA2YjMsIC8vIFhLX0N5cmlsbGljX0lPXG4gICAgMHgwNDAyOiAweDA2YjEsIC8vIFhLX1NlcmJpYW5fREpFXG4gICAgMHgwNDAzOiAweDA2YjIsIC8vIFhLX01hY2Vkb25pYV9HSkVcbiAgICAweDA0MDQ6IDB4MDZiNCwgLy8gWEtfVWtyYWluaWFuX0lFXG4gICAgMHgwNDA1OiAweDA2YjUsIC8vIFhLX01hY2Vkb25pYV9EU0VcbiAgICAweDA0MDY6IDB4MDZiNiwgLy8gWEtfVWtyYWluaWFuX0lcbiAgICAweDA0MDc6IDB4MDZiNywgLy8gWEtfVWtyYWluaWFuX1lJXG4gICAgMHgwNDA4OiAweDA2YjgsIC8vIFhLX0N5cmlsbGljX0pFXG4gICAgMHgwNDA5OiAweDA2YjksIC8vIFhLX0N5cmlsbGljX0xKRVxuICAgIDB4MDQwYTogMHgwNmJhLCAvLyBYS19DeXJpbGxpY19OSkVcbiAgICAweDA0MGI6IDB4MDZiYiwgLy8gWEtfU2VyYmlhbl9UU0hFXG4gICAgMHgwNDBjOiAweDA2YmMsIC8vIFhLX01hY2Vkb25pYV9LSkVcbiAgICAweDA0MGU6IDB4MDZiZSwgLy8gWEtfQnllbG9ydXNzaWFuX1NIT1JUVVxuICAgIDB4MDQwZjogMHgwNmJmLCAvLyBYS19DeXJpbGxpY19EWkhFXG4gICAgMHgwNDEwOiAweDA2ZTEsIC8vIFhLX0N5cmlsbGljX0FcbiAgICAweDA0MTE6IDB4MDZlMiwgLy8gWEtfQ3lyaWxsaWNfQkVcbiAgICAweDA0MTI6IDB4MDZmNywgLy8gWEtfQ3lyaWxsaWNfVkVcbiAgICAweDA0MTM6IDB4MDZlNywgLy8gWEtfQ3lyaWxsaWNfR0hFXG4gICAgMHgwNDE0OiAweDA2ZTQsIC8vIFhLX0N5cmlsbGljX0RFXG4gICAgMHgwNDE1OiAweDA2ZTUsIC8vIFhLX0N5cmlsbGljX0lFXG4gICAgMHgwNDE2OiAweDA2ZjYsIC8vIFhLX0N5cmlsbGljX1pIRVxuICAgIDB4MDQxNzogMHgwNmZhLCAvLyBYS19DeXJpbGxpY19aRVxuICAgIDB4MDQxODogMHgwNmU5LCAvLyBYS19DeXJpbGxpY19JXG4gICAgMHgwNDE5OiAweDA2ZWEsIC8vIFhLX0N5cmlsbGljX1NIT1JUSVxuICAgIDB4MDQxYTogMHgwNmViLCAvLyBYS19DeXJpbGxpY19LQVxuICAgIDB4MDQxYjogMHgwNmVjLCAvLyBYS19DeXJpbGxpY19FTFxuICAgIDB4MDQxYzogMHgwNmVkLCAvLyBYS19DeXJpbGxpY19FTVxuICAgIDB4MDQxZDogMHgwNmVlLCAvLyBYS19DeXJpbGxpY19FTlxuICAgIDB4MDQxZTogMHgwNmVmLCAvLyBYS19DeXJpbGxpY19PXG4gICAgMHgwNDFmOiAweDA2ZjAsIC8vIFhLX0N5cmlsbGljX1BFXG4gICAgMHgwNDIwOiAweDA2ZjIsIC8vIFhLX0N5cmlsbGljX0VSXG4gICAgMHgwNDIxOiAweDA2ZjMsIC8vIFhLX0N5cmlsbGljX0VTXG4gICAgMHgwNDIyOiAweDA2ZjQsIC8vIFhLX0N5cmlsbGljX1RFXG4gICAgMHgwNDIzOiAweDA2ZjUsIC8vIFhLX0N5cmlsbGljX1VcbiAgICAweDA0MjQ6IDB4MDZlNiwgLy8gWEtfQ3lyaWxsaWNfRUZcbiAgICAweDA0MjU6IDB4MDZlOCwgLy8gWEtfQ3lyaWxsaWNfSEFcbiAgICAweDA0MjY6IDB4MDZlMywgLy8gWEtfQ3lyaWxsaWNfVFNFXG4gICAgMHgwNDI3OiAweDA2ZmUsIC8vIFhLX0N5cmlsbGljX0NIRVxuICAgIDB4MDQyODogMHgwNmZiLCAvLyBYS19DeXJpbGxpY19TSEFcbiAgICAweDA0Mjk6IDB4MDZmZCwgLy8gWEtfQ3lyaWxsaWNfU0hDSEFcbiAgICAweDA0MmE6IDB4MDZmZiwgLy8gWEtfQ3lyaWxsaWNfSEFSRFNJR05cbiAgICAweDA0MmI6IDB4MDZmOSwgLy8gWEtfQ3lyaWxsaWNfWUVSVVxuICAgIDB4MDQyYzogMHgwNmY4LCAvLyBYS19DeXJpbGxpY19TT0ZUU0lHTlxuICAgIDB4MDQyZDogMHgwNmZjLCAvLyBYS19DeXJpbGxpY19FXG4gICAgMHgwNDJlOiAweDA2ZTAsIC8vIFhLX0N5cmlsbGljX1lVXG4gICAgMHgwNDJmOiAweDA2ZjEsIC8vIFhLX0N5cmlsbGljX1lBXG4gICAgMHgwNDMwOiAweDA2YzEsIC8vIFhLX0N5cmlsbGljX2FcbiAgICAweDA0MzE6IDB4MDZjMiwgLy8gWEtfQ3lyaWxsaWNfYmVcbiAgICAweDA0MzI6IDB4MDZkNywgLy8gWEtfQ3lyaWxsaWNfdmVcbiAgICAweDA0MzM6IDB4MDZjNywgLy8gWEtfQ3lyaWxsaWNfZ2hlXG4gICAgMHgwNDM0OiAweDA2YzQsIC8vIFhLX0N5cmlsbGljX2RlXG4gICAgMHgwNDM1OiAweDA2YzUsIC8vIFhLX0N5cmlsbGljX2llXG4gICAgMHgwNDM2OiAweDA2ZDYsIC8vIFhLX0N5cmlsbGljX3poZVxuICAgIDB4MDQzNzogMHgwNmRhLCAvLyBYS19DeXJpbGxpY196ZVxuICAgIDB4MDQzODogMHgwNmM5LCAvLyBYS19DeXJpbGxpY19pXG4gICAgMHgwNDM5OiAweDA2Y2EsIC8vIFhLX0N5cmlsbGljX3Nob3J0aVxuICAgIDB4MDQzYTogMHgwNmNiLCAvLyBYS19DeXJpbGxpY19rYVxuICAgIDB4MDQzYjogMHgwNmNjLCAvLyBYS19DeXJpbGxpY19lbFxuICAgIDB4MDQzYzogMHgwNmNkLCAvLyBYS19DeXJpbGxpY19lbVxuICAgIDB4MDQzZDogMHgwNmNlLCAvLyBYS19DeXJpbGxpY19lblxuICAgIDB4MDQzZTogMHgwNmNmLCAvLyBYS19DeXJpbGxpY19vXG4gICAgMHgwNDNmOiAweDA2ZDAsIC8vIFhLX0N5cmlsbGljX3BlXG4gICAgMHgwNDQwOiAweDA2ZDIsIC8vIFhLX0N5cmlsbGljX2VyXG4gICAgMHgwNDQxOiAweDA2ZDMsIC8vIFhLX0N5cmlsbGljX2VzXG4gICAgMHgwNDQyOiAweDA2ZDQsIC8vIFhLX0N5cmlsbGljX3RlXG4gICAgMHgwNDQzOiAweDA2ZDUsIC8vIFhLX0N5cmlsbGljX3VcbiAgICAweDA0NDQ6IDB4MDZjNiwgLy8gWEtfQ3lyaWxsaWNfZWZcbiAgICAweDA0NDU6IDB4MDZjOCwgLy8gWEtfQ3lyaWxsaWNfaGFcbiAgICAweDA0NDY6IDB4MDZjMywgLy8gWEtfQ3lyaWxsaWNfdHNlXG4gICAgMHgwNDQ3OiAweDA2ZGUsIC8vIFhLX0N5cmlsbGljX2NoZVxuICAgIDB4MDQ0ODogMHgwNmRiLCAvLyBYS19DeXJpbGxpY19zaGFcbiAgICAweDA0NDk6IDB4MDZkZCwgLy8gWEtfQ3lyaWxsaWNfc2hjaGFcbiAgICAweDA0NGE6IDB4MDZkZiwgLy8gWEtfQ3lyaWxsaWNfaGFyZHNpZ25cbiAgICAweDA0NGI6IDB4MDZkOSwgLy8gWEtfQ3lyaWxsaWNfeWVydVxuICAgIDB4MDQ0YzogMHgwNmQ4LCAvLyBYS19DeXJpbGxpY19zb2Z0c2lnblxuICAgIDB4MDQ0ZDogMHgwNmRjLCAvLyBYS19DeXJpbGxpY19lXG4gICAgMHgwNDRlOiAweDA2YzAsIC8vIFhLX0N5cmlsbGljX3l1XG4gICAgMHgwNDRmOiAweDA2ZDEsIC8vIFhLX0N5cmlsbGljX3lhXG4gICAgMHgwNDUxOiAweDA2YTMsIC8vIFhLX0N5cmlsbGljX2lvXG4gICAgMHgwNDUyOiAweDA2YTEsIC8vIFhLX1NlcmJpYW5fZGplXG4gICAgMHgwNDUzOiAweDA2YTIsIC8vIFhLX01hY2Vkb25pYV9namVcbiAgICAweDA0NTQ6IDB4MDZhNCwgLy8gWEtfVWtyYWluaWFuX2llXG4gICAgMHgwNDU1OiAweDA2YTUsIC8vIFhLX01hY2Vkb25pYV9kc2VcbiAgICAweDA0NTY6IDB4MDZhNiwgLy8gWEtfVWtyYWluaWFuX2lcbiAgICAweDA0NTc6IDB4MDZhNywgLy8gWEtfVWtyYWluaWFuX3lpXG4gICAgMHgwNDU4OiAweDA2YTgsIC8vIFhLX0N5cmlsbGljX2plXG4gICAgMHgwNDU5OiAweDA2YTksIC8vIFhLX0N5cmlsbGljX2xqZVxuICAgIDB4MDQ1YTogMHgwNmFhLCAvLyBYS19DeXJpbGxpY19uamVcbiAgICAweDA0NWI6IDB4MDZhYiwgLy8gWEtfU2VyYmlhbl90c2hlXG4gICAgMHgwNDVjOiAweDA2YWMsIC8vIFhLX01hY2Vkb25pYV9ramVcbiAgICAweDA0NWU6IDB4MDZhZSwgLy8gWEtfQnllbG9ydXNzaWFuX3Nob3J0dVxuICAgIDB4MDQ1ZjogMHgwNmFmLCAvLyBYS19DeXJpbGxpY19kemhlXG4gICAgMHgwNDkwOiAweDA2YmQsIC8vIFhLX1VrcmFpbmlhbl9HSEVfV0lUSF9VUFRVUk5cbiAgICAweDA0OTE6IDB4MDZhZCwgLy8gWEtfVWtyYWluaWFuX2doZV93aXRoX3VwdHVyblxuICAgIDB4MDVkMDogMHgwY2UwLCAvLyBYS19oZWJyZXdfYWxlcGhcbiAgICAweDA1ZDE6IDB4MGNlMSwgLy8gWEtfaGVicmV3X2JldFxuICAgIDB4MDVkMjogMHgwY2UyLCAvLyBYS19oZWJyZXdfZ2ltZWxcbiAgICAweDA1ZDM6IDB4MGNlMywgLy8gWEtfaGVicmV3X2RhbGV0XG4gICAgMHgwNWQ0OiAweDBjZTQsIC8vIFhLX2hlYnJld19oZVxuICAgIDB4MDVkNTogMHgwY2U1LCAvLyBYS19oZWJyZXdfd2F3XG4gICAgMHgwNWQ2OiAweDBjZTYsIC8vIFhLX2hlYnJld196YWluXG4gICAgMHgwNWQ3OiAweDBjZTcsIC8vIFhLX2hlYnJld19jaGV0XG4gICAgMHgwNWQ4OiAweDBjZTgsIC8vIFhLX2hlYnJld190ZXRcbiAgICAweDA1ZDk6IDB4MGNlOSwgLy8gWEtfaGVicmV3X3lvZFxuICAgIDB4MDVkYTogMHgwY2VhLCAvLyBYS19oZWJyZXdfZmluYWxrYXBoXG4gICAgMHgwNWRiOiAweDBjZWIsIC8vIFhLX2hlYnJld19rYXBoXG4gICAgMHgwNWRjOiAweDBjZWMsIC8vIFhLX2hlYnJld19sYW1lZFxuICAgIDB4MDVkZDogMHgwY2VkLCAvLyBYS19oZWJyZXdfZmluYWxtZW1cbiAgICAweDA1ZGU6IDB4MGNlZSwgLy8gWEtfaGVicmV3X21lbVxuICAgIDB4MDVkZjogMHgwY2VmLCAvLyBYS19oZWJyZXdfZmluYWxudW5cbiAgICAweDA1ZTA6IDB4MGNmMCwgLy8gWEtfaGVicmV3X251blxuICAgIDB4MDVlMTogMHgwY2YxLCAvLyBYS19oZWJyZXdfc2FtZWNoXG4gICAgMHgwNWUyOiAweDBjZjIsIC8vIFhLX2hlYnJld19heWluXG4gICAgMHgwNWUzOiAweDBjZjMsIC8vIFhLX2hlYnJld19maW5hbHBlXG4gICAgMHgwNWU0OiAweDBjZjQsIC8vIFhLX2hlYnJld19wZVxuICAgIDB4MDVlNTogMHgwY2Y1LCAvLyBYS19oZWJyZXdfZmluYWx6YWRlXG4gICAgMHgwNWU2OiAweDBjZjYsIC8vIFhLX2hlYnJld196YWRlXG4gICAgMHgwNWU3OiAweDBjZjcsIC8vIFhLX2hlYnJld19xb3BoXG4gICAgMHgwNWU4OiAweDBjZjgsIC8vIFhLX2hlYnJld19yZXNoXG4gICAgMHgwNWU5OiAweDBjZjksIC8vIFhLX2hlYnJld19zaGluXG4gICAgMHgwNWVhOiAweDBjZmEsIC8vIFhLX2hlYnJld190YXdcbiAgICAweDA2MGM6IDB4MDVhYywgLy8gWEtfQXJhYmljX2NvbW1hXG4gICAgMHgwNjFiOiAweDA1YmIsIC8vIFhLX0FyYWJpY19zZW1pY29sb25cbiAgICAweDA2MWY6IDB4MDViZiwgLy8gWEtfQXJhYmljX3F1ZXN0aW9uX21hcmtcbiAgICAweDA2MjE6IDB4MDVjMSwgLy8gWEtfQXJhYmljX2hhbXphXG4gICAgMHgwNjIyOiAweDA1YzIsIC8vIFhLX0FyYWJpY19tYWRkYW9uYWxlZlxuICAgIDB4MDYyMzogMHgwNWMzLCAvLyBYS19BcmFiaWNfaGFtemFvbmFsZWZcbiAgICAweDA2MjQ6IDB4MDVjNCwgLy8gWEtfQXJhYmljX2hhbXphb253YXdcbiAgICAweDA2MjU6IDB4MDVjNSwgLy8gWEtfQXJhYmljX2hhbXphdW5kZXJhbGVmXG4gICAgMHgwNjI2OiAweDA1YzYsIC8vIFhLX0FyYWJpY19oYW16YW9ueWVoXG4gICAgMHgwNjI3OiAweDA1YzcsIC8vIFhLX0FyYWJpY19hbGVmXG4gICAgMHgwNjI4OiAweDA1YzgsIC8vIFhLX0FyYWJpY19iZWhcbiAgICAweDA2Mjk6IDB4MDVjOSwgLy8gWEtfQXJhYmljX3RlaG1hcmJ1dGFcbiAgICAweDA2MmE6IDB4MDVjYSwgLy8gWEtfQXJhYmljX3RlaFxuICAgIDB4MDYyYjogMHgwNWNiLCAvLyBYS19BcmFiaWNfdGhlaFxuICAgIDB4MDYyYzogMHgwNWNjLCAvLyBYS19BcmFiaWNfamVlbVxuICAgIDB4MDYyZDogMHgwNWNkLCAvLyBYS19BcmFiaWNfaGFoXG4gICAgMHgwNjJlOiAweDA1Y2UsIC8vIFhLX0FyYWJpY19raGFoXG4gICAgMHgwNjJmOiAweDA1Y2YsIC8vIFhLX0FyYWJpY19kYWxcbiAgICAweDA2MzA6IDB4MDVkMCwgLy8gWEtfQXJhYmljX3RoYWxcbiAgICAweDA2MzE6IDB4MDVkMSwgLy8gWEtfQXJhYmljX3JhXG4gICAgMHgwNjMyOiAweDA1ZDIsIC8vIFhLX0FyYWJpY196YWluXG4gICAgMHgwNjMzOiAweDA1ZDMsIC8vIFhLX0FyYWJpY19zZWVuXG4gICAgMHgwNjM0OiAweDA1ZDQsIC8vIFhLX0FyYWJpY19zaGVlblxuICAgIDB4MDYzNTogMHgwNWQ1LCAvLyBYS19BcmFiaWNfc2FkXG4gICAgMHgwNjM2OiAweDA1ZDYsIC8vIFhLX0FyYWJpY19kYWRcbiAgICAweDA2Mzc6IDB4MDVkNywgLy8gWEtfQXJhYmljX3RhaFxuICAgIDB4MDYzODogMHgwNWQ4LCAvLyBYS19BcmFiaWNfemFoXG4gICAgMHgwNjM5OiAweDA1ZDksIC8vIFhLX0FyYWJpY19haW5cbiAgICAweDA2M2E6IDB4MDVkYSwgLy8gWEtfQXJhYmljX2doYWluXG4gICAgMHgwNjQwOiAweDA1ZTAsIC8vIFhLX0FyYWJpY190YXR3ZWVsXG4gICAgMHgwNjQxOiAweDA1ZTEsIC8vIFhLX0FyYWJpY19mZWhcbiAgICAweDA2NDI6IDB4MDVlMiwgLy8gWEtfQXJhYmljX3FhZlxuICAgIDB4MDY0MzogMHgwNWUzLCAvLyBYS19BcmFiaWNfa2FmXG4gICAgMHgwNjQ0OiAweDA1ZTQsIC8vIFhLX0FyYWJpY19sYW1cbiAgICAweDA2NDU6IDB4MDVlNSwgLy8gWEtfQXJhYmljX21lZW1cbiAgICAweDA2NDY6IDB4MDVlNiwgLy8gWEtfQXJhYmljX25vb25cbiAgICAweDA2NDc6IDB4MDVlNywgLy8gWEtfQXJhYmljX2hhXG4gICAgMHgwNjQ4OiAweDA1ZTgsIC8vIFhLX0FyYWJpY193YXdcbiAgICAweDA2NDk6IDB4MDVlOSwgLy8gWEtfQXJhYmljX2FsZWZtYWtzdXJhXG4gICAgMHgwNjRhOiAweDA1ZWEsIC8vIFhLX0FyYWJpY195ZWhcbiAgICAweDA2NGI6IDB4MDVlYiwgLy8gWEtfQXJhYmljX2ZhdGhhdGFuXG4gICAgMHgwNjRjOiAweDA1ZWMsIC8vIFhLX0FyYWJpY19kYW1tYXRhblxuICAgIDB4MDY0ZDogMHgwNWVkLCAvLyBYS19BcmFiaWNfa2FzcmF0YW5cbiAgICAweDA2NGU6IDB4MDVlZSwgLy8gWEtfQXJhYmljX2ZhdGhhXG4gICAgMHgwNjRmOiAweDA1ZWYsIC8vIFhLX0FyYWJpY19kYW1tYVxuICAgIDB4MDY1MDogMHgwNWYwLCAvLyBYS19BcmFiaWNfa2FzcmFcbiAgICAweDA2NTE6IDB4MDVmMSwgLy8gWEtfQXJhYmljX3NoYWRkYVxuICAgIDB4MDY1MjogMHgwNWYyLCAvLyBYS19BcmFiaWNfc3VrdW5cbiAgICAweDBlMDE6IDB4MGRhMSwgLy8gWEtfVGhhaV9rb2thaVxuICAgIDB4MGUwMjogMHgwZGEyLCAvLyBYS19UaGFpX2tob2toYWlcbiAgICAweDBlMDM6IDB4MGRhMywgLy8gWEtfVGhhaV9raG9raHVhdFxuICAgIDB4MGUwNDogMHgwZGE0LCAvLyBYS19UaGFpX2tob2tod2FpXG4gICAgMHgwZTA1OiAweDBkYTUsIC8vIFhLX1RoYWlfa2hva2hvblxuICAgIDB4MGUwNjogMHgwZGE2LCAvLyBYS19UaGFpX2tob3Jha2hhbmdcbiAgICAweDBlMDc6IDB4MGRhNywgLy8gWEtfVGhhaV9uZ29uZ3VcbiAgICAweDBlMDg6IDB4MGRhOCwgLy8gWEtfVGhhaV9jaG9jaGFuXG4gICAgMHgwZTA5OiAweDBkYTksIC8vIFhLX1RoYWlfY2hvY2hpbmdcbiAgICAweDBlMGE6IDB4MGRhYSwgLy8gWEtfVGhhaV9jaG9jaGFuZ1xuICAgIDB4MGUwYjogMHgwZGFiLCAvLyBYS19UaGFpX3Nvc29cbiAgICAweDBlMGM6IDB4MGRhYywgLy8gWEtfVGhhaV9jaG9jaG9lXG4gICAgMHgwZTBkOiAweDBkYWQsIC8vIFhLX1RoYWlfeW95aW5nXG4gICAgMHgwZTBlOiAweDBkYWUsIC8vIFhLX1RoYWlfZG9jaGFkYVxuICAgIDB4MGUwZjogMHgwZGFmLCAvLyBYS19UaGFpX3RvcGF0YWtcbiAgICAweDBlMTA6IDB4MGRiMCwgLy8gWEtfVGhhaV90aG90aGFuXG4gICAgMHgwZTExOiAweDBkYjEsIC8vIFhLX1RoYWlfdGhvbmFuZ21vbnRob1xuICAgIDB4MGUxMjogMHgwZGIyLCAvLyBYS19UaGFpX3Rob3BodXRoYW9cbiAgICAweDBlMTM6IDB4MGRiMywgLy8gWEtfVGhhaV9ub25lblxuICAgIDB4MGUxNDogMHgwZGI0LCAvLyBYS19UaGFpX2RvZGVrXG4gICAgMHgwZTE1OiAweDBkYjUsIC8vIFhLX1RoYWlfdG90YW9cbiAgICAweDBlMTY6IDB4MGRiNiwgLy8gWEtfVGhhaV90aG90aHVuZ1xuICAgIDB4MGUxNzogMHgwZGI3LCAvLyBYS19UaGFpX3Rob3RoYWhhblxuICAgIDB4MGUxODogMHgwZGI4LCAvLyBYS19UaGFpX3Rob3Rob25nXG4gICAgMHgwZTE5OiAweDBkYjksIC8vIFhLX1RoYWlfbm9udVxuICAgIDB4MGUxYTogMHgwZGJhLCAvLyBYS19UaGFpX2JvYmFpbWFpXG4gICAgMHgwZTFiOiAweDBkYmIsIC8vIFhLX1RoYWlfcG9wbGFcbiAgICAweDBlMWM6IDB4MGRiYywgLy8gWEtfVGhhaV9waG9waHVuZ1xuICAgIDB4MGUxZDogMHgwZGJkLCAvLyBYS19UaGFpX2ZvZmFcbiAgICAweDBlMWU6IDB4MGRiZSwgLy8gWEtfVGhhaV9waG9waGFuXG4gICAgMHgwZTFmOiAweDBkYmYsIC8vIFhLX1RoYWlfZm9mYW5cbiAgICAweDBlMjA6IDB4MGRjMCwgLy8gWEtfVGhhaV9waG9zYW1waGFvXG4gICAgMHgwZTIxOiAweDBkYzEsIC8vIFhLX1RoYWlfbW9tYVxuICAgIDB4MGUyMjogMHgwZGMyLCAvLyBYS19UaGFpX3lveWFrXG4gICAgMHgwZTIzOiAweDBkYzMsIC8vIFhLX1RoYWlfcm9ydWFcbiAgICAweDBlMjQ6IDB4MGRjNCwgLy8gWEtfVGhhaV9ydVxuICAgIDB4MGUyNTogMHgwZGM1LCAvLyBYS19UaGFpX2xvbGluZ1xuICAgIDB4MGUyNjogMHgwZGM2LCAvLyBYS19UaGFpX2x1XG4gICAgMHgwZTI3OiAweDBkYzcsIC8vIFhLX1RoYWlfd293YWVuXG4gICAgMHgwZTI4OiAweDBkYzgsIC8vIFhLX1RoYWlfc29zYWxhXG4gICAgMHgwZTI5OiAweDBkYzksIC8vIFhLX1RoYWlfc29ydXNpXG4gICAgMHgwZTJhOiAweDBkY2EsIC8vIFhLX1RoYWlfc29zdWFcbiAgICAweDBlMmI6IDB4MGRjYiwgLy8gWEtfVGhhaV9ob2hpcFxuICAgIDB4MGUyYzogMHgwZGNjLCAvLyBYS19UaGFpX2xvY2h1bGFcbiAgICAweDBlMmQ6IDB4MGRjZCwgLy8gWEtfVGhhaV9vYW5nXG4gICAgMHgwZTJlOiAweDBkY2UsIC8vIFhLX1RoYWlfaG9ub2todWtcbiAgICAweDBlMmY6IDB4MGRjZiwgLy8gWEtfVGhhaV9wYWl5YW5ub2lcbiAgICAweDBlMzA6IDB4MGRkMCwgLy8gWEtfVGhhaV9zYXJhYVxuICAgIDB4MGUzMTogMHgwZGQxLCAvLyBYS19UaGFpX21haWhhbmFrYXRcbiAgICAweDBlMzI6IDB4MGRkMiwgLy8gWEtfVGhhaV9zYXJhYWFcbiAgICAweDBlMzM6IDB4MGRkMywgLy8gWEtfVGhhaV9zYXJhYW1cbiAgICAweDBlMzQ6IDB4MGRkNCwgLy8gWEtfVGhhaV9zYXJhaVxuICAgIDB4MGUzNTogMHgwZGQ1LCAvLyBYS19UaGFpX3NhcmFpaVxuICAgIDB4MGUzNjogMHgwZGQ2LCAvLyBYS19UaGFpX3NhcmF1ZVxuICAgIDB4MGUzNzogMHgwZGQ3LCAvLyBYS19UaGFpX3NhcmF1ZWVcbiAgICAweDBlMzg6IDB4MGRkOCwgLy8gWEtfVGhhaV9zYXJhdVxuICAgIDB4MGUzOTogMHgwZGQ5LCAvLyBYS19UaGFpX3NhcmF1dVxuICAgIDB4MGUzYTogMHgwZGRhLCAvLyBYS19UaGFpX3BoaW50aHVcbiAgICAweDBlM2Y6IDB4MGRkZiwgLy8gWEtfVGhhaV9iYWh0XG4gICAgMHgwZTQwOiAweDBkZTAsIC8vIFhLX1RoYWlfc2FyYWVcbiAgICAweDBlNDE6IDB4MGRlMSwgLy8gWEtfVGhhaV9zYXJhYWVcbiAgICAweDBlNDI6IDB4MGRlMiwgLy8gWEtfVGhhaV9zYXJhb1xuICAgIDB4MGU0MzogMHgwZGUzLCAvLyBYS19UaGFpX3NhcmFhaW1haW11YW5cbiAgICAweDBlNDQ6IDB4MGRlNCwgLy8gWEtfVGhhaV9zYXJhYWltYWltYWxhaVxuICAgIDB4MGU0NTogMHgwZGU1LCAvLyBYS19UaGFpX2xha2toYW5neWFvXG4gICAgMHgwZTQ2OiAweDBkZTYsIC8vIFhLX1RoYWlfbWFpeWFtb2tcbiAgICAweDBlNDc6IDB4MGRlNywgLy8gWEtfVGhhaV9tYWl0YWlraHVcbiAgICAweDBlNDg6IDB4MGRlOCwgLy8gWEtfVGhhaV9tYWlla1xuICAgIDB4MGU0OTogMHgwZGU5LCAvLyBYS19UaGFpX21haXRob1xuICAgIDB4MGU0YTogMHgwZGVhLCAvLyBYS19UaGFpX21haXRyaVxuICAgIDB4MGU0YjogMHgwZGViLCAvLyBYS19UaGFpX21haWNoYXR0YXdhXG4gICAgMHgwZTRjOiAweDBkZWMsIC8vIFhLX1RoYWlfdGhhbnRoYWtoYXRcbiAgICAweDBlNGQ6IDB4MGRlZCwgLy8gWEtfVGhhaV9uaWtoYWhpdFxuICAgIDB4MGU1MDogMHgwZGYwLCAvLyBYS19UaGFpX2xla3N1blxuICAgIDB4MGU1MTogMHgwZGYxLCAvLyBYS19UaGFpX2xla251bmdcbiAgICAweDBlNTI6IDB4MGRmMiwgLy8gWEtfVGhhaV9sZWtzb25nXG4gICAgMHgwZTUzOiAweDBkZjMsIC8vIFhLX1RoYWlfbGVrc2FtXG4gICAgMHgwZTU0OiAweDBkZjQsIC8vIFhLX1RoYWlfbGVrc2lcbiAgICAweDBlNTU6IDB4MGRmNSwgLy8gWEtfVGhhaV9sZWtoYVxuICAgIDB4MGU1NjogMHgwZGY2LCAvLyBYS19UaGFpX2xla2hva1xuICAgIDB4MGU1NzogMHgwZGY3LCAvLyBYS19UaGFpX2xla2NoZXRcbiAgICAweDBlNTg6IDB4MGRmOCwgLy8gWEtfVGhhaV9sZWtwYWV0XG4gICAgMHgwZTU5OiAweDBkZjksIC8vIFhLX1RoYWlfbGVra2FvXG4gICAgMHgyMDAyOiAweDBhYTIsIC8vIFhLX2Vuc3BhY2VcbiAgICAweDIwMDM6IDB4MGFhMSwgLy8gWEtfZW1zcGFjZVxuICAgIDB4MjAwNDogMHgwYWEzLCAvLyBYS19lbTNzcGFjZVxuICAgIDB4MjAwNTogMHgwYWE0LCAvLyBYS19lbTRzcGFjZVxuICAgIDB4MjAwNzogMHgwYWE1LCAvLyBYS19kaWdpdHNwYWNlXG4gICAgMHgyMDA4OiAweDBhYTYsIC8vIFhLX3B1bmN0c3BhY2VcbiAgICAweDIwMDk6IDB4MGFhNywgLy8gWEtfdGhpbnNwYWNlXG4gICAgMHgyMDBhOiAweDBhYTgsIC8vIFhLX2hhaXJzcGFjZVxuICAgIDB4MjAxMjogMHgwYWJiLCAvLyBYS19maWdkYXNoXG4gICAgMHgyMDEzOiAweDBhYWEsIC8vIFhLX2VuZGFzaFxuICAgIDB4MjAxNDogMHgwYWE5LCAvLyBYS19lbWRhc2hcbiAgICAweDIwMTU6IDB4MDdhZiwgLy8gWEtfR3JlZWtfaG9yaXpiYXJcbiAgICAweDIwMTc6IDB4MGNkZiwgLy8gWEtfaGVicmV3X2RvdWJsZWxvd2xpbmVcbiAgICAweDIwMTg6IDB4MGFkMCwgLy8gWEtfbGVmdHNpbmdsZXF1b3RlbWFya1xuICAgIDB4MjAxOTogMHgwYWQxLCAvLyBYS19yaWdodHNpbmdsZXF1b3RlbWFya1xuICAgIDB4MjAxYTogMHgwYWZkLCAvLyBYS19zaW5nbGVsb3dxdW90ZW1hcmtcbiAgICAweDIwMWM6IDB4MGFkMiwgLy8gWEtfbGVmdGRvdWJsZXF1b3RlbWFya1xuICAgIDB4MjAxZDogMHgwYWQzLCAvLyBYS19yaWdodGRvdWJsZXF1b3RlbWFya1xuICAgIDB4MjAxZTogMHgwYWZlLCAvLyBYS19kb3VibGVsb3dxdW90ZW1hcmtcbiAgICAweDIwMjA6IDB4MGFmMSwgLy8gWEtfZGFnZ2VyXG4gICAgMHgyMDIxOiAweDBhZjIsIC8vIFhLX2RvdWJsZWRhZ2dlclxuICAgIDB4MjAyMjogMHgwYWU2LCAvLyBYS19lbmZpbGxlZGNpcmNidWxsZXRcbiAgICAweDIwMjU6IDB4MGFhZiwgLy8gWEtfZG91YmJhc2VsaW5lZG90XG4gICAgMHgyMDI2OiAweDBhYWUsIC8vIFhLX2VsbGlwc2lzXG4gICAgMHgyMDMwOiAweDBhZDUsIC8vIFhLX3Blcm1pbGxlXG4gICAgMHgyMDMyOiAweDBhZDYsIC8vIFhLX21pbnV0ZXNcbiAgICAweDIwMzM6IDB4MGFkNywgLy8gWEtfc2Vjb25kc1xuICAgIDB4MjAzODogMHgwYWZjLCAvLyBYS19jYXJldFxuICAgIDB4MjAzZTogMHgwNDdlLCAvLyBYS19vdmVybGluZVxuICAgIDB4MjBhOTogMHgwZWZmLCAvLyBYS19Lb3JlYW5fV29uXG4gICAgMHgyMGFjOiAweDIwYWMsIC8vIFhLX0V1cm9TaWduXG4gICAgMHgyMTA1OiAweDBhYjgsIC8vIFhLX2NhcmVvZlxuICAgIDB4MjExNjogMHgwNmIwLCAvLyBYS19udW1lcm9zaWduXG4gICAgMHgyMTE3OiAweDBhZmIsIC8vIFhLX3Bob25vZ3JhcGhjb3B5cmlnaHRcbiAgICAweDIxMWU6IDB4MGFkNCwgLy8gWEtfcHJlc2NyaXB0aW9uXG4gICAgMHgyMTIyOiAweDBhYzksIC8vIFhLX3RyYWRlbWFya1xuICAgIDB4MjE1MzogMHgwYWIwLCAvLyBYS19vbmV0aGlyZFxuICAgIDB4MjE1NDogMHgwYWIxLCAvLyBYS190d290aGlyZHNcbiAgICAweDIxNTU6IDB4MGFiMiwgLy8gWEtfb25lZmlmdGhcbiAgICAweDIxNTY6IDB4MGFiMywgLy8gWEtfdHdvZmlmdGhzXG4gICAgMHgyMTU3OiAweDBhYjQsIC8vIFhLX3RocmVlZmlmdGhzXG4gICAgMHgyMTU4OiAweDBhYjUsIC8vIFhLX2ZvdXJmaWZ0aHNcbiAgICAweDIxNTk6IDB4MGFiNiwgLy8gWEtfb25lc2l4dGhcbiAgICAweDIxNWE6IDB4MGFiNywgLy8gWEtfZml2ZXNpeHRoc1xuICAgIDB4MjE1YjogMHgwYWMzLCAvLyBYS19vbmVlaWdodGhcbiAgICAweDIxNWM6IDB4MGFjNCwgLy8gWEtfdGhyZWVlaWdodGhzXG4gICAgMHgyMTVkOiAweDBhYzUsIC8vIFhLX2ZpdmVlaWdodGhzXG4gICAgMHgyMTVlOiAweDBhYzYsIC8vIFhLX3NldmVuZWlnaHRoc1xuICAgIDB4MjE5MDogMHgwOGZiLCAvLyBYS19sZWZ0YXJyb3dcbiAgICAweDIxOTE6IDB4MDhmYywgLy8gWEtfdXBhcnJvd1xuICAgIDB4MjE5MjogMHgwOGZkLCAvLyBYS19yaWdodGFycm93XG4gICAgMHgyMTkzOiAweDA4ZmUsIC8vIFhLX2Rvd25hcnJvd1xuICAgIDB4MjFkMjogMHgwOGNlLCAvLyBYS19pbXBsaWVzXG4gICAgMHgyMWQ0OiAweDA4Y2QsIC8vIFhLX2lmb25seWlmXG4gICAgMHgyMjAyOiAweDA4ZWYsIC8vIFhLX3BhcnRpYWxkZXJpdmF0aXZlXG4gICAgMHgyMjA3OiAweDA4YzUsIC8vIFhLX25hYmxhXG4gICAgMHgyMjE4OiAweDBiY2EsIC8vIFhLX2pvdFxuICAgIDB4MjIxYTogMHgwOGQ2LCAvLyBYS19yYWRpY2FsXG4gICAgMHgyMjFkOiAweDA4YzEsIC8vIFhLX3ZhcmlhdGlvblxuICAgIDB4MjIxZTogMHgwOGMyLCAvLyBYS19pbmZpbml0eVxuICAgIDB4MjIyNzogMHgwOGRlLCAvLyBYS19sb2dpY2FsYW5kXG4gICAgMHgyMjI4OiAweDA4ZGYsIC8vIFhLX2xvZ2ljYWxvclxuICAgIDB4MjIyOTogMHgwOGRjLCAvLyBYS19pbnRlcnNlY3Rpb25cbiAgICAweDIyMmE6IDB4MDhkZCwgLy8gWEtfdW5pb25cbiAgICAweDIyMmI6IDB4MDhiZiwgLy8gWEtfaW50ZWdyYWxcbiAgICAweDIyMzQ6IDB4MDhjMCwgLy8gWEtfdGhlcmVmb3JlXG4gICAgMHgyMjNjOiAweDA4YzgsIC8vIFhLX2FwcHJveGltYXRlXG4gICAgMHgyMjQzOiAweDA4YzksIC8vIFhLX3NpbWlsYXJlcXVhbFxuICAgIDB4MjI0NTogMHgxMDAyMjQ4LCAvLyBYS19hcHByb3hlcVxuICAgIDB4MjI2MDogMHgwOGJkLCAvLyBYS19ub3RlcXVhbFxuICAgIDB4MjI2MTogMHgwOGNmLCAvLyBYS19pZGVudGljYWxcbiAgICAweDIyNjQ6IDB4MDhiYywgLy8gWEtfbGVzc3RoYW5lcXVhbFxuICAgIDB4MjI2NTogMHgwOGJlLCAvLyBYS19ncmVhdGVydGhhbmVxdWFsXG4gICAgMHgyMjgyOiAweDA4ZGEsIC8vIFhLX2luY2x1ZGVkaW5cbiAgICAweDIyODM6IDB4MDhkYiwgLy8gWEtfaW5jbHVkZXNcbiAgICAweDIyYTI6IDB4MGJmYywgLy8gWEtfcmlnaHR0YWNrXG4gICAgMHgyMmEzOiAweDBiZGMsIC8vIFhLX2xlZnR0YWNrXG4gICAgMHgyMmE0OiAweDBiYzIsIC8vIFhLX2Rvd250YWNrXG4gICAgMHgyMmE1OiAweDBiY2UsIC8vIFhLX3VwdGFja1xuICAgIDB4MjMwODogMHgwYmQzLCAvLyBYS191cHN0aWxlXG4gICAgMHgyMzBhOiAweDBiYzQsIC8vIFhLX2Rvd25zdGlsZVxuICAgIDB4MjMxNTogMHgwYWZhLCAvLyBYS190ZWxlcGhvbmVyZWNvcmRlclxuICAgIDB4MjMyMDogMHgwOGE0LCAvLyBYS190b3BpbnRlZ3JhbFxuICAgIDB4MjMyMTogMHgwOGE1LCAvLyBYS19ib3RpbnRlZ3JhbFxuICAgIDB4MjM5NTogMHgwYmNjLCAvLyBYS19xdWFkXG4gICAgMHgyMzliOiAweDA4YWIsIC8vIFhLX3RvcGxlZnRwYXJlbnNcbiAgICAweDIzOWQ6IDB4MDhhYywgLy8gWEtfYm90bGVmdHBhcmVuc1xuICAgIDB4MjM5ZTogMHgwOGFkLCAvLyBYS190b3ByaWdodHBhcmVuc1xuICAgIDB4MjNhMDogMHgwOGFlLCAvLyBYS19ib3RyaWdodHBhcmVuc1xuICAgIDB4MjNhMTogMHgwOGE3LCAvLyBYS190b3BsZWZ0c3FicmFja2V0XG4gICAgMHgyM2EzOiAweDA4YTgsIC8vIFhLX2JvdGxlZnRzcWJyYWNrZXRcbiAgICAweDIzYTQ6IDB4MDhhOSwgLy8gWEtfdG9wcmlnaHRzcWJyYWNrZXRcbiAgICAweDIzYTY6IDB4MDhhYSwgLy8gWEtfYm90cmlnaHRzcWJyYWNrZXRcbiAgICAweDIzYTg6IDB4MDhhZiwgLy8gWEtfbGVmdG1pZGRsZWN1cmx5YnJhY2VcbiAgICAweDIzYWM6IDB4MDhiMCwgLy8gWEtfcmlnaHRtaWRkbGVjdXJseWJyYWNlXG4gICAgMHgyM2I3OiAweDA4YTEsIC8vIFhLX2xlZnRyYWRpY2FsXG4gICAgMHgyM2JhOiAweDA5ZWYsIC8vIFhLX2hvcml6bGluZXNjYW4xXG4gICAgMHgyM2JiOiAweDA5ZjAsIC8vIFhLX2hvcml6bGluZXNjYW4zXG4gICAgMHgyM2JjOiAweDA5ZjIsIC8vIFhLX2hvcml6bGluZXNjYW43XG4gICAgMHgyM2JkOiAweDA5ZjMsIC8vIFhLX2hvcml6bGluZXNjYW45XG4gICAgMHgyNDA5OiAweDA5ZTIsIC8vIFhLX2h0XG4gICAgMHgyNDBhOiAweDA5ZTUsIC8vIFhLX2xmXG4gICAgMHgyNDBiOiAweDA5ZTksIC8vIFhLX3Z0XG4gICAgMHgyNDBjOiAweDA5ZTMsIC8vIFhLX2ZmXG4gICAgMHgyNDBkOiAweDA5ZTQsIC8vIFhLX2NyXG4gICAgMHgyNDIzOiAweDBhYWMsIC8vIFhLX3NpZ25pZmJsYW5rXG4gICAgMHgyNDI0OiAweDA5ZTgsIC8vIFhLX25sXG4gICAgMHgyNTAwOiAweDA4YTMsIC8vIFhLX2hvcml6Y29ubmVjdG9yXG4gICAgMHgyNTAyOiAweDA4YTYsIC8vIFhLX3ZlcnRjb25uZWN0b3JcbiAgICAweDI1MGM6IDB4MDhhMiwgLy8gWEtfdG9wbGVmdHJhZGljYWxcbiAgICAweDI1MTA6IDB4MDllYiwgLy8gWEtfdXByaWdodGNvcm5lclxuICAgIDB4MjUxNDogMHgwOWVkLCAvLyBYS19sb3dsZWZ0Y29ybmVyXG4gICAgMHgyNTE4OiAweDA5ZWEsIC8vIFhLX2xvd3JpZ2h0Y29ybmVyXG4gICAgMHgyNTFjOiAweDA5ZjQsIC8vIFhLX2xlZnR0XG4gICAgMHgyNTI0OiAweDA5ZjUsIC8vIFhLX3JpZ2h0dFxuICAgIDB4MjUyYzogMHgwOWY3LCAvLyBYS190b3B0XG4gICAgMHgyNTM0OiAweDA5ZjYsIC8vIFhLX2JvdHRcbiAgICAweDI1M2M6IDB4MDllZSwgLy8gWEtfY3Jvc3NpbmdsaW5lc1xuICAgIDB4MjU5MjogMHgwOWUxLCAvLyBYS19jaGVja2VyYm9hcmRcbiAgICAweDI1YWE6IDB4MGFlNywgLy8gWEtfZW5maWxsZWRzcWJ1bGxldFxuICAgIDB4MjVhYjogMHgwYWUxLCAvLyBYS19lbm9wZW5zcXVhcmVidWxsZXRcbiAgICAweDI1YWM6IDB4MGFkYiwgLy8gWEtfZmlsbGVkcmVjdGJ1bGxldFxuICAgIDB4MjVhZDogMHgwYWUyLCAvLyBYS19vcGVucmVjdGJ1bGxldFxuICAgIDB4MjVhZTogMHgwYWRmLCAvLyBYS19lbWZpbGxlZHJlY3RcbiAgICAweDI1YWY6IDB4MGFjZiwgLy8gWEtfZW1vcGVucmVjdGFuZ2xlXG4gICAgMHgyNWIyOiAweDBhZTgsIC8vIFhLX2ZpbGxlZHRyaWJ1bGxldHVwXG4gICAgMHgyNWIzOiAweDBhZTMsIC8vIFhLX29wZW50cmlidWxsZXR1cFxuICAgIDB4MjViNjogMHgwYWRkLCAvLyBYS19maWxsZWRyaWdodHRyaWJ1bGxldFxuICAgIDB4MjViNzogMHgwYWNkLCAvLyBYS19yaWdodG9wZW50cmlhbmdsZVxuICAgIDB4MjViYzogMHgwYWU5LCAvLyBYS19maWxsZWR0cmlidWxsZXRkb3duXG4gICAgMHgyNWJkOiAweDBhZTQsIC8vIFhLX29wZW50cmlidWxsZXRkb3duXG4gICAgMHgyNWMwOiAweDBhZGMsIC8vIFhLX2ZpbGxlZGxlZnR0cmlidWxsZXRcbiAgICAweDI1YzE6IDB4MGFjYywgLy8gWEtfbGVmdG9wZW50cmlhbmdsZVxuICAgIDB4MjVjNjogMHgwOWUwLCAvLyBYS19zb2xpZGRpYW1vbmRcbiAgICAweDI1Y2I6IDB4MGFjZSwgLy8gWEtfZW1vcGVuY2lyY2xlXG4gICAgMHgyNWNmOiAweDBhZGUsIC8vIFhLX2VtZmlsbGVkY2lyY2xlXG4gICAgMHgyNWU2OiAweDBhZTAsIC8vIFhLX2Vub3BlbmNpcmNidWxsZXRcbiAgICAweDI2MDY6IDB4MGFlNSwgLy8gWEtfb3BlbnN0YXJcbiAgICAweDI2MGU6IDB4MGFmOSwgLy8gWEtfdGVsZXBob25lXG4gICAgMHgyNjEzOiAweDBhY2EsIC8vIFhLX3NpZ25hdHVyZW1hcmtcbiAgICAweDI2MWM6IDB4MGFlYSwgLy8gWEtfbGVmdHBvaW50ZXJcbiAgICAweDI2MWU6IDB4MGFlYiwgLy8gWEtfcmlnaHRwb2ludGVyXG4gICAgMHgyNjQwOiAweDBhZjgsIC8vIFhLX2ZlbWFsZXN5bWJvbFxuICAgIDB4MjY0MjogMHgwYWY3LCAvLyBYS19tYWxlc3ltYm9sXG4gICAgMHgyNjYzOiAweDBhZWMsIC8vIFhLX2NsdWJcbiAgICAweDI2NjU6IDB4MGFlZSwgLy8gWEtfaGVhcnRcbiAgICAweDI2NjY6IDB4MGFlZCwgLy8gWEtfZGlhbW9uZFxuICAgIDB4MjY2ZDogMHgwYWY2LCAvLyBYS19tdXNpY2FsZmxhdFxuICAgIDB4MjY2ZjogMHgwYWY1LCAvLyBYS19tdXNpY2Fsc2hhcnBcbiAgICAweDI3MTM6IDB4MGFmMywgLy8gWEtfY2hlY2ttYXJrXG4gICAgMHgyNzE3OiAweDBhZjQsIC8vIFhLX2JhbGxvdGNyb3NzXG4gICAgMHgyNzFkOiAweDBhZDksIC8vIFhLX2xhdGluY3Jvc3NcbiAgICAweDI3MjA6IDB4MGFmMCwgLy8gWEtfbWFsdGVzZWNyb3NzXG4gICAgMHgyN2U4OiAweDBhYmMsIC8vIFhLX2xlZnRhbmdsZWJyYWNrZXRcbiAgICAweDI3ZTk6IDB4MGFiZSwgLy8gWEtfcmlnaHRhbmdsZWJyYWNrZXRcbiAgICAweDMwMDE6IDB4MDRhNCwgLy8gWEtfa2FuYV9jb21tYVxuICAgIDB4MzAwMjogMHgwNGExLCAvLyBYS19rYW5hX2Z1bGxzdG9wXG4gICAgMHgzMDBjOiAweDA0YTIsIC8vIFhLX2thbmFfb3BlbmluZ2JyYWNrZXRcbiAgICAweDMwMGQ6IDB4MDRhMywgLy8gWEtfa2FuYV9jbG9zaW5nYnJhY2tldFxuICAgIDB4MzA5YjogMHgwNGRlLCAvLyBYS192b2ljZWRzb3VuZFxuICAgIDB4MzA5YzogMHgwNGRmLCAvLyBYS19zZW1pdm9pY2Vkc291bmRcbiAgICAweDMwYTE6IDB4MDRhNywgLy8gWEtfa2FuYV9hXG4gICAgMHgzMGEyOiAweDA0YjEsIC8vIFhLX2thbmFfQVxuICAgIDB4MzBhMzogMHgwNGE4LCAvLyBYS19rYW5hX2lcbiAgICAweDMwYTQ6IDB4MDRiMiwgLy8gWEtfa2FuYV9JXG4gICAgMHgzMGE1OiAweDA0YTksIC8vIFhLX2thbmFfdVxuICAgIDB4MzBhNjogMHgwNGIzLCAvLyBYS19rYW5hX1VcbiAgICAweDMwYTc6IDB4MDRhYSwgLy8gWEtfa2FuYV9lXG4gICAgMHgzMGE4OiAweDA0YjQsIC8vIFhLX2thbmFfRVxuICAgIDB4MzBhOTogMHgwNGFiLCAvLyBYS19rYW5hX29cbiAgICAweDMwYWE6IDB4MDRiNSwgLy8gWEtfa2FuYV9PXG4gICAgMHgzMGFiOiAweDA0YjYsIC8vIFhLX2thbmFfS0FcbiAgICAweDMwYWQ6IDB4MDRiNywgLy8gWEtfa2FuYV9LSVxuICAgIDB4MzBhZjogMHgwNGI4LCAvLyBYS19rYW5hX0tVXG4gICAgMHgzMGIxOiAweDA0YjksIC8vIFhLX2thbmFfS0VcbiAgICAweDMwYjM6IDB4MDRiYSwgLy8gWEtfa2FuYV9LT1xuICAgIDB4MzBiNTogMHgwNGJiLCAvLyBYS19rYW5hX1NBXG4gICAgMHgzMGI3OiAweDA0YmMsIC8vIFhLX2thbmFfU0hJXG4gICAgMHgzMGI5OiAweDA0YmQsIC8vIFhLX2thbmFfU1VcbiAgICAweDMwYmI6IDB4MDRiZSwgLy8gWEtfa2FuYV9TRVxuICAgIDB4MzBiZDogMHgwNGJmLCAvLyBYS19rYW5hX1NPXG4gICAgMHgzMGJmOiAweDA0YzAsIC8vIFhLX2thbmFfVEFcbiAgICAweDMwYzE6IDB4MDRjMSwgLy8gWEtfa2FuYV9DSElcbiAgICAweDMwYzM6IDB4MDRhZiwgLy8gWEtfa2FuYV90c3VcbiAgICAweDMwYzQ6IDB4MDRjMiwgLy8gWEtfa2FuYV9UU1VcbiAgICAweDMwYzY6IDB4MDRjMywgLy8gWEtfa2FuYV9URVxuICAgIDB4MzBjODogMHgwNGM0LCAvLyBYS19rYW5hX1RPXG4gICAgMHgzMGNhOiAweDA0YzUsIC8vIFhLX2thbmFfTkFcbiAgICAweDMwY2I6IDB4MDRjNiwgLy8gWEtfa2FuYV9OSVxuICAgIDB4MzBjYzogMHgwNGM3LCAvLyBYS19rYW5hX05VXG4gICAgMHgzMGNkOiAweDA0YzgsIC8vIFhLX2thbmFfTkVcbiAgICAweDMwY2U6IDB4MDRjOSwgLy8gWEtfa2FuYV9OT1xuICAgIDB4MzBjZjogMHgwNGNhLCAvLyBYS19rYW5hX0hBXG4gICAgMHgzMGQyOiAweDA0Y2IsIC8vIFhLX2thbmFfSElcbiAgICAweDMwZDU6IDB4MDRjYywgLy8gWEtfa2FuYV9GVVxuICAgIDB4MzBkODogMHgwNGNkLCAvLyBYS19rYW5hX0hFXG4gICAgMHgzMGRiOiAweDA0Y2UsIC8vIFhLX2thbmFfSE9cbiAgICAweDMwZGU6IDB4MDRjZiwgLy8gWEtfa2FuYV9NQVxuICAgIDB4MzBkZjogMHgwNGQwLCAvLyBYS19rYW5hX01JXG4gICAgMHgzMGUwOiAweDA0ZDEsIC8vIFhLX2thbmFfTVVcbiAgICAweDMwZTE6IDB4MDRkMiwgLy8gWEtfa2FuYV9NRVxuICAgIDB4MzBlMjogMHgwNGQzLCAvLyBYS19rYW5hX01PXG4gICAgMHgzMGUzOiAweDA0YWMsIC8vIFhLX2thbmFfeWFcbiAgICAweDMwZTQ6IDB4MDRkNCwgLy8gWEtfa2FuYV9ZQVxuICAgIDB4MzBlNTogMHgwNGFkLCAvLyBYS19rYW5hX3l1XG4gICAgMHgzMGU2OiAweDA0ZDUsIC8vIFhLX2thbmFfWVVcbiAgICAweDMwZTc6IDB4MDRhZSwgLy8gWEtfa2FuYV95b1xuICAgIDB4MzBlODogMHgwNGQ2LCAvLyBYS19rYW5hX1lPXG4gICAgMHgzMGU5OiAweDA0ZDcsIC8vIFhLX2thbmFfUkFcbiAgICAweDMwZWE6IDB4MDRkOCwgLy8gWEtfa2FuYV9SSVxuICAgIDB4MzBlYjogMHgwNGQ5LCAvLyBYS19rYW5hX1JVXG4gICAgMHgzMGVjOiAweDA0ZGEsIC8vIFhLX2thbmFfUkVcbiAgICAweDMwZWQ6IDB4MDRkYiwgLy8gWEtfa2FuYV9ST1xuICAgIDB4MzBlZjogMHgwNGRjLCAvLyBYS19rYW5hX1dBXG4gICAgMHgzMGYyOiAweDA0YTYsIC8vIFhLX2thbmFfV09cbiAgICAweDMwZjM6IDB4MDRkZCwgLy8gWEtfa2FuYV9OXG4gICAgMHgzMGZiOiAweDA0YTUsIC8vIFhLX2thbmFfY29uanVuY3RpdmVcbiAgICAweDMwZmM6IDB4MDRiMCwgLy8gWEtfcHJvbG9uZ2Vkc291bmRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBsb29rdXAgOiBmdW5jdGlvbih1KSB7XG4gICAgICAgIC8vIExhdGluLTEgaXMgb25lLXRvLW9uZSBtYXBwaW5nXG4gICAgICAgIGlmICgodSA+PSAweDIwKSAmJiAodSA8PSAweGZmKSkge1xuICAgICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29rdXAgdGFibGUgKGZhaXJseSByYW5kb20pXG4gICAgICAgIHZhciBrZXlzeW0gPSBjb2RlcG9pbnRzW3VdO1xuICAgICAgICBpZiAoa2V5c3ltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlzeW07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmFsIG1hcHBpbmcgYXMgZmluYWwgZmFsbGJhY2tcbiAgICAgICAgcmV0dXJuIDB4MDEwMDAwMDAgfCB1O1xuICAgIH0sXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIENvcHlyaWdodCAoQykgMjAxMyBTYW11ZWwgTWFubmVoZWQgZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuLi91dGlsL2xvZ2dpbmcuanMnO1xuaW1wb3J0IHsgaXNUb3VjaERldmljZSB9IGZyb20gJy4uL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgeyBzZXRDYXB0dXJlLCBzdG9wRXZlbnQsIGdldFBvaW50ZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRzLmpzJztcblxudmFyIFdIRUVMX1NURVAgPSAxMDsgLy8gRGVsdGEgdGhyZXNob2xkIGZvciBhIG1vdXNlIHdoZWVsIHN0ZXBcbnZhciBXSEVFTF9TVEVQX1RJTUVPVVQgPSA1MDsgLy8gbXNcbnZhciBXSEVFTF9MSU5FX0hFSUdIVCA9IDE5O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3VzZSh0YXJnZXQpIHtcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQgfHwgZG9jdW1lbnQ7XG5cbiAgICB0aGlzLl9kb3VibGVDbGlja1RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0VG91Y2hQb3MgPSBudWxsO1xuXG4gICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICB0aGlzLl93aGVlbFN0ZXBYVGltZXIgPSBudWxsO1xuICAgIHRoaXMuX3doZWVsU3RlcFlUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA9IDA7XG4gICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSA9IDA7XG5cbiAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0ge1xuICAgICAgICAnbW91c2Vkb3duJzogdGhpcy5faGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyksXG4gICAgICAgICdtb3VzZXVwJzogdGhpcy5faGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpLFxuICAgICAgICAnbW91c2Vtb3ZlJzogdGhpcy5faGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICdtb3VzZXdoZWVsJzogdGhpcy5faGFuZGxlTW91c2VXaGVlbC5iaW5kKHRoaXMpLFxuICAgICAgICAnbW91c2VkaXNhYmxlJzogdGhpcy5faGFuZGxlTW91c2VEaXNhYmxlLmJpbmQodGhpcylcbiAgICB9O1xufTtcblxuTW91c2UucHJvdG90eXBlID0ge1xuICAgIC8vID09PT09IFBST1BFUlRJRVMgPT09PT1cblxuICAgIHRvdWNoQnV0dG9uOiAxLCAgICAgICAgICAgICAgICAgLy8gQnV0dG9uIG1hc2sgKDEsIDIsIDQpIGZvciB0b3VjaCBkZXZpY2VzICgwIG1lYW5zIGlnbm9yZSBjbGlja3MpXG5cbiAgICAvLyA9PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PVxuXG4gICAgb25tb3VzZWJ1dHRvbjogZnVuY3Rpb24gKCkge30sICAvLyBIYW5kbGVyIGZvciBtb3VzZSBidXR0b24gY2xpY2svcmVsZWFzZVxuICAgIG9ubW91c2Vtb3ZlOiBmdW5jdGlvbiAoKSB7fSwgICAgLy8gSGFuZGxlciBmb3IgbW91c2UgbW92ZW1lbnRcblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX3Jlc2V0RG91YmxlQ2xpY2tUaW1lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9kb3VibGVDbGlja1RpbWVyID0gbnVsbDtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlQnV0dG9uOiBmdW5jdGlvbiAoZSwgZG93bikge1xuICAgICAgICB0aGlzLl91cGRhdGVNb3VzZVBvc2l0aW9uKGUpO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5fcG9zO1xuXG4gICAgICAgIHZhciBibWFzaztcbiAgICAgICAgaWYgKGUudG91Y2hlcyB8fCBlLmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICAvLyBUb3VjaCBkZXZpY2VcblxuICAgICAgICAgICAgLy8gV2hlbiB0d28gdG91Y2hlcyBvY2N1ciB3aXRoaW4gNTAwIG1zIG9mIGVhY2ggb3RoZXIgYW5kIGFyZVxuICAgICAgICAgICAgLy8gY2xvc2UgZW5vdWdoIHRvZ2V0aGVyIGEgZG91YmxlIGNsaWNrIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgIGlmIChkb3duID09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VG91Y2hQb3MgPSBwb3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RvdWJsZUNsaWNrVGltZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byB0b3VjaGVzIGlzIHNtYWxsIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgcG9zaXRpb24gb2YgdGhlIGxhdHRlciB0b3VjaCB0byB0aGUgcG9zaXRpb24gb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0LlxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB4cyA9IHRoaXMuX2xhc3RUb3VjaFBvcy54IC0gcG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5cyA9IHRoaXMuX2xhc3RUb3VjaFBvcy55IC0gcG9zLnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KCh4cyAqIHhzKSArICh5cyAqIHlzKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGdvYWwgaXMgdG8gdHJpZ2dlciBvbiBhIGNlcnRhaW4gcGh5c2ljYWwgd2lkdGgsIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBkZXZpY2VQaXhlbFJhdGlvIGJyaW5ncyB1cyBhIGJpdCBjbG9zZXIgYnV0IGlzIG5vdCBvcHRpbWFsLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gMjAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLl9sYXN0VG91Y2hQb3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXREb3VibGVDbGlja1RpbWVyLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibWFzayA9IHRoaXMudG91Y2hCdXR0b247XG4gICAgICAgICAgICAvLyBJZiBibWFzayBpcyBzZXRcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoKSB7XG4gICAgICAgICAgICAvKiBldmVyeXRoaW5nIGV4Y2VwdCBJRSAqL1xuICAgICAgICAgICAgYm1hc2sgPSAxIDw8IGUuYnV0dG9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogSUUgaW5jbHVkaW5nIDkgKi9cbiAgICAgICAgICAgIGJtYXNrID0gKGUuYnV0dG9uICYgMHgxKSArICAgICAgLy8gTGVmdFxuICAgICAgICAgICAgICAgICAgICAoZS5idXR0b24gJiAweDIpICogMiArICAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICAoZS5idXR0b24gJiAweDQpIC8gMjsgICAvLyBNaWRkbGVcbiAgICAgICAgfVxuXG4gICAgICAgIExvZy5EZWJ1ZyhcIm9ubW91c2VidXR0b24gXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArXG4gICAgICAgICAgICAgICAgICBcIiwgeDogXCIgKyBwb3MueCArIFwiLCB5OiBcIiArIHBvcy55ICsgXCIsIGJtYXNrOiBcIiArIGJtYXNrKTtcbiAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHBvcy54LCBwb3MueSwgZG93biwgYm1hc2spO1xuXG4gICAgICAgIHN0b3BFdmVudChlKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gVG91Y2ggZXZlbnRzIGhhdmUgaW1wbGljaXQgY2FwdHVyZVxuICAgICAgICBpZiAoZS50eXBlID09PSBcIm1vdXNlZG93blwiKSB7XG4gICAgICAgICAgICBzZXRDYXB0dXJlKHRoaXMuX3RhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUJ1dHRvbihlLCAxKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlVXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlQnV0dG9uKGUsIDApO1xuICAgIH0sXG5cbiAgICAvLyBNb3VzZSB3aGVlbCBldmVudHMgYXJlIHNlbnQgaW4gc3RlcHMgb3ZlciBWTkMuIFRoaXMgbWVhbnMgdGhhdCB0aGUgVk5DXG4gICAgLy8gcHJvdG9jb2wgY2FuJ3QgaGFuZGxlIGEgd2hlZWwgZXZlbnQgd2l0aCBzcGVjaWZpYyBkaXN0YW5jZSBvciBzcGVlZC5cbiAgICAvLyBUaGVyZWZvciwgaWYgd2UgZ2V0IGEgbG90IG9mIHNtYWxsIG1vdXNlIHdoZWVsIGV2ZW50cyB3ZSBjb21iaW5lIHRoZW0uXG4gICAgX2dlbmVyYXRlV2hlZWxTdGVwWDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMSwgMSA8PCA1KTtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDAsIDEgPDwgNSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgNik7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA9IDA7XG4gICAgfSxcblxuICAgIF9nZW5lcmF0ZVdoZWVsU3RlcFk6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgMyk7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAxLCAxIDw8IDQpO1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMCwgMSA8PCA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPSAwO1xuICAgIH0sXG5cbiAgICBfcmVzZXRXaGVlbFN0ZXBUaW1lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl93aGVlbFN0ZXBYVGltZXIpO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3doZWVsU3RlcFlUaW1lcik7XG4gICAgICAgIHRoaXMuX3doZWVsU3RlcFhUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3doZWVsU3RlcFlUaW1lciA9IG51bGw7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZVdoZWVsOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLl9yZXNldFdoZWVsU3RlcFRpbWVycygpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9zaXRpb24oZSk7XG5cbiAgICAgICAgdmFyIGRYID0gZS5kZWx0YVg7XG4gICAgICAgIHZhciBkWSA9IGUuZGVsdGFZO1xuXG4gICAgICAgIC8vIFBpeGVsIHVuaXRzIHVubGVzcyBpdCdzIG5vbi16ZXJvLlxuICAgICAgICAvLyBOb3RlIHRoYXQgaWYgZGVsdGFtb2RlIGlzIGxpbmUgb3IgcGFnZSB3b24ndCBtYXR0ZXIgc2luY2Ugd2UgYXJlbid0XG4gICAgICAgIC8vIHNlbmRpbmcgdGhlIG1vdXNlIHdoZWVsIGRlbHRhIHRvIHRoZSBzZXJ2ZXIgYW55d2F5LlxuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHBpeGVsIGFuZCBsaW5lIGNhbiBiZSBpbXBvcnRhbnQgaG93ZXZlciBzaW5jZVxuICAgICAgICAvLyB3ZSBoYXZlIGEgdGhyZXNob2xkIHRoYXQgY2FuIGJlIHNtYWxsZXIgdGhhbiB0aGUgbGluZSBoZWlnaHQuXG4gICAgICAgIGlmIChlLmRlbHRhTW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgZFggKj0gV0hFRUxfTElORV9IRUlHSFQ7XG4gICAgICAgICAgICBkWSAqPSBXSEVFTF9MSU5FX0hFSUdIVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggKz0gZFg7XG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgKz0gZFk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYSBtb3VzZSB3aGVlbCBzdGVwIGV2ZW50IHdoZW4gdGhlIGFjY3VtdWxhdGVkIGRlbHRhXG4gICAgICAgIC8vIGZvciBvbmUgb2YgdGhlIGF4ZXMgaXMgbGFyZ2UgZW5vdWdoLlxuICAgICAgICAvLyBTbWFsbCBkZWx0YSBldmVudHMgdGhhdCBkbyBub3QgcGFzcyB0aGUgdGhyZXNob2xkIGdldCBzZW50XG4gICAgICAgIC8vIGFmdGVyIGEgdGltZW91dC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVgpID4gV0hFRUxfU1RFUCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBYKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl93aGVlbFN0ZXBYVGltZXIgPVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRUVMX1NURVBfVElNRU9VVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkpID4gV0hFRUxfU1RFUCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVXaGVlbFN0ZXBZKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl93aGVlbFN0ZXBZVGltZXIgPVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRUVMX1NURVBfVElNRU9VVCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9zaXRpb24oZSk7XG4gICAgICAgIHRoaXMub25tb3VzZW1vdmUodGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55KTtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VEaXNhYmxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBTdG9wIHByb3BhZ2F0aW9uIGlmIGluc2lkZSBjYW52YXMgYXJlYVxuICAgICAgICAgKiBOb3RlOiBUaGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgJ2NsaWNrJyBldmVudCBhcyBpdCBmYWlsc1xuICAgICAgICAgKiAgICAgICB0byBmaXJlIHByb3Blcmx5IGZvciB0aGUgdGFyZ2V0IGVsZW1lbnQgc28gd2UgaGF2ZVxuICAgICAgICAgKiAgICAgICB0byBsaXN0ZW4gb24gdGhlIGRvY3VtZW50IGVsZW1lbnQgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChlLnRhcmdldCA9PSB0aGlzLl90YXJnZXQpIHtcbiAgICAgICAgICAgIHN0b3BFdmVudChlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGFyZ2V0XG4gICAgX3VwZGF0ZU1vdXNlUG9zaXRpb246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZSA9IGdldFBvaW50ZXJFdmVudChlKTtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX3RhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHgsIHk7XG4gICAgICAgIC8vIENsaXAgdG8gdGFyZ2V0IGJvdW5kc1xuICAgICAgICBpZiAoZS5jbGllbnRYIDwgYm91bmRzLmxlZnQpIHtcbiAgICAgICAgICAgIHggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGUuY2xpZW50WCA+PSBib3VuZHMucmlnaHQpIHtcbiAgICAgICAgICAgIHggPSBib3VuZHMud2lkdGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IGUuY2xpZW50WCAtIGJvdW5kcy5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmNsaWVudFkgPCBib3VuZHMudG9wKSB7XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFkgPj0gYm91bmRzLmJvdHRvbSkge1xuICAgICAgICAgICAgeSA9IGJvdW5kcy5oZWlnaHQgLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeSA9IGUuY2xpZW50WSAtIGJvdW5kcy50b3A7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcG9zID0ge3g6eCwgeTp5fTtcbiAgICB9LFxuXG4gICAgLy8gPT09PT0gUFVCTElDIE1FVEhPRFMgPT09PT1cblxuICAgIGdyYWI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLl90YXJnZXQ7XG5cbiAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UpIHtcbiAgICAgICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vkb3duKTtcbiAgICAgICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZG93bik7XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCk7XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW1vdmUpO1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXdoZWVsKTtcblxuICAgICAgICAvKiBQcmV2ZW50IG1pZGRsZS1jbGljayBwYXN0aW5nIChzZWUgYWJvdmUgZm9yIHdoeSB3ZSBiaW5kIHRvIGRvY3VtZW50KSAqL1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2VkaXNhYmxlKTtcblxuICAgICAgICAvKiBwcmV2ZW50RGVmYXVsdCgpIG9uIG1vdXNlZG93biBkb2Vzbid0IHN0b3AgdGhpcyBldmVudCBmb3Igc29tZVxuICAgICAgICAgICByZWFzb24gc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGJsb2NrIGl0ICovXG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZGlzYWJsZSk7XG4gICAgfSxcblxuICAgIHVuZ3JhYjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYyA9IHRoaXMuX3RhcmdldDtcblxuICAgICAgICB0aGlzLl9yZXNldFdoZWVsU3RlcFRpbWVycygpO1xuXG4gICAgICAgIGlmIChpc1RvdWNoRGV2aWNlKSB7XG4gICAgICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZG93bik7XG4gICAgICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwKTtcbiAgICAgICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlKTtcbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V3aGVlbCk7XG5cbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZGlzYWJsZSk7XG5cbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2VkaXNhYmxlKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IEtleVRhYmxlIGZyb20gXCIuL2tleXN5bS5qc1wiO1xuaW1wb3J0IGtleXN5bXMgZnJvbSBcIi4va2V5c3ltZGVmLmpzXCI7XG5pbXBvcnQgdmtleXMgZnJvbSBcIi4vdmtleXMuanNcIjtcbmltcG9ydCBmaXhlZGtleXMgZnJvbSBcIi4vZml4ZWRrZXlzLmpzXCI7XG5pbXBvcnQgRE9NS2V5VGFibGUgZnJvbSBcIi4vZG9ta2V5dGFibGUuanNcIjtcbmltcG9ydCAqIGFzIGJyb3dzZXIgZnJvbSBcIi4uL3V0aWwvYnJvd3Nlci5qc1wiO1xuXG4vLyBHZXQgJ0tleWJvYXJkRXZlbnQuY29kZScsIGhhbmRsaW5nIGxlZ2FjeSBicm93c2Vyc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleWNvZGUoZXZ0KXtcbiAgICAvLyBBcmUgd2UgZ2V0dGluZyBwcm9wZXIga2V5IGlkZW50aWZpZXJzP1xuICAgIC8vICh1bmZvcnR1bmF0ZWx5IEZpcmVmb3ggYW5kIENocm9tZSBhcmUgY3JhcHB5IGhlcmUgYW5kIGdpdmVzXG4gICAgLy8gdXMgYW4gZW1wdHkgc3RyaW5nIG9uIHNvbWUgcGxhdGZvcm1zLCByYXRoZXIgdGhhbiBsZWF2aW5nIGl0XG4gICAgLy8gdW5kZWZpbmVkKVxuICAgIGlmIChldnQuY29kZSkge1xuICAgICAgICAvLyBNb3ppbGxhIGlzbid0IGZ1bGx5IGluIHN5bmMgd2l0aCB0aGUgc3BlYyB5ZXRcbiAgICAgICAgc3dpdGNoIChldnQuY29kZSkge1xuICAgICAgICAgICAgY2FzZSAnT1NMZWZ0JzogcmV0dXJuICdNZXRhTGVmdCc7XG4gICAgICAgICAgICBjYXNlICdPU1JpZ2h0JzogcmV0dXJuICdNZXRhUmlnaHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV2dC5jb2RlO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZS1mYWN0byBzdGFuZGFyZCBpcyB0byB1c2UgV2luZG93cyBWaXJ0dWFsLUtleSBjb2Rlc1xuICAgIC8vIGluIHRoZSAna2V5Q29kZScgZmllbGQgZm9yIG5vbi1wcmludGFibGUgY2hhcmFjdGVycy4gSG93ZXZlclxuICAgIC8vIFdlYmtpdCBzZXRzIGl0IHRvIHRoZSBzYW1lIGFzIGNoYXJDb2RlIGluICdrZXlwcmVzcycgZXZlbnRzLlxuICAgIGlmICgoZXZ0LnR5cGUgIT09ICdrZXlwcmVzcycpICYmIChldnQua2V5Q29kZSBpbiB2a2V5cykpIHtcbiAgICAgICAgdmFyIGNvZGUgPSB2a2V5c1tldnQua2V5Q29kZV07XG5cbiAgICAgICAgLy8gbWFjT1MgaGFzIG1lc3NlZCB1cCB0aGlzIGNvZGUgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgIGlmIChicm93c2VyLmlzTWFjKCkgJiYgKGNvZGUgPT09ICdDb250ZXh0TWVudScpKSB7XG4gICAgICAgICAgICBjb2RlID0gJ01ldGFSaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUga2V5Q29kZSBkb2Vzbid0IGRpc3Rpbmd1aXNoIGJldHdlZW4gbGVmdCBhbmQgcmlnaHRcbiAgICAgICAgLy8gZm9yIHRoZSBzdGFuZGFyZCBtb2RpZmllcnNcbiAgICAgICAgaWYgKGV2dC5sb2NhdGlvbiA9PT0gMikge1xuICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnU2hpZnRMZWZ0JzogcmV0dXJuICdTaGlmdFJpZ2h0JztcbiAgICAgICAgICAgICAgICBjYXNlICdDb250cm9sTGVmdCc6IHJldHVybiAnQ29udHJvbFJpZ2h0JztcbiAgICAgICAgICAgICAgICBjYXNlICdBbHRMZWZ0JzogcmV0dXJuICdBbHRSaWdodCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3IgYSBidW5jaCBvZiB0aGUgbnVtcGFkIGtleXNcbiAgICAgICAgaWYgKGV2dC5sb2NhdGlvbiA9PT0gMykge1xuICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnRGVsZXRlJzogcmV0dXJuICdOdW1wYWREZWNpbWFsJztcbiAgICAgICAgICAgICAgICBjYXNlICdJbnNlcnQnOiByZXR1cm4gJ051bXBhZDAnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VuZCc6IHJldHVybiAnTnVtcGFkMSc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzogcmV0dXJuICdOdW1wYWQyJztcbiAgICAgICAgICAgICAgICBjYXNlICdQYWdlRG93bic6IHJldHVybiAnTnVtcGFkMyc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzogcmV0dXJuICdOdW1wYWQ0JztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzogcmV0dXJuICdOdW1wYWQ2JztcbiAgICAgICAgICAgICAgICBjYXNlICdIb21lJzogcmV0dXJuICdOdW1wYWQ3JztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1VwJzogcmV0dXJuICdOdW1wYWQ4JztcbiAgICAgICAgICAgICAgICBjYXNlICdQYWdlVXAnOiByZXR1cm4gJ051bXBhZDknO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VudGVyJzogcmV0dXJuICdOdW1wYWRFbnRlcic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1VuaWRlbnRpZmllZCc7XG59XG5cbi8vIEdldCAnS2V5Ym9hcmRFdmVudC5rZXknLCBoYW5kbGluZyBsZWdhY3kgYnJvd3NlcnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXkoZXZ0KSB7XG4gICAgLy8gQXJlIHdlIGdldHRpbmcgYSBwcm9wZXIga2V5IHZhbHVlP1xuICAgIGlmIChldnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSUUgYW5kIEVkZ2UgdXNlIHNvbWUgYW5jaWVudCB2ZXJzaW9uIG9mIHRoZSBzcGVjXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzg4NjA1NzEvXG4gICAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnU3BhY2ViYXInOiByZXR1cm4gJyAnO1xuICAgICAgICAgICAgY2FzZSAnRXNjJzogcmV0dXJuICdFc2NhcGUnO1xuICAgICAgICAgICAgY2FzZSAnU2Nyb2xsJzogcmV0dXJuICdTY3JvbGxMb2NrJztcbiAgICAgICAgICAgIGNhc2UgJ1dpbic6IHJldHVybiAnTWV0YSc7XG4gICAgICAgICAgICBjYXNlICdBcHBzJzogcmV0dXJuICdDb250ZXh0TWVudSc7XG4gICAgICAgICAgICBjYXNlICdVcCc6IHJldHVybiAnQXJyb3dVcCc7XG4gICAgICAgICAgICBjYXNlICdMZWZ0JzogcmV0dXJuICdBcnJvd0xlZnQnO1xuICAgICAgICAgICAgY2FzZSAnUmlnaHQnOiByZXR1cm4gJ0Fycm93UmlnaHQnO1xuICAgICAgICAgICAgY2FzZSAnRG93bic6IHJldHVybiAnQXJyb3dEb3duJztcbiAgICAgICAgICAgIGNhc2UgJ0RlbCc6IHJldHVybiAnRGVsZXRlJztcbiAgICAgICAgICAgIGNhc2UgJ0RpdmlkZSc6IHJldHVybiAnLyc7XG4gICAgICAgICAgICBjYXNlICdNdWx0aXBseSc6IHJldHVybiAnKic7XG4gICAgICAgICAgICBjYXNlICdTdWJ0cmFjdCc6IHJldHVybiAnLSc7XG4gICAgICAgICAgICBjYXNlICdBZGQnOiByZXR1cm4gJysnO1xuICAgICAgICAgICAgY2FzZSAnRGVjaW1hbCc6IHJldHVybiBldnQuY2hhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vemlsbGEgaXNuJ3QgZnVsbHkgaW4gc3luYyB3aXRoIHRoZSBzcGVjIHlldFxuICAgICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ09TJzogcmV0dXJuICdNZXRhJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlPUyBsZWFrcyBzb21lIE9TIG5hbWVzXG4gICAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dFVwQXJyb3cnOiByZXR1cm4gJ0Fycm93VXAnO1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dERvd25BcnJvdyc6IHJldHVybiAnQXJyb3dEb3duJztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRMZWZ0QXJyb3cnOiByZXR1cm4gJ0Fycm93TGVmdCc7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0UmlnaHRBcnJvdyc6IHJldHVybiAnQXJyb3dSaWdodCc7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0RXNjYXBlJzogcmV0dXJuICdFc2NhcGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSUUgYW5kIEVkZ2UgaGF2ZSBicm9rZW4gaGFuZGxpbmcgb2YgQWx0R3JhcGggc28gd2UgY2Fubm90XG4gICAgICAgIC8vIHRydXN0IHRoZW0gZm9yIHByaW50YWJsZSBjaGFyYWN0ZXJzXG4gICAgICAgIGlmICgoZXZ0LmtleS5sZW5ndGggIT09IDEpIHx8ICghYnJvd3Nlci5pc0lFKCkgJiYgIWJyb3dzZXIuaXNFZGdlKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZ0LmtleTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyeSB0byBkZWR1Y2UgaXQgYmFzZWQgb24gdGhlIHBoeXNpY2FsIGtleVxuICAgIHZhciBjb2RlID0gZ2V0S2V5Y29kZShldnQpO1xuICAgIGlmIChjb2RlIGluIGZpeGVka2V5cykge1xuICAgICAgICByZXR1cm4gZml4ZWRrZXlzW2NvZGVdO1xuICAgIH1cblxuICAgIC8vIElmIHRoYXQgZmFpbGVkLCB0aGVuIHNlZSBpZiB3ZSBoYXZlIGEgcHJpbnRhYmxlIGNoYXJhY3RlclxuICAgIGlmIChldnQuY2hhckNvZGUpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZXZ0LmNoYXJDb2RlKTtcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGhhdmUgbm90aGluZyBsZWZ0IHRvIGdvIG9uXG4gICAgcmV0dXJuICdVbmlkZW50aWZpZWQnO1xufVxuXG4vLyBHZXQgdGhlIG1vc3QgcmVsaWFibGUga2V5c3ltIHZhbHVlIHdlIGNhbiBnZXQgZnJvbSBhIGtleSBldmVudFxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleXN5bShldnQpe1xuICAgIHZhciBrZXkgPSBnZXRLZXkoZXZ0KTtcblxuICAgIGlmIChrZXkgPT09ICdVbmlkZW50aWZpZWQnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEZpcnN0IGxvb2sgdXAgc3BlY2lhbCBrZXlzXG4gICAgaWYgKGtleSBpbiBET01LZXlUYWJsZSkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBldnQubG9jYXRpb247XG5cbiAgICAgICAgLy8gU2FmYXJpIHNjcmV3cyB1cCBsb2NhdGlvbiBmb3IgdGhlIHJpZ2h0IGNtZCBrZXlcbiAgICAgICAgaWYgKChrZXkgPT09ICdNZXRhJykgJiYgKGxvY2F0aW9uID09PSAwKSkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB8fCAobG9jYXRpb24gPiAzKSkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIERPTUtleVRhYmxlW2tleV1bbG9jYXRpb25dO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBuZWVkIHRvIGxvb2sgYXQgdGhlIFVuaWNvZGUgc3ltYm9sIGluc3RlYWRcblxuICAgIHZhciBjb2RlcG9pbnQ7XG5cbiAgICAvLyBTcGVjaWFsIGtleT8gKEZJWE1FOiBTaG91bGQgaGF2ZSBiZWVuIGNhdWdodCBlYXJsaWVyKVxuICAgIGlmIChrZXkubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvZGVwb2ludCA9IGtleS5jaGFyQ29kZUF0KCk7XG4gICAgaWYgKGNvZGVwb2ludCkge1xuICAgICAgICByZXR1cm4ga2V5c3ltcy5sb29rdXAoY29kZXBvaW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbi8qXG4gKiBNYXBwaW5nIGJldHdlZW4gTWljcm9zb2Z0wq4gV2luZG93c8KuIFZpcnR1YWwtS2V5IGNvZGVzIGFuZFxuICogSFRNTCBrZXkgY29kZXMuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIDB4MDg6ICdCYWNrc3BhY2UnLFxuICAgIDB4MDk6ICdUYWInLFxuICAgIDB4MGE6ICdOdW1wYWRDbGVhcicsXG4gICAgMHgwZDogJ0VudGVyJyxcbiAgICAweDEwOiAnU2hpZnRMZWZ0JyxcbiAgICAweDExOiAnQ29udHJvbExlZnQnLFxuICAgIDB4MTI6ICdBbHRMZWZ0JyxcbiAgICAweDEzOiAnUGF1c2UnLFxuICAgIDB4MTQ6ICdDYXBzTG9jaycsXG4gICAgMHgxNTogJ0xhbmcxJyxcbiAgICAweDE5OiAnTGFuZzInLFxuICAgIDB4MWI6ICdFc2NhcGUnLFxuICAgIDB4MWM6ICdDb252ZXJ0JyxcbiAgICAweDFkOiAnTm9uQ29udmVydCcsXG4gICAgMHgyMDogJ1NwYWNlJyxcbiAgICAweDIxOiAnUGFnZVVwJyxcbiAgICAweDIyOiAnUGFnZURvd24nLFxuICAgIDB4MjM6ICdFbmQnLFxuICAgIDB4MjQ6ICdIb21lJyxcbiAgICAweDI1OiAnQXJyb3dMZWZ0JyxcbiAgICAweDI2OiAnQXJyb3dVcCcsXG4gICAgMHgyNzogJ0Fycm93UmlnaHQnLFxuICAgIDB4Mjg6ICdBcnJvd0Rvd24nLFxuICAgIDB4Mjk6ICdTZWxlY3QnLFxuICAgIDB4MmM6ICdQcmludFNjcmVlbicsXG4gICAgMHgyZDogJ0luc2VydCcsXG4gICAgMHgyZTogJ0RlbGV0ZScsXG4gICAgMHgyZjogJ0hlbHAnLFxuICAgIDB4MzA6ICdEaWdpdDAnLFxuICAgIDB4MzE6ICdEaWdpdDEnLFxuICAgIDB4MzI6ICdEaWdpdDInLFxuICAgIDB4MzM6ICdEaWdpdDMnLFxuICAgIDB4MzQ6ICdEaWdpdDQnLFxuICAgIDB4MzU6ICdEaWdpdDUnLFxuICAgIDB4MzY6ICdEaWdpdDYnLFxuICAgIDB4Mzc6ICdEaWdpdDcnLFxuICAgIDB4Mzg6ICdEaWdpdDgnLFxuICAgIDB4Mzk6ICdEaWdpdDknLFxuICAgIDB4NWI6ICdNZXRhTGVmdCcsXG4gICAgMHg1YzogJ01ldGFSaWdodCcsXG4gICAgMHg1ZDogJ0NvbnRleHRNZW51JyxcbiAgICAweDVmOiAnU2xlZXAnLFxuICAgIDB4NjA6ICdOdW1wYWQwJyxcbiAgICAweDYxOiAnTnVtcGFkMScsXG4gICAgMHg2MjogJ051bXBhZDInLFxuICAgIDB4NjM6ICdOdW1wYWQzJyxcbiAgICAweDY0OiAnTnVtcGFkNCcsXG4gICAgMHg2NTogJ051bXBhZDUnLFxuICAgIDB4NjY6ICdOdW1wYWQ2JyxcbiAgICAweDY3OiAnTnVtcGFkNycsXG4gICAgMHg2ODogJ051bXBhZDgnLFxuICAgIDB4Njk6ICdOdW1wYWQ5JyxcbiAgICAweDZhOiAnTnVtcGFkTXVsdGlwbHknLFxuICAgIDB4NmI6ICdOdW1wYWRBZGQnLFxuICAgIDB4NmM6ICdOdW1wYWREZWNpbWFsJyxcbiAgICAweDZkOiAnTnVtcGFkU3VidHJhY3QnLFxuICAgIDB4NmU6ICdOdW1wYWREZWNpbWFsJywgLy8gRHVwbGljYXRlLCBiZWNhdXNlIGJ1Z2d5IG9uIFdpbmRvd3NcbiAgICAweDZmOiAnTnVtcGFkRGl2aWRlJyxcbiAgICAweDcwOiAnRjEnLFxuICAgIDB4NzE6ICdGMicsXG4gICAgMHg3MjogJ0YzJyxcbiAgICAweDczOiAnRjQnLFxuICAgIDB4NzQ6ICdGNScsXG4gICAgMHg3NTogJ0Y2JyxcbiAgICAweDc2OiAnRjcnLFxuICAgIDB4Nzc6ICdGOCcsXG4gICAgMHg3ODogJ0Y5JyxcbiAgICAweDc5OiAnRjEwJyxcbiAgICAweDdhOiAnRjExJyxcbiAgICAweDdiOiAnRjEyJyxcbiAgICAweDdjOiAnRjEzJyxcbiAgICAweDdkOiAnRjE0JyxcbiAgICAweDdlOiAnRjE1JyxcbiAgICAweDdmOiAnRjE2JyxcbiAgICAweDgwOiAnRjE3JyxcbiAgICAweDgxOiAnRjE4JyxcbiAgICAweDgyOiAnRjE5JyxcbiAgICAweDgzOiAnRjIwJyxcbiAgICAweDg0OiAnRjIxJyxcbiAgICAweDg1OiAnRjIyJyxcbiAgICAweDg2OiAnRjIzJyxcbiAgICAweDg3OiAnRjI0JyxcbiAgICAweDkwOiAnTnVtTG9jaycsXG4gICAgMHg5MTogJ1Njcm9sbExvY2snLFxuICAgIDB4YTY6ICdCcm93c2VyQmFjaycsXG4gICAgMHhhNzogJ0Jyb3dzZXJGb3J3YXJkJyxcbiAgICAweGE4OiAnQnJvd3NlclJlZnJlc2gnLFxuICAgIDB4YTk6ICdCcm93c2VyU3RvcCcsXG4gICAgMHhhYTogJ0Jyb3dzZXJTZWFyY2gnLFxuICAgIDB4YWI6ICdCcm93c2VyRmF2b3JpdGVzJyxcbiAgICAweGFjOiAnQnJvd3NlckhvbWUnLFxuICAgIDB4YWQ6ICdBdWRpb1ZvbHVtZU11dGUnLFxuICAgIDB4YWU6ICdBdWRpb1ZvbHVtZURvd24nLFxuICAgIDB4YWY6ICdBdWRpb1ZvbHVtZVVwJyxcbiAgICAweGIwOiAnTWVkaWFUcmFja05leHQnLFxuICAgIDB4YjE6ICdNZWRpYVRyYWNrUHJldmlvdXMnLFxuICAgIDB4YjI6ICdNZWRpYVN0b3AnLFxuICAgIDB4YjM6ICdNZWRpYVBsYXlQYXVzZScsXG4gICAgMHhiNDogJ0xhdW5jaE1haWwnLFxuICAgIDB4YjU6ICdNZWRpYVNlbGVjdCcsXG4gICAgMHhiNjogJ0xhdW5jaEFwcDEnLFxuICAgIDB4Yjc6ICdMYXVuY2hBcHAyJyxcbiAgICAweGUxOiAnQWx0UmlnaHQnLCAvLyBPbmx5IHdoZW4gaXQgaXMgQWx0R3JhcGhcbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGZyb20ga2V5bWFwcy5jc3Ygb24gMjAxNy0wNS0zMSAxNjoyMFxuICogRGF0YWJhc2UgY2hlY2tzdW0gc2hhMjU2KDkyZmQxNjU1MDdmMmEzYjhjNWIzZmE1NmU0MjVkNDU3ODhkYmNiOThjZjA2N2EzMDc1MjdkOTFjZTIyY2FiOTQpXG4gKiBUbyByZS1nZW5lcmF0ZSwgcnVuOlxuICogICBrZXltYXAtZ2VuIC0tbGFuZz1qcyBjb2RlLW1hcCBrZXltYXBzLmNzdiBodG1sIGF0c2V0MVxuKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXCJBZ2FpblwiOiAweGUwMDUsIC8qIGh0bWw6QWdhaW4gKEFnYWluKSAtPiBsaW51eDoxMjkgKEtFWV9BR0FJTikgLT4gYXRzZXQxOjU3MzQ5ICovXG4gIFwiQWx0TGVmdFwiOiAweDM4LCAvKiBodG1sOkFsdExlZnQgKEFsdExlZnQpIC0+IGxpbnV4OjU2IChLRVlfTEVGVEFMVCkgLT4gYXRzZXQxOjU2ICovXG4gIFwiQWx0UmlnaHRcIjogMHhlMDM4LCAvKiBodG1sOkFsdFJpZ2h0IChBbHRSaWdodCkgLT4gbGludXg6MTAwIChLRVlfUklHSFRBTFQpIC0+IGF0c2V0MTo1NzQwMCAqL1xuICBcIkFycm93RG93blwiOiAweGUwNTAsIC8qIGh0bWw6QXJyb3dEb3duIChBcnJvd0Rvd24pIC0+IGxpbnV4OjEwOCAoS0VZX0RPV04pIC0+IGF0c2V0MTo1NzQyNCAqL1xuICBcIkFycm93TGVmdFwiOiAweGUwNGIsIC8qIGh0bWw6QXJyb3dMZWZ0IChBcnJvd0xlZnQpIC0+IGxpbnV4OjEwNSAoS0VZX0xFRlQpIC0+IGF0c2V0MTo1NzQxOSAqL1xuICBcIkFycm93UmlnaHRcIjogMHhlMDRkLCAvKiBodG1sOkFycm93UmlnaHQgKEFycm93UmlnaHQpIC0+IGxpbnV4OjEwNiAoS0VZX1JJR0hUKSAtPiBhdHNldDE6NTc0MjEgKi9cbiAgXCJBcnJvd1VwXCI6IDB4ZTA0OCwgLyogaHRtbDpBcnJvd1VwIChBcnJvd1VwKSAtPiBsaW51eDoxMDMgKEtFWV9VUCkgLT4gYXRzZXQxOjU3NDE2ICovXG4gIFwiQXVkaW9Wb2x1bWVEb3duXCI6IDB4ZTAyZSwgLyogaHRtbDpBdWRpb1ZvbHVtZURvd24gKEF1ZGlvVm9sdW1lRG93bikgLT4gbGludXg6MTE0IChLRVlfVk9MVU1FRE9XTikgLT4gYXRzZXQxOjU3MzkwICovXG4gIFwiQXVkaW9Wb2x1bWVNdXRlXCI6IDB4ZTAyMCwgLyogaHRtbDpBdWRpb1ZvbHVtZU11dGUgKEF1ZGlvVm9sdW1lTXV0ZSkgLT4gbGludXg6MTEzIChLRVlfTVVURSkgLT4gYXRzZXQxOjU3Mzc2ICovXG4gIFwiQXVkaW9Wb2x1bWVVcFwiOiAweGUwMzAsIC8qIGh0bWw6QXVkaW9Wb2x1bWVVcCAoQXVkaW9Wb2x1bWVVcCkgLT4gbGludXg6MTE1IChLRVlfVk9MVU1FVVApIC0+IGF0c2V0MTo1NzM5MiAqL1xuICBcIkJhY2txdW90ZVwiOiAweDI5LCAvKiBodG1sOkJhY2txdW90ZSAoQmFja3F1b3RlKSAtPiBsaW51eDo0MSAoS0VZX0dSQVZFKSAtPiBhdHNldDE6NDEgKi9cbiAgXCJCYWNrc2xhc2hcIjogMHgyYiwgLyogaHRtbDpCYWNrc2xhc2ggKEJhY2tzbGFzaCkgLT4gbGludXg6NDMgKEtFWV9CQUNLU0xBU0gpIC0+IGF0c2V0MTo0MyAqL1xuICBcIkJhY2tzcGFjZVwiOiAweGUsIC8qIGh0bWw6QmFja3NwYWNlIChCYWNrc3BhY2UpIC0+IGxpbnV4OjE0IChLRVlfQkFDS1NQQUNFKSAtPiBhdHNldDE6MTQgKi9cbiAgXCJCcmFja2V0TGVmdFwiOiAweDFhLCAvKiBodG1sOkJyYWNrZXRMZWZ0IChCcmFja2V0TGVmdCkgLT4gbGludXg6MjYgKEtFWV9MRUZUQlJBQ0UpIC0+IGF0c2V0MToyNiAqL1xuICBcIkJyYWNrZXRSaWdodFwiOiAweDFiLCAvKiBodG1sOkJyYWNrZXRSaWdodCAoQnJhY2tldFJpZ2h0KSAtPiBsaW51eDoyNyAoS0VZX1JJR0hUQlJBQ0UpIC0+IGF0c2V0MToyNyAqL1xuICBcIkJyb3dzZXJCYWNrXCI6IDB4ZTA2YSwgLyogaHRtbDpCcm93c2VyQmFjayAoQnJvd3NlckJhY2spIC0+IGxpbnV4OjE1OCAoS0VZX0JBQ0spIC0+IGF0c2V0MTo1NzQ1MCAqL1xuICBcIkJyb3dzZXJGYXZvcml0ZXNcIjogMHhlMDY2LCAvKiBodG1sOkJyb3dzZXJGYXZvcml0ZXMgKEJyb3dzZXJGYXZvcml0ZXMpIC0+IGxpbnV4OjE1NiAoS0VZX0JPT0tNQVJLUykgLT4gYXRzZXQxOjU3NDQ2ICovXG4gIFwiQnJvd3NlckZvcndhcmRcIjogMHhlMDY5LCAvKiBodG1sOkJyb3dzZXJGb3J3YXJkIChCcm93c2VyRm9yd2FyZCkgLT4gbGludXg6MTU5IChLRVlfRk9SV0FSRCkgLT4gYXRzZXQxOjU3NDQ5ICovXG4gIFwiQnJvd3NlckhvbWVcIjogMHhlMDMyLCAvKiBodG1sOkJyb3dzZXJIb21lIChCcm93c2VySG9tZSkgLT4gbGludXg6MTcyIChLRVlfSE9NRVBBR0UpIC0+IGF0c2V0MTo1NzM5NCAqL1xuICBcIkJyb3dzZXJSZWZyZXNoXCI6IDB4ZTA2NywgLyogaHRtbDpCcm93c2VyUmVmcmVzaCAoQnJvd3NlclJlZnJlc2gpIC0+IGxpbnV4OjE3MyAoS0VZX1JFRlJFU0gpIC0+IGF0c2V0MTo1NzQ0NyAqL1xuICBcIkJyb3dzZXJTZWFyY2hcIjogMHhlMDY1LCAvKiBodG1sOkJyb3dzZXJTZWFyY2ggKEJyb3dzZXJTZWFyY2gpIC0+IGxpbnV4OjIxNyAoS0VZX1NFQVJDSCkgLT4gYXRzZXQxOjU3NDQ1ICovXG4gIFwiQnJvd3NlclN0b3BcIjogMHhlMDY4LCAvKiBodG1sOkJyb3dzZXJTdG9wIChCcm93c2VyU3RvcCkgLT4gbGludXg6MTI4IChLRVlfU1RPUCkgLT4gYXRzZXQxOjU3NDQ4ICovXG4gIFwiQ2Fwc0xvY2tcIjogMHgzYSwgLyogaHRtbDpDYXBzTG9jayAoQ2Fwc0xvY2spIC0+IGxpbnV4OjU4IChLRVlfQ0FQU0xPQ0spIC0+IGF0c2V0MTo1OCAqL1xuICBcIkNvbW1hXCI6IDB4MzMsIC8qIGh0bWw6Q29tbWEgKENvbW1hKSAtPiBsaW51eDo1MSAoS0VZX0NPTU1BKSAtPiBhdHNldDE6NTEgKi9cbiAgXCJDb250ZXh0TWVudVwiOiAweGUwNWQsIC8qIGh0bWw6Q29udGV4dE1lbnUgKENvbnRleHRNZW51KSAtPiBsaW51eDoxMjcgKEtFWV9DT01QT1NFKSAtPiBhdHNldDE6NTc0MzcgKi9cbiAgXCJDb250cm9sTGVmdFwiOiAweDFkLCAvKiBodG1sOkNvbnRyb2xMZWZ0IChDb250cm9sTGVmdCkgLT4gbGludXg6MjkgKEtFWV9MRUZUQ1RSTCkgLT4gYXRzZXQxOjI5ICovXG4gIFwiQ29udHJvbFJpZ2h0XCI6IDB4ZTAxZCwgLyogaHRtbDpDb250cm9sUmlnaHQgKENvbnRyb2xSaWdodCkgLT4gbGludXg6OTcgKEtFWV9SSUdIVENUUkwpIC0+IGF0c2V0MTo1NzM3MyAqL1xuICBcIkNvbnZlcnRcIjogMHg3OSwgLyogaHRtbDpDb252ZXJ0IChDb252ZXJ0KSAtPiBsaW51eDo5MiAoS0VZX0hFTktBTikgLT4gYXRzZXQxOjEyMSAqL1xuICBcIkNvcHlcIjogMHhlMDc4LCAvKiBodG1sOkNvcHkgKENvcHkpIC0+IGxpbnV4OjEzMyAoS0VZX0NPUFkpIC0+IGF0c2V0MTo1NzQ2NCAqL1xuICBcIkN1dFwiOiAweGUwM2MsIC8qIGh0bWw6Q3V0IChDdXQpIC0+IGxpbnV4OjEzNyAoS0VZX0NVVCkgLT4gYXRzZXQxOjU3NDA0ICovXG4gIFwiRGVsZXRlXCI6IDB4ZTA1MywgLyogaHRtbDpEZWxldGUgKERlbGV0ZSkgLT4gbGludXg6MTExIChLRVlfREVMRVRFKSAtPiBhdHNldDE6NTc0MjcgKi9cbiAgXCJEaWdpdDBcIjogMHhiLCAvKiBodG1sOkRpZ2l0MCAoRGlnaXQwKSAtPiBsaW51eDoxMSAoS0VZXzApIC0+IGF0c2V0MToxMSAqL1xuICBcIkRpZ2l0MVwiOiAweDIsIC8qIGh0bWw6RGlnaXQxIChEaWdpdDEpIC0+IGxpbnV4OjIgKEtFWV8xKSAtPiBhdHNldDE6MiAqL1xuICBcIkRpZ2l0MlwiOiAweDMsIC8qIGh0bWw6RGlnaXQyIChEaWdpdDIpIC0+IGxpbnV4OjMgKEtFWV8yKSAtPiBhdHNldDE6MyAqL1xuICBcIkRpZ2l0M1wiOiAweDQsIC8qIGh0bWw6RGlnaXQzIChEaWdpdDMpIC0+IGxpbnV4OjQgKEtFWV8zKSAtPiBhdHNldDE6NCAqL1xuICBcIkRpZ2l0NFwiOiAweDUsIC8qIGh0bWw6RGlnaXQ0IChEaWdpdDQpIC0+IGxpbnV4OjUgKEtFWV80KSAtPiBhdHNldDE6NSAqL1xuICBcIkRpZ2l0NVwiOiAweDYsIC8qIGh0bWw6RGlnaXQ1IChEaWdpdDUpIC0+IGxpbnV4OjYgKEtFWV81KSAtPiBhdHNldDE6NiAqL1xuICBcIkRpZ2l0NlwiOiAweDcsIC8qIGh0bWw6RGlnaXQ2IChEaWdpdDYpIC0+IGxpbnV4OjcgKEtFWV82KSAtPiBhdHNldDE6NyAqL1xuICBcIkRpZ2l0N1wiOiAweDgsIC8qIGh0bWw6RGlnaXQ3IChEaWdpdDcpIC0+IGxpbnV4OjggKEtFWV83KSAtPiBhdHNldDE6OCAqL1xuICBcIkRpZ2l0OFwiOiAweDksIC8qIGh0bWw6RGlnaXQ4IChEaWdpdDgpIC0+IGxpbnV4OjkgKEtFWV84KSAtPiBhdHNldDE6OSAqL1xuICBcIkRpZ2l0OVwiOiAweGEsIC8qIGh0bWw6RGlnaXQ5IChEaWdpdDkpIC0+IGxpbnV4OjEwIChLRVlfOSkgLT4gYXRzZXQxOjEwICovXG4gIFwiRWplY3RcIjogMHhlMDdkLCAvKiBodG1sOkVqZWN0IChFamVjdCkgLT4gbGludXg6MTYyIChLRVlfRUpFQ1RDTE9TRUNEKSAtPiBhdHNldDE6NTc0NjkgKi9cbiAgXCJFbmRcIjogMHhlMDRmLCAvKiBodG1sOkVuZCAoRW5kKSAtPiBsaW51eDoxMDcgKEtFWV9FTkQpIC0+IGF0c2V0MTo1NzQyMyAqL1xuICBcIkVudGVyXCI6IDB4MWMsIC8qIGh0bWw6RW50ZXIgKEVudGVyKSAtPiBsaW51eDoyOCAoS0VZX0VOVEVSKSAtPiBhdHNldDE6MjggKi9cbiAgXCJFcXVhbFwiOiAweGQsIC8qIGh0bWw6RXF1YWwgKEVxdWFsKSAtPiBsaW51eDoxMyAoS0VZX0VRVUFMKSAtPiBhdHNldDE6MTMgKi9cbiAgXCJFc2NhcGVcIjogMHgxLCAvKiBodG1sOkVzY2FwZSAoRXNjYXBlKSAtPiBsaW51eDoxIChLRVlfRVNDKSAtPiBhdHNldDE6MSAqL1xuICBcIkYxXCI6IDB4M2IsIC8qIGh0bWw6RjEgKEYxKSAtPiBsaW51eDo1OSAoS0VZX0YxKSAtPiBhdHNldDE6NTkgKi9cbiAgXCJGMTBcIjogMHg0NCwgLyogaHRtbDpGMTAgKEYxMCkgLT4gbGludXg6NjggKEtFWV9GMTApIC0+IGF0c2V0MTo2OCAqL1xuICBcIkYxMVwiOiAweDU3LCAvKiBodG1sOkYxMSAoRjExKSAtPiBsaW51eDo4NyAoS0VZX0YxMSkgLT4gYXRzZXQxOjg3ICovXG4gIFwiRjEyXCI6IDB4NTgsIC8qIGh0bWw6RjEyIChGMTIpIC0+IGxpbnV4Ojg4IChLRVlfRjEyKSAtPiBhdHNldDE6ODggKi9cbiAgXCJGMTNcIjogMHg1ZCwgLyogaHRtbDpGMTMgKEYxMykgLT4gbGludXg6MTgzIChLRVlfRjEzKSAtPiBhdHNldDE6OTMgKi9cbiAgXCJGMTRcIjogMHg1ZSwgLyogaHRtbDpGMTQgKEYxNCkgLT4gbGludXg6MTg0IChLRVlfRjE0KSAtPiBhdHNldDE6OTQgKi9cbiAgXCJGMTVcIjogMHg1ZiwgLyogaHRtbDpGMTUgKEYxNSkgLT4gbGludXg6MTg1IChLRVlfRjE1KSAtPiBhdHNldDE6OTUgKi9cbiAgXCJGMTZcIjogMHg1NSwgLyogaHRtbDpGMTYgKEYxNikgLT4gbGludXg6MTg2IChLRVlfRjE2KSAtPiBhdHNldDE6ODUgKi9cbiAgXCJGMTdcIjogMHhlMDAzLCAvKiBodG1sOkYxNyAoRjE3KSAtPiBsaW51eDoxODcgKEtFWV9GMTcpIC0+IGF0c2V0MTo1NzM0NyAqL1xuICBcIkYxOFwiOiAweGUwNzcsIC8qIGh0bWw6RjE4IChGMTgpIC0+IGxpbnV4OjE4OCAoS0VZX0YxOCkgLT4gYXRzZXQxOjU3NDYzICovXG4gIFwiRjE5XCI6IDB4ZTAwNCwgLyogaHRtbDpGMTkgKEYxOSkgLT4gbGludXg6MTg5IChLRVlfRjE5KSAtPiBhdHNldDE6NTczNDggKi9cbiAgXCJGMlwiOiAweDNjLCAvKiBodG1sOkYyIChGMikgLT4gbGludXg6NjAgKEtFWV9GMikgLT4gYXRzZXQxOjYwICovXG4gIFwiRjIwXCI6IDB4NWEsIC8qIGh0bWw6RjIwIChGMjApIC0+IGxpbnV4OjE5MCAoS0VZX0YyMCkgLT4gYXRzZXQxOjkwICovXG4gIFwiRjIxXCI6IDB4NzQsIC8qIGh0bWw6RjIxIChGMjEpIC0+IGxpbnV4OjE5MSAoS0VZX0YyMSkgLT4gYXRzZXQxOjExNiAqL1xuICBcIkYyMlwiOiAweGUwNzksIC8qIGh0bWw6RjIyIChGMjIpIC0+IGxpbnV4OjE5MiAoS0VZX0YyMikgLT4gYXRzZXQxOjU3NDY1ICovXG4gIFwiRjIzXCI6IDB4NmQsIC8qIGh0bWw6RjIzIChGMjMpIC0+IGxpbnV4OjE5MyAoS0VZX0YyMykgLT4gYXRzZXQxOjEwOSAqL1xuICBcIkYyNFwiOiAweDZmLCAvKiBodG1sOkYyNCAoRjI0KSAtPiBsaW51eDoxOTQgKEtFWV9GMjQpIC0+IGF0c2V0MToxMTEgKi9cbiAgXCJGM1wiOiAweDNkLCAvKiBodG1sOkYzIChGMykgLT4gbGludXg6NjEgKEtFWV9GMykgLT4gYXRzZXQxOjYxICovXG4gIFwiRjRcIjogMHgzZSwgLyogaHRtbDpGNCAoRjQpIC0+IGxpbnV4OjYyIChLRVlfRjQpIC0+IGF0c2V0MTo2MiAqL1xuICBcIkY1XCI6IDB4M2YsIC8qIGh0bWw6RjUgKEY1KSAtPiBsaW51eDo2MyAoS0VZX0Y1KSAtPiBhdHNldDE6NjMgKi9cbiAgXCJGNlwiOiAweDQwLCAvKiBodG1sOkY2IChGNikgLT4gbGludXg6NjQgKEtFWV9GNikgLT4gYXRzZXQxOjY0ICovXG4gIFwiRjdcIjogMHg0MSwgLyogaHRtbDpGNyAoRjcpIC0+IGxpbnV4OjY1IChLRVlfRjcpIC0+IGF0c2V0MTo2NSAqL1xuICBcIkY4XCI6IDB4NDIsIC8qIGh0bWw6RjggKEY4KSAtPiBsaW51eDo2NiAoS0VZX0Y4KSAtPiBhdHNldDE6NjYgKi9cbiAgXCJGOVwiOiAweDQzLCAvKiBodG1sOkY5IChGOSkgLT4gbGludXg6NjcgKEtFWV9GOSkgLT4gYXRzZXQxOjY3ICovXG4gIFwiRmluZFwiOiAweGUwNDEsIC8qIGh0bWw6RmluZCAoRmluZCkgLT4gbGludXg6MTM2IChLRVlfRklORCkgLT4gYXRzZXQxOjU3NDA5ICovXG4gIFwiSGVscFwiOiAweGUwNzUsIC8qIGh0bWw6SGVscCAoSGVscCkgLT4gbGludXg6MTM4IChLRVlfSEVMUCkgLT4gYXRzZXQxOjU3NDYxICovXG4gIFwiSGlyYWdhbmFcIjogMHg3NywgLyogaHRtbDpIaXJhZ2FuYSAoTGFuZzQpIC0+IGxpbnV4OjkxIChLRVlfSElSQUdBTkEpIC0+IGF0c2V0MToxMTkgKi9cbiAgXCJIb21lXCI6IDB4ZTA0NywgLyogaHRtbDpIb21lIChIb21lKSAtPiBsaW51eDoxMDIgKEtFWV9IT01FKSAtPiBhdHNldDE6NTc0MTUgKi9cbiAgXCJJbnNlcnRcIjogMHhlMDUyLCAvKiBodG1sOkluc2VydCAoSW5zZXJ0KSAtPiBsaW51eDoxMTAgKEtFWV9JTlNFUlQpIC0+IGF0c2V0MTo1NzQyNiAqL1xuICBcIkludGxCYWNrc2xhc2hcIjogMHg1NiwgLyogaHRtbDpJbnRsQmFja3NsYXNoIChJbnRsQmFja3NsYXNoKSAtPiBsaW51eDo4NiAoS0VZXzEwMk5EKSAtPiBhdHNldDE6ODYgKi9cbiAgXCJJbnRsUm9cIjogMHg3MywgLyogaHRtbDpJbnRsUm8gKEludGxSbykgLT4gbGludXg6ODkgKEtFWV9STykgLT4gYXRzZXQxOjExNSAqL1xuICBcIkludGxZZW5cIjogMHg3ZCwgLyogaHRtbDpJbnRsWWVuIChJbnRsWWVuKSAtPiBsaW51eDoxMjQgKEtFWV9ZRU4pIC0+IGF0c2V0MToxMjUgKi9cbiAgXCJLYW5hTW9kZVwiOiAweDcwLCAvKiBodG1sOkthbmFNb2RlIChLYW5hTW9kZSkgLT4gbGludXg6OTMgKEtFWV9LQVRBS0FOQUhJUkFHQU5BKSAtPiBhdHNldDE6MTEyICovXG4gIFwiS2F0YWthbmFcIjogMHg3OCwgLyogaHRtbDpLYXRha2FuYSAoTGFuZzMpIC0+IGxpbnV4OjkwIChLRVlfS0FUQUtBTkEpIC0+IGF0c2V0MToxMjAgKi9cbiAgXCJLZXlBXCI6IDB4MWUsIC8qIGh0bWw6S2V5QSAoS2V5QSkgLT4gbGludXg6MzAgKEtFWV9BKSAtPiBhdHNldDE6MzAgKi9cbiAgXCJLZXlCXCI6IDB4MzAsIC8qIGh0bWw6S2V5QiAoS2V5QikgLT4gbGludXg6NDggKEtFWV9CKSAtPiBhdHNldDE6NDggKi9cbiAgXCJLZXlDXCI6IDB4MmUsIC8qIGh0bWw6S2V5QyAoS2V5QykgLT4gbGludXg6NDYgKEtFWV9DKSAtPiBhdHNldDE6NDYgKi9cbiAgXCJLZXlEXCI6IDB4MjAsIC8qIGh0bWw6S2V5RCAoS2V5RCkgLT4gbGludXg6MzIgKEtFWV9EKSAtPiBhdHNldDE6MzIgKi9cbiAgXCJLZXlFXCI6IDB4MTIsIC8qIGh0bWw6S2V5RSAoS2V5RSkgLT4gbGludXg6MTggKEtFWV9FKSAtPiBhdHNldDE6MTggKi9cbiAgXCJLZXlGXCI6IDB4MjEsIC8qIGh0bWw6S2V5RiAoS2V5RikgLT4gbGludXg6MzMgKEtFWV9GKSAtPiBhdHNldDE6MzMgKi9cbiAgXCJLZXlHXCI6IDB4MjIsIC8qIGh0bWw6S2V5RyAoS2V5RykgLT4gbGludXg6MzQgKEtFWV9HKSAtPiBhdHNldDE6MzQgKi9cbiAgXCJLZXlIXCI6IDB4MjMsIC8qIGh0bWw6S2V5SCAoS2V5SCkgLT4gbGludXg6MzUgKEtFWV9IKSAtPiBhdHNldDE6MzUgKi9cbiAgXCJLZXlJXCI6IDB4MTcsIC8qIGh0bWw6S2V5SSAoS2V5SSkgLT4gbGludXg6MjMgKEtFWV9JKSAtPiBhdHNldDE6MjMgKi9cbiAgXCJLZXlKXCI6IDB4MjQsIC8qIGh0bWw6S2V5SiAoS2V5SikgLT4gbGludXg6MzYgKEtFWV9KKSAtPiBhdHNldDE6MzYgKi9cbiAgXCJLZXlLXCI6IDB4MjUsIC8qIGh0bWw6S2V5SyAoS2V5SykgLT4gbGludXg6MzcgKEtFWV9LKSAtPiBhdHNldDE6MzcgKi9cbiAgXCJLZXlMXCI6IDB4MjYsIC8qIGh0bWw6S2V5TCAoS2V5TCkgLT4gbGludXg6MzggKEtFWV9MKSAtPiBhdHNldDE6MzggKi9cbiAgXCJLZXlNXCI6IDB4MzIsIC8qIGh0bWw6S2V5TSAoS2V5TSkgLT4gbGludXg6NTAgKEtFWV9NKSAtPiBhdHNldDE6NTAgKi9cbiAgXCJLZXlOXCI6IDB4MzEsIC8qIGh0bWw6S2V5TiAoS2V5TikgLT4gbGludXg6NDkgKEtFWV9OKSAtPiBhdHNldDE6NDkgKi9cbiAgXCJLZXlPXCI6IDB4MTgsIC8qIGh0bWw6S2V5TyAoS2V5TykgLT4gbGludXg6MjQgKEtFWV9PKSAtPiBhdHNldDE6MjQgKi9cbiAgXCJLZXlQXCI6IDB4MTksIC8qIGh0bWw6S2V5UCAoS2V5UCkgLT4gbGludXg6MjUgKEtFWV9QKSAtPiBhdHNldDE6MjUgKi9cbiAgXCJLZXlRXCI6IDB4MTAsIC8qIGh0bWw6S2V5USAoS2V5USkgLT4gbGludXg6MTYgKEtFWV9RKSAtPiBhdHNldDE6MTYgKi9cbiAgXCJLZXlSXCI6IDB4MTMsIC8qIGh0bWw6S2V5UiAoS2V5UikgLT4gbGludXg6MTkgKEtFWV9SKSAtPiBhdHNldDE6MTkgKi9cbiAgXCJLZXlTXCI6IDB4MWYsIC8qIGh0bWw6S2V5UyAoS2V5UykgLT4gbGludXg6MzEgKEtFWV9TKSAtPiBhdHNldDE6MzEgKi9cbiAgXCJLZXlUXCI6IDB4MTQsIC8qIGh0bWw6S2V5VCAoS2V5VCkgLT4gbGludXg6MjAgKEtFWV9UKSAtPiBhdHNldDE6MjAgKi9cbiAgXCJLZXlVXCI6IDB4MTYsIC8qIGh0bWw6S2V5VSAoS2V5VSkgLT4gbGludXg6MjIgKEtFWV9VKSAtPiBhdHNldDE6MjIgKi9cbiAgXCJLZXlWXCI6IDB4MmYsIC8qIGh0bWw6S2V5ViAoS2V5VikgLT4gbGludXg6NDcgKEtFWV9WKSAtPiBhdHNldDE6NDcgKi9cbiAgXCJLZXlXXCI6IDB4MTEsIC8qIGh0bWw6S2V5VyAoS2V5VykgLT4gbGludXg6MTcgKEtFWV9XKSAtPiBhdHNldDE6MTcgKi9cbiAgXCJLZXlYXCI6IDB4MmQsIC8qIGh0bWw6S2V5WCAoS2V5WCkgLT4gbGludXg6NDUgKEtFWV9YKSAtPiBhdHNldDE6NDUgKi9cbiAgXCJLZXlZXCI6IDB4MTUsIC8qIGh0bWw6S2V5WSAoS2V5WSkgLT4gbGludXg6MjEgKEtFWV9ZKSAtPiBhdHNldDE6MjEgKi9cbiAgXCJLZXlaXCI6IDB4MmMsIC8qIGh0bWw6S2V5WiAoS2V5WikgLT4gbGludXg6NDQgKEtFWV9aKSAtPiBhdHNldDE6NDQgKi9cbiAgXCJMYW5nM1wiOiAweDc4LCAvKiBodG1sOkxhbmczIChMYW5nMykgLT4gbGludXg6OTAgKEtFWV9LQVRBS0FOQSkgLT4gYXRzZXQxOjEyMCAqL1xuICBcIkxhbmc0XCI6IDB4NzcsIC8qIGh0bWw6TGFuZzQgKExhbmc0KSAtPiBsaW51eDo5MSAoS0VZX0hJUkFHQU5BKSAtPiBhdHNldDE6MTE5ICovXG4gIFwiTGFuZzVcIjogMHg3NiwgLyogaHRtbDpMYW5nNSAoTGFuZzUpIC0+IGxpbnV4Ojg1IChLRVlfWkVOS0FLVUhBTktBS1UpIC0+IGF0c2V0MToxMTggKi9cbiAgXCJMYXVuY2hBcHAxXCI6IDB4ZTA2YiwgLyogaHRtbDpMYXVuY2hBcHAxIChMYXVuY2hBcHAxKSAtPiBsaW51eDoxNTcgKEtFWV9DT01QVVRFUikgLT4gYXRzZXQxOjU3NDUxICovXG4gIFwiTGF1bmNoQXBwMlwiOiAweGUwMjEsIC8qIGh0bWw6TGF1bmNoQXBwMiAoTGF1bmNoQXBwMikgLT4gbGludXg6MTQwIChLRVlfQ0FMQykgLT4gYXRzZXQxOjU3Mzc3ICovXG4gIFwiTGF1bmNoTWFpbFwiOiAweGUwNmMsIC8qIGh0bWw6TGF1bmNoTWFpbCAoTGF1bmNoTWFpbCkgLT4gbGludXg6MTU1IChLRVlfTUFJTCkgLT4gYXRzZXQxOjU3NDUyICovXG4gIFwiTWVkaWFQbGF5UGF1c2VcIjogMHhlMDIyLCAvKiBodG1sOk1lZGlhUGxheVBhdXNlIChNZWRpYVBsYXlQYXVzZSkgLT4gbGludXg6MTY0IChLRVlfUExBWVBBVVNFKSAtPiBhdHNldDE6NTczNzggKi9cbiAgXCJNZWRpYVNlbGVjdFwiOiAweGUwNmQsIC8qIGh0bWw6TWVkaWFTZWxlY3QgKE1lZGlhU2VsZWN0KSAtPiBsaW51eDoyMjYgKEtFWV9NRURJQSkgLT4gYXRzZXQxOjU3NDUzICovXG4gIFwiTWVkaWFTdG9wXCI6IDB4ZTAyNCwgLyogaHRtbDpNZWRpYVN0b3AgKE1lZGlhU3RvcCkgLT4gbGludXg6MTY2IChLRVlfU1RPUENEKSAtPiBhdHNldDE6NTczODAgKi9cbiAgXCJNZWRpYVRyYWNrTmV4dFwiOiAweGUwMTksIC8qIGh0bWw6TWVkaWFUcmFja05leHQgKE1lZGlhVHJhY2tOZXh0KSAtPiBsaW51eDoxNjMgKEtFWV9ORVhUU09ORykgLT4gYXRzZXQxOjU3MzY5ICovXG4gIFwiTWVkaWFUcmFja1ByZXZpb3VzXCI6IDB4ZTAxMCwgLyogaHRtbDpNZWRpYVRyYWNrUHJldmlvdXMgKE1lZGlhVHJhY2tQcmV2aW91cykgLT4gbGludXg6MTY1IChLRVlfUFJFVklPVVNTT05HKSAtPiBhdHNldDE6NTczNjAgKi9cbiAgXCJNZXRhTGVmdFwiOiAweGUwNWIsIC8qIGh0bWw6TWV0YUxlZnQgKE1ldGFMZWZ0KSAtPiBsaW51eDoxMjUgKEtFWV9MRUZUTUVUQSkgLT4gYXRzZXQxOjU3NDM1ICovXG4gIFwiTWV0YVJpZ2h0XCI6IDB4ZTA1YywgLyogaHRtbDpNZXRhUmlnaHQgKE1ldGFSaWdodCkgLT4gbGludXg6MTI2IChLRVlfUklHSFRNRVRBKSAtPiBhdHNldDE6NTc0MzYgKi9cbiAgXCJNaW51c1wiOiAweGMsIC8qIGh0bWw6TWludXMgKE1pbnVzKSAtPiBsaW51eDoxMiAoS0VZX01JTlVTKSAtPiBhdHNldDE6MTIgKi9cbiAgXCJOb25Db252ZXJ0XCI6IDB4N2IsIC8qIGh0bWw6Tm9uQ29udmVydCAoTm9uQ29udmVydCkgLT4gbGludXg6OTQgKEtFWV9NVUhFTktBTikgLT4gYXRzZXQxOjEyMyAqL1xuICBcIk51bUxvY2tcIjogMHg0NSwgLyogaHRtbDpOdW1Mb2NrIChOdW1Mb2NrKSAtPiBsaW51eDo2OSAoS0VZX05VTUxPQ0spIC0+IGF0c2V0MTo2OSAqL1xuICBcIk51bXBhZDBcIjogMHg1MiwgLyogaHRtbDpOdW1wYWQwIChOdW1wYWQwKSAtPiBsaW51eDo4MiAoS0VZX0tQMCkgLT4gYXRzZXQxOjgyICovXG4gIFwiTnVtcGFkMVwiOiAweDRmLCAvKiBodG1sOk51bXBhZDEgKE51bXBhZDEpIC0+IGxpbnV4Ojc5IChLRVlfS1AxKSAtPiBhdHNldDE6NzkgKi9cbiAgXCJOdW1wYWQyXCI6IDB4NTAsIC8qIGh0bWw6TnVtcGFkMiAoTnVtcGFkMikgLT4gbGludXg6ODAgKEtFWV9LUDIpIC0+IGF0c2V0MTo4MCAqL1xuICBcIk51bXBhZDNcIjogMHg1MSwgLyogaHRtbDpOdW1wYWQzIChOdW1wYWQzKSAtPiBsaW51eDo4MSAoS0VZX0tQMykgLT4gYXRzZXQxOjgxICovXG4gIFwiTnVtcGFkNFwiOiAweDRiLCAvKiBodG1sOk51bXBhZDQgKE51bXBhZDQpIC0+IGxpbnV4Ojc1IChLRVlfS1A0KSAtPiBhdHNldDE6NzUgKi9cbiAgXCJOdW1wYWQ1XCI6IDB4NGMsIC8qIGh0bWw6TnVtcGFkNSAoTnVtcGFkNSkgLT4gbGludXg6NzYgKEtFWV9LUDUpIC0+IGF0c2V0MTo3NiAqL1xuICBcIk51bXBhZDZcIjogMHg0ZCwgLyogaHRtbDpOdW1wYWQ2IChOdW1wYWQ2KSAtPiBsaW51eDo3NyAoS0VZX0tQNikgLT4gYXRzZXQxOjc3ICovXG4gIFwiTnVtcGFkN1wiOiAweDQ3LCAvKiBodG1sOk51bXBhZDcgKE51bXBhZDcpIC0+IGxpbnV4OjcxIChLRVlfS1A3KSAtPiBhdHNldDE6NzEgKi9cbiAgXCJOdW1wYWQ4XCI6IDB4NDgsIC8qIGh0bWw6TnVtcGFkOCAoTnVtcGFkOCkgLT4gbGludXg6NzIgKEtFWV9LUDgpIC0+IGF0c2V0MTo3MiAqL1xuICBcIk51bXBhZDlcIjogMHg0OSwgLyogaHRtbDpOdW1wYWQ5IChOdW1wYWQ5KSAtPiBsaW51eDo3MyAoS0VZX0tQOSkgLT4gYXRzZXQxOjczICovXG4gIFwiTnVtcGFkQWRkXCI6IDB4NGUsIC8qIGh0bWw6TnVtcGFkQWRkIChOdW1wYWRBZGQpIC0+IGxpbnV4Ojc4IChLRVlfS1BQTFVTKSAtPiBhdHNldDE6NzggKi9cbiAgXCJOdW1wYWRDb21tYVwiOiAweDdlLCAvKiBodG1sOk51bXBhZENvbW1hIChOdW1wYWRDb21tYSkgLT4gbGludXg6MTIxIChLRVlfS1BDT01NQSkgLT4gYXRzZXQxOjEyNiAqL1xuICBcIk51bXBhZERlY2ltYWxcIjogMHg1MywgLyogaHRtbDpOdW1wYWREZWNpbWFsIChOdW1wYWREZWNpbWFsKSAtPiBsaW51eDo4MyAoS0VZX0tQRE9UKSAtPiBhdHNldDE6ODMgKi9cbiAgXCJOdW1wYWREaXZpZGVcIjogMHhlMDM1LCAvKiBodG1sOk51bXBhZERpdmlkZSAoTnVtcGFkRGl2aWRlKSAtPiBsaW51eDo5OCAoS0VZX0tQU0xBU0gpIC0+IGF0c2V0MTo1NzM5NyAqL1xuICBcIk51bXBhZEVudGVyXCI6IDB4ZTAxYywgLyogaHRtbDpOdW1wYWRFbnRlciAoTnVtcGFkRW50ZXIpIC0+IGxpbnV4Ojk2IChLRVlfS1BFTlRFUikgLT4gYXRzZXQxOjU3MzcyICovXG4gIFwiTnVtcGFkRXF1YWxcIjogMHg1OSwgLyogaHRtbDpOdW1wYWRFcXVhbCAoTnVtcGFkRXF1YWwpIC0+IGxpbnV4OjExNyAoS0VZX0tQRVFVQUwpIC0+IGF0c2V0MTo4OSAqL1xuICBcIk51bXBhZE11bHRpcGx5XCI6IDB4MzcsIC8qIGh0bWw6TnVtcGFkTXVsdGlwbHkgKE51bXBhZE11bHRpcGx5KSAtPiBsaW51eDo1NSAoS0VZX0tQQVNURVJJU0spIC0+IGF0c2V0MTo1NSAqL1xuICBcIk51bXBhZFBhcmVuTGVmdFwiOiAweGUwNzYsIC8qIGh0bWw6TnVtcGFkUGFyZW5MZWZ0IChOdW1wYWRQYXJlbkxlZnQpIC0+IGxpbnV4OjE3OSAoS0VZX0tQTEVGVFBBUkVOKSAtPiBhdHNldDE6NTc0NjIgKi9cbiAgXCJOdW1wYWRQYXJlblJpZ2h0XCI6IDB4ZTA3YiwgLyogaHRtbDpOdW1wYWRQYXJlblJpZ2h0IChOdW1wYWRQYXJlblJpZ2h0KSAtPiBsaW51eDoxODAgKEtFWV9LUFJJR0hUUEFSRU4pIC0+IGF0c2V0MTo1NzQ2NyAqL1xuICBcIk51bXBhZFN1YnRyYWN0XCI6IDB4NGEsIC8qIGh0bWw6TnVtcGFkU3VidHJhY3QgKE51bXBhZFN1YnRyYWN0KSAtPiBsaW51eDo3NCAoS0VZX0tQTUlOVVMpIC0+IGF0c2V0MTo3NCAqL1xuICBcIk9wZW5cIjogMHg2NCwgLyogaHRtbDpPcGVuIChPcGVuKSAtPiBsaW51eDoxMzQgKEtFWV9PUEVOKSAtPiBhdHNldDE6MTAwICovXG4gIFwiUGFnZURvd25cIjogMHhlMDUxLCAvKiBodG1sOlBhZ2VEb3duIChQYWdlRG93bikgLT4gbGludXg6MTA5IChLRVlfUEFHRURPV04pIC0+IGF0c2V0MTo1NzQyNSAqL1xuICBcIlBhZ2VVcFwiOiAweGUwNDksIC8qIGh0bWw6UGFnZVVwIChQYWdlVXApIC0+IGxpbnV4OjEwNCAoS0VZX1BBR0VVUCkgLT4gYXRzZXQxOjU3NDE3ICovXG4gIFwiUGFzdGVcIjogMHg2NSwgLyogaHRtbDpQYXN0ZSAoUGFzdGUpIC0+IGxpbnV4OjEzNSAoS0VZX1BBU1RFKSAtPiBhdHNldDE6MTAxICovXG4gIFwiUGF1c2VcIjogMHhlMDQ2LCAvKiBodG1sOlBhdXNlIChQYXVzZSkgLT4gbGludXg6MTE5IChLRVlfUEFVU0UpIC0+IGF0c2V0MTo1NzQxNCAqL1xuICBcIlBlcmlvZFwiOiAweDM0LCAvKiBodG1sOlBlcmlvZCAoUGVyaW9kKSAtPiBsaW51eDo1MiAoS0VZX0RPVCkgLT4gYXRzZXQxOjUyICovXG4gIFwiUG93ZXJcIjogMHhlMDVlLCAvKiBodG1sOlBvd2VyIChQb3dlcikgLT4gbGludXg6MTE2IChLRVlfUE9XRVIpIC0+IGF0c2V0MTo1NzQzOCAqL1xuICBcIlByaW50U2NyZWVuXCI6IDB4NTQsIC8qIGh0bWw6UHJpbnRTY3JlZW4gKFByaW50U2NyZWVuKSAtPiBsaW51eDo5OSAoS0VZX1NZU1JRKSAtPiBhdHNldDE6ODQgKi9cbiAgXCJQcm9wc1wiOiAweGUwMDYsIC8qIGh0bWw6UHJvcHMgKFByb3BzKSAtPiBsaW51eDoxMzAgKEtFWV9QUk9QUykgLT4gYXRzZXQxOjU3MzUwICovXG4gIFwiUXVvdGVcIjogMHgyOCwgLyogaHRtbDpRdW90ZSAoUXVvdGUpIC0+IGxpbnV4OjQwIChLRVlfQVBPU1RST1BIRSkgLT4gYXRzZXQxOjQwICovXG4gIFwiU2Nyb2xsTG9ja1wiOiAweDQ2LCAvKiBodG1sOlNjcm9sbExvY2sgKFNjcm9sbExvY2spIC0+IGxpbnV4OjcwIChLRVlfU0NST0xMTE9DSykgLT4gYXRzZXQxOjcwICovXG4gIFwiU2VtaWNvbG9uXCI6IDB4MjcsIC8qIGh0bWw6U2VtaWNvbG9uIChTZW1pY29sb24pIC0+IGxpbnV4OjM5IChLRVlfU0VNSUNPTE9OKSAtPiBhdHNldDE6MzkgKi9cbiAgXCJTaGlmdExlZnRcIjogMHgyYSwgLyogaHRtbDpTaGlmdExlZnQgKFNoaWZ0TGVmdCkgLT4gbGludXg6NDIgKEtFWV9MRUZUU0hJRlQpIC0+IGF0c2V0MTo0MiAqL1xuICBcIlNoaWZ0UmlnaHRcIjogMHgzNiwgLyogaHRtbDpTaGlmdFJpZ2h0IChTaGlmdFJpZ2h0KSAtPiBsaW51eDo1NCAoS0VZX1JJR0hUU0hJRlQpIC0+IGF0c2V0MTo1NCAqL1xuICBcIlNsYXNoXCI6IDB4MzUsIC8qIGh0bWw6U2xhc2ggKFNsYXNoKSAtPiBsaW51eDo1MyAoS0VZX1NMQVNIKSAtPiBhdHNldDE6NTMgKi9cbiAgXCJTbGVlcFwiOiAweGUwNWYsIC8qIGh0bWw6U2xlZXAgKFNsZWVwKSAtPiBsaW51eDoxNDIgKEtFWV9TTEVFUCkgLT4gYXRzZXQxOjU3NDM5ICovXG4gIFwiU3BhY2VcIjogMHgzOSwgLyogaHRtbDpTcGFjZSAoU3BhY2UpIC0+IGxpbnV4OjU3IChLRVlfU1BBQ0UpIC0+IGF0c2V0MTo1NyAqL1xuICBcIlN1c3BlbmRcIjogMHhlMDI1LCAvKiBodG1sOlN1c3BlbmQgKFN1c3BlbmQpIC0+IGxpbnV4OjIwNSAoS0VZX1NVU1BFTkQpIC0+IGF0c2V0MTo1NzM4MSAqL1xuICBcIlRhYlwiOiAweGYsIC8qIGh0bWw6VGFiIChUYWIpIC0+IGxpbnV4OjE1IChLRVlfVEFCKSAtPiBhdHNldDE6MTUgKi9cbiAgXCJVbmRvXCI6IDB4ZTAwNywgLyogaHRtbDpVbmRvIChVbmRvKSAtPiBsaW51eDoxMzEgKEtFWV9VTkRPKSAtPiBhdHNldDE6NTczNTEgKi9cbiAgXCJXYWtlVXBcIjogMHhlMDYzLCAvKiBodG1sOldha2VVcCAoV2FrZVVwKSAtPiBsaW51eDoxNDMgKEtFWV9XQUtFVVApIC0+IGF0c2V0MTo1NzQ0MyAqL1xufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIFRJR0hUIGRlY29kZXIgcG9ydGlvbjpcbiAqIChjKSAyMDEyIE1pY2hhZWwgVGluZ2xvZiwgSm9lIEJhbGF6LCBMZXMgUGllY2ggKE1lcmN1cmkuY2EpXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCB7IGRlY29kZVVURjggfSBmcm9tICcuL3V0aWwvc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c0N1cnNvclVSSXMsIGlzVG91Y2hEZXZpY2UgfSBmcm9tICcuL3V0aWwvYnJvd3Nlci5qcyc7XG5pbXBvcnQgRXZlbnRUYXJnZXRNaXhpbiBmcm9tICcuL3V0aWwvZXZlbnR0YXJnZXQuanMnO1xuaW1wb3J0IERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheS5qc1wiO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gXCIuL2lucHV0L2tleWJvYXJkLmpzXCI7XG5pbXBvcnQgTW91c2UgZnJvbSBcIi4vaW5wdXQvbW91c2UuanNcIjtcbmltcG9ydCBXZWJzb2NrIGZyb20gXCIuL3dlYnNvY2suanNcIjtcbmltcG9ydCBERVMgZnJvbSBcIi4vZGVzLmpzXCI7XG5pbXBvcnQgS2V5VGFibGUgZnJvbSBcIi4vaW5wdXQva2V5c3ltLmpzXCI7XG5pbXBvcnQgWHRTY2FuY29kZSBmcm9tIFwiLi9pbnB1dC94dHNjYW5jb2Rlcy5qc1wiO1xuaW1wb3J0IEluZmxhdG9yIGZyb20gXCIuL2luZmxhdG9yLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGluZ3MsIGVuY29kaW5nTmFtZSB9IGZyb20gXCIuL2VuY29kaW5ncy5qc1wiO1xuaW1wb3J0IFwiLi91dGlsL3BvbHlmaWxsLmpzXCI7XG5cbi8qanNsaW50IHdoaXRlOiBmYWxzZSwgYnJvd3NlcjogdHJ1ZSAqL1xuLypnbG9iYWwgd2luZG93LCBVdGlsLCBEaXNwbGF5LCBLZXlib2FyZCwgTW91c2UsIFdlYnNvY2ssIFdlYnNvY2tfbmF0aXZlLCBCYXNlNjQsIERFUywgS2V5VGFibGUsIEluZmxhdG9yLCBYdFNjYW5jb2RlICovXG5cbi8vIEhvdyBtYW55IHNlY29uZHMgdG8gd2FpdCBmb3IgYSBkaXNjb25uZWN0IHRvIGZpbmlzaFxudmFyIERJU0NPTk5FQ1RfVElNRU9VVCA9IDM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJGQih0YXJnZXQsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTXVzdCBzcGVjaWZ5IHRhcmdldFwiKTtcbiAgICB9XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJNdXN0IHNwZWNpZnkgVVJMXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG5cbiAgICAvLyBDb25uZWN0aW9uIGRldGFpbHNcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHt9O1xuICAgIHRoaXMuX3NoYXJlZCA9ICdzaGFyZWQnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMuc2hhcmVkIDogdHJ1ZTtcbiAgICB0aGlzLl9yZXBlYXRlcklEID0gb3B0aW9ucy5yZXBlYXRlcklEIHx8ICcnO1xuXG4gICAgLy8gSW50ZXJuYWwgc3RhdGVcbiAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9ICcnO1xuICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJyc7XG4gICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gJyc7XG4gICAgdGhpcy5fcmZiX2NsZWFuX2Rpc2Nvbm5lY3QgPSB0cnVlO1xuXG4gICAgLy8gU2VydmVyIGNhcGFiaWxpdGllc1xuICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMDtcbiAgICB0aGlzLl9yZmJfbWF4X3ZlcnNpb24gPSAzLjg7XG4gICAgdGhpcy5fcmZiX3RpZ2h0dm5jID0gZmFsc2U7XG4gICAgdGhpcy5fcmZiX3h2cF92ZXIgPSAwO1xuXG4gICAgdGhpcy5fZmJfd2lkdGggPSAwO1xuICAgIHRoaXMuX2ZiX2hlaWdodCA9IDA7XG5cbiAgICB0aGlzLl9mYl9uYW1lID0gXCJcIjtcblxuICAgIHRoaXMuX2NhcGFiaWxpdGllcyA9IHsgcG93ZXI6IGZhbHNlIH07XG5cbiAgICB0aGlzLl9zdXBwb3J0c0ZlbmNlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9zdXBwb3J0c0NvbnRpbnVvdXNVcGRhdGVzID0gZmFsc2U7XG4gICAgdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9zdXBwb3J0c1NldERlc2t0b3BTaXplID0gZmFsc2U7XG4gICAgdGhpcy5fc2NyZWVuX2lkID0gMDtcbiAgICB0aGlzLl9zY3JlZW5fZmxhZ3MgPSAwO1xuXG4gICAgdGhpcy5fcWVtdUV4dEtleUV2ZW50U3VwcG9ydGVkID0gZmFsc2U7XG5cbiAgICAvLyBJbnRlcm5hbCBvYmplY3RzXG4gICAgdGhpcy5fc29jayA9IG51bGw7ICAgICAgICAgICAgICAvLyBXZWJzb2NrIG9iamVjdFxuICAgIHRoaXMuX2Rpc3BsYXkgPSBudWxsOyAgICAgICAgICAgLy8gRGlzcGxheSBvYmplY3RcbiAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlOyAgICAgICAgIC8vIERpc3BsYXkgZmx1c2hpbmcgc3RhdGVcbiAgICB0aGlzLl9rZXlib2FyZCA9IG51bGw7ICAgICAgICAgIC8vIEtleWJvYXJkIGlucHV0IGhhbmRsZXIgb2JqZWN0XG4gICAgdGhpcy5fbW91c2UgPSBudWxsOyAgICAgICAgICAgICAvLyBNb3VzZSBpbnB1dCBoYW5kbGVyIG9iamVjdFxuXG4gICAgLy8gVGltZXJzXG4gICAgdGhpcy5fZGlzY29ublRpbWVyID0gbnVsbDsgICAgICAvLyBkaXNjb25uZWN0aW9uIHRpbWVyXG4gICAgdGhpcy5fcmVzaXplVGltZW91dCA9IG51bGw7ICAgICAvLyByZXNpemUgcmF0ZSBsaW1pdGluZ1xuXG4gICAgLy8gRGVjb2RlciBzdGF0ZXMgYW5kIHN0YXRzXG4gICAgdGhpcy5fZW5jSGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLl9lbmNTdGF0cyA9IHt9O1xuXG4gICAgdGhpcy5fRkJVID0ge1xuICAgICAgICByZWN0czogMCxcbiAgICAgICAgc3VicmVjdHM6IDAsICAgICAgICAgICAgLy8gUlJFIGFuZCBIRVhUSUxFXG4gICAgICAgIGxpbmVzOiAwLCAgICAgICAgICAgICAgIC8vIFJBV1xuICAgICAgICB0aWxlczogMCwgICAgICAgICAgICAgICAvLyBIRVhUSUxFXG4gICAgICAgIGJ5dGVzOiAwLFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBlbmNvZGluZzogMCxcbiAgICAgICAgc3ViZW5jb2Rpbmc6IC0xLFxuICAgICAgICBiYWNrZ3JvdW5kOiBudWxsLFxuICAgICAgICB6bGliczogW10gICAgICAgICAgICAgICAvLyBUSUdIVCB6bGliIHN0cmVhbXNcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX0ZCVS56bGlic1tpXSA9IG5ldyBJbmZsYXRvcigpO1xuICAgIH1cblxuICAgIHRoaXMuX2Rlc3RCdWZmID0gbnVsbDtcbiAgICB0aGlzLl9wYWxldHRlQnVmZiA9IG5ldyBVaW50OEFycmF5KDEwMjQpOyAgLy8gMjU2ICogNCAobWF4IHBhbGV0dGUgc2l6ZSAqIG1heCBieXRlcy1wZXItcGl4ZWwpXG5cbiAgICB0aGlzLl9ycmVfY2h1bmtfc3ogPSAxMDA7XG5cbiAgICB0aGlzLl90aW1pbmcgPSB7XG4gICAgICAgIGxhc3RfZmJ1OiAwLFxuICAgICAgICBmYnVfdG90YWw6IDAsXG4gICAgICAgIGZidV90b3RhbF9jbnQ6IDAsXG4gICAgICAgIGZ1bGxfZmJ1X3RvdGFsOiAwLFxuICAgICAgICBmdWxsX2ZidV9jbnQ6IDAsXG5cbiAgICAgICAgZmJ1X3J0X3N0YXJ0OiAwLFxuICAgICAgICBmYnVfcnRfdG90YWw6IDAsXG4gICAgICAgIGZidV9ydF9jbnQ6IDAsXG4gICAgICAgIHBpeGVsczogMFxuICAgIH07XG5cbiAgICAvLyBNb3VzZSBzdGF0ZVxuICAgIHRoaXMuX21vdXNlX2J1dHRvbk1hc2sgPSAwO1xuICAgIHRoaXMuX21vdXNlX2FyciA9IFtdO1xuICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl92aWV3cG9ydERyYWdQb3MgPSB7fTtcbiAgICB0aGlzLl92aWV3cG9ydEhhc01vdmVkID0gZmFsc2U7XG5cbiAgICAvLyBCb3VuZCBldmVudCBoYW5kbGVyc1xuICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgIGZvY3VzQ2FudmFzOiB0aGlzLl9mb2N1c0NhbnZhcy5iaW5kKHRoaXMpLFxuICAgICAgICB3aW5kb3dSZXNpemU6IHRoaXMuX3dpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpLFxuICAgIH07XG5cbiAgICAvLyBtYWluIHNldHVwXG4gICAgTG9nLkRlYnVnKFwiPj4gUkZCLmNvbnN0cnVjdG9yXCIpO1xuXG4gICAgLy8gQ3JlYXRlIERPTSBlbGVtZW50c1xuICAgIHRoaXMuX3NjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX3NjcmVlbi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9zY3JlZW4uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICB0aGlzLl9zY3JlZW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig0MCwgNDAsIDQwKSc7XG4gICAgdGhpcy5fY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fY2FudmFzLnN0eWxlLm1hcmdpbiA9ICdhdXRvJztcbiAgICAvLyBTb21lIGJyb3dzZXJzIGFkZCBhbiBvdXRsaW5lIG9uIGZvY3VzXG4gICAgdGhpcy5fY2FudmFzLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gICAgLy8gSUUgbWlzY2FsY3VsYXRlcyB3aWR0aCB3aXRob3V0IHRoaXMgOihcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUuZmxleFNocmluayA9ICcwJztcbiAgICB0aGlzLl9jYW52YXMud2lkdGggPSAwO1xuICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMuX2NhbnZhcy50YWJJbmRleCA9IC0xO1xuICAgIHRoaXMuX3NjcmVlbi5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpO1xuXG4gICAgLy8gcG9wdWxhdGUgZW5jSGFuZGxlcnMgd2l0aCBib3VuZCB2ZXJzaW9uc1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5lbmNvZGluZ1Jhd10gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5SQVcuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdDb3B5UmVjdF0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5DT1BZUkVDVC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5lbmNvZGluZ1JSRV0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5SUkUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdIZXh0aWxlXSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLkhFWFRJTEUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdUaWdodF0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5USUdIVC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRGVza3RvcFNpemVdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuRGVza3RvcFNpemUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdMYXN0UmVjdF0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5sYXN0X3JlY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDdXJzb3JdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuQ3Vyc29yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nUUVNVUV4dGVuZGVkS2V5RXZlbnRdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuUUVNVUV4dGVuZGVkS2V5RXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdFeHRlbmRlZERlc2t0b3BTaXplXSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLkV4dGVuZGVkRGVza3RvcFNpemUuYmluZCh0aGlzKTtcblxuICAgIC8vIE5COiBub3RoaW5nIHRoYXQgbmVlZHMgZXhwbGljaXQgdGVhcmRvd24gc2hvdWxkIGJlIGRvbmVcbiAgICAvLyBiZWZvcmUgdGhpcyBwb2ludCwgc2luY2UgdGhpcyBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uXG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy5fZGlzcGxheSA9IG5ldyBEaXNwbGF5KHRoaXMuX2NhbnZhcyk7XG4gICAgfSBjYXRjaCAoZXhjKSB7XG4gICAgICAgIExvZy5FcnJvcihcIkRpc3BsYXkgZXhjZXB0aW9uOiBcIiArIGV4Yyk7XG4gICAgICAgIHRocm93IGV4YztcbiAgICB9XG4gICAgdGhpcy5fZGlzcGxheS5vbmZsdXNoID0gdGhpcy5fb25GbHVzaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rpc3BsYXkuY2xlYXIoKTtcblxuICAgIHRoaXMuX2tleWJvYXJkID0gbmV3IEtleWJvYXJkKHRoaXMuX2NhbnZhcyk7XG4gICAgdGhpcy5fa2V5Ym9hcmQub25rZXlldmVudCA9IHRoaXMuX2hhbmRsZUtleUV2ZW50LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9tb3VzZSA9IG5ldyBNb3VzZSh0aGlzLl9jYW52YXMpO1xuICAgIHRoaXMuX21vdXNlLm9ubW91c2VidXR0b24gPSB0aGlzLl9oYW5kbGVNb3VzZUJ1dHRvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX21vdXNlLm9ubW91c2Vtb3ZlID0gdGhpcy5faGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9zb2NrID0gbmV3IFdlYnNvY2soKTtcbiAgICB0aGlzLl9zb2NrLm9uKCdtZXNzYWdlJywgdGhpcy5faGFuZGxlX21lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fc29jay5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9PT0gJ2Nvbm5lY3RpbmcnKSAmJlxuICAgICAgICAgICAgKHRoaXMuX3JmYl9pbml0X3N0YXRlID09PSAnJykpIHtcbiAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1Byb3RvY29sVmVyc2lvbic7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJTdGFydGluZyBWTkMgaGFuZHNoYWtlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIGNvbm5lY3Rpb24gd2hpbGUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX3NvY2sub24oJ2Nsb3NlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiV2ViU29ja2V0IG9uLWNsb3NlIGV2ZW50XCIpO1xuICAgICAgICB2YXIgbXNnID0gXCJcIjtcbiAgICAgICAgaWYgKGUuY29kZSkge1xuICAgICAgICAgICAgbXNnID0gXCIoY29kZTogXCIgKyBlLmNvZGU7XG4gICAgICAgICAgICBpZiAoZS5yZWFzb24pIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gXCIsIHJlYXNvbjogXCIgKyBlLnJlYXNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zZyArPSBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiQ29ubmVjdGlvbiBjbG9zZWQgXCIgKyBtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGlzY29ubmVjdHMgdGhhdCB3ZXJlIGluaXRpYXRlZCBzZXJ2ZXItc2lkZVxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICAvLyBOb3JtYWwgZGlzY29ubmVjdGlvbiBwYXRoXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIGRpc2Nvbm5lY3QgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aGVuIGFscmVhZHkgZGlzY29ubmVjdGVkIFwiICsgbXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIGRpc2Nvbm5lY3QgYmVmb3JlIGNvbm5lY3RpbmcgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zb2NrLm9mZignY2xvc2UnKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX3NvY2sub24oJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgTG9nLldhcm4oXCJXZWJTb2NrZXQgb24tZXJyb3IgZXZlbnRcIik7XG4gICAgfSk7XG5cbiAgICAvLyBTbGlnaHQgZGVsYXkgb2YgdGhlIGFjdHVhbCBjb25uZWN0aW9uIHNvIHRoYXQgdGhlIGNhbGxlciBoYXNcbiAgICAvLyB0aW1lIHRvIHNldCB1cCBjYWxsYmFja3NcbiAgICBzZXRUaW1lb3V0KHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZS5iaW5kKHRoaXMsICdjb25uZWN0aW5nJykpO1xuXG4gICAgTG9nLkRlYnVnKFwiPDwgUkZCLmNvbnN0cnVjdG9yXCIpO1xufTtcblxuUkZCLnByb3RvdHlwZSA9IHtcbiAgICAvLyA9PT09PSBQUk9QRVJUSUVTID09PT09XG5cbiAgICBkcmFnVmlld3BvcnQ6IGZhbHNlLFxuICAgIGZvY3VzT25DbGljazogdHJ1ZSxcblxuICAgIF92aWV3T25seTogZmFsc2UsXG4gICAgZ2V0IHZpZXdPbmx5KCkgeyByZXR1cm4gdGhpcy5fdmlld09ubHk7IH0sXG4gICAgc2V0IHZpZXdPbmx5KHZpZXdPbmx5KSB7XG4gICAgICAgIHRoaXMuX3ZpZXdPbmx5ID0gdmlld09ubHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlID09PSBcImNvbm5lY3RpbmdcIiB8fFxuICAgICAgICAgICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPT09IFwiY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIGlmICh2aWV3T25seSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLnVuZ3JhYigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdXNlLnVuZ3JhYigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9rZXlib2FyZC5ncmFiKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2UuZ3JhYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldCBjYXBhYmlsaXRpZXMoKSB7IHJldHVybiB0aGlzLl9jYXBhYmlsaXRpZXM7IH0sXG5cbiAgICBnZXQgdG91Y2hCdXR0b24oKSB7IHJldHVybiB0aGlzLl9tb3VzZS50b3VjaEJ1dHRvbjsgfSxcbiAgICBzZXQgdG91Y2hCdXR0b24oYnV0dG9uKSB7IHRoaXMuX21vdXNlLnRvdWNoQnV0dG9uID0gYnV0dG9uOyB9LFxuXG4gICAgX2NsaXBWaWV3cG9ydDogZmFsc2UsXG4gICAgZ2V0IGNsaXBWaWV3cG9ydCgpIHsgcmV0dXJuIHRoaXMuX2NsaXBWaWV3cG9ydDsgfSxcbiAgICBzZXQgY2xpcFZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMuX2NsaXBWaWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgfSxcblxuICAgIF9zY2FsZVZpZXdwb3J0OiBmYWxzZSxcbiAgICBnZXQgc2NhbGVWaWV3cG9ydCgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlVmlld3BvcnQ7IH0sXG4gICAgc2V0IHNjYWxlVmlld3BvcnQoc2NhbGUpIHtcbiAgICAgICAgdGhpcy5fc2NhbGVWaWV3cG9ydCA9IHNjYWxlO1xuICAgICAgICAvLyBTY2FsaW5nIHRydW1wcyBjbGlwcGluZywgc28gd2UgbWF5IG5lZWQgdG8gYWRqdXN0XG4gICAgICAgIC8vIGNsaXBwaW5nIHdoZW4gZW5hYmxpbmcgb3IgZGlzYWJsaW5nIHNjYWxpbmdcbiAgICAgICAgaWYgKHNjYWxlICYmIHRoaXMuX2NsaXBWaWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlKCk7XG4gICAgICAgIGlmICghc2NhbGUgJiYgdGhpcy5fY2xpcFZpZXdwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3Jlc2l6ZVNlc3Npb246IGZhbHNlLFxuICAgIGdldCByZXNpemVTZXNzaW9uKCkgeyByZXR1cm4gdGhpcy5fcmVzaXplU2Vzc2lvbjsgfSxcbiAgICBzZXQgcmVzaXplU2Vzc2lvbihyZXNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplU2Vzc2lvbiA9IHJlc2l6ZTtcbiAgICAgICAgaWYgKHJlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFJlbW90ZVJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vID09PT09IFBVQkxJQyBNRVRIT0RTID09PT09XG5cbiAgICBkaXNjb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGluZycpO1xuICAgICAgICB0aGlzLl9zb2NrLm9mZignZXJyb3InKTtcbiAgICAgICAgdGhpcy5fc29jay5vZmYoJ21lc3NhZ2UnKTtcbiAgICAgICAgdGhpcy5fc29jay5vZmYoJ29wZW4nKTtcbiAgICB9LFxuXG4gICAgc2VuZENyZWRlbnRpYWxzOiBmdW5jdGlvbiAoY3JlZHMpIHtcbiAgICAgICAgdGhpcy5fcmZiX2NyZWRlbnRpYWxzID0gY3JlZHM7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5faW5pdF9tc2cuYmluZCh0aGlzKSwgMCk7XG4gICAgfSxcblxuICAgIHNlbmRDdHJsQWx0RGVsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcgfHwgdGhpcy5fdmlld09ubHkpIHsgcmV0dXJuOyB9XG4gICAgICAgIExvZy5JbmZvKFwiU2VuZGluZyBDdHJsLUFsdC1EZWxcIik7XG5cbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0NvbnRyb2xfTCwgXCJDb250cm9sTGVmdFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0FsdF9MLCBcIkFsdExlZnRcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19EZWxldGUsIFwiRGVsZXRlXCIsIHRydWUpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfRGVsZXRlLCBcIkRlbGV0ZVwiLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19BbHRfTCwgXCJBbHRMZWZ0XCIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0NvbnRyb2xfTCwgXCJDb250cm9sTGVmdFwiLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIG1hY2hpbmVTaHV0ZG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl94dnBPcCgxLCAyKTtcbiAgICB9LFxuXG4gICAgbWFjaGluZVJlYm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl94dnBPcCgxLCAzKTtcbiAgICB9LFxuXG4gICAgbWFjaGluZVJlc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3h2cE9wKDEsIDQpO1xuICAgIH0sXG5cbiAgICAvLyBTZW5kIGEga2V5IHByZXNzLiBJZiAnZG93bicgaXMgbm90IHNwZWNpZmllZCB0aGVuIHNlbmQgYSBkb3duIGtleVxuICAgIC8vIGZvbGxvd2VkIGJ5IGFuIHVwIGtleS5cbiAgICBzZW5kS2V5OiBmdW5jdGlvbiAoa2V5c3ltLCBjb2RlLCBkb3duKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcgfHwgdGhpcy5fdmlld09ubHkpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKGRvd24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kS2V5KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRLZXkoa2V5c3ltLCBjb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2NhbmNvZGUgPSBYdFNjYW5jb2RlW2NvZGVdO1xuXG4gICAgICAgIGlmICh0aGlzLl9xZW11RXh0S2V5RXZlbnRTdXBwb3J0ZWQgJiYgc2NhbmNvZGUpIHtcbiAgICAgICAgICAgIC8vIDAgaXMgTm9TeW1ib2xcbiAgICAgICAgICAgIGtleXN5bSA9IGtleXN5bSB8fCAwO1xuXG4gICAgICAgICAgICBMb2cuSW5mbyhcIlNlbmRpbmcga2V5IChcIiArIChkb3duID8gXCJkb3duXCIgOiBcInVwXCIpICsgXCIpOiBrZXlzeW0gXCIgKyBrZXlzeW0gKyBcIiwgc2NhbmNvZGUgXCIgKyBzY2FuY29kZSk7XG5cbiAgICAgICAgICAgIFJGQi5tZXNzYWdlcy5RRU1VRXh0ZW5kZWRLZXlFdmVudCh0aGlzLl9zb2NrLCBrZXlzeW0sIGRvd24sIHNjYW5jb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgha2V5c3ltKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIGtleXN5bSAoXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArIFwiKTogXCIgKyBrZXlzeW0pO1xuICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLmtleUV2ZW50KHRoaXMuX3NvY2ssIGtleXN5bSwgZG93biA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBmb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jYW52YXMuZm9jdXMoKTtcbiAgICB9LFxuXG4gICAgYmx1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jYW52YXMuYmx1cigpO1xuICAgIH0sXG5cbiAgICBjbGlwYm9hcmRQYXN0ZUZyb206IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcgfHwgdGhpcy5fdmlld09ubHkpIHsgcmV0dXJuOyB9XG4gICAgICAgIFJGQi5tZXNzYWdlcy5jbGllbnRDdXRUZXh0KHRoaXMuX3NvY2ssIHRleHQpO1xuICAgIH0sXG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9jb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IFJGQi5jb25uZWN0XCIpO1xuXG4gICAgICAgIExvZy5JbmZvKFwiY29ubmVjdGluZyB0byBcIiArIHRoaXMuX3VybCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdlYlNvY2tldC5vbm9wZW4gdHJhbnNpdGlvbnMgdG8gdGhlIFJGQiBpbml0IHN0YXRlc1xuICAgICAgICAgICAgdGhpcy5fc29jay5vcGVuKHRoaXMuX3VybCwgWydiaW5hcnknXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiSW52YWxpZCBob3N0IG9yIHBvcnQgKFwiICsgZSArIFwiKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIkVycm9yIHdoZW4gb3BlbmluZyBzb2NrZXQgKFwiICsgZSArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugb3VyIGVsZW1lbnRzIHBhcnQgb2YgdGhlIHBhZ2VcbiAgICAgICAgdGhpcy5fdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuX3NjcmVlbik7XG5cbiAgICAgICAgLy8gTW9uaXRvciBzaXplIGNoYW5nZXMgb2YgdGhlIHNjcmVlblxuICAgICAgICAvLyBGSVhNRTogVXNlIFJlc2l6ZU9ic2VydmVyLCBvciBoaWRkZW4gb3ZlcmZsb3dcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMud2luZG93UmVzaXplKTtcblxuICAgICAgICAvLyBBbHdheXMgZ3JhYiBmb2N1cyBvbiBzb21lIGtpbmQgb2YgY2xpY2sgZXZlbnRcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9ldmVudEhhbmRsZXJzLmZvY3VzQ2FudmFzKTtcblxuICAgICAgICBMb2cuRGVidWcoXCI8PCBSRkIuY29ubmVjdFwiKTtcbiAgICB9LFxuXG4gICAgX2Rpc2Nvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gUkZCLmRpc2Nvbm5lY3RcIik7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLndpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIHRoaXMuX2tleWJvYXJkLnVuZ3JhYigpO1xuICAgICAgICB0aGlzLl9tb3VzZS51bmdyYWIoKTtcbiAgICAgICAgdGhpcy5fc29jay5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9wcmludF9zdGF0cygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUNoaWxkKHRoaXMuX3NjcmVlbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgY2FzZXMgd2hlcmUgdGhlIGluaXRpYWwgY29ubmVjdGlvbiBmYWlsc1xuICAgICAgICAgICAgICAgIC8vIGNhbiBkaXNjb25uZWN0IGJlZm9yZSB0aGUgX3NjcmVlbiBpcyBjcmVhdGVkXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICBMb2cuRGVidWcoXCI8PCBSRkIuZGlzY29ubmVjdFwiKTtcbiAgICB9LFxuXG4gICAgX3ByaW50X3N0YXRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0cyA9IHRoaXMuX2VuY1N0YXRzO1xuXG4gICAgICAgIExvZy5JbmZvKFwiRW5jb2Rpbmcgc3RhdHMgZm9yIHRoaXMgY29ubmVjdGlvbjpcIik7XG4gICAgICAgIE9iamVjdC5rZXlzKHN0YXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBzID0gc3RhdHNba2V5XTtcbiAgICAgICAgICAgIGlmIChzWzBdICsgc1sxXSA+IDApIHtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIiAgICBcIiArIGVuY29kaW5nTmFtZShrZXkpICsgXCI6IFwiICsgc1swXSArIFwiIHJlY3RzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBMb2cuSW5mbyhcIkVuY29kaW5nIHN0YXRzIHNpbmNlIHBhZ2UgbG9hZDpcIik7XG4gICAgICAgIE9iamVjdC5rZXlzKHN0YXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBzID0gc3RhdHNba2V5XTtcbiAgICAgICAgICAgIExvZy5JbmZvKFwiICAgIFwiICsgZW5jb2RpbmdOYW1lKGtleSkgKyBcIjogXCIgKyBzWzFdICsgXCIgcmVjdHNcIik7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZm9jdXNDYW52YXM6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIFJlc3BlY3QgZWFybGllciBoYW5kbGVycycgcmVxdWVzdCB0byBub3QgZG8gc2lkZS1lZmZlY3RzXG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZm9jdXNPbkNsaWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfSxcblxuICAgIF93aW5kb3dSZXNpemU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBJZiB0aGUgd2luZG93IHJlc2l6ZWQgdGhlbiBvdXIgc2NyZWVuIGVsZW1lbnQgbWlnaHQgaGF2ZVxuICAgICAgICAvLyBhcyB3ZWxsLiBVcGRhdGUgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnMuXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2NhbGUoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzaXplU2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gUmVxdWVzdCBjaGFuZ2luZyB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVtb3RlIGRpc3BsYXkgdG9cbiAgICAgICAgICAgIC8vIHRoZSBzaXplIG9mIHRoZSBsb2NhbCBicm93c2VyIHZpZXdwb3J0LlxuXG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBub3Qgc2VuZCBtdWx0aXBsZSByZXF1ZXN0cyBiZWZvcmUgdGhlIGJyb3dzZXItcmVzaXplXG4gICAgICAgICAgICAvLyBpcyBmaW5pc2hlZCB3ZSB3YWl0IDAuNSBzZWNvbmRzIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVxdWVzdFJlbW90ZVJlc2l6ZS5iaW5kKHRoaXMpLCA1MDApO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBzdGF0ZSBvZiBjbGlwcGluZyBpbiBEaXNwbGF5IG9iamVjdCwgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAvLyBjb25maWd1cmVkIHZpZXdwb3J0IG1hdGNoZXMgdGhlIGN1cnJlbnQgc2NyZWVuIHNpemVcbiAgICBfdXBkYXRlQ2xpcDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VyX2NsaXAgPSB0aGlzLl9kaXNwbGF5LmNsaXBWaWV3cG9ydDtcbiAgICAgICAgdmFyIG5ld19jbGlwID0gdGhpcy5fY2xpcFZpZXdwb3J0O1xuXG4gICAgICAgIGlmICh0aGlzLl9zY2FsZVZpZXdwb3J0KSB7XG4gICAgICAgICAgICAvLyBEaXNhYmxlIHZpZXdwb3J0IGNsaXBwaW5nIGlmIHdlIGFyZSBzY2FsaW5nXG4gICAgICAgICAgICBuZXdfY2xpcCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cl9jbGlwICE9PSBuZXdfY2xpcCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5jbGlwVmlld3BvcnQgPSBuZXdfY2xpcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdfY2xpcCkge1xuICAgICAgICAgICAgLy8gV2hlbiBjbGlwcGluZyBpcyBlbmFibGVkLCB0aGUgc2NyZWVuIGlzIGxpbWl0ZWQgdG9cbiAgICAgICAgICAgIC8vIHRoZSBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuX3NjcmVlblNpemUoKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkudmlld3BvcnRDaGFuZ2VTaXplKHNpemUudywgc2l6ZS5oKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpeFNjcm9sbGJhcnMoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfdXBkYXRlU2NhbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zY2FsZVZpZXdwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnNjYWxlID0gMS4wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmF1dG9zY2FsZShzaXplLncsIHNpemUuaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZml4U2Nyb2xsYmFycygpO1xuICAgIH0sXG5cbiAgICAvLyBSZXF1ZXN0cyBhIGNoYW5nZSBvZiByZW1vdGUgZGVza3RvcCBzaXplLiBUaGlzIG1lc3NhZ2UgaXMgYW4gZXh0ZW5zaW9uXG4gICAgLy8gYW5kIG1heSBvbmx5IGJlIHNlbnQgaWYgd2UgaGF2ZSByZWNlaXZlZCBhbiBFeHRlbmRlZERlc2t0b3BTaXplIG1lc3NhZ2VcbiAgICBfcmVxdWVzdFJlbW90ZVJlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplVGltZW91dCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIGlmICghdGhpcy5fcmVzaXplU2Vzc2lvbiB8fCB0aGlzLl92aWV3T25seSB8fFxuICAgICAgICAgICAgIXRoaXMuX3N1cHBvcnRzU2V0RGVza3RvcFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaXplID0gdGhpcy5fc2NyZWVuU2l6ZSgpO1xuICAgICAgICBSRkIubWVzc2FnZXMuc2V0RGVza3RvcFNpemUodGhpcy5fc29jaywgc2l6ZS53LCBzaXplLmgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JlZW5faWQsIHRoaXMuX3NjcmVlbl9mbGFncyk7XG5cbiAgICAgICAgTG9nLkRlYnVnKCdSZXF1ZXN0ZWQgbmV3IGRlc2t0b3Agc2l6ZTogJyArXG4gICAgICAgICAgICAgICAgICAgc2l6ZS53ICsgJ3gnICsgc2l6ZS5oKTtcbiAgICB9LFxuXG4gICAgLy8gR2V0cyB0aGUgdGhlIHNpemUgb2YgdGhlIGF2YWlsYWJsZSBzY3JlZW5cbiAgICBfc2NyZWVuU2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB3OiB0aGlzLl9zY3JlZW4ub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgIGg6IHRoaXMuX3NjcmVlbi5vZmZzZXRIZWlnaHQgfTtcbiAgICB9LFxuXG4gICAgX2ZpeFNjcm9sbGJhcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGhhY2sgYmVjYXVzZSBDaHJvbWUgc2NyZXdzIHVwIHRoZSBjYWxjdWxhdGlvblxuICAgICAgICAvLyBmb3Igd2hlbiBzY3JvbGxiYXJzIGFyZSBuZWVkZWQuIFNvIHRvIGZpeCBpdCB3ZSB0ZW1wb3JhcmlseVxuICAgICAgICAvLyB0b2dnbGUgdGhlbSBvZmYgYW5kIG9uLlxuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdztcbiAgICAgICAgdGhpcy5fc2NyZWVuLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIC8vIEZvcmNlIENocm9tZSB0byByZWNhbGN1bGF0ZSB0aGUgbGF5b3V0IGJ5IGFza2luZyBmb3JcbiAgICAgICAgLy8gYW4gZWxlbWVudCdzIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fc2NyZWVuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLl9zY3JlZW4uc3R5bGUub3ZlcmZsb3cgPSBvcmlnO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENvbm5lY3Rpb24gc3RhdGVzOlxuICAgICAqICAgY29ubmVjdGluZ1xuICAgICAqICAgY29ubmVjdGVkXG4gICAgICogICBkaXNjb25uZWN0aW5nXG4gICAgICogICBkaXNjb25uZWN0ZWQgLSBwZXJtYW5lbnQgc3RhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlQ29ubmVjdGlvblN0YXRlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIG9sZHN0YXRlID0gdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGU7XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBvbGRzdGF0ZSkge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiQWxyZWFkeSBpbiBzdGF0ZSAnXCIgKyBzdGF0ZSArIFwiJywgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgJ2Rpc2Nvbm5lY3RlZCcgc3RhdGUgaXMgcGVybWFuZW50IGZvciBlYWNoIFJGQiBvYmplY3RcbiAgICAgICAgaWYgKG9sZHN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgICAgTG9nLkVycm9yKFwiVHJpZWQgY2hhbmdpbmcgc3RhdGUgb2YgYSBkaXNjb25uZWN0ZWQgUkZCIG9iamVjdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSBwcm9wZXIgdHJhbnNpdGlvbnMgYmVmb3JlIGRvaW5nIGFueXRoaW5nXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiQmFkIHRyYW5zaXRpb24gdG8gY29ubmVjdGVkIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBpZiAob2xkc3RhdGUgIT09ICdkaXNjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJCYWQgdHJhbnNpdGlvbiB0byBkaXNjb25uZWN0ZWQgc3RhdGUsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZpb3VzIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgb2xkc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICBpZiAob2xkc3RhdGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGNvbm5lY3Rpbmcgc3RhdGUsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZpb3VzIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgb2xkc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICBpZiAob2xkc3RhdGUgIT09ICdjb25uZWN0ZWQnICYmIG9sZHN0YXRlICE9PSAnY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiQmFkIHRyYW5zaXRpb24gdG8gZGlzY29ubmVjdGluZyBzdGF0ZSwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXMgY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBvbGRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHN0YXRlOiBcIiArIHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGF0ZSBjaGFuZ2UgYWN0aW9uc1xuXG4gICAgICAgIHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgdmFyIHNtc2cgPSBcIk5ldyBzdGF0ZSAnXCIgKyBzdGF0ZSArIFwiJywgd2FzICdcIiArIG9sZHN0YXRlICsgXCInLlwiO1xuICAgICAgICBMb2cuRGVidWcoc21zZyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rpc2Nvbm5UaW1lciAmJiBzdGF0ZSAhPT0gJ2Rpc2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJDbGVhcmluZyBkaXNjb25uZWN0IHRpbWVyXCIpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Rpc2Nvbm5UaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9kaXNjb25uVGltZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZ2V0IGEgZG91YmxlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLl9zb2NrLm9mZignY2xvc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjb25uZWN0XCIsIHsgZGV0YWlsOiB7fSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNjb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNjb25uVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiRGlzY29ubmVjdGlvbiB0aW1lZCBvdXQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgRElTQ09OTkVDVF9USU1FT1VUICogMTAwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIFwiZGlzY29ubmVjdFwiLCB7IGRldGFpbDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xlYW46IHRoaXMuX3JmYl9jbGVhbl9kaXNjb25uZWN0IH0gfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBQcmludCBlcnJvcnMgYW5kIGRpc2Nvbm5lY3RcbiAgICAgKlxuICAgICAqIFRoZSBwYXJhbWV0ZXIgJ2RldGFpbHMnIGlzIHVzZWQgZm9yIGluZm9ybWF0aW9uIHRoYXRcbiAgICAgKiBzaG91bGQgYmUgbG9nZ2VkIGJ1dCBub3Qgc2VudCB0byB0aGUgdXNlciBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgX2ZhaWw6IGZ1bmN0aW9uIChkZXRhaWxzKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkZhaWxlZCB3aGVuIGRpc2Nvbm5lY3Rpbmc6IFwiICsgZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkZhaWxlZCB3aGlsZSBjb25uZWN0ZWQ6IFwiICsgZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJGYWlsZWQgd2hlbiBjb25uZWN0aW5nOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJSRkIgZmFpbHVyZTogXCIgKyBkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZmJfY2xlYW5fZGlzY29ubmVjdCA9IGZhbHNlOyAvL1RoaXMgaXMgc2VudCB0byB0aGUgVUlcblxuICAgICAgICAvLyBUcmFuc2l0aW9uIHRvIGRpc2Nvbm5lY3RlZCB3aXRob3V0IHdhaXRpbmcgZm9yIHNvY2tldCB0byBjbG9zZVxuICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIF9zZXRDYXBhYmlsaXR5OiBmdW5jdGlvbiAoY2FwLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fY2FwYWJpbGl0aWVzW2NhcF0gPSB2YWw7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNhcGFiaWxpdGllc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgY2FwYWJpbGl0aWVzOiB0aGlzLl9jYXBhYmlsaXRpZXMgfSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZV9tZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRbGVuKCkgPT09IDApIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiaGFuZGxlX21lc3NhZ2UgY2FsbGVkIG9uIGFuIGVtcHR5IHJlY2VpdmUgcXVldWVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkdvdCBkYXRhIHdoaWxlIGRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZsdXNoaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX25vcm1hbF9tc2coKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclFsZW4oKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2hhbmRsZUtleUV2ZW50OiBmdW5jdGlvbiAoa2V5c3ltLCBjb2RlLCBkb3duKSB7XG4gICAgICAgIHRoaXMuc2VuZEtleShrZXlzeW0sIGNvZGUsIGRvd24pO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VCdXR0b246IGZ1bmN0aW9uICh4LCB5LCBkb3duLCBibWFzaykge1xuICAgICAgICBpZiAoZG93bikge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VfYnV0dG9uTWFzayB8PSBibWFzaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlX2J1dHRvbk1hc2sgJj0gfmJtYXNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZHJhZ1ZpZXdwb3J0KSB7XG4gICAgICAgICAgICBpZiAoZG93biAmJiAhdGhpcy5fdmlld3BvcnREcmFnZ2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ1BvcyA9IHsneCc6IHgsICd5JzogeX07XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnRIYXNNb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBzZW5kaW5nIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYWN0dWFsbHkgcGVyZm9ybWVkIGEgZHJhZyB0aGVuIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgLy8gaGVyZSBhbmQgc2hvdWxkIG5vdCBzZW5kIGFueSBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlld3BvcnRIYXNNb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIHRyZWF0IHRoaXMgYXMgYSBtb3VzZSBjbGljayBldmVudC5cbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBidXR0b24gZG93biBldmVudCBoZXJlLCBhcyB0aGUgYnV0dG9uIHVwXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgaXMgc2VudCBhdCB0aGUgZW5kIG9mIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hYnNYKHgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hYnNZKHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfSAvLyBWaWV3IG9ubHksIHNraXAgbW91c2UgZXZlbnRzXG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJykgeyByZXR1cm47IH1cbiAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLCB0aGlzLl9kaXNwbGF5LmFic1goeCksIHRoaXMuX2Rpc3BsYXkuYWJzWSh5KSwgdGhpcy5fbW91c2VfYnV0dG9uTWFzayk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZU1vdmU6IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLl92aWV3cG9ydERyYWdnaW5nKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGFYID0gdGhpcy5fdmlld3BvcnREcmFnUG9zLnggLSB4O1xuICAgICAgICAgICAgdmFyIGRlbHRhWSA9IHRoaXMuX3ZpZXdwb3J0RHJhZ1Bvcy55IC0geTtcblxuICAgICAgICAgICAgLy8gVGhlIGdvYWwgaXMgdG8gdHJpZ2dlciBvbiBhIGNlcnRhaW4gcGh5c2ljYWwgd2lkdGgsIHRoZVxuICAgICAgICAgICAgLy8gZGV2aWNlUGl4ZWxSYXRpbyBicmluZ3MgdXMgYSBiaXQgY2xvc2VyIGJ1dCBpcyBub3Qgb3B0aW1hbC5cbiAgICAgICAgICAgIHZhciBkcmFnVGhyZXNob2xkID0gMTAgKiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl92aWV3cG9ydEhhc01vdmVkIHx8IChNYXRoLmFicyhkZWx0YVgpID4gZHJhZ1RocmVzaG9sZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGRlbHRhWSkgPiBkcmFnVGhyZXNob2xkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3BvcnREcmFnUG9zID0geyd4JzogeCwgJ3knOiB5fTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnZpZXdwb3J0Q2hhbmdlUG9zKGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2tpcCBzZW5kaW5nIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfSAvLyBWaWV3IG9ubHksIHNraXAgbW91c2UgZXZlbnRzXG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJykgeyByZXR1cm47IH1cbiAgICAgICAgUkZCLm1lc3NhZ2VzLnBvaW50ZXJFdmVudCh0aGlzLl9zb2NrLCB0aGlzLl9kaXNwbGF5LmFic1goeCksIHRoaXMuX2Rpc3BsYXkuYWJzWSh5KSwgdGhpcy5fbW91c2VfYnV0dG9uTWFzayk7XG4gICAgfSxcblxuICAgIC8vIE1lc3NhZ2UgSGFuZGxlcnNcblxuICAgIF9uZWdvdGlhdGVfcHJvdG9jb2xfdmVyc2lvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbigpIDwgMTIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiUmVjZWl2ZWQgaW5jb21wbGV0ZSBwcm90b2NvbCB2ZXJzaW9uLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdmVyc2lvbiA9IHRoaXMuX3NvY2suclFzaGlmdFN0cigxMikuc3Vic3RyKDQsIDcpO1xuICAgICAgICBMb2cuSW5mbyhcIlNlcnZlciBQcm90b2NvbFZlcnNpb246IFwiICsgc3ZlcnNpb24pO1xuICAgICAgICB2YXIgaXNfcmVwZWF0ZXIgPSAwO1xuICAgICAgICBzd2l0Y2ggKHN2ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwiMDAwLjAwMFwiOiAgLy8gVWx0cmFWTkMgcmVwZWF0ZXJcbiAgICAgICAgICAgICAgICBpc19yZXBlYXRlciA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMDAzLjAwM1wiOlxuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDZcIjogIC8vIFVsdHJhVk5DXG4gICAgICAgICAgICBjYXNlIFwiMDAzLjg4OVwiOiAgLy8gQXBwbGUgUmVtb3RlIERlc2t0b3BcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfdmVyc2lvbiA9IDMuMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuMDA3XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX3ZlcnNpb24gPSAzLjc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMDAzLjAwOFwiOlxuICAgICAgICAgICAgY2FzZSBcIjAwNC4wMDBcIjogIC8vIEludGVsIEFNVCBLVk1cbiAgICAgICAgICAgIGNhc2UgXCIwMDQuMDAxXCI6ICAvLyBSZWFsVk5DIDQuNlxuICAgICAgICAgICAgY2FzZSBcIjAwNS4wMDBcIjogIC8vIFJlYWxWTkMgNS4zXG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX3ZlcnNpb24gPSAzLjg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiSW52YWxpZCBzZXJ2ZXIgdmVyc2lvbiBcIiArIHN2ZXJzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc19yZXBlYXRlcikge1xuICAgICAgICAgICAgdmFyIHJlcGVhdGVySUQgPSBcIklEOlwiICsgdGhpcy5fcmVwZWF0ZXJJRDtcbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXRlcklELmxlbmd0aCA8IDI1MCkge1xuICAgICAgICAgICAgICAgIHJlcGVhdGVySUQgKz0gXCJcXDBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZF9zdHJpbmcocmVwZWF0ZXJJRCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+IHRoaXMuX3JmYl9tYXhfdmVyc2lvbikge1xuICAgICAgICAgICAgdGhpcy5fcmZiX3ZlcnNpb24gPSB0aGlzLl9yZmJfbWF4X3ZlcnNpb247XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3ZlcnNpb24gPSBcIjAwXCIgKyBwYXJzZUludCh0aGlzLl9yZmJfdmVyc2lvbiwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgXCIuMDBcIiArICgodGhpcy5fcmZiX3ZlcnNpb24gKiAxMCkgJSAxMCk7XG4gICAgICAgIHRoaXMuX3NvY2suc2VuZF9zdHJpbmcoXCJSRkIgXCIgKyBjdmVyc2lvbiArIFwiXFxuXCIpO1xuICAgICAgICBMb2cuRGVidWcoJ1NlbnQgUHJvdG9jb2xWZXJzaW9uOiAnICsgY3ZlcnNpb24pO1xuXG4gICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlY3VyaXR5JztcbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV9zZWN1cml0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBQb2x5ZmlsbCBzaW5jZSBJRSBhbmQgUGhhbnRvbUpTIGRvZXNuJ3QgaGF2ZVxuICAgICAgICAvLyBUeXBlZEFycmF5LmluY2x1ZGVzKClcbiAgICAgICAgZnVuY3Rpb24gaW5jbHVkZXMoaXRlbSwgYXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl92ZXJzaW9uID49IDMuNykge1xuICAgICAgICAgICAgLy8gU2VydmVyIHNlbmRzIHN1cHBvcnRlZCBsaXN0LCBjbGllbnQgZGVjaWRlc1xuICAgICAgICAgICAgdmFyIG51bV90eXBlcyA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInNlY3VyaXR5IHR5cGVcIiwgbnVtX3R5cGVzLCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgaWYgKG51bV90eXBlcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VjdXJpdHlfZmFpbHVyZShcIm5vIHNlY3VyaXR5IHR5cGVzXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHlwZXMgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhudW1fdHlwZXMpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiU2VydmVyIHNlY3VyaXR5IHR5cGVzOiBcIiArIHR5cGVzKTtcblxuICAgICAgICAgICAgLy8gTG9vayBmb3IgZWFjaCBhdXRoIGluIHByZWZlcnJlZCBvcmRlclxuICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMDtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlcygxLCB0eXBlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAxOyAvLyBOb25lXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKDIyLCB0eXBlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAyMjsgLy8gWFZQXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKDE2LCB0eXBlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAxNjsgLy8gVGlnaHRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMoMiwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMjsgLy8gVk5DIEF1dGhcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCBzZWN1cml0eSB0eXBlcyAodHlwZXM6IFwiICsgdHlwZXMgKyBcIilcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZChbdGhpcy5fcmZiX2F1dGhfc2NoZW1lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXJ2ZXIgZGVjaWRlc1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic2VjdXJpdHkgc2NoZW1lXCIsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ0F1dGhlbnRpY2F0aW9uJztcbiAgICAgICAgTG9nLkRlYnVnKCdBdXRoZW50aWNhdGluZyB1c2luZyBzY2hlbWU6ICcgKyB0aGlzLl9yZmJfYXV0aF9zY2hlbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpOyAvLyBqdW1wIHRvIGF1dGhlbnRpY2F0aW9uXG4gICAgfSxcblxuICAgIC8qXG4gICAgICogR2V0IHRoZSBzZWN1cml0eSBmYWlsdXJlIHJlYXNvbiBpZiBzZW50IGZyb20gdGhlIHNlcnZlciBhbmRcbiAgICAgKiBzZW5kIHRoZSAnc2VjdXJpdHlmYWlsdXJlJyBldmVudC5cbiAgICAgKlxuICAgICAqIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlciBjb250ZXh0IGNhbiBiZSB1c2VkIHRvIGFkZCBzb21lIGV4dHJhXG4gICAgICogICBjb250ZXh0IHRvIHRoZSBsb2cgb3V0cHV0LlxuICAgICAqXG4gICAgICogLSBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiAgIGFkZCBhIGN1c3RvbSBzdGF0dXMgY29kZSB0byB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgX2hhbmRsZV9zZWN1cml0eV9mYWlsdXJlOiBmdW5jdGlvbiAoY29udGV4dCwgc2VjdXJpdHlfcmVzdWx0X3N0YXR1cykge1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IFwiIG9uIFwiICsgY29udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VjdXJpdHlfcmVzdWx0X3N0YXR1cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMgPSAxOyAvLyBmYWlsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJyZWFzb24gbGVuZ3RoXCIsIDQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cmxlbiA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIGxldCByZWFzb24gPSBcIlwiO1xuXG4gICAgICAgIGlmIChzdHJsZW4gPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJyZWFzb25cIiwgc3RybGVuLCA4KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHJlYXNvbiA9IHRoaXMuX3NvY2suclFzaGlmdFN0cihzdHJsZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlYXNvbiAhPT0gXCJcIikge1xuXG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgICAgXCJzZWN1cml0eWZhaWx1cmVcIixcbiAgICAgICAgICAgICAgICB7IGRldGFpbDogeyBzdGF0dXM6IHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMsIHJlYXNvbjogcmVhc29uIH0gfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlNlY3VyaXR5IG5lZ290aWF0aW9uIGZhaWxlZFwiICsgY29udGV4dCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiAocmVhc29uOiBcIiArIHJlYXNvbiArIFwiKVwiKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgIFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgc3RhdHVzOiBzZWN1cml0eV9yZXN1bHRfc3RhdHVzIH0gfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlNlY3VyaXR5IG5lZ290aWF0aW9uIGZhaWxlZFwiICsgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gYXV0aGVudGljYXRpb25cbiAgICBfbmVnb3RpYXRlX3h2cF9hdXRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnVzZXJuYW1lIHx8XG4gICAgICAgICAgICAhdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnBhc3N3b3JkIHx8XG4gICAgICAgICAgICAhdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHR5cGVzOiBbXCJ1c2VybmFtZVwiLCBcInBhc3N3b3JkXCIsIFwidGFyZ2V0XCJdIH0gfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHh2cF9hdXRoX3N0ciA9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5fcmZiX2NyZWRlbnRpYWxzLnVzZXJuYW1lLmxlbmd0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLl9yZmJfY3JlZGVudGlhbHMudGFyZ2V0Lmxlbmd0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnVzZXJuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9jcmVkZW50aWFscy50YXJnZXQ7XG4gICAgICAgIHRoaXMuX3NvY2suc2VuZF9zdHJpbmcoeHZwX2F1dGhfc3RyKTtcbiAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9hdXRoZW50aWNhdGlvbigpO1xuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX3N0ZF92bmNfYXV0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJhdXRoIGNoYWxsZW5nZVwiLCAxNikpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9yZmJfY3JlZGVudGlhbHMucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNyZWRlbnRpYWxzcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyB0eXBlczogW1wicGFzc3dvcmRcIl0gfSB9KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPKGRpcmVjdHhtYW4xMik6IG1ha2UgZ2VuREVTIG5vdCByZXF1aXJlIGFuIEFycmF5XG4gICAgICAgIHZhciBjaGFsbGVuZ2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcygxNikpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBSRkIuZ2VuREVTKHRoaXMuX3JmYl9jcmVkZW50aWFscy5wYXNzd29yZCwgY2hhbGxlbmdlKTtcbiAgICAgICAgdGhpcy5fc29jay5zZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSBcIlNlY3VyaXR5UmVzdWx0XCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX3RpZ2h0X3R1bm5lbHM6IGZ1bmN0aW9uIChudW1UdW5uZWxzKSB7XG4gICAgICAgIHZhciBjbGllbnRTdXBwb3J0ZWRUdW5uZWxUeXBlcyA9IHtcbiAgICAgICAgICAgIDA6IHsgdmVuZG9yOiAnVEdIVCcsIHNpZ25hdHVyZTogJ05PVFVOTkVMJyB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlcyA9IHt9O1xuICAgICAgICAvLyByZWNlaXZlIHR1bm5lbCBjYXBhYmlsaXRpZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1UdW5uZWxzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYXBfY29kZSA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgICAgICB2YXIgY2FwX3ZlbmRvciA9IHRoaXMuX3NvY2suclFzaGlmdFN0cig0KTtcbiAgICAgICAgICAgIHZhciBjYXBfc2lnbmF0dXJlID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKDgpO1xuICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbY2FwX2NvZGVdID0geyB2ZW5kb3I6IGNhcF92ZW5kb3IsIHNpZ25hdHVyZTogY2FwX3NpZ25hdHVyZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hvb3NlIHRoZSBub3R1bm5lbCB0eXBlXG4gICAgICAgIGlmIChzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXSkge1xuICAgICAgICAgICAgaWYgKHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdLnZlbmRvciAhPSBjbGllbnRTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXS52ZW5kb3IgfHxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXS5zaWduYXR1cmUgIT0gY2xpZW50U3VwcG9ydGVkVHVubmVsVHlwZXNbMF0uc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJDbGllbnQncyB0dW5uZWwgdHlwZSBoYWQgdGhlIGluY29ycmVjdCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2ZW5kb3Igb3Igc2lnbmF0dXJlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kKFswLCAwLCAwLCAwXSk7ICAvLyB1c2UgTk9UVU5ORUxcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gd2FpdCB1bnRpbCB3ZSByZWNlaXZlIHRoZSBzdWIgYXV0aCBjb3VudCB0byBjb250aW51ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJTZXJ2ZXIgd2FudGVkIHR1bm5lbHMsIGJ1dCBkb2Vzbid0IHN1cHBvcnQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aGUgbm90dW5uZWwgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX3RpZ2h0X2F1dGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZmJfdGlnaHR2bmMpIHsgIC8vIGZpcnN0IHBhc3MsIGRvIHRoZSB0dW5uZWwgbmVnb3RpYXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIm51bSB0dW5uZWxzXCIsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdmFyIG51bVR1bm5lbHMgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICAgICAgaWYgKG51bVR1bm5lbHMgPiAwICYmIHRoaXMuX3NvY2suclF3YWl0KFwidHVubmVsIGNhcGFiaWxpdGllc1wiLCAxNiAqIG51bVR1bm5lbHMsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZmJfdGlnaHR2bmMgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAobnVtVHVubmVscyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWdvdGlhdGVfdGlnaHRfdHVubmVscyhudW1UdW5uZWxzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAvLyB3YWl0IHVudGlsIHdlIHJlY2VpdmUgdGhlIHN1YiBhdXRoIHRvIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWNvbmQgcGFzcywgZG8gdGhlIHN1Yi1hdXRoIG5lZ290aWF0aW9uXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInN1YiBhdXRoIGNvdW50XCIsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB2YXIgc3ViQXV0aENvdW50ID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgaWYgKHN1YkF1dGhDb3VudCA9PT0gMCkgeyAgLy8gZW1wdHkgc3ViLWF1dGggbGlzdCByZWNlaXZlZCBtZWFucyAnbm8gYXV0aCcgc3VidHlwZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHlSZXN1bHQnO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJzdWIgYXV0aCBjYXBhYmlsaXRpZXNcIiwgMTYgKiBzdWJBdXRoQ291bnQsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciBjbGllbnRTdXBwb3J0ZWRUeXBlcyA9IHtcbiAgICAgICAgICAgICdTVERWTk9BVVRIX18nOiAxLFxuICAgICAgICAgICAgJ1NURFZWTkNBVVRIXyc6IDJcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc2VydmVyU3VwcG9ydGVkVHlwZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YkF1dGhDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FwTnVtID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgICAgIHZhciBjYXBhYmlsaXRpZXMgPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoMTIpO1xuICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkVHlwZXMucHVzaChjYXBhYmlsaXRpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgYXV0aFR5cGUgaW4gY2xpZW50U3VwcG9ydGVkVHlwZXMpIHtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJTdXBwb3J0ZWRUeXBlcy5pbmRleE9mKGF1dGhUeXBlKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZChbMCwgMCwgMCwgY2xpZW50U3VwcG9ydGVkVHlwZXNbYXV0aFR5cGVdXSk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGF1dGhUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NURFZOT0FVVEhfXyc6ICAvLyBubyBhdXRoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZWN1cml0eVJlc3VsdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU1REVlZOQ0FVVEhfJzogLy8gVk5DIGF1dGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgdGlueSBhdXRoIHNjaGVtZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIihzY2hlbWU6IFwiICsgYXV0aFR5cGUgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJObyBzdXBwb3J0ZWQgc3ViLWF1dGggdHlwZXMhXCIpO1xuICAgIH0sXG5cbiAgICBfbmVnb3RpYXRlX2F1dGhlbnRpY2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2F1dGhfc2NoZW1lKSB7XG4gICAgICAgICAgICBjYXNlIDA6ICAvLyBjb25uZWN0aW9uIGZhaWxlZFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VjdXJpdHlfZmFpbHVyZShcImF1dGhlbnRpY2F0aW9uIHNjaGVtZVwiKTtcblxuICAgICAgICAgICAgY2FzZSAxOiAgLy8gbm8gYXV0aFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+PSAzLjgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHlSZXN1bHQnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnQ2xpZW50SW5pdGlhbGlzYXRpb24nO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpO1xuXG4gICAgICAgICAgICBjYXNlIDIyOiAgLy8gWFZQIGF1dGhcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3h2cF9hdXRoKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjogIC8vIFZOQyBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc3RkX3ZuY19hdXRoKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMTY6ICAvLyBUaWdodFZOQyBTZWN1cml0eSBUeXBlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV90aWdodF9hdXRoKCk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCBhdXRoIHNjaGVtZSAoc2NoZW1lOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9oYW5kbGVfc2VjdXJpdHlfcmVzdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdCgnVk5DIGF1dGggcmVzcG9uc2UgJywgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkgeyAvLyBPS1xuICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnQ2xpZW50SW5pdGlhbGlzYXRpb24nO1xuICAgICAgICAgICAgTG9nLkRlYnVnKCdBdXRoZW50aWNhdGlvbiBPSycpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmZiX3ZlcnNpb24gPj0gMy44KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZWN1cml0eV9mYWlsdXJlKFwic2VjdXJpdHkgcmVzdWx0XCIsIHN0YXR1cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcInNlY3VyaXR5ZmFpbHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyBzdGF0dXM6IHN0YXR1cyB9IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlNlY3VyaXR5IGhhbmRzaGFrZSBmYWlsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV9zZXJ2ZXJfaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJzZXJ2ZXIgaW5pdGlhbGl6YXRpb25cIiwgMjQpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIC8qIFNjcmVlbiBzaXplICovXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuXG4gICAgICAgIC8qIFBJWEVMX0ZPUk1BVCAqL1xuICAgICAgICB2YXIgYnBwICAgICAgICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciBkZXB0aCAgICAgICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIGJpZ19lbmRpYW4gID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgdHJ1ZV9jb2xvciAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG5cbiAgICAgICAgdmFyIHJlZF9tYXggICAgID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgdmFyIGdyZWVuX21heCAgID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgdmFyIGJsdWVfbWF4ICAgID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgdmFyIHJlZF9zaGlmdCAgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgZ3JlZW5fc2hpZnQgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciBibHVlX3NoaWZ0ICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTsgIC8vIHBhZGRpbmdcblxuICAgICAgICAvLyBOQihkaXJlY3R4bWFuMTIpOiB3ZSBkb24ndCB3YW50IHRvIGNhbGwgYW55IGNhbGxiYWNrcyBvciBwcmludCBtZXNzYWdlcyB1bnRpbFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAqYWZ0ZXIqIHdlJ3JlIHBhc3QgdGhlIHBvaW50IHdoZXJlIHdlIGNvdWxkIGJhY2t0cmFja1xuXG4gICAgICAgIC8qIENvbm5lY3Rpb24gbmFtZS90aXRsZSAqL1xuICAgICAgICB2YXIgbmFtZV9sZW5ndGggPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ3NlcnZlciBpbml0IG5hbWUnLCBuYW1lX2xlbmd0aCwgMjQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9mYl9uYW1lID0gZGVjb2RlVVRGOCh0aGlzLl9zb2NrLnJRc2hpZnRTdHIobmFtZV9sZW5ndGgpKTtcblxuICAgICAgICBpZiAodGhpcy5fcmZiX3RpZ2h0dm5jKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ1RpZ2h0Vk5DIGV4dGVuZGVkIHNlcnZlciBpbml0IGhlYWRlcicsIDgsIDI0ICsgbmFtZV9sZW5ndGgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgLy8gSW4gVGlnaHRWTkMgbW9kZSwgU2VydmVySW5pdCBtZXNzYWdlIGlzIGV4dGVuZGVkXG4gICAgICAgICAgICB2YXIgbnVtU2VydmVyTWVzc2FnZXMgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdmFyIG51bUNsaWVudE1lc3NhZ2VzID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHZhciBudW1FbmNvZGluZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgIC8vIHBhZGRpbmdcblxuICAgICAgICAgICAgdmFyIHRvdGFsTWVzc2FnZXNMZW5ndGggPSAobnVtU2VydmVyTWVzc2FnZXMgKyBudW1DbGllbnRNZXNzYWdlcyArIG51bUVuY29kaW5ncykgKiAxNjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdCgnVGlnaHRWTkMgZXh0ZW5kZWQgc2VydmVyIGluaXQgaGVhZGVyJywgdG90YWxNZXNzYWdlc0xlbmd0aCwgMzIgKyBuYW1lX2xlbmd0aCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGFjdHVhbGx5IGRvIGFueXRoaW5nIHdpdGggdGhlIGNhcGFiaWxpdHkgaW5mb3JtYXRpb24gdGhhdCBUSUdIVCBzZW5kcyxcbiAgICAgICAgICAgIC8vIHNvIHdlIGp1c3Qgc2tpcCB0aGUgYWxsIG9mIHRoaXMuXG5cbiAgICAgICAgICAgIC8vIFRJR0hUIHNlcnZlciBtZXNzYWdlIGNhcGFiaWxpdGllc1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNiAqIG51bVNlcnZlck1lc3NhZ2VzKTtcblxuICAgICAgICAgICAgLy8gVElHSFQgY2xpZW50IG1lc3NhZ2UgY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDE2ICogbnVtQ2xpZW50TWVzc2FnZXMpO1xuXG4gICAgICAgICAgICAvLyBUSUdIVCBlbmNvZGluZyBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMTYgKiBudW1FbmNvZGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogdGhlc2UgYXJlIGRvd24gaGVyZSBzbyB0aGF0IHdlIGRvbid0IHJ1biB0aGVtIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgIGlmIHdlIGJhY2t0cmFja1xuICAgICAgICBMb2cuSW5mbyhcIlNjcmVlbjogXCIgKyB3aWR0aCArIFwieFwiICsgaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBicHA6IFwiICsgYnBwICsgXCIsIGRlcHRoOiBcIiArIGRlcHRoICtcbiAgICAgICAgICAgICAgICAgIFwiLCBiaWdfZW5kaWFuOiBcIiArIGJpZ19lbmRpYW4gK1xuICAgICAgICAgICAgICAgICAgXCIsIHRydWVfY29sb3I6IFwiICsgdHJ1ZV9jb2xvciArXG4gICAgICAgICAgICAgICAgICBcIiwgcmVkX21heDogXCIgKyByZWRfbWF4ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBncmVlbl9tYXg6IFwiICsgZ3JlZW5fbWF4ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBibHVlX21heDogXCIgKyBibHVlX21heCArXG4gICAgICAgICAgICAgICAgICBcIiwgcmVkX3NoaWZ0OiBcIiArIHJlZF9zaGlmdCArXG4gICAgICAgICAgICAgICAgICBcIiwgZ3JlZW5fc2hpZnQ6IFwiICsgZ3JlZW5fc2hpZnQgK1xuICAgICAgICAgICAgICAgICAgXCIsIGJsdWVfc2hpZnQ6IFwiICsgYmx1ZV9zaGlmdCk7XG5cbiAgICAgICAgaWYgKGJpZ19lbmRpYW4gIT09IDApIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiU2VydmVyIG5hdGl2ZSBlbmRpYW4gaXMgbm90IGxpdHRsZSBlbmRpYW5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVkX3NoaWZ0ICE9PSAxNikge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgbmF0aXZlIHJlZC1zaGlmdCBpcyBub3QgMTZcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmx1ZV9zaGlmdCAhPT0gMCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgbmF0aXZlIGJsdWUtc2hpZnQgaXMgbm90IDBcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSdyZSBwYXN0IHRoZSBwb2ludCB3aGVyZSB3ZSBjb3VsZCBiYWNrdHJhY2ssIHNvIGl0J3Mgc2FmZSB0byBjYWxsIHRoaXNcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiZGVza3RvcG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IG5hbWU6IHRoaXMuX2ZiX25hbWUgfSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICB0aGlzLl9yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl92aWV3T25seSkgeyB0aGlzLl9rZXlib2FyZC5ncmFiKCk7IH1cbiAgICAgICAgaWYgKCF0aGlzLl92aWV3T25seSkgeyB0aGlzLl9tb3VzZS5ncmFiKCk7IH1cblxuICAgICAgICB0aGlzLl9mYl9kZXB0aCA9IDI0O1xuXG4gICAgICAgIGlmICh0aGlzLl9mYl9uYW1lID09PSBcIkludGVsKHIpIEFNVCBLVk1cIikge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJJbnRlbCBBTVQgS1ZNIG9ubHkgc3VwcG9ydHMgOC8xNiBiaXQgZGVwdGhzLiBVc2luZyBsb3cgY29sb3IgbW9kZS5cIik7XG4gICAgICAgICAgICB0aGlzLl9mYl9kZXB0aCA9IDg7XG4gICAgICAgIH1cblxuICAgICAgICBSRkIubWVzc2FnZXMucGl4ZWxGb3JtYXQodGhpcy5fc29jaywgdGhpcy5fZmJfZGVwdGgsIHRydWUpO1xuICAgICAgICB0aGlzLl9zZW5kRW5jb2RpbmdzKCk7XG4gICAgICAgIFJGQi5tZXNzYWdlcy5mYlVwZGF0ZVJlcXVlc3QodGhpcy5fc29jaywgZmFsc2UsIDAsIDAsIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB0aGlzLl90aW1pbmcucGl4ZWxzID0gMDtcblxuICAgICAgICAvLyBDdXJzb3Igd2lsbCBiZSBzZXJ2ZXIgc2lkZSB1bnRpbCB0aGUgc2VydmVyIGRlY2lkZXMgdG8gaG9ub3JcbiAgICAgICAgLy8gb3VyIHJlcXVlc3QgYW5kIHNlbmQgb3ZlciB0aGUgY3Vyc29yIGltYWdlXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuZGlzYWJsZUxvY2FsQ3Vyc29yKCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9zZW5kRW5jb2RpbmdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbmNzID0gW107XG5cbiAgICAgICAgLy8gSW4gcHJlZmVyZW5jZSBvcmRlclxuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nQ29weVJlY3QpO1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnRlZCB3aXRoIGZ1bGwgZGVwdGggc3VwcG9ydFxuICAgICAgICBpZiAodGhpcy5fZmJfZGVwdGggPT0gMjQpIHtcbiAgICAgICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MuZW5jb2RpbmdUaWdodCk7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nSGV4dGlsZSk7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nUlJFKTtcbiAgICAgICAgfVxuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nUmF3KTtcblxuICAgICAgICAvLyBQc3VlZG8tZW5jb2Rpbmcgc2V0dGluZ3NcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1RpZ2h0UE5HKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1F1YWxpdHlMZXZlbDAgKyA2KTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0NvbXByZXNzTGV2ZWwwICsgMik7XG5cbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0Rlc2t0b3BTaXplKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0xhc3RSZWN0KTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1FFTVVFeHRlbmRlZEtleUV2ZW50KTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0V4dGVuZGVkRGVza3RvcFNpemUpO1xuICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nWHZwKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0ZlbmNlKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0NvbnRpbnVvdXNVcGRhdGVzKTtcblxuICAgICAgICBpZiAoc3VwcG9ydHNDdXJzb3JVUklzKCkgJiZcbiAgICAgICAgICAgICFpc1RvdWNoRGV2aWNlICYmIHRoaXMuX2ZiX2RlcHRoID09IDI0KSB7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nQ3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFJGQi5tZXNzYWdlcy5jbGllbnRFbmNvZGluZ3ModGhpcy5fc29jaywgZW5jcyk7XG4gICAgfSxcblxuICAgIC8qIFJGQiBwcm90b2NvbCBpbml0aWFsaXphdGlvbiBzdGF0ZXM6XG4gICAgICogICBQcm90b2NvbFZlcnNpb25cbiAgICAgKiAgIFNlY3VyaXR5XG4gICAgICogICBBdXRoZW50aWNhdGlvblxuICAgICAqICAgU2VjdXJpdHlSZXN1bHRcbiAgICAgKiAgIENsaWVudEluaXRpYWxpemF0aW9uIC0gbm90IHRyaWdnZXJlZCBieSBzZXJ2ZXIgbWVzc2FnZVxuICAgICAqICAgU2VydmVySW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBfaW5pdF9tc2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfaW5pdF9zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnUHJvdG9jb2xWZXJzaW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3Byb3RvY29sX3ZlcnNpb24oKTtcblxuICAgICAgICAgICAgY2FzZSAnU2VjdXJpdHknOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc2VjdXJpdHkoKTtcblxuICAgICAgICAgICAgY2FzZSAnQXV0aGVudGljYXRpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfYXV0aGVudGljYXRpb24oKTtcblxuICAgICAgICAgICAgY2FzZSAnU2VjdXJpdHlSZXN1bHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VjdXJpdHlfcmVzdWx0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ0NsaWVudEluaXRpYWxpc2F0aW9uJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoW3RoaXMuX3NoYXJlZCA/IDEgOiAwXSk7IC8vIENsaWVudEluaXRpYWxpc2F0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VydmVySW5pdGlhbGlzYXRpb24nO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlICdTZXJ2ZXJJbml0aWFsaXNhdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9zZXJ2ZXJfaW5pdCgpO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5rbm93biBpbml0IHN0YXRlIChzdGF0ZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9oYW5kbGVfc2V0X2NvbG91cl9tYXBfbXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIlNldENvbG9yTWFwRW50cmllc1wiKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgU2V0Q29sb3JNYXBFbnRyaWVzIG1lc3NhZ2VcIik7XG4gICAgfSxcblxuICAgIF9oYW5kbGVfc2VydmVyX2N1dF90ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIlNlcnZlckN1dFRleHRcIik7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiU2VydmVyQ3V0VGV4dCBoZWFkZXJcIiwgNywgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7ICAvLyBQYWRkaW5nXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJTZXJ2ZXJDdXRUZXh0XCIsIGxlbmd0aCwgOCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIobGVuZ3RoKTtcblxuICAgICAgICBpZiAodGhpcy5fdmlld09ubHkpIHsgcmV0dXJuIHRydWU7IH1cblxuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjbGlwYm9hcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHRleHQ6IHRleHQgfSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZV9zZXJ2ZXJfZmVuY2VfbXNnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiU2VydmVyRmVuY2UgaGVhZGVyXCIsIDgsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAvLyBQYWRkaW5nXG4gICAgICAgIHZhciBmbGFncyA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiU2VydmVyRmVuY2UgcGF5bG9hZFwiLCBsZW5ndGgsIDkpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIGlmIChsZW5ndGggPiA2NCkge1xuICAgICAgICAgICAgTG9nLldhcm4oXCJCYWQgcGF5bG9hZCBsZW5ndGggKFwiICsgbGVuZ3RoICsgXCIpIGluIGZlbmNlIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgbGVuZ3RoID0gNjQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGF5bG9hZCA9IHRoaXMuX3NvY2suclFzaGlmdFN0cihsZW5ndGgpO1xuXG4gICAgICAgIHRoaXMuX3N1cHBvcnRzRmVuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIEZlbmNlIGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqICAoMTw8MCkgIC0gQmxvY2tCZWZvcmVcbiAgICAgICAgICogICgxPDwxKSAgLSBCbG9ja0FmdGVyXG4gICAgICAgICAqICAoMTw8MikgIC0gU3luY05leHRcbiAgICAgICAgICogICgxPDwzMSkgLSBSZXF1ZXN0XG4gICAgICAgICAqL1xuXG4gICAgICAgIGlmICghKGZsYWdzICYgKDE8PDMxKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5leHBlY3RlZCBmZW5jZSByZXNwb25zZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbHRlciBvdXQgdW5zdXBwb3J0ZWQgZmxhZ3NcbiAgICAgICAgLy8gRklYTUU6IHN1cHBvcnQgc3luY05leHRcbiAgICAgICAgZmxhZ3MgJj0gKDE8PDApIHwgKDE8PDEpO1xuXG4gICAgICAgIC8vIEJsb2NrQmVmb3JlIGFuZCBCbG9ja0FmdGVyIGFyZSBhdXRvbWF0aWNhbGx5IGhhbmRsZWQgYnlcbiAgICAgICAgLy8gdGhlIGZhY3QgdGhhdCB3ZSBwcm9jZXNzIGVhY2ggaW5jb21pbmcgbWVzc2FnZVxuICAgICAgICAvLyBzeW5jaHJvbnVvc2x5LlxuICAgICAgICBSRkIubWVzc2FnZXMuY2xpZW50RmVuY2UodGhpcy5fc29jaywgZmxhZ3MsIHBheWxvYWQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlX3h2cF9tc2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiWFZQIHZlcnNpb24gYW5kIG1lc3NhZ2VcIiwgMywgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwOCgpOyAgLy8gUGFkZGluZ1xuICAgICAgICB2YXIgeHZwX3ZlciA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIHh2cF9tc2cgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG5cbiAgICAgICAgc3dpdGNoICh4dnBfbXNnKSB7XG4gICAgICAgICAgICBjYXNlIDA6ICAvLyBYVlBfRkFJTFxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIlhWUCBPcGVyYXRpb24gRmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOiAgLy8gWFZQX0lOSVRcbiAgICAgICAgICAgICAgICB0aGlzLl9yZmJfeHZwX3ZlciA9IHh2cF92ZXI7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJYVlAgZXh0ZW5zaW9ucyBlbmFibGVkICh2ZXJzaW9uIFwiICsgdGhpcy5fcmZiX3h2cF92ZXIgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2FwYWJpbGl0eShcInBvd2VyXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiSWxsZWdhbCBzZXJ2ZXIgWFZQIG1lc3NhZ2UgKG1zZzogXCIgKyB4dnBfbXNnICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9ub3JtYWxfbXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtc2dfdHlwZTtcblxuICAgICAgICBpZiAodGhpcy5fRkJVLnJlY3RzID4gMCkge1xuICAgICAgICAgICAgbXNnX3R5cGUgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXNnX3R5cGUgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG1zZ190eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDA6ICAvLyBGcmFtZWJ1ZmZlclVwZGF0ZVxuICAgICAgICAgICAgICAgIHZhciByZXQgPSB0aGlzLl9mcmFtZWJ1ZmZlclVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXQgJiYgIXRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBSRkIubWVzc2FnZXMuZmJVcGRhdGVSZXF1ZXN0KHRoaXMuX3NvY2ssIHRydWUsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmJfd2lkdGgsIHRoaXMuX2ZiX2hlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cbiAgICAgICAgICAgIGNhc2UgMTogIC8vIFNldENvbG9yTWFwRW50cmllc1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2V0X2NvbG91cl9tYXBfbXNnKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjogIC8vIEJlbGxcbiAgICAgICAgICAgICAgICBMb2cuRGVidWcoXCJCZWxsXCIpO1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImJlbGxcIiwgeyBkZXRhaWw6IHt9IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgMzogIC8vIFNlcnZlckN1dFRleHRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlcnZlcl9jdXRfdGV4dCgpO1xuXG4gICAgICAgICAgICBjYXNlIDE1MDogLy8gRW5kT2ZDb250aW51b3VzVXBkYXRlc1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9ICEodGhpcy5fc3VwcG9ydHNDb250aW51b3VzVXBkYXRlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3VwcG9ydHNDb250aW51b3VzVXBkYXRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZENvbnRpbnVvdXNVcGRhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRpbnVvdXNVcGRhdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiRW5hYmxpbmcgY29udGludW91cyB1cGRhdGVzLlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogV2UgbmVlZCB0byBzZW5kIGEgZnJhbWVidWZmZXJ1cGRhdGVyZXF1ZXN0IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgYWRkIHN1cHBvcnQgZm9yIHR1cm5pbmcgb2ZmIGNvbnRpbnVvdXMgdXBkYXRlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSAyNDg6IC8vIFNlcnZlckZlbmNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZXJ2ZXJfZmVuY2VfbXNnKCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjUwOiAgLy8gWFZQXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV94dnBfbXNnKCk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgc2VydmVyIG1lc3NhZ2UgKHR5cGUgXCIgKyBtc2dfdHlwZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICBMb2cuRGVidWcoXCJzb2NrLnJRc2xpY2UoMCwgMzApOiBcIiArIHRoaXMuX3NvY2suclFzbGljZSgwLCAzMCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9vbkZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gUmVzdW1lIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclFsZW4oKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZV9tZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2ZyYW1lYnVmZmVyVXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXQgPSB0cnVlO1xuICAgICAgICB2YXIgbm93O1xuXG4gICAgICAgIGlmICh0aGlzLl9GQlUucmVjdHMgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkZCVSBoZWFkZXJcIiwgMywgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcDgoKTsgIC8vIFBhZGRpbmdcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5yZWN0cyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICAgICAgdGhpcy5fdGltaW5nLmN1cl9mYnUgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIkZpcnN0IEZCVSBsYXRlbmN5OiBcIiArIChub3cgLSB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJldmlvdXMgZnJhbWUgaXMgZnVsbHkgcmVuZGVyZWQgZmlyc3RcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIGJ1aWxkaW5nIHVwIGFuIGV4Y2Vzc2l2ZSBxdWV1ZVxuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BsYXkucGVuZGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmx1c2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5fRkJVLnJlY3RzID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlICE9PSAnY29ubmVjdGVkJykgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiRkJVXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAodGhpcy5fRkJVLmJ5dGVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwicmVjdCBoZWFkZXJcIiwgMTIpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgICAgIC8qIE5ldyBGcmFtZWJ1ZmZlclVwZGF0ZSAqL1xuXG4gICAgICAgICAgICAgICAgdmFyIGhkciA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDEyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUueCAgICAgICAgPSAoaGRyWzBdIDw8IDgpICsgaGRyWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS55ICAgICAgICA9IChoZHJbMl0gPDwgOCkgKyBoZHJbM107XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLndpZHRoICAgID0gKGhkcls0XSA8PCA4KSArIGhkcls1XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuaGVpZ2h0ICAgPSAoaGRyWzZdIDw8IDgpICsgaGRyWzddO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5lbmNvZGluZyA9IHBhcnNlSW50KChoZHJbOF0gPDwgMjQpICsgKGhkcls5XSA8PCAxNikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChoZHJbMTBdIDw8IDgpICsgaGRyWzExXSwgMTApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9lbmNIYW5kbGVyc1t0aGlzLl9GQlUuZW5jb2RpbmddKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCBlbmNvZGluZyAoZW5jb2Rpbmc6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuZW5jb2RpbmcgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWluZy5sYXN0X2ZidSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIHJldCA9IHRoaXMuX2VuY0hhbmRsZXJzW3RoaXMuX0ZCVS5lbmNvZGluZ10oKTtcblxuICAgICAgICAgICAgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWluZy5jdXJfZmJ1ICs9IChub3cgLSB0aGlzLl90aW1pbmcubGFzdF9mYnUpO1xuXG4gICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5fRkJVLmVuY29kaW5nIGluIHRoaXMuX2VuY1N0YXRzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmNTdGF0c1t0aGlzLl9GQlUuZW5jb2RpbmddID0gWzAsIDBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9lbmNTdGF0c1t0aGlzLl9GQlUuZW5jb2RpbmddWzBdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5jU3RhdHNbdGhpcy5fRkJVLmVuY29kaW5nXVsxXSsrO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5waXhlbHMgKz0gdGhpcy5fRkJVLndpZHRoICogdGhpcy5fRkJVLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWluZy5waXhlbHMgPj0gKHRoaXMuX2ZiX3dpZHRoICogdGhpcy5fZmJfaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIGlmICgodGhpcy5fRkJVLndpZHRoID09PSB0aGlzLl9mYl93aWR0aCAmJiB0aGlzLl9GQlUuaGVpZ2h0ID09PSB0aGlzLl9mYl9oZWlnaHQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mdWxsX2ZidV90b3RhbCArPSB0aGlzLl90aW1pbmcuY3VyX2ZidTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZ1bGxfZmJ1X2NudCsrO1xuICAgICAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIlRpbWluZyBvZiBmdWxsIEZCVSwgY3VycjogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmN1cl9mYnUgKyBcIiwgdG90YWw6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mdWxsX2ZidV90b3RhbCArIFwiLCBjbnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mdWxsX2ZidV9jbnQgKyBcIiwgYXZnOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5fdGltaW5nLmZ1bGxfZmJ1X3RvdGFsIC8gdGhpcy5fdGltaW5nLmZ1bGxfZmJ1X2NudCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmJ1X3J0X2RpZmYgPSBub3cgLSB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3RvdGFsICs9IGZidV9ydF9kaWZmO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X2NudCsrO1xuICAgICAgICAgICAgICAgICAgICBMb2cuSW5mbyhcImZ1bGwgRkJVIHJvdW5kLXRyaXAsIGN1cjogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmJ1X3J0X2RpZmYgKyBcIiwgdG90YWw6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfdG90YWwgKyBcIiwgY250OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X2NudCArIFwiLCBhdmc6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl90aW1pbmcuZmJ1X3J0X3RvdGFsIC8gdGhpcy5fdGltaW5nLmZidV9ydF9jbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJldCkgeyByZXR1cm4gcmV0OyB9ICAvLyBuZWVkIG1vcmUgZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGlzcGxheS5mbGlwKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7ICAvLyBXZSBmaW5pc2hlZCB0aGlzIEZCVVxuICAgIH0sXG5cbiAgICBfdXBkYXRlQ29udGludW91c1VwZGF0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcykgeyByZXR1cm47IH1cblxuICAgICAgICBSRkIubWVzc2FnZXMuZW5hYmxlQ29udGludW91c1VwZGF0ZXModGhpcy5fc29jaywgdHJ1ZSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBfcmVzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2ZiX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZiX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLl9kZXN0QnVmZiA9IG5ldyBVaW50OEFycmF5KHRoaXMuX2ZiX3dpZHRoICogdGhpcy5fZmJfaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgdGhpcy5fZGlzcGxheS5yZXNpemUodGhpcy5fZmJfd2lkdGgsIHRoaXMuX2ZiX2hlaWdodCk7XG5cbiAgICAgICAgLy8gQWRqdXN0IHRoZSB2aXNpYmxlIHZpZXdwb3J0IGJhc2VkIG9uIHRoZSBuZXcgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLl91cGRhdGVDbGlwKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRpbnVvdXNVcGRhdGVzKCk7XG4gICAgfSxcblxuICAgIF94dnBPcDogZnVuY3Rpb24gKHZlciwgb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuX3JmYl94dnBfdmVyIDwgdmVyKSB7IHJldHVybjsgfVxuICAgICAgICBMb2cuSW5mbyhcIlNlbmRpbmcgWFZQIG9wZXJhdGlvbiBcIiArIG9wICsgXCIgKHZlcnNpb24gXCIgKyB2ZXIgKyBcIilcIik7XG4gICAgICAgIFJGQi5tZXNzYWdlcy54dnBPcCh0aGlzLl9zb2NrLCB2ZXIsIG9wKTtcbiAgICB9LFxufTtcblxuT2JqZWN0LmFzc2lnbihSRkIucHJvdG90eXBlLCBFdmVudFRhcmdldE1peGluKTtcblxuLy8gQ2xhc3MgTWV0aG9kc1xuUkZCLm1lc3NhZ2VzID0ge1xuICAgIGtleUV2ZW50OiBmdW5jdGlvbiAoc29jaywga2V5c3ltLCBkb3duKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSA0OyAgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IGRvd247XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IDA7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSAwO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSAoa2V5c3ltID4+IDI0KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IChrZXlzeW0gPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gKGtleXN5bSA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGtleXN5bTtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA4O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIFFFTVVFeHRlbmRlZEtleUV2ZW50OiBmdW5jdGlvbiAoc29jaywga2V5c3ltLCBkb3duLCBrZXljb2RlKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldFJGQmtleWNvZGUoeHRfc2NhbmNvZGUpIHtcbiAgICAgICAgICAgIHZhciB1cHBlckJ5dGUgPSAoa2V5Y29kZSA+PiA4KTtcbiAgICAgICAgICAgIHZhciBsb3dlckJ5dGUgPSAoa2V5Y29kZSAmIDB4MDBmZik7XG4gICAgICAgICAgICBpZiAodXBwZXJCeXRlID09PSAweGUwICYmIGxvd2VyQnl0ZSA8IDB4N2YpIHtcbiAgICAgICAgICAgICAgICBsb3dlckJ5dGUgPSBsb3dlckJ5dGUgfCAweDgwO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb3dlckJ5dGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geHRfc2NhbmNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMjU1OyAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gc3ViIG1zZy10eXBlXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IChkb3duID4+IDgpO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gZG93bjtcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gKGtleXN5bSA+PiAyNCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSAoa2V5c3ltID4+IDE2KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IChrZXlzeW0gPj4gOCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSBrZXlzeW07XG5cbiAgICAgICAgdmFyIFJGQmtleWNvZGUgPSBnZXRSRkJrZXljb2RlKGtleWNvZGUpO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSAoUkZCa2V5Y29kZSA+PiAyNCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOV0gPSAoUkZCa2V5Y29kZSA+PiAxNik7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTBdID0gKFJGQmtleWNvZGUgPj4gOCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTFdID0gUkZCa2V5Y29kZTtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAxMjtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBwb2ludGVyRXZlbnQ6IGZ1bmN0aW9uIChzb2NrLCB4LCB5LCBtYXNrKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSA1OyAvLyBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSBtYXNrO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB4ID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB4O1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSB5ID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSB5O1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDY7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgLy8gVE9ETyhkaXJlY3R4bWFuMTIpOiBtYWtlIHRoaXMgdW5pY29kZSBjb21wYXRpYmxlP1xuICAgIGNsaWVudEN1dFRleHQ6IGZ1bmN0aW9uIChzb2NrLCB0ZXh0KSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSA2OyAvLyBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgdmFyIG4gPSB0ZXh0Lmxlbmd0aDtcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gbiA+PiAyNDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IG4gPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSBuID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSBuO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBidWZmW29mZnNldCArIDggKyBpXSA9ICB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA4ICsgbjtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBzZXREZXNrdG9wU2l6ZTogZnVuY3Rpb24gKHNvY2ssIHdpZHRoLCBoZWlnaHQsIGlkLCBmbGFncykge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMjUxOyAgICAgICAgICAgICAgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7ICAgICAgICAgICAgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gd2lkdGggPj4gODsgICAvLyB3aWR0aFxuICAgICAgICBidWZmW29mZnNldCArIDNdID0gd2lkdGg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBoZWlnaHQgPj4gODsgIC8vIGhlaWdodFxuICAgICAgICBidWZmW29mZnNldCArIDVdID0gaGVpZ2h0O1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAxOyAgICAgICAgICAgIC8vIG51bWJlci1vZi1zY3JlZW5zXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSAwOyAgICAgICAgICAgIC8vIHBhZGRpbmdcblxuICAgICAgICAvLyBzY3JlZW4gYXJyYXlcbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IGlkID4+IDI0OyAgICAgLy8gaWRcbiAgICAgICAgYnVmZltvZmZzZXQgKyA5XSA9IGlkID4+IDE2O1xuICAgICAgICBidWZmW29mZnNldCArIDEwXSA9IGlkID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTFdID0gaWQ7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTJdID0gMDsgICAgICAgICAgIC8vIHgtcG9zaXRpb25cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxM10gPSAwO1xuICAgICAgICBidWZmW29mZnNldCArIDE0XSA9IDA7ICAgICAgICAgICAvLyB5LXBvc2l0aW9uXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTVdID0gMDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNl0gPSB3aWR0aCA+PiA4OyAgLy8gd2lkdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxN10gPSB3aWR0aDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxOF0gPSBoZWlnaHQgPj4gODsgLy8gaGVpZ2h0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTldID0gaGVpZ2h0O1xuICAgICAgICBidWZmW29mZnNldCArIDIwXSA9IGZsYWdzID4+IDI0OyAvLyBmbGFnc1xuICAgICAgICBidWZmW29mZnNldCArIDIxXSA9IGZsYWdzID4+IDE2O1xuICAgICAgICBidWZmW29mZnNldCArIDIyXSA9IGZsYWdzID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMjNdID0gZmxhZ3M7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMjQ7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgY2xpZW50RmVuY2U6IGZ1bmN0aW9uIChzb2NrLCBmbGFncywgcGF5bG9hZCkge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMjQ4OyAvLyBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IGZsYWdzID4+IDI0OyAvLyBmbGFnc1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0gZmxhZ3MgPj4gMTY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSBmbGFncyA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDddID0gZmxhZ3M7XG5cbiAgICAgICAgdmFyIG4gPSBwYXlsb2FkLmxlbmd0aDtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gbjsgLy8gbGVuZ3RoXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOSArIGldID0gcGF5bG9hZC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gOSArIG47XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgZW5hYmxlQ29udGludW91c1VwZGF0ZXM6IGZ1bmN0aW9uIChzb2NrLCBlbmFibGUsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDE1MDsgICAgICAgICAgICAgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IGVuYWJsZTsgICAgICAvLyBlbmFibGUtZmxhZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB4ID4+IDg7ICAgICAgLy8geFxuICAgICAgICBidWZmW29mZnNldCArIDNdID0geDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IHkgPj4gODsgICAgICAvLyB5XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSB5O1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gd2lkdGggPj4gODsgIC8vIHdpZHRoXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSB3aWR0aDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IGhlaWdodCA+PiA4OyAvLyBoZWlnaHRcbiAgICAgICAgYnVmZltvZmZzZXQgKyA5XSA9IGhlaWdodDtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAxMDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBwaXhlbEZvcm1hdDogZnVuY3Rpb24gKHNvY2ssIGRlcHRoLCB0cnVlX2NvbG9yKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICB2YXIgYnBwLCBiaXRzO1xuXG4gICAgICAgIGlmIChkZXB0aCA+IDE2KSB7XG4gICAgICAgICAgICBicHAgPSAzMjtcbiAgICAgICAgfSBlbHNlIGlmIChkZXB0aCA+IDgpIHtcbiAgICAgICAgICAgIGJwcCA9IDE2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnBwID0gODtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpdHMgPSBNYXRoLmZsb29yKGRlcHRoLzMpO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDA7ICAvLyBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAwOyAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IGJwcDsgICAgICAgICAgICAgICAgIC8vIGJpdHMtcGVyLXBpeGVsXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSBkZXB0aDsgICAgICAgICAgICAgICAvLyBkZXB0aFxuICAgICAgICBidWZmW29mZnNldCArIDZdID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbGl0dGxlLWVuZGlhblxuICAgICAgICBidWZmW29mZnNldCArIDddID0gdHJ1ZV9jb2xvciA/IDEgOiAwOyAgLy8gdHJ1ZS1jb2xvclxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSAwOyAgICAvLyByZWQtbWF4XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOV0gPSAoMSA8PCBiaXRzKSAtIDE7ICAvLyByZWQtbWF4XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMF0gPSAwOyAgIC8vIGdyZWVuLW1heFxuICAgICAgICBidWZmW29mZnNldCArIDExXSA9ICgxIDw8IGJpdHMpIC0gMTsgLy8gZ3JlZW4tbWF4XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMl0gPSAwOyAgIC8vIGJsdWUtbWF4XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTNdID0gKDEgPDwgYml0cykgLSAxOyAvLyBibHVlLW1heFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTRdID0gYml0cyAqIDI7IC8vIHJlZC1zaGlmdFxuICAgICAgICBidWZmW29mZnNldCArIDE1XSA9IGJpdHMgKiAxOyAvLyBncmVlbi1zaGlmdFxuICAgICAgICBidWZmW29mZnNldCArIDE2XSA9IGJpdHMgKiAwOyAvLyBibHVlLXNoaWZ0XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAxN10gPSAwOyAgIC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxOF0gPSAwOyAgIC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxOV0gPSAwOyAgIC8vIHBhZGRpbmdcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAyMDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBjbGllbnRFbmNvZGluZ3M6IGZ1bmN0aW9uIChzb2NrLCBlbmNvZGluZ3MpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI7IC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAvLyBwYWRkaW5nXG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IGVuY29kaW5ncy5sZW5ndGggPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IGVuY29kaW5ncy5sZW5ndGg7XG5cbiAgICAgICAgdmFyIGksIGogPSBvZmZzZXQgKyA0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5jb2RpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW5jID0gZW5jb2RpbmdzW2ldO1xuICAgICAgICAgICAgYnVmZltqXSA9IGVuYyA+PiAyNDtcbiAgICAgICAgICAgIGJ1ZmZbaiArIDFdID0gZW5jID4+IDE2O1xuICAgICAgICAgICAgYnVmZltqICsgMl0gPSBlbmMgPj4gODtcbiAgICAgICAgICAgIGJ1ZmZbaiArIDNdID0gZW5jO1xuXG4gICAgICAgICAgICBqICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBzb2NrLl9zUWxlbiArPSBqIC0gb2Zmc2V0O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIGZiVXBkYXRlUmVxdWVzdDogZnVuY3Rpb24gKHNvY2ssIGluY3JlbWVudGFsLCB4LCB5LCB3LCBoKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBpZiAodHlwZW9mKHgpID09PSBcInVuZGVmaW5lZFwiKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh0eXBlb2YoeSkgPT09IFwidW5kZWZpbmVkXCIpIHsgeSA9IDA7IH1cblxuICAgICAgICBidWZmW29mZnNldF0gPSAzOyAgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IGluY3JlbWVudGFsID8gMSA6IDA7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9ICh4ID4+IDgpICYgMHhGRjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IHggJiAweEZGO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSAoeSA+PiA4KSAmIDB4RkY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSB5ICYgMHhGRjtcblxuICAgICAgICBidWZmW29mZnNldCArIDZdID0gKHcgPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDddID0gdyAmIDB4RkY7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IChoID4+IDgpICYgMHhGRjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA5XSA9IGggJiAweEZGO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDEwO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHh2cE9wOiBmdW5jdGlvbiAoc29jaywgdmVyLCBvcCkge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMjUwOyAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSB2ZXI7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSBvcDtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA0O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcbn07XG5cblJGQi5nZW5ERVMgPSBmdW5jdGlvbiAocGFzc3dvcmQsIGNoYWxsZW5nZSkge1xuICAgIHZhciBwYXNzd2QgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhc3N3b3JkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhc3N3ZC5wdXNoKHBhc3N3b3JkLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gKG5ldyBERVMocGFzc3dkKSkuZW5jcnlwdChjaGFsbGVuZ2UpO1xufTtcblxuUkZCLmVuY29kaW5nSGFuZGxlcnMgPSB7XG4gICAgUkFXOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9GQlUubGluZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5saW5lcyA9IHRoaXMuX0ZCVS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGl4ZWxTaXplID0gdGhpcy5fZmJfZGVwdGggPT0gOCA/IDEgOiA0O1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSB0aGlzLl9GQlUud2lkdGggKiBwaXhlbFNpemU7ICAvLyBhdCBsZWFzdCBhIGxpbmVcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiUkFXXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHZhciBjdXJfeSA9IHRoaXMuX0ZCVS55ICsgKHRoaXMuX0ZCVS5oZWlnaHQgLSB0aGlzLl9GQlUubGluZXMpO1xuICAgICAgICB2YXIgY3Vycl9oZWlnaHQgPSBNYXRoLm1pbih0aGlzLl9GQlUubGluZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5fc29jay5yUWxlbigpIC8gKHRoaXMuX0ZCVS53aWR0aCAqIHBpeGVsU2l6ZSkpKTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9zb2NrLmdldF9yUSgpO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9zb2NrLmdldF9yUWkoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZiX2RlcHRoID09IDgpIHtcbiAgICAgICAgICAgIHZhciBwaXhlbHMgPSB0aGlzLl9GQlUud2lkdGggKiBjdXJyX2hlaWdodFxuICAgICAgICAgICAgdmFyIG5ld2RhdGEgPSBuZXcgVWludDhBcnJheShwaXhlbHMgKiA0KTtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDtpIDwgcGl4ZWxzO2krKykge1xuICAgICAgICAgICAgICAgIG5ld2RhdGFbaSAqIDQgKyAwXSA9ICgoZGF0YVtpbmRleCArIGldID4+IDApICYgMHgzKSAqIDI1NSAvIDM7XG4gICAgICAgICAgICAgICAgbmV3ZGF0YVtpICogNCArIDFdID0gKChkYXRhW2luZGV4ICsgaV0gPj4gMikgJiAweDMpICogMjU1IC8gMztcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgMl0gPSAoKGRhdGFbaW5kZXggKyBpXSA+PiA0KSAmIDB4MykgKiAyNTUgLyAzO1xuICAgICAgICAgICAgICAgIG5ld2RhdGFbaSAqIDQgKyA0XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhID0gbmV3ZGF0YTtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwbGF5LmJsaXRJbWFnZSh0aGlzLl9GQlUueCwgY3VyX3ksIHRoaXMuX0ZCVS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vycl9oZWlnaHQsIGRhdGEsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcyh0aGlzLl9GQlUud2lkdGggKiBjdXJyX2hlaWdodCAqIHBpeGVsU2l6ZSk7XG4gICAgICAgIHRoaXMuX0ZCVS5saW5lcyAtPSBjdXJyX2hlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5fRkJVLmxpbmVzID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gdGhpcy5fRkJVLndpZHRoICogcGl4ZWxTaXplOyAgLy8gQXQgbGVhc3QgYW5vdGhlciBsaW5lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgQ09QWVJFQ1Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gNDtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiQ09QWVJFQ1RcIiwgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuY29weUltYWdlKHRoaXMuX3NvY2suclFzaGlmdDE2KCksIHRoaXMuX3NvY2suclFzaGlmdDE2KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIFJSRTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29sb3I7XG4gICAgICAgIGlmICh0aGlzLl9GQlUuc3VicmVjdHMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDQgKyA0O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiUlJFXCIsIDQgKyA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHRoaXMuX0ZCVS5zdWJyZWN0cyA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgICAgICBjb2xvciA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDQpOyAgLy8gQmFja2dyb3VuZFxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5maWxsUmVjdCh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCwgY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX0ZCVS5zdWJyZWN0cyA+IDAgJiYgdGhpcy5fc29jay5yUWxlbigpID49ICg0ICsgOCkpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoNCk7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB2YXIgeSA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZpbGxSZWN0KHRoaXMuX0ZCVS54ICsgeCwgdGhpcy5fRkJVLnkgKyB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvcik7XG4gICAgICAgICAgICB0aGlzLl9GQlUuc3VicmVjdHMtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9GQlUuc3VicmVjdHMgPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2h1bmsgPSBNYXRoLm1pbih0aGlzLl9ycmVfY2h1bmtfc3osIHRoaXMuX0ZCVS5zdWJyZWN0cyk7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAoNCArIDgpICogY2h1bms7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgSEVYVElMRTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgclEgPSB0aGlzLl9zb2NrLmdldF9yUSgpO1xuICAgICAgICB2YXIgclFpID0gdGhpcy5fc29jay5nZXRfclFpKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS50aWxlcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLnRpbGVzX3ggPSBNYXRoLmNlaWwodGhpcy5fRkJVLndpZHRoIC8gMTYpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLnRpbGVzX3kgPSBNYXRoLmNlaWwodGhpcy5fRkJVLmhlaWdodCAvIDE2KTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS50b3RhbF90aWxlcyA9IHRoaXMuX0ZCVS50aWxlc194ICogdGhpcy5fRkJVLnRpbGVzX3k7XG4gICAgICAgICAgICB0aGlzLl9GQlUudGlsZXMgPSB0aGlzLl9GQlUudG90YWxfdGlsZXM7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5fRkJVLnRpbGVzID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkhFWFRJTEUgc3ViZW5jb2RpbmdcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHZhciBzdWJlbmNvZGluZyA9IHJRW3JRaV07ICAvLyBQZWVrXG4gICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgPiAzMCkgeyAgLy8gUmF3XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIklsbGVnYWwgaGV4dGlsZSBzdWJlbmNvZGluZyAoc3ViZW5jb2Rpbmc6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmVuY29kaW5nICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN1YnJlY3RzID0gMDtcbiAgICAgICAgICAgIHZhciBjdXJyX3RpbGUgPSB0aGlzLl9GQlUudG90YWxfdGlsZXMgLSB0aGlzLl9GQlUudGlsZXM7XG4gICAgICAgICAgICB2YXIgdGlsZV94ID0gY3Vycl90aWxlICUgdGhpcy5fRkJVLnRpbGVzX3g7XG4gICAgICAgICAgICB2YXIgdGlsZV95ID0gTWF0aC5mbG9vcihjdXJyX3RpbGUgLyB0aGlzLl9GQlUudGlsZXNfeCk7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuX0ZCVS54ICsgdGlsZV94ICogMTY7XG4gICAgICAgICAgICB2YXIgeSA9IHRoaXMuX0ZCVS55ICsgdGlsZV95ICogMTY7XG4gICAgICAgICAgICB2YXIgdyA9IE1hdGgubWluKDE2LCAodGhpcy5fRkJVLnggKyB0aGlzLl9GQlUud2lkdGgpIC0geCk7XG4gICAgICAgICAgICB2YXIgaCA9IE1hdGgubWluKDE2LCAodGhpcy5fRkJVLnkgKyB0aGlzLl9GQlUuaGVpZ2h0KSAtIHkpO1xuXG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IGhvdyBtdWNoIHdlIGFyZSBleHBlY3RpbmdcbiAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDEpIHsgIC8vIFJhd1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSB3ICogaCAqIDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDIpIHsgIC8vIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDQpIHsgIC8vIEZvcmVncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWJlbmNvZGluZyAmIDB4MDgpIHsgIC8vIEFueVN1YnJlY3RzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcysrOyAgLy8gU2luY2Ugd2UgYXJlbid0IHNoaWZ0aW5nIGl0IG9mZlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJoZXh0aWxlIHN1YnJlY3RzIGhlYWRlclwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgICAgICAgICBzdWJyZWN0cyA9IHJRW3JRaSArIHRoaXMuX0ZCVS5ieXRlcyAtIDFdOyAgLy8gUGVla1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDEwKSB7ICAvLyBTdWJyZWN0c0NvbG91cmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gc3VicmVjdHMgKiAoNCArIDIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IHN1YnJlY3RzICogMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiaGV4dGlsZVwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBlbmNvZGluZyBhbmQgaGF2ZSBhIHdob2xlIHRpbGVcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5zdWJlbmNvZGluZyA9IHJRW3JRaV07XG4gICAgICAgICAgICByUWkrKztcbiAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fRkJVLmxhc3RzdWJlbmNvZGluZyAmIDB4MDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2VpcmQ6IGlnbm9yZSBibGFua3MgYXJlIFJBV1xuICAgICAgICAgICAgICAgICAgICBMb2cuRGVidWcoXCIgICAgIElnbm9yaW5nIGJsYW5rIGFmdGVyIFJBV1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZpbGxSZWN0KHgsIHksIHcsIGgsIHRoaXMuX0ZCVS5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyAmIDB4MDEpIHsgIC8vIFJhd1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxpdEltYWdlKHgsIHksIHcsIGgsIHJRLCByUWkpO1xuICAgICAgICAgICAgICAgIHJRaSArPSB0aGlzLl9GQlUuYnl0ZXMgLSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nICYgMHgwMikgeyAgLy8gQmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYmFja2dyb3VuZCA9IFtyUVtyUWldLCByUVtyUWkgKyAxXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDNdXTtcbiAgICAgICAgICAgICAgICAgICAgclFpICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgJiAweDA0KSB7ICAvLyBGb3JlZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5mb3JlZ3JvdW5kID0gW3JRW3JRaV0sIHJRW3JRaSArIDFdLCByUVtyUWkgKyAyXSwgclFbclFpICsgM11dO1xuICAgICAgICAgICAgICAgICAgICByUWkgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnN0YXJ0VGlsZSh4LCB5LCB3LCBoLCB0aGlzLl9GQlUuYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyAmIDB4MDgpIHsgIC8vIEFueVN1YnJlY3RzXG4gICAgICAgICAgICAgICAgICAgIHN1YnJlY3RzID0gclFbclFpXTtcbiAgICAgICAgICAgICAgICAgICAgclFpKys7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdWJyZWN0czsgcysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nICYgMHgxMCkgeyAgLy8gU3VicmVjdHNDb2xvdXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gW3JRW3JRaV0sIHJRW3JRaSArIDFdLCByUVtyUWkgKyAyXSwgclFbclFpICsgM11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJRaSArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuX0ZCVS5mb3JlZ3JvdW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHh5ID0gclFbclFpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJRaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN4ID0gKHh5ID4+IDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN5ID0gKHh5ICYgMHgwZik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aCA9IHJRW3JRaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByUWkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdyA9ICh3aCA+PiA0KSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2ggPSAod2ggJiAweDBmKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc3ViVGlsZShzeCwgc3ksIHN3LCBzaCwgY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmluaXNoVGlsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5zZXRfclFpKHJRaSk7XG4gICAgICAgICAgICB0aGlzLl9GQlUubGFzdHN1YmVuY29kaW5nID0gdGhpcy5fRkJVLnN1YmVuY29kaW5nO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS50aWxlcy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS50aWxlcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgVElHSFQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMTsgIC8vIGNvbXByZXNzaW9uLWNvbnRyb2wgYnl0ZVxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBjb21wcmVzc2lvbi1jb250cm9sXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdmFyIGNoZWNrc3VtID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IGRhdGFbaV07XG4gICAgICAgICAgICAgICAgaWYgKHN1bSA+IDY1NTM2KSBzdW0gLT0gNjU1MzY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3VtO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNldFN0cmVhbXMgPSAwO1xuICAgICAgICB2YXIgc3RyZWFtSWQgPSAtMTtcbiAgICAgICAgdmFyIGRlY29tcHJlc3MgPSBmdW5jdGlvbiAoZGF0YSwgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZXNldFN0cmVhbXMgPj4gaSkgJiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS56bGlic1tpXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIlJlc2V0IHpsaWIgc3RyZWFtIFwiICsgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3ZhciB1bmNvbXByZXNzZWQgPSB0aGlzLl9GQlUuemxpYnNbc3RyZWFtSWRdLnVuY29tcHJlc3MoZGF0YSwgMCk7XG4gICAgICAgICAgICB2YXIgdW5jb21wcmVzc2VkID0gdGhpcy5fRkJVLnpsaWJzW3N0cmVhbUlkXS5pbmZsYXRlKGRhdGEsIHRydWUsIGV4cGVjdGVkKTtcbiAgICAgICAgICAgIC8qaWYgKHVuY29tcHJlc3NlZC5zdGF0dXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJJbnZhbGlkIGRhdGEgaW4gemxpYiBzdHJlYW1cIik7XG4gICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgLy9yZXR1cm4gdW5jb21wcmVzc2VkLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gdW5jb21wcmVzc2VkO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdmFyIGluZGV4ZWRUb1JHQlgyQ29sb3IgPSBmdW5jdGlvbiAoZGF0YSwgcGFsZXR0ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBpbmRleGVkIChwYWxldHRlIGJhc2VkKSBpbWFnZSBkYXRhIHRvIFJHQlxuICAgICAgICAgICAgLy8gVE9ETzogcmVkdWNlIG51bWJlciBvZiBjYWxjdWxhdGlvbnMgaW5zaWRlIGxvb3BcbiAgICAgICAgICAgIHZhciBkZXN0ID0gdGhpcy5fZGVzdEJ1ZmY7XG4gICAgICAgICAgICB2YXIgdyA9IE1hdGguZmxvb3IoKHdpZHRoICsgNykgLyA4KTtcbiAgICAgICAgICAgIHZhciB3MSA9IE1hdGguZmxvb3Iod2lkdGggLyA4KTtcblxuICAgICAgICAgICAgLypmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIsIHgsIGRwLCBzcDtcbiAgICAgICAgICAgICAgICB2YXIgeW9mZnNldCA9IHkgKiB3aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgeWJpdG9mZnNldCA9IHkgKiB3O1xuICAgICAgICAgICAgICAgIHZhciB4b2Zmc2V0LCB0YXJnZXRieXRlO1xuICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB3MTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSB5b2Zmc2V0ICsgeCAqIDg7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldGJ5dGUgPSBkYXRhW3liaXRvZmZzZXQgKyB4XTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gNzsgYiA+PSAwOyBiLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRwID0gKHhvZmZzZXQgKyA3IC0gYikgKiAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3AgPSAodGFyZ2V0Ynl0ZSA+PiBiICYgMSkgKiAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcF0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAyXSA9IHBhbGV0dGVbc3AgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHhvZmZzZXQgPSB5b2Zmc2V0ICsgeCAqIDg7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Ynl0ZSA9IGRhdGFbeWJpdG9mZnNldCArIHhdO1xuICAgICAgICAgICAgICAgIGZvciAoYiA9IDc7IGIgPj0gOCAtIHdpZHRoICUgODsgYi0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGRwID0gKHhvZmZzZXQgKyA3IC0gYikgKiAzO1xuICAgICAgICAgICAgICAgICAgICBzcCA9ICh0YXJnZXRieXRlID4+IGIgJiAxKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHBdID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIsIHgsIGRwLCBzcDtcbiAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgdzE7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGIgPSA3OyBiID49IDA7IGItLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHAgPSAoeSAqIHdpZHRoICsgeCAqIDggKyA3IC0gYikgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3AgPSAoZGF0YVt5ICogdyArIHhdID4+IGIgJiAxKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDNdID0gMjU1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChiID0gNzsgYiA+PSA4IC0gd2lkdGggJSA4OyBiLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgZHAgPSAoeSAqIHdpZHRoICsgeCAqIDggKyA3IC0gYikgKiA0O1xuICAgICAgICAgICAgICAgICAgICBzcCA9IChkYXRhW3kgKiB3ICsgeF0gPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcF0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDFdID0gcGFsZXR0ZVtzcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZXN0O1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdmFyIGluZGV4ZWRUb1JHQlggPSBmdW5jdGlvbiAoZGF0YSwgcGFsZXR0ZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBpbmRleGVkIChwYWxldHRlIGJhc2VkKSBpbWFnZSBkYXRhIHRvIFJHQlxuICAgICAgICAgICAgdmFyIGRlc3QgPSB0aGlzLl9kZXN0QnVmZjtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHdpZHRoICogaGVpZ2h0ICogNDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsOyBpICs9IDQsIGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzcCA9IGRhdGFbal0gKiAzO1xuICAgICAgICAgICAgICAgIGRlc3RbaV0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICBkZXN0W2kgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICBkZXN0W2kgKyAyXSA9IHBhbGV0dGVbc3AgKyAyXTtcbiAgICAgICAgICAgICAgICBkZXN0W2kgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgclFpID0gdGhpcy5fc29jay5nZXRfclFpKCk7XG4gICAgICAgIHZhciByUSA9IHRoaXMuX3NvY2suclF3aG9sZSgpO1xuICAgICAgICB2YXIgY21vZGUsIGRhdGE7XG4gICAgICAgIHZhciBjbF9oZWFkZXIsIGNsX2RhdGE7XG5cbiAgICAgICAgdmFyIGhhbmRsZVBhbGV0dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbnVtQ29sb3JzID0gclFbclFpICsgMl0gKyAxO1xuICAgICAgICAgICAgdmFyIHBhbGV0dGVTaXplID0gbnVtQ29sb3JzICogMztcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSBwYWxldHRlU2l6ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIHBhbGV0dGUgXCIgKyBjbW9kZSwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgdmFyIGJwcCA9IChudW1Db2xvcnMgPD0gMikgPyAxIDogODtcbiAgICAgICAgICAgIHZhciByb3dTaXplID0gTWF0aC5mbG9vcigodGhpcy5fRkJVLndpZHRoICogYnBwICsgNykgLyA4KTtcbiAgICAgICAgICAgIHZhciByYXcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChyb3dTaXplICogdGhpcy5fRkJVLmhlaWdodCA8IDEyKSB7XG4gICAgICAgICAgICAgICAgcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbF9oZWFkZXIgPSAwO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgPSByb3dTaXplICogdGhpcy5fRkJVLmhlaWdodDtcbiAgICAgICAgICAgICAgICAvL2NsZW5ndGggPSBbMCwgcm93U2l6ZSAqIHRoaXMuX0ZCVS5oZWlnaHRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBiZWdpbiBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoIChyZXR1cm5pbmcgdHdvLWl0ZW0gYXJyYXlzIGlzIGJhZCBmb3IgcGVyZm9ybWFuY2Ugd2l0aCBHQylcbiAgICAgICAgICAgICAgICB2YXIgY2xfb2Zmc2V0ID0gclFpICsgMyArIHBhbGV0dGVTaXplO1xuICAgICAgICAgICAgICAgIGNsX2hlYWRlciA9IDE7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSA9IDA7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXRdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0XSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gKHJRW2NsX29mZnNldCArIDFdICYgMHg3ZikgPDwgNztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldCArIDFdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldCArIDJdIDw8IDE0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZCBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSBjbF9oZWFkZXIgKyBjbF9kYXRhO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgXCIgKyBjbW9kZSwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgLy8gU2hpZnQgY3RsLCBmaWx0ZXIgaWQsIG51bSBjb2xvcnMsIHBhbGV0dGUgZW50cmllcywgYW5kIGNsZW5ndGggb2ZmXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpO1xuICAgICAgICAgICAgLy92YXIgcGFsZXR0ZSA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKHBhbGV0dGVTaXplKTtcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFzaGlmdFRvKHRoaXMuX3BhbGV0dGVCdWZmLCBwYWxldHRlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKGNsX2hlYWRlcik7XG5cbiAgICAgICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoY2xfZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkZWNvbXByZXNzKHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKGNsX2RhdGEpLCByb3dTaXplICogdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgaW5kZXhlZCAocGFsZXR0ZSBiYXNlZCkgaW1hZ2UgZGF0YSB0byBSR0JcbiAgICAgICAgICAgIHZhciByZ2J4O1xuICAgICAgICAgICAgaWYgKG51bUNvbG9ycyA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcmdieCA9IGluZGV4ZWRUb1JHQlgyQ29sb3IoZGF0YSwgdGhpcy5fcGFsZXR0ZUJ1ZmYsIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5ibGl0UmdieEltYWdlKHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LCByZ2J4LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJnYnggPSBpbmRleGVkVG9SR0JYKGRhdGEsIHRoaXMuX3BhbGV0dGVCdWZmLCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxpdFJnYnhJbWFnZSh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCwgcmdieCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdmFyIGhhbmRsZUNvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgdW5jb21wcmVzc2VkU2l6ZSA9IHRoaXMuX0ZCVS53aWR0aCAqIHRoaXMuX0ZCVS5oZWlnaHQgKiAzO1xuICAgICAgICAgICAgaWYgKHVuY29tcHJlc3NlZFNpemUgPCAxMikge1xuICAgICAgICAgICAgICAgIHJhdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xfaGVhZGVyID0gMDtcbiAgICAgICAgICAgICAgICBjbF9kYXRhID0gdW5jb21wcmVzc2VkU2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gaW5saW5lIGdldFRpZ2h0Q0xlbmd0aCAocmV0dXJuaW5nIHR3by1pdGVtIGFycmF5cyBpcyBmb3IgcGVmb3JtYW5jZSB3aXRoIEdDKVxuICAgICAgICAgICAgICAgIHZhciBjbF9vZmZzZXQgPSByUWkgKyAxO1xuICAgICAgICAgICAgICAgIGNsX2hlYWRlciA9IDE7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSA9IDA7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXRdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0XSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gKHJRW2NsX29mZnNldCArIDFdICYgMHg3ZikgPDwgNztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldCArIDFdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldCArIDJdIDw8IDE0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZCBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAxICsgY2xfaGVhZGVyICsgY2xfZGF0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIFwiICsgY21vZGUsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IGN0bCwgY2xlbmd0aCBvZmZcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDEgKyBjbF9oZWFkZXIpO1xuXG4gICAgICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKGNsX2RhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVjb21wcmVzcyh0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhjbF9kYXRhKSwgdW5jb21wcmVzc2VkU2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxpdFJnYkltYWdlKHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LCBkYXRhLCAwLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdmFyIGN0bCA9IHRoaXMuX3NvY2suclFwZWVrOCgpO1xuXG4gICAgICAgIC8vIEtlZXAgdGlnaHQgcmVzZXQgYml0c1xuICAgICAgICByZXNldFN0cmVhbXMgPSBjdGwgJiAweEY7XG5cbiAgICAgICAgLy8gRmlndXJlIG91dCBmaWx0ZXJcbiAgICAgICAgY3RsID0gY3RsID4+IDQ7XG4gICAgICAgIHN0cmVhbUlkID0gY3RsICYgMHgzO1xuXG4gICAgICAgIGlmIChjdGwgPT09IDB4MDgpICAgICAgIGNtb2RlID0gXCJmaWxsXCI7XG4gICAgICAgIGVsc2UgaWYgKGN0bCA9PT0gMHgwOSkgIGNtb2RlID0gXCJqcGVnXCI7XG4gICAgICAgIGVsc2UgaWYgKGN0bCA9PT0gMHgwQSkgIGNtb2RlID0gXCJwbmdcIjtcbiAgICAgICAgZWxzZSBpZiAoY3RsICYgMHgwNCkgICAgY21vZGUgPSBcImZpbHRlclwiO1xuICAgICAgICBlbHNlIGlmIChjdGwgPCAweDA0KSAgICBjbW9kZSA9IFwiY29weVwiO1xuICAgICAgICBlbHNlIHJldHVybiB0aGlzLl9mYWlsKFwiSWxsZWdhbCB0aWdodCBjb21wcmVzc2lvbiByZWNlaXZlZCAoY3RsOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RsICsgXCIpXCIpO1xuXG4gICAgICAgIHN3aXRjaCAoY21vZGUpIHtcbiAgICAgICAgICAgIC8vIGZpbGwgdXNlIGRlcHRoIGJlY2F1c2UgVFBJWEVMcyBkcm9wIHRoZSBwYWRkaW5nIGJ5dGVcbiAgICAgICAgICAgIGNhc2UgXCJmaWxsXCI6ICAvLyBUUElYRUxcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJqcGVnXCI6ICAvLyBtYXggY2xlbmd0aFxuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBuZ1wiOiAgLy8gbWF4IGNsZW5ndGhcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmaWx0ZXJcIjogIC8vIGZpbHRlciBpZCArIG51bSBjb2xvcnMgaWYgcGFsZXR0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIFwiICsgY21vZGUsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIEZCVS5ieXRlc1xuICAgICAgICBzd2l0Y2ggKGNtb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiZmlsbFwiOlxuICAgICAgICAgICAgICAgIC8vIHNraXAgY3RsIGJ5dGVcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZpbGxSZWN0KHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0LCBbclFbclFpICsgM10sIHJRW3JRaSArIDJdLCByUVtyUWkgKyAxXV0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBuZ1wiOlxuICAgICAgICAgICAgY2FzZSBcImpwZWdcIjpcbiAgICAgICAgICAgICAgICAvLyBiZWdpbiBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoIChyZXR1cm5pbmcgdHdvLWl0ZW0gYXJyYXlzIGlzIGZvciBwZWZvcm1hbmNlIHdpdGggR0MpXG4gICAgICAgICAgICAgICAgdmFyIGNsX29mZnNldCA9IHJRaSArIDE7XG4gICAgICAgICAgICAgICAgY2xfaGVhZGVyID0gMTtcbiAgICAgICAgICAgICAgICBjbF9kYXRhID0gMDtcbiAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldF0gJiAweDdmO1xuICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXRdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDdmKSA8PCA3O1xuICAgICAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0ICsgMV0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9oZWFkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0ICsgMl0gPDwgMTQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5kIGlubGluZSBnZXRUaWdodENMZW5ndGhcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAxICsgY2xfaGVhZGVyICsgY2xfZGF0YTsgIC8vIGN0bCArIGNsZW5ndGggc2l6ZSArIGpwZWctZGF0YVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIFwiICsgY21vZGUsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGV2ZXJ5dGhpbmcsIHJlbmRlciBpdFxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMSArIGNsX2hlYWRlcik7ICAvLyBzaGlmdCBvZmYgY2x0ICsgY29tcGFjdCBsZW5ndGhcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoY2xfZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5pbWFnZVJlY3QodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCBcImltYWdlL1wiICsgY21vZGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZpbHRlclwiOlxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJJZCA9IHJRW3JRaSArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJJZCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZVBhbGV0dGUoKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgMCwgQ29weSBjb3VsZCBiZSB2YWxpZCBoZXJlLCBidXQgc2VydmVycyBkb24ndCBzZW5kIGl0IGFzIGFuIGV4cGxpY2l0IGZpbHRlclxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgMiwgR3JhZGllbnQgaXMgdmFsaWQgYnV0IG5vdCB1c2UgaWYganBlZyBpcyBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbnN1cHBvcnRlZCB0aWdodCBzdWJlbmNvZGluZyByZWNlaXZlZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIoZmlsdGVyOiBcIiArIGZpbHRlcklkICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb3B5XCI6XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVDb3B5KCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBsYXN0X3JlY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzID0gMDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIEV4dGVuZGVkRGVza3RvcFNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMTtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiRXh0ZW5kZWREZXNrdG9wU2l6ZVwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciBmaXJzdFVwZGF0ZSA9ICF0aGlzLl9zdXBwb3J0c1NldERlc2t0b3BTaXplO1xuICAgICAgICB0aGlzLl9zdXBwb3J0c1NldERlc2t0b3BTaXplID0gdHJ1ZTtcblxuICAgICAgICAvLyBOb3JtYWxseSB3ZSBvbmx5IGFwcGx5IHRoZSBjdXJyZW50IHJlc2l6ZSBtb2RlIGFmdGVyIGFcbiAgICAgICAgLy8gd2luZG93IHJlc2l6ZSBldmVudC4gSG93ZXZlciB0aGVyZSBpcyBubyBzdWNoIHRyaWdnZXIgb24gdGhlXG4gICAgICAgIC8vIGluaXRpYWwgY29ubmVjdC4gQW5kIHdlIGRvbid0IGtub3cgaWYgdGhlIHNlcnZlciBzdXBwb3J0c1xuICAgICAgICAvLyByZXNpemluZyB1bnRpbCB3ZSd2ZSBnb3R0ZW4gaGVyZS5cbiAgICAgICAgaWYgKGZpcnN0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVtb3RlUmVzaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbnVtYmVyX29mX3NjcmVlbnMgPSB0aGlzLl9zb2NrLnJRcGVlazgoKTtcblxuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSA0ICsgKG51bWJlcl9vZl9zY3JlZW5zICogMTYpO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJFeHRlbmRlZERlc2t0b3BTaXplXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxKTsgIC8vIG51bWJlci1vZi1zY3JlZW5zXG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7ICAvLyBwYWRkaW5nXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJfb2Zfc2NyZWVuczsgaSArPSAxKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBpZCBhbmQgZmxhZ3Mgb2YgdGhlIGZpcnN0IHNjcmVlblxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JlZW5faWQgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyg0KTsgICAgLy8gaWRcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgICAgICAgICAgICAgICAgICAgICAgLy8geC1wb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyB5LXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuX3NjcmVlbl9mbGFncyA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDQpOyAvLyBmbGFnc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSB4LXBvc2l0aW9uIGluZGljYXRlcyB0aGUgcmVhc29uIGZvciB0aGUgY2hhbmdlOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgMCAtIHNlcnZlciByZXNpemVkIG9uIGl0cyBvd25cbiAgICAgICAgICogIDEgLSB0aGlzIGNsaWVudCByZXF1ZXN0ZWQgdGhlIHJlc2l6ZVxuICAgICAgICAgKiAgMiAtIGFub3RoZXIgY2xpZW50IHJlcXVlc3RlZCB0aGUgcmVzaXplXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gaGFuZGxlIGVycm9ycyB3aGVuIHdlIHJlcXVlc3RlZCB0aGUgcmVzaXplLlxuICAgICAgICBpZiAodGhpcy5fRkJVLnggPT09IDEgJiYgdGhpcy5fRkJVLnkgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSBcIlwiO1xuICAgICAgICAgICAgLy8gVGhlIHktcG9zaXRpb24gaW5kaWNhdGVzIHRoZSBzdGF0dXMgY29kZSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fRkJVLnkpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBtc2cgPSBcIlJlc2l6ZSBpcyBhZG1pbmlzdHJhdGl2ZWx5IHByb2hpYml0ZWRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBtc2cgPSBcIk91dCBvZiByZXNvdXJjZXNcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBtc2cgPSBcIkludmFsaWQgc2NyZWVuIGxheW91dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBtc2cgPSBcIlVua25vd24gcmVhc29uXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBkaWQgbm90IGFjY2VwdCB0aGUgcmVzaXplIHJlcXVlc3Q6IFwiXG4gICAgICAgICAgICAgICAgICAgICArIG1zZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemUodGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cyAtPSAxO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgRGVza3RvcFNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplKHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cyAtPSAxO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgQ3Vyc29yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IHNldF9jdXJzb3JcIik7XG4gICAgICAgIHZhciB4ID0gdGhpcy5fRkJVLng7ICAvLyBob3RzcG90LXhcbiAgICAgICAgdmFyIHkgPSB0aGlzLl9GQlUueTsgIC8vIGhvdHNwb3QteVxuICAgICAgICB2YXIgdyA9IHRoaXMuX0ZCVS53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0aGlzLl9GQlUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBwaXhlbHNsZW5ndGggPSB3ICogaCAqIDQ7XG4gICAgICAgIHZhciBtYXNrbGVuZ3RoID0gTWF0aC5mbG9vcigodyArIDcpIC8gOCkgKiBoO1xuXG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IHBpeGVsc2xlbmd0aCArIG1hc2tsZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcImN1cnNvciBlbmNvZGluZ1wiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuY2hhbmdlQ3Vyc29yKHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKHBpeGVsc2xlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKG1hc2tsZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3LCBoKTtcblxuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcblxuICAgICAgICBMb2cuRGVidWcoXCI8PCBzZXRfY3Vyc29yXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgUUVNVUV4dGVuZGVkS2V5RXZlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG5cbiAgICAgICAgLy8gT2xkIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgY3JlYXRpbmcga2V5Ym9hcmQgZXZlbnRzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIga2V5Ym9hcmRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwia2V5Ym9hcmRFdmVudFwiKTtcbiAgICAgICAgICAgIGlmIChrZXlib2FyZEV2ZW50LmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3FlbXVFeHRLZXlFdmVudFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB9XG4gICAgfSxcbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vbG9nZ2luZy5qcyc7XG5cbi8vIFRvdWNoIGRldGVjdGlvblxuZXhwb3J0IHZhciBpc1RvdWNoRGV2aWNlID0gKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVyaWVkIGZvciBDaHJvbWUgZGVidWdnZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5vbnRvdWNoc3RhcnQgIT09IHVuZGVmaW5lZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciBNUyBTdXJmYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiBvbkZpcnN0VG91Y2goKSB7XG4gICAgaXNUb3VjaERldmljZSA9IHRydWU7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkZpcnN0VG91Y2gsIGZhbHNlKTtcbn0sIGZhbHNlKTtcblxudmFyIF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNDdXJzb3JVUklzICgpIHtcbiAgICBpZiAoX2N1cnNvcl91cmlzX3N1cHBvcnRlZCA9PT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLmN1cnNvciA9ICd1cmwoXCJkYXRhOmltYWdlL3gtaWNvbjtiYXNlNjQsQUFBQ0FBRUFDQWdBQUFJQUFnQTRBUUFBRmdBQUFDZ0FBQUFJQUFBQUVBQUFBQUVBSUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PVwiKSAyIDIsIGRlZmF1bHQnO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnN0eWxlLmN1cnNvcikge1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiRGF0YSBVUkkgc2NoZW1lIGN1cnNvciBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgX2N1cnNvcl91cmlzX3N1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZy5XYXJuKFwiRGF0YSBVUkkgc2NoZW1lIGN1cnNvciBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgICAgIF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXhjKSB7XG4gICAgICAgICAgICBMb2cuRXJyb3IoXCJEYXRhIFVSSSBzY2hlbWUgY3Vyc29yIHRlc3QgZXhjZXB0aW9uOiBcIiArIGV4Yyk7XG4gICAgICAgICAgICBfY3Vyc29yX3VyaXNfc3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2N1cnNvcl91cmlzX3N1cHBvcnRlZDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hYygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC9tYWMvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJRSgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC90cmlkZW50L2kpLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VkZ2UoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiAhISgvZWRnZS9pKS5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNXaW5kb3dzKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL3dpbi9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0lPUygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmXG4gICAgICAgICAgICghISgvaXBhZC9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSkgfHxcbiAgICAgICAgICAgICEhKC9pcGhvbmUvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pIHx8XG4gICAgICAgICAgICAhISgvaXBvZC9pKS5leGVjKG5hdmlnYXRvci5wbGF0Zm9ybSkpO1xufVxuXG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuLypcbiAqIENyb3NzLWJyb3dzZXIgZXZlbnQgYW5kIHBvc2l0aW9uIHJvdXRpbmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJFdmVudCAoZSkge1xuICAgIHJldHVybiBlLmNoYW5nZWRUb3VjaGVzID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc3RvcEV2ZW50IChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG4vLyBFbXVsYXRlIEVsZW1lbnQuc2V0Q2FwdHVyZSgpIHdoZW4gbm90IHN1cHBvcnRlZFxudmFyIF9jYXB0dXJlUmVjdXJzaW9uID0gZmFsc2U7XG52YXIgX2NhcHR1cmVFbGVtID0gbnVsbDtcbmZ1bmN0aW9uIF9jYXB0dXJlUHJveHkoZSkge1xuICAgIC8vIFJlY3Vyc2lvbiBwcm90ZWN0aW9uIGFzIHdlJ2xsIHNlZSBvdXIgb3duIGV2ZW50XG4gICAgaWYgKF9jYXB0dXJlUmVjdXJzaW9uKSByZXR1cm47XG5cbiAgICAvLyBDbG9uZSB0aGUgZXZlbnQgYXMgd2UgY2Fubm90IGRpc3BhdGNoIGFuIGFscmVhZHkgZGlzcGF0Y2hlZCBldmVudFxuICAgIHZhciBuZXdFdiA9IG5ldyBlLmNvbnN0cnVjdG9yKGUudHlwZSwgZSk7XG5cbiAgICBfY2FwdHVyZVJlY3Vyc2lvbiA9IHRydWU7XG4gICAgX2NhcHR1cmVFbGVtLmRpc3BhdGNoRXZlbnQobmV3RXYpO1xuICAgIF9jYXB0dXJlUmVjdXJzaW9uID0gZmFsc2U7XG5cbiAgICAvLyBBdm9pZCBkb3VibGUgZXZlbnRzXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIC8vIFJlc3BlY3QgdGhlIHdpc2hlcyBvZiB0aGUgcmVkaXJlY3RlZCBldmVudCBoYW5kbGVyc1xuICAgIGlmIChuZXdFdi5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvLyBJbXBsaWNpdGx5IHJlbGVhc2UgdGhlIGNhcHR1cmUgb24gYnV0dG9uIHJlbGVhc2VcbiAgICBpZiAoZS50eXBlID09PSBcIm1vdXNldXBcIikge1xuICAgICAgICByZWxlYXNlQ2FwdHVyZSgpO1xuICAgIH1cbn07XG5cbi8vIEZvbGxvdyBjdXJzb3Igc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnRcbmZ1bmN0aW9uIF9jYXB0dXJlRWxlbUNoYW5nZWQoKSB7XG4gICAgdmFyIGNhcHR1cmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub1ZOQ19tb3VzZV9jYXB0dXJlX2VsZW1cIik7XG4gICAgY2FwdHVyZUVsZW0uc3R5bGUuY3Vyc29yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoX2NhcHR1cmVFbGVtKS5jdXJzb3I7XG59O1xudmFyIF9jYXB0dXJlT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihfY2FwdHVyZUVsZW1DaGFuZ2VkKTtcblxudmFyIF9jYXB0dXJlSW5kZXggPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2FwdHVyZSAoZWxlbSkge1xuICAgIGlmIChlbGVtLnNldENhcHR1cmUpIHtcblxuICAgICAgICBlbGVtLnNldENhcHR1cmUoKTtcblxuICAgICAgICAvLyBJRSByZWxlYXNlcyBjYXB0dXJlIG9uICdjbGljaycgZXZlbnRzIHdoaWNoIG1pZ2h0IG5vdCB0cmlnZ2VyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHJlbGVhc2VDYXB0dXJlKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbGVhc2UgYW55IGV4aXN0aW5nIGNhcHR1cmUgaW4gY2FzZSB0aGlzIG1ldGhvZCBpc1xuICAgICAgICAvLyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aG91dCBjb29yZGluYXRpb25cbiAgICAgICAgcmVsZWFzZUNhcHR1cmUoKTtcblxuICAgICAgICB2YXIgY2FwdHVyZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vVk5DX21vdXNlX2NhcHR1cmVfZWxlbVwiKTtcblxuICAgICAgICBpZiAoY2FwdHVyZUVsZW0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLmlkID0gXCJub1ZOQ19tb3VzZV9jYXB0dXJlX2VsZW1cIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuekluZGV4ID0gMTAwMDA7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhcHR1cmVFbGVtKTtcblxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBtYWtlIHN1cmUgY2FsbGVycyBkb24ndCBnZXQgY29uZnVzZWQgYnkgaGF2aW5nXG4gICAgICAgICAgICAvLyBvdXIgYmxvY2tpbmcgZWxlbWVudCBhcyB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIF9jYXB0dXJlUHJveHkpO1xuXG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfY2FwdHVyZVByb3h5KTtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfY2FwdHVyZVByb3h5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jYXB0dXJlRWxlbSA9IGVsZW07XG4gICAgICAgIF9jYXB0dXJlSW5kZXgrKztcblxuICAgICAgICAvLyBUcmFjayBjdXJzb3IgYW5kIGdldCBpbml0aWFsIGN1cnNvclxuICAgICAgICBfY2FwdHVyZU9ic2VydmVyLm9ic2VydmUoZWxlbSwge2F0dHJpYnV0ZXM6dHJ1ZX0pO1xuICAgICAgICBfY2FwdHVyZUVsZW1DaGFuZ2VkKCk7XG5cbiAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cbiAgICAgICAgLy8gV2UgbGlzdGVuIHRvIGV2ZW50cyBvbiB3aW5kb3cgaW4gb3JkZXIgdG8ga2VlcCB0cmFja2luZyBpZiBpdFxuICAgICAgICAvLyBoYXBwZW5zIHRvIGxlYXZlIHRoZSB2aWV3cG9ydFxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2NhcHR1cmVQcm94eSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2VDYXB0dXJlICgpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVsZWFzZUNhcHR1cmUpIHtcblxuICAgICAgICBkb2N1bWVudC5yZWxlYXNlQ2FwdHVyZSgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFfY2FwdHVyZUVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGV2ZW50cyBhbHJlYWR5IHF1ZXVlZCwgc28gd2UgbmVlZCB0byB3YWl0IGZvclxuICAgICAgICAvLyB0aGVtIHRvIGZsdXNoLiBFLmcuIGNvbnRleHRtZW51IGluIE1pY3Jvc29mdCBFZGdlXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGV4cGVjdGVkKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFyIGl0IGlmIGl0J3MgdGhlIGV4cGVjdGVkIGdyYWIgKGkuZS4gbm8gb25lXG4gICAgICAgICAgICAvLyBlbHNlIGhhcyBpbml0aWF0ZWQgYSBuZXcgZ3JhYilcbiAgICAgICAgICAgIGlmIChfY2FwdHVyZUluZGV4ID09PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgICAgIF9jYXB0dXJlRWxlbSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDAsIF9jYXB0dXJlSW5kZXgpO1xuXG4gICAgICAgIF9jYXB0dXJlT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIHZhciBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCIpO1xuICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF9jYXB0dXJlUHJveHkpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9jYXB0dXJlUHJveHkpO1xuICAgIH1cbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxudmFyIEV2ZW50VGFyZ2V0TWl4aW4gPSB7XG4gICAgX2xpc3RlbmVyczogbnVsbCxcblxuICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycy5oYXModHlwZSkpIHtcbiAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQodHlwZSwgbmV3IFNldCgpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xpc3RlbmVycy5nZXQodHlwZSkuYWRkKGNhbGxiYWNrKTtcbiAgIH0sXG5cbiAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycyB8fCAhdGhpcy5fbGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldCh0eXBlKS5kZWxldGUoY2FsbGJhY2spO1xuICAgfSxcblxuICAgZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzIHx8ICF0aGlzLl9saXN0ZW5lcnMuaGFzKGV2ZW50LnR5cGUpKSB7XG4gICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xpc3RlbmVycy5nZXQoZXZlbnQudHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRUYXJnZXRNaXhpbjtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG4vKlxuICogTG9nZ2luZy9kZWJ1ZyByb3V0aW5lc1xuICovXG5cbnZhciBfbG9nX2xldmVsID0gJ3dhcm4nO1xuXG52YXIgRGVidWcgPSBmdW5jdGlvbiAobXNnKSB7fTtcbnZhciBJbmZvID0gZnVuY3Rpb24gKG1zZykge307XG52YXIgV2FybiA9IGZ1bmN0aW9uIChtc2cpIHt9O1xudmFyIEVycm9yID0gZnVuY3Rpb24gKG1zZykge307XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2xvZ2dpbmcgKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbGV2ZWwgPSBfbG9nX2xldmVsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIF9sb2dfbGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBEZWJ1ZyA9IEluZm8gPSBXYXJuID0gRXJyb3IgPSBmdW5jdGlvbiAobXNnKSB7fTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5jb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgICAgICAgICBEZWJ1ZyA9IGNvbnNvbGUuZGVidWcuYmluZCh3aW5kb3cuY29uc29sZSk7XG4gICAgICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgICAgICBJbmZvICA9IGNvbnNvbGUuaW5mby5iaW5kKHdpbmRvdy5jb25zb2xlKTtcbiAgICAgICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgICAgICAgIFdhcm4gID0gY29uc29sZS53YXJuLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIEVycm9yID0gY29uc29sZS5lcnJvci5iaW5kKHdpbmRvdy5jb25zb2xlKTtcbiAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGxvZ2dpbmcgdHlwZSAnXCIgKyBsZXZlbCArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xvZ2dpbmcgKCkge1xuICAgIHJldHVybiBfbG9nX2xldmVsO1xufTtcbmV4cG9ydCB7IERlYnVnLCBJbmZvLCBXYXJuLCBFcnJvciB9O1xuXG4vLyBJbml0aWFsaXplIGxvZ2dpbmcgbGV2ZWxcbmluaXRfbG9nZ2luZygpO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBub1ZOQ1xuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbi8qIFBvbHlmaWxscyB0byBwcm92aWRlIG5ldyBBUElzIGluIG9sZCBicm93c2VycyAqL1xuXG4vKiBPYmplY3QuYXNzaWduKCkgKHRha2VuIGZyb20gTUROKSAqL1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9ICdmdW5jdGlvbicpIHtcbiAgICAvLyBNdXN0IGJlIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgXCJhc3NpZ25cIiwge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgdmFyQXJncykgeyAvLyAubGVuZ3RoIG9mIGZ1bmN0aW9uIGlzIDJcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkgeyAvLyBUeXBlRXJyb3IgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbn1cblxuLyogQ3VzdG9tRXZlbnQgY29uc3RydWN0b3IgKHRha2VuIGZyb20gTUROKSAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDdXN0b21FdmVudCAoIGV2ZW50LCBwYXJhbXMgKSB7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiBmYWxzZSwgZGV0YWlsOiB1bmRlZmluZWQgfTtcbiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCAnQ3VzdG9tRXZlbnQnICk7XG4gICAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoIGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwgKTtcbiAgICAgICAgcmV0dXJuIGV2dDtcbiAgICB9XG5cbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3aW5kb3cuQ3VzdG9tRXZlbnQgPSBDdXN0b21FdmVudDtcbiAgICB9XG59KSgpO1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbi8qXG4gKiBEZWNvZGUgZnJvbSBVVEYtOFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVVRGOCAodXRmOHN0cmluZykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHV0ZjhzdHJpbmcpKTtcbn07XG4iLCIvKlxuICogV2Vic29jazogaGlnaC1wZXJmb3JtYW5jZSBiaW5hcnkgV2ViU29ja2V0c1xuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogV2Vic29jayBpcyBzaW1pbGFyIHRvIHRoZSBzdGFuZGFyZCBXZWJTb2NrZXQgb2JqZWN0IGJ1dCB3aXRoIGV4dHJhXG4gKiBidWZmZXIgaGFuZGxpbmcuXG4gKlxuICogV2Vic29jayBoYXMgYnVpbHQtaW4gcmVjZWl2ZSBxdWV1ZSBidWZmZXJpbmc7IHRoZSBtZXNzYWdlIGV2ZW50XG4gKiBkb2VzIG5vdCBjb250YWluIGFjdHVhbCBkYXRhIGJ1dCBpcyBzaW1wbHkgYSBub3RpZmljYXRpb24gdGhhdFxuICogdGhlcmUgaXMgbmV3IGRhdGEgYXZhaWxhYmxlLiBTZXZlcmFsIHJRKiBtZXRob2RzIGFyZSBhdmFpbGFibGUgdG9cbiAqIHJlYWQgYmluYXJ5IGRhdGEgb2ZmIG9mIHRoZSByZWNlaXZlIHF1ZXVlLlxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL3V0aWwvbG9nZ2luZy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdlYnNvY2soKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB0aGlzLl93ZWJzb2NrZXQgPSBudWxsOyAgLy8gV2ViU29ja2V0IG9iamVjdFxuXG4gICAgdGhpcy5fclFpID0gMDsgICAgICAgICAgIC8vIFJlY2VpdmUgcXVldWUgaW5kZXhcbiAgICB0aGlzLl9yUWxlbiA9IDA7ICAgICAgICAgLy8gTmV4dCB3cml0ZSBwb3NpdGlvbiBpbiB0aGUgcmVjZWl2ZSBxdWV1ZVxuICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSA9IDEwMjQgKiAxMDI0ICogNDsgLy8gUmVjZWl2ZSBxdWV1ZSBidWZmZXIgc2l6ZSAoNCBNaUIpXG4gICAgdGhpcy5fclFtYXggPSB0aGlzLl9yUWJ1ZmZlclNpemUgLyA4O1xuICAgIC8vIGNhbGxlZCBpbiBpbml0OiB0aGlzLl9yUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3JRYnVmZmVyU2l6ZSk7XG4gICAgdGhpcy5fclEgPSBudWxsOyAvLyBSZWNlaXZlIHF1ZXVlXG5cbiAgICB0aGlzLl9zUWJ1ZmZlclNpemUgPSAxMDI0ICogMTA7ICAvLyAxMCBLaUJcbiAgICAvLyBjYWxsZWQgaW4gaW5pdDogdGhpcy5fc1EgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zUWJ1ZmZlclNpemUpO1xuICAgIHRoaXMuX3NRbGVuID0gMDtcbiAgICB0aGlzLl9zUSA9IG51bGw7ICAvLyBTZW5kIHF1ZXVlXG5cbiAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0ge1xuICAgICAgICAnbWVzc2FnZSc6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICAnb3Blbic6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICAnY2xvc2UnOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgJ2Vycm9yJzogZnVuY3Rpb24gKCkge31cbiAgICB9O1xufTtcblxuLy8gdGhpcyBoYXMgcGVyZm9ybWFuY2UgaXNzdWVzIGluIHNvbWUgdmVyc2lvbnMgQ2hyb21pdW0sIGFuZFxuLy8gZG9lc24ndCBnYWluIGEgdHJlbWVuZG91cyBhbW91bnQgb2YgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW4gRmlyZWZveFxuLy8gYXQgdGhlIG1vbWVudC4gIEl0IG1heSBiZSB2YWx1YWJsZSB0byB0dXJuIGl0IG9uIGluIHRoZSBmdXR1cmUuXG52YXIgRU5BQkxFX0NPUFlXSVRISU4gPSBmYWxzZTtcblxudmFyIE1BWF9SUV9HUk9XX1NJWkUgPSA0MCAqIDEwMjQgKiAxMDI0OyAgLy8gNDAgTWlCXG5cbnZhciB0eXBlZEFycmF5VG9TdHJpbmcgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgaXMgb25seSBmb3IgUGhhbnRvbUpTLCB3aGljaCBkb2Vzbid0IGxpa2UgYXBwbHktaW5nXG4gICAgLy8gd2l0aCBUeXBlZCBBcnJheXNcbiAgICB0cnkge1xuICAgICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYSk7IH07XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgICAgICAgICAgICBudWxsLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhKSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuV2Vic29jay5wcm90b3R5cGUgPSB7XG4gICAgLy8gR2V0dGVycyBhbmQgU2V0dGVyc1xuICAgIGdldF9zUTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc1E7XG4gICAgfSxcblxuICAgIGdldF9yUTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclE7XG4gICAgfSxcblxuICAgIGdldF9yUWk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRaTtcbiAgICB9LFxuXG4gICAgc2V0X3JRaTogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLl9yUWkgPSB2YWw7XG4gICAgfSxcblxuICAgIC8vIFJlY2VpdmUgUXVldWVcbiAgICByUWxlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclFsZW4gLSB0aGlzLl9yUWk7XG4gICAgfSxcblxuICAgIHJRcGVlazg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRW3RoaXMuX3JRaV07XG4gICAgfSxcblxuICAgIHJRc2hpZnQ4OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUVt0aGlzLl9yUWkrK107XG4gICAgfSxcblxuICAgIHJRc2tpcDg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fclFpKys7XG4gICAgfSxcblxuICAgIHJRc2tpcEJ5dGVzOiBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIHRoaXMuX3JRaSArPSBudW07XG4gICAgfSxcblxuICAgIC8vIFRPRE8oZGlyZWN0eG1hbjEyKTogdGVzdCBwZXJmb3JtYW5jZSB3aXRoIHRoZXNlIHZzIGEgRGF0YVZpZXdcbiAgICByUXNoaWZ0MTY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9yUVt0aGlzLl9yUWkrK10gPDwgOCkgK1xuICAgICAgICAgICAgICAgdGhpcy5fclFbdGhpcy5fclFpKytdO1xuICAgIH0sXG5cbiAgICByUXNoaWZ0MzI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9yUVt0aGlzLl9yUWkrK10gPDwgMjQpICtcbiAgICAgICAgICAgICAgICh0aGlzLl9yUVt0aGlzLl9yUWkrK10gPDwgMTYpICtcbiAgICAgICAgICAgICAgICh0aGlzLl9yUVt0aGlzLl9yUWkrK10gPDwgOCkgK1xuICAgICAgICAgICAgICAgdGhpcy5fclFbdGhpcy5fclFpKytdO1xuICAgIH0sXG5cbiAgICByUXNoaWZ0U3RyOiBmdW5jdGlvbiAobGVuKSB7XG4gICAgICAgIGlmICh0eXBlb2YobGVuKSA9PT0gJ3VuZGVmaW5lZCcpIHsgbGVuID0gdGhpcy5yUWxlbigpOyB9XG4gICAgICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSwgbGVuKTtcbiAgICAgICAgdGhpcy5fclFpICs9IGxlbjtcbiAgICAgICAgcmV0dXJuIHR5cGVkQXJyYXlUb1N0cmluZyhhcnIpO1xuICAgIH0sXG5cbiAgICByUXNoaWZ0Qnl0ZXM6IGZ1bmN0aW9uIChsZW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZihsZW4pID09PSAndW5kZWZpbmVkJykgeyBsZW4gPSB0aGlzLnJRbGVuKCk7IH1cbiAgICAgICAgdGhpcy5fclFpICs9IGxlbjtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpIC0gbGVuLCBsZW4pO1xuICAgIH0sXG5cbiAgICByUXNoaWZ0VG86IGZ1bmN0aW9uICh0YXJnZXQsIGxlbikge1xuICAgICAgICBpZiAobGVuID09PSB1bmRlZmluZWQpIHsgbGVuID0gdGhpcy5yUWxlbigpOyB9XG4gICAgICAgIC8vIFRPRE86IG1ha2UgdGhpcyBqdXN0IHVzZSBzZXQgd2l0aCB2aWV3cyB3aGVuIHVzaW5nIGEgQXJyYXlCdWZmZXIgdG8gc3RvcmUgdGhlIHJRXG4gICAgICAgIHRhcmdldC5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWksIGxlbikpO1xuICAgICAgICB0aGlzLl9yUWkgKz0gbGVuO1xuICAgIH0sXG5cbiAgICByUXdob2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIDAsIHRoaXMuX3JRbGVuKTtcbiAgICB9LFxuXG4gICAgclFzbGljZTogZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpICsgc3RhcnQsIGVuZCAtIHN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSArIHN0YXJ0LCB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaSAtIHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgbXVzdCB3YWl0IGZvciAnbnVtJyBieXRlcyAoZGVmYXVsdCB0byBGQlUuYnl0ZXMpXG4gICAgLy8gdG8gYmUgYXZhaWxhYmxlIGluIHRoZSByZWNlaXZlIHF1ZXVlLiBSZXR1cm4gdHJ1ZSBpZiB3ZSBuZWVkIHRvXG4gICAgLy8gd2FpdCAoYW5kIHBvc3NpYmx5IHByaW50IGEgZGVidWcgbWVzc2FnZSksIG90aGVyd2lzZSBmYWxzZS5cbiAgICByUXdhaXQ6IGZ1bmN0aW9uIChtc2csIG51bSwgZ29iYWNrKSB7XG4gICAgICAgIHZhciByUWxlbiA9IHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpOyAvLyBTa2lwIHJRbGVuKCkgZnVuY3Rpb24gY2FsbFxuICAgICAgICBpZiAoclFsZW4gPCBudW0pIHtcbiAgICAgICAgICAgIGlmIChnb2JhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fclFpIDwgZ29iYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJRd2FpdCBjYW5ub3QgYmFja3VwIFwiICsgZ29iYWNrICsgXCIgYnl0ZXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JRaSAtPSBnb2JhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gdHJ1ZSBtZWFucyBuZWVkIG1vcmUgZGF0YVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gU2VuZCBRdWV1ZVxuXG4gICAgZmx1c2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NRbGVuID4gMCAmJiB0aGlzLl93ZWJzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMuX3dlYnNvY2tldC5zZW5kKHRoaXMuX2VuY29kZV9tZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc1FsZW4gPSAwO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNlbmQ6IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgdGhpcy5fc1Euc2V0KGFyciwgdGhpcy5fc1FsZW4pO1xuICAgICAgICB0aGlzLl9zUWxlbiArPSBhcnIubGVuZ3RoO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIHNlbmRfc3RyaW5nOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHRoaXMuc2VuZChzdHIuc3BsaXQoJycpLm1hcChmdW5jdGlvbiAoY2hyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hyLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgLy8gRXZlbnQgSGFuZGxlcnNcbiAgICBvZmY6IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyc1tldnRdID0gZnVuY3Rpb24gKCkge307XG4gICAgfSxcblxuICAgIG9uOiBmdW5jdGlvbiAoZXZ0LCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnNbZXZ0XSA9IGhhbmRsZXI7XG4gICAgfSxcblxuICAgIF9hbGxvY2F0ZV9idWZmZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3JRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclFidWZmZXJTaXplKTtcbiAgICAgICAgdGhpcy5fc1EgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zUWJ1ZmZlclNpemUpO1xuICAgIH0sXG5cbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2FsbG9jYXRlX2J1ZmZlcnMoKTtcbiAgICAgICAgdGhpcy5fclFpID0gMDtcbiAgICAgICAgdGhpcy5fd2Vic29ja2V0ID0gbnVsbDtcbiAgICB9LFxuXG4gICAgb3BlbjogZnVuY3Rpb24gKHVyaSwgcHJvdG9jb2xzKSB7XG4gICAgICAgIHZhciB3c19zY2hlbWEgPSB1cmkubWF0Y2goL14oW2Etel0rKTpcXC9cXC8vKVsxXTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5fd2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25tZXNzYWdlID0gdGhpcy5fcmVjdl9tZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbm9wZW4gPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgTG9nLkRlYnVnKCc+PiBXZWJTb2NrLm9ub3BlbicpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dlYnNvY2tldC5wcm90b2NvbCkge1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiU2VydmVyIGNob29zZSBzdWItcHJvdG9jb2w6IFwiICsgdGhpcy5fd2Vic29ja2V0LnByb3RvY29sKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycy5vcGVuKCk7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI8PCBXZWJTb2NrLm9ub3BlblwiKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fd2Vic29ja2V0Lm9uY2xvc2UgPSAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIj4+IFdlYlNvY2sub25jbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMuY2xvc2UoZSk7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI8PCBXZWJTb2NrLm9uY2xvc2VcIik7XG4gICAgICAgIH0pLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbmVycm9yID0gKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI+PiBXZWJTb2NrLm9uZXJyb3I6IFwiICsgZSk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLmVycm9yKGUpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPDwgV2ViU29jay5vbmVycm9yOiBcIiArIGUpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpO1xuICAgIH0sXG5cbiAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vic29ja2V0KSB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3dlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykpIHtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIkNsb3NpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vic29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm47IH07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgX2VuY29kZV9tZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFB1dCBpbiBhIGJpbmFyeSBhcnJheWJ1ZmZlclxuICAgICAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHlvdSBjYW4gc2VuZCBBcnJheUJ1ZmZlclZpZXdzIHdpdGggdGhlIHNlbmQgbWV0aG9kXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLl9zUS5idWZmZXIsIDAsIHRoaXMuX3NRbGVuKTtcbiAgICB9LFxuXG4gICAgX2V4cGFuZF9jb21wYWN0X3JROiBmdW5jdGlvbiAobWluX2ZpdCkge1xuICAgICAgICB2YXIgcmVzaXplTmVlZGVkID0gbWluX2ZpdCB8fCB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaSA+IHRoaXMuX3JRYnVmZmVyU2l6ZSAvIDI7XG4gICAgICAgIGlmIChyZXNpemVOZWVkZWQpIHtcbiAgICAgICAgICAgIGlmICghbWluX2ZpdCkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3QgZG91YmxlIHRoZSBzaXplIGlmIHdlIG5lZWQgdG8gZG8gY29tcGFjdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSAqPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIG1ha2Ugc3VyZSB3ZSBzYXRpc3kgclFsZW4gLSByUWkgKyBtaW5fZml0IDwgclFidWZmZXJTaXplIC8gOFxuICAgICAgICAgICAgICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSA9ICh0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaSArIG1pbl9maXQpICogODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gZ3JvdyB1bmJvdW5kZWRseVxuICAgICAgICBpZiAodGhpcy5fclFidWZmZXJTaXplID4gTUFYX1JRX0dST1dfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fclFidWZmZXJTaXplID0gTUFYX1JRX0dST1dfU0laRTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yUWJ1ZmZlclNpemUgLSB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaSA8IG1pbl9maXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiUmVjZWl2ZSBRdWV1ZSBidWZmZXIgZXhjZWVkZWQgXCIgKyBNQVhfUlFfR1JPV19TSVpFICsgXCIgYnl0ZXMsIGFuZCB0aGUgbmV3IG1lc3NhZ2UgY291bGQgbm90IGZpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNpemVOZWVkZWQpIHtcbiAgICAgICAgICAgIHZhciBvbGRfclFidWZmZXIgPSB0aGlzLl9yUS5idWZmZXI7XG4gICAgICAgICAgICB0aGlzLl9yUW1heCA9IHRoaXMuX3JRYnVmZmVyU2l6ZSAvIDg7XG4gICAgICAgICAgICB0aGlzLl9yUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3JRYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9yUS5zZXQobmV3IFVpbnQ4QXJyYXkob2xkX3JRYnVmZmVyLCB0aGlzLl9yUWkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfQ09QWVdJVEhJTikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JRLmNvcHlXaXRoaW4oMCwgdGhpcy5fclFpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fclEuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yUWxlbiA9IHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpO1xuICAgICAgICB0aGlzLl9yUWkgPSAwO1xuICAgIH0sXG5cbiAgICBfZGVjb2RlX21lc3NhZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vIHB1c2ggYXJyYXlidWZmZXIgdmFsdWVzIG9udG8gdGhlIGVuZFxuICAgICAgICB2YXIgdTggPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgaWYgKHU4Lmxlbmd0aCA+IHRoaXMuX3JRYnVmZmVyU2l6ZSAtIHRoaXMuX3JRbGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9leHBhbmRfY29tcGFjdF9yUSh1OC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JRLnNldCh1OCwgdGhpcy5fclFsZW4pO1xuICAgICAgICB0aGlzLl9yUWxlbiArPSB1OC5sZW5ndGg7XG4gICAgfSxcblxuICAgIF9yZWN2X21lc3NhZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuX2RlY29kZV9tZXNzYWdlKGUuZGF0YSk7XG4gICAgICAgIGlmICh0aGlzLnJRbGVuKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLm1lc3NhZ2UoKTtcbiAgICAgICAgICAgIC8vIENvbXBhY3QgdGhlIHJlY2VpdmUgcXVldWVcbiAgICAgICAgICAgIGlmICh0aGlzLl9yUWxlbiA9PSB0aGlzLl9yUWkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUWxlbiA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5fclFpID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fclFsZW4gPiB0aGlzLl9yUW1heCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZF9jb21wYWN0X3JRKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCJJZ25vcmluZyBlbXB0eSBtZXNzYWdlXCIpO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsIi8vIHJlZHVjZSBidWZmZXIgc2l6ZSwgYXZvaWRpbmcgbWVtIGNvcHlcbmV4cG9ydCBmdW5jdGlvbiBzaHJpbmtCdWYgKGJ1Ziwgc2l6ZSkge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gc2l6ZSkgeyByZXR1cm4gYnVmOyB9XG4gIGlmIChidWYuc3ViYXJyYXkpIHsgcmV0dXJuIGJ1Zi5zdWJhcnJheSgwLCBzaXplKTsgfVxuICBidWYubGVuZ3RoID0gc2l6ZTtcbiAgcmV0dXJuIGJ1Zjtcbn07XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5U2V0IChkZXN0LCBzcmMsIHNyY19vZmZzLCBsZW4sIGRlc3Rfb2Zmcykge1xuICBpZiAoc3JjLnN1YmFycmF5ICYmIGRlc3Quc3ViYXJyYXkpIHtcbiAgICBkZXN0LnNldChzcmMuc3ViYXJyYXkoc3JjX29mZnMsIHNyY19vZmZzICsgbGVuKSwgZGVzdF9vZmZzKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRmFsbGJhY2sgdG8gb3JkaW5hcnkgYXJyYXlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGRlc3RbZGVzdF9vZmZzICsgaV0gPSBzcmNbc3JjX29mZnMgKyBpXTtcbiAgfVxufVxuXG4vLyBKb2luIGFycmF5IG9mIGNodW5rcyB0byBzaW5nbGUgYXJyYXkuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNodW5rcyAoY2h1bmtzKSB7XG4gIHZhciBpLCBsLCBsZW4sIHBvcywgY2h1bmssIHJlc3VsdDtcblxuICAvLyBjYWxjdWxhdGUgZGF0YSBsZW5ndGhcbiAgbGVuID0gMDtcbiAgZm9yIChpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZW4gKz0gY2h1bmtzW2ldLmxlbmd0aDtcbiAgfVxuXG4gIC8vIGpvaW4gY2h1bmtzXG4gIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gIHBvcyA9IDA7XG4gIGZvciAoaSA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2h1bmsgPSBjaHVua3NbaV07XG4gICAgcmVzdWx0LnNldChjaHVuaywgcG9zKTtcbiAgICBwb3MgKz0gY2h1bmsubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHZhciBCdWY4ICA9IFVpbnQ4QXJyYXk7XG5leHBvcnQgdmFyIEJ1ZjE2ID0gVWludDE2QXJyYXk7XG5leHBvcnQgdmFyIEJ1ZjMyID0gSW50MzJBcnJheTtcbiIsIi8vIE5vdGU6IGFkbGVyMzIgdGFrZXMgMTIlIGZvciBsZXZlbCAwIGFuZCAyJSBmb3IgbGV2ZWwgNi5cbi8vIEl0IGRvZXNuJ3Qgd29ydGggdG8gbWFrZSBhZGRpdGlvbmFsIG9wdGltaXphdGlvbmEgYXMgaW4gb3JpZ2luYWwuXG4vLyBTbWFsbCBzaXplIGlzIHByZWZlcmFibGUuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkbGVyMzIoYWRsZXIsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHMxID0gKGFkbGVyICYgMHhmZmZmKSB8MCxcbiAgICAgIHMyID0gKChhZGxlciA+Pj4gMTYpICYgMHhmZmZmKSB8MCxcbiAgICAgIG4gPSAwO1xuXG4gIHdoaWxlIChsZW4gIT09IDApIHtcbiAgICAvLyBTZXQgbGltaXQgfiB0d2ljZSBsZXNzIHRoYW4gNTU1MiwgdG8ga2VlcFxuICAgIC8vIHMyIGluIDMxLWJpdHMsIGJlY2F1c2Ugd2UgZm9yY2Ugc2lnbmVkIGludHMuXG4gICAgLy8gaW4gb3RoZXIgY2FzZSAlPSB3aWxsIGZhaWwuXG4gICAgbiA9IGxlbiA+IDIwMDAgPyAyMDAwIDogbGVuO1xuICAgIGxlbiAtPSBuO1xuXG4gICAgZG8ge1xuICAgICAgczEgPSAoczEgKyBidWZbcG9zKytdKSB8MDtcbiAgICAgIHMyID0gKHMyICsgczEpIHwwO1xuICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICBzMSAlPSA2NTUyMTtcbiAgICBzMiAlPSA2NTUyMTtcbiAgfVxuXG4gIHJldHVybiAoczEgfCAoczIgPDwgMTYpKSB8MDtcbn1cbiIsIi8vIE5vdGU6IHdlIGNhbid0IGdldCBzaWduaWZpY2FudCBzcGVlZCBib29zdCBoZXJlLlxuLy8gU28gd3JpdGUgY29kZSB0byBtaW5pbWl6ZSBzaXplIC0gbm8gcHJlZ2VuZXJhdGVkIHRhYmxlc1xuLy8gYW5kIGFycmF5IHRvb2xzIGRlcGVuZGVuY2llcy5cblxuXG4vLyBVc2Ugb3JkaW5hcnkgYXJyYXksIHNpbmNlIHVudHlwZWQgbWFrZXMgbm8gYm9vc3QgaGVyZVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZVRhYmxlKCkge1xuICB2YXIgYywgdGFibGUgPSBbXTtcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDI1NjsgbisrKSB7XG4gICAgYyA9IG47XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCA4OyBrKyspIHtcbiAgICAgIGMgPSAoKGMgJiAxKSA/ICgweEVEQjg4MzIwIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG4gICAgfVxuICAgIHRhYmxlW25dID0gYztcbiAgfVxuXG4gIHJldHVybiB0YWJsZTtcbn1cblxuLy8gQ3JlYXRlIHRhYmxlIG9uIGxvYWQuIEp1c3QgMjU1IHNpZ25lZCBsb25ncy4gTm90IGEgcHJvYmxlbS5cbnZhciBjcmNUYWJsZSA9IG1ha2VUYWJsZSgpO1xuXG5cbmZ1bmN0aW9uIGNyYzMyKGNyYywgYnVmLCBsZW4sIHBvcykge1xuICB2YXIgdCA9IGNyY1RhYmxlLFxuICAgICAgZW5kID0gcG9zICsgbGVuO1xuXG4gIGNyYyBePSAtMTtcblxuICBmb3IgKHZhciBpID0gcG9zOyBpIDwgZW5kOyBpKyspIHtcbiAgICBjcmMgPSAoY3JjID4+PiA4KSBeIHRbKGNyYyBeIGJ1ZltpXSkgJiAweEZGXTtcbiAgfVxuXG4gIHJldHVybiAoY3JjIF4gKC0xKSk7IC8vID4+PiAwO1xufVxuIiwiLy8gU2VlIHN0YXRlIGRlZnMgZnJvbSBpbmZsYXRlLmpzXG52YXIgQkFEID0gMzA7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciBUWVBFID0gMTI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xuXG4vKlxuICAgRGVjb2RlIGxpdGVyYWwsIGxlbmd0aCwgYW5kIGRpc3RhbmNlIGNvZGVzIGFuZCB3cml0ZSBvdXQgdGhlIHJlc3VsdGluZ1xuICAgbGl0ZXJhbCBhbmQgbWF0Y2ggYnl0ZXMgdW50aWwgZWl0aGVyIG5vdCBlbm91Z2ggaW5wdXQgb3Igb3V0cHV0IGlzXG4gICBhdmFpbGFibGUsIGFuIGVuZC1vZi1ibG9jayBpcyBlbmNvdW50ZXJlZCwgb3IgYSBkYXRhIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICAgV2hlbiBsYXJnZSBlbm91Z2ggaW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIGFyZSBzdXBwbGllZCB0byBpbmZsYXRlKCksIGZvclxuICAgZXhhbXBsZSwgYSAxNksgaW5wdXQgYnVmZmVyIGFuZCBhIDY0SyBvdXRwdXQgYnVmZmVyLCBtb3JlIHRoYW4gOTUlIG9mIHRoZVxuICAgaW5mbGF0ZSBleGVjdXRpb24gdGltZSBpcyBzcGVudCBpbiB0aGlzIHJvdXRpbmUuXG5cbiAgIEVudHJ5IGFzc3VtcHRpb25zOlxuXG4gICAgICAgIHN0YXRlLm1vZGUgPT09IExFTlxuICAgICAgICBzdHJtLmF2YWlsX2luID49IDZcbiAgICAgICAgc3RybS5hdmFpbF9vdXQgPj0gMjU4XG4gICAgICAgIHN0YXJ0ID49IHN0cm0uYXZhaWxfb3V0XG4gICAgICAgIHN0YXRlLmJpdHMgPCA4XG5cbiAgIE9uIHJldHVybiwgc3RhdGUubW9kZSBpcyBvbmUgb2Y6XG5cbiAgICAgICAgTEVOIC0tIHJhbiBvdXQgb2YgZW5vdWdoIG91dHB1dCBzcGFjZSBvciBlbm91Z2ggYXZhaWxhYmxlIGlucHV0XG4gICAgICAgIFRZUEUgLS0gcmVhY2hlZCBlbmQgb2YgYmxvY2sgY29kZSwgaW5mbGF0ZSgpIHRvIGludGVycHJldCBuZXh0IGJsb2NrXG4gICAgICAgIEJBRCAtLSBlcnJvciBpbiBibG9jayBkYXRhXG5cbiAgIE5vdGVzOlxuXG4gICAgLSBUaGUgbWF4aW11bSBpbnB1dCBiaXRzIHVzZWQgYnkgYSBsZW5ndGgvZGlzdGFuY2UgcGFpciBpcyAxNSBiaXRzIGZvciB0aGVcbiAgICAgIGxlbmd0aCBjb2RlLCA1IGJpdHMgZm9yIHRoZSBsZW5ndGggZXh0cmEsIDE1IGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBjb2RlLFxuICAgICAgYW5kIDEzIGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBleHRyYS4gIFRoaXMgdG90YWxzIDQ4IGJpdHMsIG9yIHNpeCBieXRlcy5cbiAgICAgIFRoZXJlZm9yZSBpZiBzdHJtLmF2YWlsX2luID49IDYsIHRoZW4gdGhlcmUgaXMgZW5vdWdoIGlucHV0IHRvIGF2b2lkXG4gICAgICBjaGVja2luZyBmb3IgYXZhaWxhYmxlIGlucHV0IHdoaWxlIGRlY29kaW5nLlxuXG4gICAgLSBUaGUgbWF4aW11bSBieXRlcyB0aGF0IGEgc2luZ2xlIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGNhbiBvdXRwdXQgaXMgMjU4XG4gICAgICBieXRlcywgd2hpY2ggaXMgdGhlIG1heGltdW0gbGVuZ3RoIHRoYXQgY2FuIGJlIGNvZGVkLiAgaW5mbGF0ZV9mYXN0KClcbiAgICAgIHJlcXVpcmVzIHN0cm0uYXZhaWxfb3V0ID49IDI1OCBmb3IgZWFjaCBsb29wIHRvIGF2b2lkIGNoZWNraW5nIGZvclxuICAgICAgb3V0cHV0IHNwYWNlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbmZsYXRlX2Zhc3Qoc3RybSwgc3RhcnQpIHtcbiAgdmFyIHN0YXRlO1xuICB2YXIgX2luOyAgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5pbnB1dCAqL1xuICB2YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogaGF2ZSBlbm91Z2ggaW5wdXQgd2hpbGUgaW4gPCBsYXN0ICovXG4gIHZhciBfb3V0OyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgYmVnOyAgICAgICAgICAgICAgICAgICAgLyogaW5mbGF0ZSgpJ3MgaW5pdGlhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogd2hpbGUgb3V0IDwgZW5kLCBlbm91Z2ggc3BhY2UgYXZhaWxhYmxlICovXG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICB2YXIgZG1heDsgICAgICAgICAgICAgICAgICAgLyogbWF4aW11bSBkaXN0YW5jZSBmcm9tIHpsaWIgaGVhZGVyICovXG4vLyNlbmRpZlxuICB2YXIgd3NpemU7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHZhciB3aGF2ZTsgICAgICAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHZhciB3bmV4dDsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgLy8gVXNlIGBzX3dpbmRvd2AgaW5zdGVhZCBgd2luZG93YCwgYXZvaWQgY29uZmxpY3Qgd2l0aCBpbnN0cnVtZW50YXRpb24gdG9vbHNcbiAgdmFyIHNfd2luZG93OyAgICAgICAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgd3NpemUgIT0gMCAqL1xuICB2YXIgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5ob2xkICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmJpdHMgKi9cbiAgdmFyIGxjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ubGVuY29kZSAqL1xuICB2YXIgZGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5kaXN0Y29kZSAqL1xuICB2YXIgbG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgbGVuZ3RoIGNvZGVzICovXG4gIHZhciBkbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICB2YXIgaGVyZTsgICAgICAgICAgICAgICAgICAgLyogcmV0cmlldmVkIHRhYmxlIGVudHJ5ICovXG4gIHZhciBvcDsgICAgICAgICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMsIG9wZXJhdGlvbiwgZXh0cmEgYml0cywgb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qICB3aW5kb3cgcG9zaXRpb24sIHdpbmRvdyBieXRlcyB0byBjb3B5ICovXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGgsIHVudXNlZCBieXRlcyAqL1xuICB2YXIgZGlzdDsgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggZGlzdGFuY2UgKi9cbiAgdmFyIGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG5cblxuICB2YXIgaW5wdXQsIG91dHB1dDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuXG4gIC8qIGNvcHkgc3RhdGUgdG8gbG9jYWwgdmFyaWFibGVzICovXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgLy9oZXJlID0gc3RhdGUuaGVyZTtcbiAgX2luID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGxhc3QgPSBfaW4gKyAoc3RybS5hdmFpbF9pbiAtIDUpO1xuICBfb3V0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGJlZyA9IF9vdXQgLSAoc3RhcnQgLSBzdHJtLmF2YWlsX291dCk7XG4gIGVuZCA9IF9vdXQgKyAoc3RybS5hdmFpbF9vdXQgLSAyNTcpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgZG1heCA9IHN0YXRlLmRtYXg7XG4vLyNlbmRpZlxuICB3c2l6ZSA9IHN0YXRlLndzaXplO1xuICB3aGF2ZSA9IHN0YXRlLndoYXZlO1xuICB3bmV4dCA9IHN0YXRlLnduZXh0O1xuICBzX3dpbmRvdyA9IHN0YXRlLndpbmRvdztcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICBsY29kZSA9IHN0YXRlLmxlbmNvZGU7XG4gIGRjb2RlID0gc3RhdGUuZGlzdGNvZGU7XG4gIGxtYXNrID0gKDEgPDwgc3RhdGUubGVuYml0cykgLSAxO1xuICBkbWFzayA9ICgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDE7XG5cblxuICAvKiBkZWNvZGUgbGl0ZXJhbHMgYW5kIGxlbmd0aC9kaXN0YW5jZXMgdW50aWwgZW5kLW9mLWJsb2NrIG9yIG5vdCBlbm91Z2hcbiAgICAgaW5wdXQgZGF0YSBvciBvdXRwdXQgc3BhY2UgKi9cblxuICB0b3A6XG4gIGRvIHtcbiAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICB9XG5cbiAgICBoZXJlID0gbGNvZGVbaG9sZCAmIGxtYXNrXTtcblxuICAgIGRvbGVuOlxuICAgIGZvciAoOzspIHsgLy8gR290byBlbXVsYXRpb25cbiAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgYml0cyAtPSBvcDtcbiAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcbiAgICAgIGlmIChvcCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGl0ZXJhbCAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICBvdXRwdXRbX291dCsrXSA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIGJhc2UgKi9cbiAgICAgICAgbGVuID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgaWYgKG9wKSB7XG4gICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVuICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgbGVuKSk7XG4gICAgICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICBoZXJlID0gZGNvZGVbaG9sZCAmIGRtYXNrXTtcblxuICAgICAgICBkb2Rpc3Q6XG4gICAgICAgIGZvciAoOzspIHsgLy8gZ290byBlbXVsYXRpb25cbiAgICAgICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG5cbiAgICAgICAgICBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYXNlICovXG4gICAgICAgICAgICBkaXN0ID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3QgKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgICAgICBpZiAoZGlzdCA+IGRtYXgpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgZGlzdCkpO1xuICAgICAgICAgICAgb3AgPSBfb3V0IC0gYmVnOyAgICAgICAgICAgICAgICAvKiBtYXggZGlzdGFuY2UgaW4gb3V0cHV0ICovXG4gICAgICAgICAgICBpZiAoZGlzdCA+IG9wKSB7ICAgICAgICAgICAgICAgIC8qIHNlZSBpZiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgIG9wID0gZGlzdCAtIG9wOyAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgIGlmIChvcCA+IHdoYXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICAgICAgfVxuXG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmFpbHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICAgICAgICBpZiAobGVuIDw9IG9wIC0gd2hhdmUpIHtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICBsZW4gLT0gb3AgLSB3aGF2ZTtcbi8vICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCA+IHdoYXZlKTtcbi8vICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJvbSA9IDA7IC8vIHdpbmRvdyBpbmRleFxuICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IHNfd2luZG93O1xuICAgICAgICAgICAgICBpZiAod25leHQgPT09IDApIHsgICAgICAgICAgIC8qIHZlcnkgY29tbW9uIGNhc2UgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplIC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICh3bmV4dCA8IG9wKSB7ICAgICAgLyogd3JhcCBhcm91bmQgd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSArIHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgb3AgLT0gd25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIGVuZCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgIGlmICh3bmV4dCA8IGxlbikgeyAgLyogc29tZSBmcm9tIHN0YXJ0IG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgICBvcCA9IHduZXh0O1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnRpZ3VvdXMgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgICAgICAvKiBjb3B5IGRpcmVjdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgLyogbWluaW11bSBsZW5ndGggaXMgdGhyZWUgKi9cbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobGVuID4gMik7XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgLyogMm5kIGxldmVsIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgICAgIGhlcmUgPSBkY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICAgICAgY29udGludWUgZG9kaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAgICAgLyogMm5kIGxldmVsIGxlbmd0aCBjb2RlICovXG4gICAgICAgIGhlcmUgPSBsY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICBjb250aW51ZSBkb2xlbjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMzIpIHsgICAgICAgICAgICAgICAgICAgICAvKiBlbmQtb2YtYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICB9XG4gIH0gd2hpbGUgKF9pbiA8IGxhc3QgJiYgX291dCA8IGVuZCk7XG5cbiAgLyogcmV0dXJuIHVudXNlZCBieXRlcyAob24gZW50cnksIGJpdHMgPCA4LCBzbyBpbiB3b24ndCBnbyB0b28gZmFyIGJhY2spICovXG4gIGxlbiA9IGJpdHMgPj4gMztcbiAgX2luIC09IGxlbjtcbiAgYml0cyAtPSBsZW4gPDwgMztcbiAgaG9sZCAmPSAoMSA8PCBiaXRzKSAtIDE7XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXR1cm4gKi9cbiAgc3RybS5uZXh0X2luID0gX2luO1xuICBzdHJtLm5leHRfb3V0ID0gX291dDtcbiAgc3RybS5hdmFpbF9pbiA9IChfaW4gPCBsYXN0ID8gNSArIChsYXN0IC0gX2luKSA6IDUgLSAoX2luIC0gbGFzdCkpO1xuICBzdHJtLmF2YWlsX291dCA9IChfb3V0IDwgZW5kID8gMjU3ICsgKGVuZCAtIF9vdXQpIDogMjU3IC0gKF9vdXQgLSBlbmQpKTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICByZXR1cm47XG59O1xuIiwiaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4uL3V0aWxzL2NvbW1vbi5qc1wiO1xuaW1wb3J0IGFkbGVyMzIgZnJvbSBcIi4vYWRsZXIzMi5qc1wiO1xuaW1wb3J0IGNyYzMyIGZyb20gXCIuL2NyYzMyLmpzXCI7XG5pbXBvcnQgaW5mbGF0ZV9mYXN0IGZyb20gXCIuL2luZmZhc3QuanNcIjtcbmltcG9ydCBpbmZsYXRlX3RhYmxlIGZyb20gXCIuL2luZnRyZWVzLmpzXCI7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG4vL3ZhciBaX05PX0ZMVVNIICAgICAgPSAwO1xuLy92YXIgWl9QQVJUSUFMX0ZMVVNIID0gMTtcbi8vdmFyIFpfU1lOQ19GTFVTSCAgICA9IDI7XG4vL3ZhciBaX0ZVTExfRkxVU0ggICAgPSAzO1xudmFyIFpfRklOSVNIICAgICAgICA9IDQ7XG52YXIgWl9CTE9DSyAgICAgICAgID0gNTtcbnZhciBaX1RSRUVTICAgICAgICAgPSA2O1xuXG5cbi8qIFJldHVybiBjb2RlcyBmb3IgdGhlIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gZnVuY3Rpb25zLiBOZWdhdGl2ZSB2YWx1ZXNcbiAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAqL1xudmFyIFpfT0sgICAgICAgICAgICA9IDA7XG52YXIgWl9TVFJFQU1fRU5EICAgID0gMTtcbnZhciBaX05FRURfRElDVCAgICAgPSAyO1xuLy92YXIgWl9FUlJOTyAgICAgICAgID0gLTE7XG52YXIgWl9TVFJFQU1fRVJST1IgID0gLTI7XG52YXIgWl9EQVRBX0VSUk9SICAgID0gLTM7XG52YXIgWl9NRU1fRVJST1IgICAgID0gLTQ7XG52YXIgWl9CVUZfRVJST1IgICAgID0gLTU7XG4vL3ZhciBaX1ZFUlNJT05fRVJST1IgPSAtNjtcblxuLyogVGhlIGRlZmxhdGUgY29tcHJlc3Npb24gbWV0aG9kICovXG52YXIgWl9ERUZMQVRFRCAgPSA4O1xuXG5cbi8qIFNUQVRFUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbnZhciAgICBIRUFEID0gMTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbWFnaWMgaGVhZGVyICovXG52YXIgICAgRkxBR1MgPSAyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1ldGhvZCBhbmQgZmxhZ3MgKGd6aXApICovXG52YXIgICAgVElNRSA9IDM7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1vZGlmaWNhdGlvbiB0aW1lIChnemlwKSAqL1xudmFyICAgIE9TID0gNDsgICAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBmbGFncyBhbmQgb3BlcmF0aW5nIHN5c3RlbSAoZ3ppcCkgKi9cbnZhciAgICBFWExFTiA9IDU7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgbGVuZ3RoIChnemlwKSAqL1xudmFyICAgIEVYVFJBID0gNjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBieXRlcyAoZ3ppcCkgKi9cbnZhciAgICBOQU1FID0gNzsgICAgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGZpbGUgbmFtZSAoZ3ppcCkgKi9cbnZhciAgICBDT01NRU5UID0gODsgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGNvbW1lbnQgKGd6aXApICovXG52YXIgICAgSENSQyA9IDk7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGhlYWRlciBjcmMgKGd6aXApICovXG52YXIgICAgRElDVElEID0gMTA7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpY3Rpb25hcnkgY2hlY2sgdmFsdWUgKi9cbnZhciAgICBESUNUID0gMTE7ICAgICAgLyogd2FpdGluZyBmb3IgaW5mbGF0ZVNldERpY3Rpb25hcnkoKSBjYWxsICovXG52YXIgICAgICAgIFRZUEUgPSAxMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG52YXIgICAgICAgIFRZUEVETyA9IDEzOyAgICAvKiBpOiBzYW1lLCBidXQgc2tpcCBjaGVjayB0byBleGl0IGluZmxhdGUgb24gbmV3IGJsb2NrICovXG52YXIgICAgICAgIFNUT1JFRCA9IDE0OyAgICAvKiBpOiB3YWl0aW5nIGZvciBzdG9yZWQgc2l6ZSAobGVuZ3RoIGFuZCBjb21wbGVtZW50KSAqL1xudmFyICAgICAgICBDT1BZXyA9IDE1OyAgICAgLyogaS9vOiBzYW1lIGFzIENPUFkgYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbnZhciAgICAgICAgQ09QWSA9IDE2OyAgICAgIC8qIGkvbzogd2FpdGluZyBmb3IgaW5wdXQgb3Igb3V0cHV0IHRvIGNvcHkgc3RvcmVkIGJsb2NrICovXG52YXIgICAgICAgIFRBQkxFID0gMTc7ICAgICAvKiBpOiB3YWl0aW5nIGZvciBkeW5hbWljIGJsb2NrIHRhYmxlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgTEVOTEVOUyA9IDE4OyAgIC8qIGk6IHdhaXRpbmcgZm9yIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xudmFyICAgICAgICBDT0RFTEVOUyA9IDE5OyAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdCBhbmQgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG52YXIgICAgICAgICAgICBMRU5fID0gMjA7ICAgICAgLyogaTogc2FtZSBhcyBMRU4gYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbnZhciAgICAgICAgICAgIExFTiA9IDIxOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0L2VvYiBjb2RlICovXG52YXIgICAgICAgICAgICBMRU5FWFQgPSAyMjsgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoIGV4dHJhIGJpdHMgKi9cbnZhciAgICAgICAgICAgIERJU1QgPSAyMzsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBjb2RlICovXG52YXIgICAgICAgICAgICBESVNURVhUID0gMjQ7ICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgZXh0cmEgYml0cyAqL1xudmFyICAgICAgICAgICAgTUFUQ0ggPSAyNTsgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byBjb3B5IHN0cmluZyAqL1xudmFyICAgICAgICAgICAgTElUID0gMjY7ICAgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byB3cml0ZSBsaXRlcmFsICovXG52YXIgICAgQ0hFQ0sgPSAyNzsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBjaGVjayB2YWx1ZSAqL1xudmFyICAgIExFTkdUSCA9IDI4OyAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgbGVuZ3RoIChnemlwKSAqL1xudmFyICAgIERPTkUgPSAyOTsgICAgICAvKiBmaW5pc2hlZCBjaGVjaywgZG9uZSAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIEJBRCA9IDMwOyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgTUVNID0gMzE7ICAgICAgIC8qIGdvdCBhbiBpbmZsYXRlKCkgbWVtb3J5IGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgU1lOQyA9IDMyOyAgICAgIC8qIGxvb2tpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBieXRlcyB0byByZXN0YXJ0IGluZmxhdGUoKSAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cblxudmFyIEVOT1VHSF9MRU5TID0gODUyO1xudmFyIEVOT1VHSF9ESVNUUyA9IDU5Mjtcbi8vdmFyIEVOT1VHSCA9ICAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxudmFyIE1BWF9XQklUUyA9IDE1O1xuLyogMzJLIExaNzcgd2luZG93ICovXG52YXIgREVGX1dCSVRTID0gTUFYX1dCSVRTO1xuXG5cbmZ1bmN0aW9uIHpzd2FwMzIocSkge1xuICByZXR1cm4gICgoKHEgPj4+IDI0KSAmIDB4ZmYpICtcbiAgICAgICAgICAoKHEgPj4+IDgpICYgMHhmZjAwKSArXG4gICAgICAgICAgKChxICYgMHhmZjAwKSA8PCA4KSArXG4gICAgICAgICAgKChxICYgMHhmZikgPDwgMjQpKTtcbn1cblxuXG5mdW5jdGlvbiBJbmZsYXRlU3RhdGUoKSB7XG4gIHRoaXMubW9kZSA9IDA7ICAgICAgICAgICAgIC8qIGN1cnJlbnQgaW5mbGF0ZSBtb2RlICovXG4gIHRoaXMubGFzdCA9IGZhbHNlOyAgICAgICAgICAvKiB0cnVlIGlmIHByb2Nlc3NpbmcgbGFzdCBibG9jayAqL1xuICB0aGlzLndyYXAgPSAwOyAgICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICB0aGlzLmhhdmVkaWN0ID0gZmFsc2U7ICAgICAgLyogdHJ1ZSBpZiBkaWN0aW9uYXJ5IHByb3ZpZGVkICovXG4gIHRoaXMuZmxhZ3MgPSAwOyAgICAgICAgICAgICAvKiBnemlwIGhlYWRlciBtZXRob2QgYW5kIGZsYWdzICgwIGlmIHpsaWIpICovXG4gIHRoaXMuZG1heCA9IDA7ICAgICAgICAgICAgICAvKiB6bGliIGhlYWRlciBtYXggZGlzdGFuY2UgKElORkxBVEVfU1RSSUNUKSAqL1xuICB0aGlzLmNoZWNrID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2YgY2hlY2sgdmFsdWUgKi9cbiAgdGhpcy50b3RhbCA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIG91dHB1dCBjb3VudCAqL1xuICAvLyBUT0RPOiBtYXkgYmUge31cbiAgdGhpcy5oZWFkID0gbnVsbDsgICAgICAgICAgIC8qIHdoZXJlIHRvIHNhdmUgZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gKi9cblxuICAvKiBzbGlkaW5nIHdpbmRvdyAqL1xuICB0aGlzLndiaXRzID0gMDsgICAgICAgICAgICAgLyogbG9nIGJhc2UgMiBvZiByZXF1ZXN0ZWQgd2luZG93IHNpemUgKi9cbiAgdGhpcy53c2l6ZSA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB0aGlzLndoYXZlID0gMDsgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB0aGlzLnduZXh0ID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIHRoaXMud2luZG93ID0gbnVsbDsgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIG5lZWRlZCAqL1xuXG4gIC8qIGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmhvbGQgPSAwOyAgICAgICAgICAgICAgLyogaW5wdXQgYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuYml0cyA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgYml0cyBpbiBcImluXCIgKi9cblxuICAvKiBmb3Igc3RyaW5nIGFuZCBzdG9yZWQgYmxvY2sgY29weWluZyAqL1xuICB0aGlzLmxlbmd0aCA9IDA7ICAgICAgICAgICAgLyogbGl0ZXJhbCBvciBsZW5ndGggb2YgZGF0YSB0byBjb3B5ICovXG4gIHRoaXMub2Zmc2V0ID0gMDsgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIHRvIGNvcHkgc3RyaW5nIGZyb20gKi9cblxuICAvKiBmb3IgdGFibGUgYW5kIGNvZGUgZGVjb2RpbmcgKi9cbiAgdGhpcy5leHRyYSA9IDA7ICAgICAgICAgICAgIC8qIGV4dHJhIGJpdHMgbmVlZGVkICovXG5cbiAgLyogZml4ZWQgYW5kIGR5bmFtaWMgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5jb2RlID0gbnVsbDsgICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzICovXG4gIHRoaXMuZGlzdGNvZGUgPSBudWxsOyAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAqL1xuICB0aGlzLmxlbmJpdHMgPSAwOyAgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgbGVuY29kZSAqL1xuICB0aGlzLmRpc3RiaXRzID0gMDsgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgZGlzdGNvZGUgKi9cblxuICAvKiBkeW5hbWljIHRhYmxlIGJ1aWxkaW5nICovXG4gIHRoaXMubmNvZGUgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmxlbiA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5kaXN0ID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLmhhdmUgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RocyBpbiBsZW5zW10gKi9cbiAgdGhpcy5uZXh0ID0gbnVsbDsgICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIGNvZGVzW10gKi9cblxuICB0aGlzLmxlbnMgPSBuZXcgdXRpbHMuQnVmMTYoMzIwKTsgLyogdGVtcG9yYXJ5IHN0b3JhZ2UgZm9yIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLndvcmsgPSBuZXcgdXRpbHMuQnVmMTYoMjg4KTsgLyogd29yayBhcmVhIGZvciBjb2RlIHRhYmxlIGJ1aWxkaW5nICovXG5cbiAgLypcbiAgIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBwb2ludGVycyBpbiBqcywgd2UgdXNlIGxlbmNvZGUgYW5kIGRpc3Rjb2RlIGRpcmVjdGx5XG4gICBhcyBidWZmZXJzIHNvIHdlIGRvbid0IG5lZWQgY29kZXNcbiAgKi9cbiAgLy90aGlzLmNvZGVzID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSCk7ICAgICAgIC8qIHNwYWNlIGZvciBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmR5biA9IG51bGw7ICAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuZGlzdGR5biA9IG51bGw7ICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5zYW5lID0gMDsgICAgICAgICAgICAgICAgICAgLyogaWYgZmFsc2UsIGFsbG93IGludmFsaWQgZGlzdGFuY2UgdG9vIGZhciAqL1xuICB0aGlzLmJhY2sgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGJhY2sgb2YgbGFzdCB1bnByb2Nlc3NlZCBsZW5ndGgvbGl0ICovXG4gIHRoaXMud2FzID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIGluaXRpYWwgbGVuZ3RoIG9mIG1hdGNoICovXG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldEtlZXAoc3RybSkge1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IHN0YXRlLnRvdGFsID0gMDtcbiAgc3RybS5tc2cgPSAnJzsgLypaX05VTEwqL1xuICBpZiAoc3RhdGUud3JhcCkgeyAgICAgICAvKiB0byBzdXBwb3J0IGlsbC1jb25jZWl2ZWQgSmF2YSB0ZXN0IHN1aXRlICovXG4gICAgc3RybS5hZGxlciA9IHN0YXRlLndyYXAgJiAxO1xuICB9XG4gIHN0YXRlLm1vZGUgPSBIRUFEO1xuICBzdGF0ZS5sYXN0ID0gMDtcbiAgc3RhdGUuaGF2ZWRpY3QgPSAwO1xuICBzdGF0ZS5kbWF4ID0gMzI3Njg7XG4gIHN0YXRlLmhlYWQgPSBudWxsLypaX05VTEwqLztcbiAgc3RhdGUuaG9sZCA9IDA7XG4gIHN0YXRlLmJpdHMgPSAwO1xuICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQgPSBzdGF0ZS5jb2RlcztcbiAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5biA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0hfTEVOUyk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5biA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0hfRElTVFMpO1xuXG4gIHN0YXRlLnNhbmUgPSAxO1xuICBzdGF0ZS5iYWNrID0gLTE7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogcmVzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdGF0ZS53c2l6ZSA9IDA7XG4gIHN0YXRlLndoYXZlID0gMDtcbiAgc3RhdGUud25leHQgPSAwO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKTtcblxufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpIHtcbiAgdmFyIHdyYXA7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBnZXQgdGhlIHN0YXRlICovXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGV4dHJhY3Qgd3JhcCByZXF1ZXN0IGZyb20gd2luZG93Qml0cyBwYXJhbWV0ZXIgKi9cbiAgaWYgKHdpbmRvd0JpdHMgPCAwKSB7XG4gICAgd3JhcCA9IDA7XG4gICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzO1xuICB9XG4gIGVsc2Uge1xuICAgIHdyYXAgPSAod2luZG93Qml0cyA+PiA0KSArIDE7XG4gICAgaWYgKHdpbmRvd0JpdHMgPCA0OCkge1xuICAgICAgd2luZG93Qml0cyAmPSAxNTtcbiAgICB9XG4gIH1cblxuICAvKiBzZXQgbnVtYmVyIG9mIHdpbmRvdyBiaXRzLCBmcmVlIHdpbmRvdyBpZiBkaWZmZXJlbnQgKi9cbiAgaWYgKHdpbmRvd0JpdHMgJiYgKHdpbmRvd0JpdHMgPCA4IHx8IHdpbmRvd0JpdHMgPiAxNSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cbiAgaWYgKHN0YXRlLndpbmRvdyAhPT0gbnVsbCAmJiBzdGF0ZS53Yml0cyAhPT0gd2luZG93Qml0cykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cblxuICAvKiB1cGRhdGUgc3RhdGUgYW5kIHJlc2V0IHRoZSByZXN0IG9mIGl0ICovXG4gIHN0YXRlLndyYXAgPSB3cmFwO1xuICBzdGF0ZS53Yml0cyA9IHdpbmRvd0JpdHM7XG4gIHJldHVybiBpbmZsYXRlUmVzZXQoc3RybSk7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVJbml0MihzdHJtLCB3aW5kb3dCaXRzKSB7XG4gIHZhciByZXQ7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIC8vc3RybS5tc2cgPSBaX05VTEw7ICAgICAgICAgICAgICAgICAvKiBpbiBjYXNlIHdlIHJldHVybiBhbiBlcnJvciAqL1xuXG4gIHN0YXRlID0gbmV3IEluZmxhdGVTdGF0ZSgpO1xuXG4gIC8vaWYgKHN0YXRlID09PSBaX05VTEwpIHJldHVybiBaX01FTV9FUlJPUjtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiBhbGxvY2F0ZWRcXG5cIikpO1xuICBzdHJtLnN0YXRlID0gc3RhdGU7XG4gIHN0YXRlLndpbmRvdyA9IG51bGwvKlpfTlVMTCovO1xuICByZXQgPSBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpO1xuICBpZiAocmV0ICE9PSBaX09LKSB7XG4gICAgc3RybS5zdGF0ZSA9IG51bGwvKlpfTlVMTCovO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVJbml0KHN0cm0pIHtcbiAgcmV0dXJuIGluZmxhdGVJbml0MihzdHJtLCBERUZfV0JJVFMpO1xufVxuXG5cbi8qXG4gUmV0dXJuIHN0YXRlIHdpdGggbGVuZ3RoIGFuZCBkaXN0YW5jZSBkZWNvZGluZyB0YWJsZXMgYW5kIGluZGV4IHNpemVzIHNldCB0b1xuIGZpeGVkIGNvZGUgZGVjb2RpbmcuICBOb3JtYWxseSB0aGlzIHJldHVybnMgZml4ZWQgdGFibGVzIGZyb20gaW5mZml4ZWQuaC5cbiBJZiBCVUlMREZJWEVEIGlzIGRlZmluZWQsIHRoZW4gaW5zdGVhZCB0aGlzIHJvdXRpbmUgYnVpbGRzIHRoZSB0YWJsZXMgdGhlXG4gZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHJldHVybnMgdGhvc2UgdGFibGVzIHRoZSBmaXJzdCB0aW1lIGFuZFxuIHRoZXJlYWZ0ZXIuICBUaGlzIHJlZHVjZXMgdGhlIHNpemUgb2YgdGhlIGNvZGUgYnkgYWJvdXQgMksgYnl0ZXMsIGluXG4gZXhjaGFuZ2UgZm9yIGEgbGl0dGxlIGV4ZWN1dGlvbiB0aW1lLiAgSG93ZXZlciwgQlVJTERGSVhFRCBzaG91bGQgbm90IGJlXG4gdXNlZCBmb3IgdGhyZWFkZWQgYXBwbGljYXRpb25zLCBzaW5jZSB0aGUgcmV3cml0aW5nIG9mIHRoZSB0YWJsZXMgYW5kIHZpcmdpblxuIG1heSBub3QgYmUgdGhyZWFkLXNhZmUuXG4gKi9cbnZhciB2aXJnaW4gPSB0cnVlO1xuXG52YXIgbGVuZml4LCBkaXN0Zml4OyAvLyBXZSBoYXZlIG5vIHBvaW50ZXJzIGluIEpTLCBzbyBrZWVwIHRhYmxlcyBzZXBhcmF0ZVxuXG5mdW5jdGlvbiBmaXhlZHRhYmxlcyhzdGF0ZSkge1xuICAvKiBidWlsZCBmaXhlZCBodWZmbWFuIHRhYmxlcyBpZiBmaXJzdCBjYWxsIChtYXkgbm90IGJlIHRocmVhZCBzYWZlKSAqL1xuICBpZiAodmlyZ2luKSB7XG4gICAgdmFyIHN5bTtcblxuICAgIGxlbmZpeCA9IG5ldyB1dGlscy5CdWYzMig1MTIpO1xuICAgIGRpc3RmaXggPSBuZXcgdXRpbHMuQnVmMzIoMzIpO1xuXG4gICAgLyogbGl0ZXJhbC9sZW5ndGggdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAxNDQpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI1NikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDk7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjgwKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNzsgfVxuICAgIHdoaWxlIChzeW0gPCAyODgpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG5cbiAgICBpbmZsYXRlX3RhYmxlKExFTlMsICBzdGF0ZS5sZW5zLCAwLCAyODgsIGxlbmZpeCwgICAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDkgfSk7XG5cbiAgICAvKiBkaXN0YW5jZSB0YWJsZSAqL1xuICAgIHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDMyKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNTsgfVxuXG4gICAgaW5mbGF0ZV90YWJsZShESVNUUywgc3RhdGUubGVucywgMCwgMzIsICAgZGlzdGZpeCwgMCwgc3RhdGUud29yaywgeyBiaXRzOiA1IH0pO1xuXG4gICAgLyogZG8gdGhpcyBqdXN0IG9uY2UgKi9cbiAgICB2aXJnaW4gPSBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmxlbmNvZGUgPSBsZW5maXg7XG4gIHN0YXRlLmxlbmJpdHMgPSA5O1xuICBzdGF0ZS5kaXN0Y29kZSA9IGRpc3RmaXg7XG4gIHN0YXRlLmRpc3RiaXRzID0gNTtcbn1cblxuXG4vKlxuIFVwZGF0ZSB0aGUgd2luZG93IHdpdGggdGhlIGxhc3Qgd3NpemUgKG5vcm1hbGx5IDMySykgYnl0ZXMgd3JpdHRlbiBiZWZvcmVcbiByZXR1cm5pbmcuICBJZiB3aW5kb3cgZG9lcyBub3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQuICBUaGlzIGlzIG9ubHkgY2FsbGVkXG4gd2hlbiBhIHdpbmRvdyBpcyBhbHJlYWR5IGluIHVzZSwgb3Igd2hlbiBvdXRwdXQgaGFzIGJlZW4gd3JpdHRlbiBkdXJpbmcgdGhpc1xuIGluZmxhdGUgY2FsbCwgYnV0IHRoZSBlbmQgb2YgdGhlIGRlZmxhdGUgc3RyZWFtIGhhcyBub3QgYmVlbiByZWFjaGVkIHlldC5cbiBJdCBpcyBhbHNvIGNhbGxlZCB0byBjcmVhdGUgYSB3aW5kb3cgZm9yIGRpY3Rpb25hcnkgZGF0YSB3aGVuIGEgZGljdGlvbmFyeVxuIGlzIGxvYWRlZC5cblxuIFByb3ZpZGluZyBvdXRwdXQgYnVmZmVycyBsYXJnZXIgdGhhbiAzMksgdG8gaW5mbGF0ZSgpIHNob3VsZCBwcm92aWRlIGEgc3BlZWRcbiBhZHZhbnRhZ2UsIHNpbmNlIG9ubHkgdGhlIGxhc3QgMzJLIG9mIG91dHB1dCBpcyBjb3BpZWQgdG8gdGhlIHNsaWRpbmcgd2luZG93XG4gdXBvbiByZXR1cm4gZnJvbSBpbmZsYXRlKCksIGFuZCBzaW5jZSBhbGwgZGlzdGFuY2VzIGFmdGVyIHRoZSBmaXJzdCAzMksgb2ZcbiBvdXRwdXQgd2lsbCBmYWxsIGluIHRoZSBvdXRwdXQgZGF0YSwgbWFraW5nIG1hdGNoIGNvcGllcyBzaW1wbGVyIGFuZCBmYXN0ZXIuXG4gVGhlIGFkdmFudGFnZSBtYXkgYmUgZGVwZW5kZW50IG9uIHRoZSBzaXplIG9mIHRoZSBwcm9jZXNzb3IncyBkYXRhIGNhY2hlcy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRld2luZG93KHN0cm0sIHNyYywgZW5kLCBjb3B5KSB7XG4gIHZhciBkaXN0O1xuICB2YXIgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGlmIGl0IGhhc24ndCBiZWVuIGRvbmUgYWxyZWFkeSwgYWxsb2NhdGUgc3BhY2UgZm9yIHRoZSB3aW5kb3cgKi9cbiAgaWYgKHN0YXRlLndpbmRvdyA9PT0gbnVsbCkge1xuICAgIHN0YXRlLndzaXplID0gMSA8PCBzdGF0ZS53Yml0cztcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSAwO1xuXG4gICAgc3RhdGUud2luZG93ID0gbmV3IHV0aWxzLkJ1Zjgoc3RhdGUud3NpemUpO1xuICB9XG5cbiAgLyogY29weSBzdGF0ZS0+d3NpemUgb3IgbGVzcyBvdXRwdXQgYnl0ZXMgaW50byB0aGUgY2lyY3VsYXIgd2luZG93ICovXG4gIGlmIChjb3B5ID49IHN0YXRlLndzaXplKSB7XG4gICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIHN0YXRlLndzaXplLCBzdGF0ZS53c2l6ZSwgMCk7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gIH1cbiAgZWxzZSB7XG4gICAgZGlzdCA9IHN0YXRlLndzaXplIC0gc3RhdGUud25leHQ7XG4gICAgaWYgKGRpc3QgPiBjb3B5KSB7XG4gICAgICBkaXN0ID0gY29weTtcbiAgICB9XG4gICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3cgKyBzdGF0ZS0+d25leHQsIGVuZCAtIGNvcHksIGRpc3QpO1xuICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBjb3B5LCBkaXN0LCBzdGF0ZS53bmV4dCk7XG4gICAgY29weSAtPSBkaXN0O1xuICAgIGlmIChjb3B5KSB7XG4gICAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdywgZW5kIC0gY29weSwgY29weSk7XG4gICAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gY29weSwgY29weSwgMCk7XG4gICAgICBzdGF0ZS53bmV4dCA9IGNvcHk7XG4gICAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXRlLnduZXh0ICs9IGRpc3Q7XG4gICAgICBpZiAoc3RhdGUud25leHQgPT09IHN0YXRlLndzaXplKSB7IHN0YXRlLnduZXh0ID0gMDsgfVxuICAgICAgaWYgKHN0YXRlLndoYXZlIDwgc3RhdGUud3NpemUpIHsgc3RhdGUud2hhdmUgKz0gZGlzdDsgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZShzdHJtLCBmbHVzaCkge1xuICB2YXIgc3RhdGU7XG4gIHZhciBpbnB1dCwgb3V0cHV0OyAgICAgICAgICAvLyBpbnB1dC9vdXRwdXQgYnVmZmVyc1xuICB2YXIgbmV4dDsgICAgICAgICAgICAgICAgICAgLyogbmV4dCBpbnB1dCBJTkRFWCAqL1xuICB2YXIgcHV0OyAgICAgICAgICAgICAgICAgICAgLyogbmV4dCBvdXRwdXQgSU5ERVggKi9cbiAgdmFyIGhhdmUsIGxlZnQ7ICAgICAgICAgICAgIC8qIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIHZhciBob2xkOyAgICAgICAgICAgICAgICAgICAvKiBiaXQgYnVmZmVyICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGluIGJpdCBidWZmZXIgKi9cbiAgdmFyIF9pbiwgX291dDsgICAgICAgICAgICAgIC8qIHNhdmUgc3RhcnRpbmcgYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgdmFyIGNvcHk7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBzdG9yZWQgb3IgbWF0Y2ggYnl0ZXMgdG8gY29weSAqL1xuICB2YXIgZnJvbTsgICAgICAgICAgICAgICAgICAgLyogd2hlcmUgdG8gY29weSBtYXRjaCBieXRlcyBmcm9tICovXG4gIHZhciBmcm9tX3NvdXJjZTtcbiAgdmFyIGhlcmUgPSAwOyAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgZGVjb2RpbmcgdGFibGUgZW50cnkgKi9cbiAgdmFyIGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7IC8vIHBha2VkIFwiaGVyZVwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIC8vdmFyIGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0YWJsZSBlbnRyeSAqL1xuICB2YXIgbGFzdF9iaXRzLCBsYXN0X29wLCBsYXN0X3ZhbDsgLy8gcGFrZWQgXCJsYXN0XCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgdmFyIGxlbjsgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCB0byBjb3B5IGZvciByZXBlYXRzLCBiaXRzIHRvIGRyb3AgKi9cbiAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgIC8qIHJldHVybiBjb2RlICovXG4gIHZhciBoYnVmID0gbmV3IHV0aWxzLkJ1ZjgoNCk7ICAgIC8qIGJ1ZmZlciBmb3IgZ3ppcCBoZWFkZXIgY3JjIGNhbGN1bGF0aW9uICovXG4gIHZhciBvcHRzO1xuXG4gIHZhciBuOyAvLyB0ZW1wb3JhcnkgdmFyIGZvciBORUVEX0JJVFNcblxuICB2YXIgb3JkZXIgPSAvKiBwZXJtdXRhdGlvbiBvZiBjb2RlIGxlbmd0aHMgKi9cbiAgICBbIDE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTUgXTtcblxuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSB8fCAhc3RybS5vdXRwdXQgfHxcbiAgICAgICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHsgc3RhdGUubW9kZSA9IFRZUEVETzsgfSAgICAvKiBza2lwIGNoZWNrICovXG5cblxuICAvLy0tLSBMT0FEKCkgLS0tXG4gIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gIG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgLy8tLS1cblxuICBfaW4gPSBoYXZlO1xuICBfb3V0ID0gbGVmdDtcbiAgcmV0ID0gWl9PSztcblxuICBpbmZfbGVhdmU6IC8vIGdvdG8gZW11bGF0aW9uXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKHN0YXRlLm1vZGUpIHtcbiAgICBjYXNlIEhFQUQ6XG4gICAgICBpZiAoc3RhdGUud3JhcCA9PT0gMCkge1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRURPO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vPT09IE5FRURCSVRTKDE2KTtcbiAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIGlmICgoc3RhdGUud3JhcCAmIDIpICYmIGhvbGQgPT09IDB4OGIxZikgeyAgLyogZ3ppcCBoZWFkZXIgKi9cbiAgICAgICAgc3RhdGUuY2hlY2sgPSAwLypjcmMzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgIC8vPT09Ly9cblxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IEZMQUdTO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmZsYWdzID0gMDsgICAgICAgICAgIC8qIGV4cGVjdCB6bGliIGhlYWRlciAqL1xuICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIShzdGF0ZS53cmFwICYgMSkgfHwgICAvKiBjaGVjayBpZiB6bGliIGhlYWRlciBhbGxvd2VkICovXG4gICAgICAgICgoKGhvbGQgJiAweGZmKS8qQklUUyg4KSovIDw8IDgpICsgKGhvbGQgPj4gOCkpICUgMzEpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGhlYWRlciBjaGVjayc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKChob2xkICYgMHgwZikvKkJJVFMoNCkqLyAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgYml0cyAtPSA0O1xuICAgICAgLy8tLS0vL1xuICAgICAgbGVuID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgODtcbiAgICAgIGlmIChzdGF0ZS53Yml0cyA9PT0gMCkge1xuICAgICAgICBzdGF0ZS53Yml0cyA9IGxlbjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbiA+IHN0YXRlLndiaXRzKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgd2luZG93IHNpemUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmRtYXggPSAxIDw8IGxlbjtcbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICB6bGliIGhlYWRlciBva1xcblwiKSk7XG4gICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICBzdGF0ZS5tb2RlID0gaG9sZCAmIDB4MjAwID8gRElDVElEIDogVFlQRTtcbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBGTEFHUzpcbiAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLmZsYWdzID0gaG9sZDtcbiAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweGZmKSAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHhlMDAwKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gaGVhZGVyIGZsYWdzIHNldCc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC50ZXh0ID0gKChob2xkID4+IDgpICYgMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBUSU1FO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgVElNRTpcbiAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQudGltZSA9IGhvbGQ7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgLy89PT0gQ1JDNChzdGF0ZS5jaGVjaywgaG9sZClcbiAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsyXSA9IChob2xkID4+PiAxNikgJiAweGZmO1xuICAgICAgICBoYnVmWzNdID0gKGhvbGQgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDQsIDApO1xuICAgICAgICAvLz09PVxuICAgICAgfVxuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gT1M7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBPUzpcbiAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQueGZsYWdzID0gKGhvbGQgJiAweGZmKTtcbiAgICAgICAgc3RhdGUuaGVhZC5vcyA9IChob2xkID4+IDgpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgLy89PT0vL1xuICAgICAgfVxuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gRVhMRU47XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBFWExFTjpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZDtcbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX2xlbiA9IGhvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG51bGwvKlpfTlVMTCovO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IEVYVFJBO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRVhUUkE6XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvcHkgPiBoYXZlKSB7IGNvcHkgPSBoYXZlOyB9XG4gICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICAgIGxlbiA9IHN0YXRlLmhlYWQuZXh0cmFfbGVuIC0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5oZWFkLmV4dHJhKSB7XG4gICAgICAgICAgICAgIC8vIFVzZSB1bnR5cGVkIGFycmF5IGZvciBtb3JlIGNvbnZlbmllbmQgcHJvY2Vzc2luZyBsYXRlclxuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbmV3IEFycmF5KHN0YXRlLmhlYWQuZXh0cmFfbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHV0aWxzLmFycmF5U2V0KFxuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhLFxuICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgICAgLy8gZXh0cmEgZmllbGQgaXMgbGltaXRlZCB0byA2NTUzNiBieXRlc1xuICAgICAgICAgICAgICAvLyAtIG5vIG5lZWQgZm9yIGFkZGl0aW9uYWwgc2l6ZSBjaGVja1xuICAgICAgICAgICAgICBjb3B5LFxuICAgICAgICAgICAgICAvKmxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA/IHN0YXRlLmhlYWQuZXh0cmFfbWF4IDogY29weSwqL1xuICAgICAgICAgICAgICBsZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvL3ptZW1jcHkoc3RhdGUuaGVhZC5leHRyYSArIGxlbiwgbmV4dCxcbiAgICAgICAgICAgIC8vICAgICAgICBsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggP1xuICAgICAgICAgICAgLy8gICAgICAgIHN0YXRlLmhlYWQuZXh0cmFfbWF4IC0gbGVuIDogY29weSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5sZW5ndGgpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICB9XG4gICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IE5BTUU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBOQU1FOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwODAwKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vIFRPRE86IDIgb3IgMSBieXRlcz9cbiAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLm5hbWVfbWF4Ki8pKSB7XG4gICAgICAgICAgICBzdGF0ZS5oZWFkLm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcblxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgIGlmIChsZW4pIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQubmFtZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IENPTU1FTlQ7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBDT01NRU5UOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgxMDAwKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGxlbiA9IGlucHV0W25leHQgKyBjb3B5KytdO1xuICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgaWYgKHN0YXRlLmhlYWQgJiYgbGVuICYmXG4gICAgICAgICAgICAgIChzdGF0ZS5sZW5ndGggPCA2NTUzNiAvKnN0YXRlLmhlYWQuY29tbV9tYXgqLykpIHtcbiAgICAgICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgIGlmIChsZW4pIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBzdGF0ZS5tb2RlID0gSENSQztcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIEhDUkM6XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChob2xkICE9PSAoc3RhdGUuY2hlY2sgJiAweGZmZmYpKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaGVhZGVyIGNyYyBtaXNtYXRjaCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuaGNyYyA9ICgoc3RhdGUuZmxhZ3MgPj4gOSkgJiAxKTtcbiAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDA7XG4gICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRElDVElEOlxuICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0genN3YXAzMihob2xkKTtcbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IERJQ1Q7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBESUNUOlxuICAgICAgaWYgKHN0YXRlLmhhdmVkaWN0ID09PSAwKSB7XG4gICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAvLy0tLVxuICAgICAgICByZXR1cm4gWl9ORUVEX0RJQ1Q7XG4gICAgICB9XG4gICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIFRZUEU6XG4gICAgICBpZiAoZmx1c2ggPT09IFpfQkxPQ0sgfHwgZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBUWVBFRE86XG4gICAgICBpZiAoc3RhdGUubGFzdCkge1xuICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgICAgYml0cyAtPSBiaXRzICYgNztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ0hFQ0s7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy89PT0gTkVFREJJVFMoMyk7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDMpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLmxhc3QgPSAoaG9sZCAmIDB4MDEpLypCSVRTKDEpKi87XG4gICAgICAvLy0tLSBEUk9QQklUUygxKSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDE7XG4gICAgICBiaXRzIC09IDE7XG4gICAgICAvLy0tLS8vXG5cbiAgICAgIHN3aXRjaCAoKGhvbGQgJiAweDAzKS8qQklUUygyKSovKSB7XG4gICAgICBjYXNlIDA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBzdG9yZWQgYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgc3RvcmVkIGJsb2NrJXNcXG5cIixcbiAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFNUT1JFRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmaXhlZCBibG9jayAqL1xuICAgICAgICBmaXhlZHRhYmxlcyhzdGF0ZSk7XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGZpeGVkIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTl87ICAgICAgICAgICAgIC8qIGRlY29kZSBjb2RlcyAqL1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHtcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZHluYW1pYyBibG9jayAqL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBkeW5hbWljIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRBQkxFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBibG9jayB0eXBlJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gMjtcbiAgICAgIGJpdHMgLT0gMjtcbiAgICAgIC8vLS0tLy9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU1RPUkVEOlxuICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vLyAvKiBnbyB0byBieXRlIGJvdW5kYXJ5ICovXG4gICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgLy8tLS0vL1xuICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgaGF2ZS0tO1xuICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgYml0cyArPSA4O1xuICAgICAgfVxuICAgICAgLy89PT0vL1xuICAgICAgaWYgKChob2xkICYgMHhmZmZmKSAhPT0gKChob2xkID4+PiAxNikgXiAweGZmZmYpKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQgJiAweGZmZmY7XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHN0b3JlZCBsZW5ndGggJXVcXG5cIixcbiAgICAgIC8vICAgICAgICBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IENPUFlfO1xuICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgQ09QWV86XG4gICAgICBzdGF0ZS5tb2RlID0gQ09QWTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPUFk6XG4gICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgaWYgKGNvcHkgPiBoYXZlKSB7IGNvcHkgPSBoYXZlOyB9XG4gICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgICBpZiAoY29weSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLy8tLS0gem1lbWNweShwdXQsIG5leHQsIGNvcHkpOyAtLS1cbiAgICAgICAgdXRpbHMuYXJyYXlTZXQob3V0cHV0LCBpbnB1dCwgbmV4dCwgY29weSwgcHV0KTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgICBwdXQgKz0gY29weTtcbiAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgZW5kXFxuXCIpKTtcbiAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUQUJMRTpcbiAgICAgIC8vPT09IE5FRURCSVRTKDE0KTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMTQpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm5sZW4gPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAyNTc7XG4gICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDU7XG4gICAgICBiaXRzIC09IDU7XG4gICAgICAvLy0tLS8vXG4gICAgICBzdGF0ZS5uZGlzdCA9IChob2xkICYgMHgxZikvKkJJVFMoNSkqLyArIDE7XG4gICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDU7XG4gICAgICBiaXRzIC09IDU7XG4gICAgICAvLy0tLS8vXG4gICAgICBzdGF0ZS5uY29kZSA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDQ7XG4gICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICBiaXRzIC09IDQ7XG4gICAgICAvLy0tLS8vXG4vLyNpZm5kZWYgUEtaSVBfQlVHX1dPUktBUk9VTkRcbiAgICAgIGlmIChzdGF0ZS5ubGVuID4gMjg2IHx8IHN0YXRlLm5kaXN0ID4gMzApIHtcbiAgICAgICAgc3RybS5tc2cgPSAndG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHRhYmxlIHNpemVzIG9rXFxuXCIpKTtcbiAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IExFTkxFTlM7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU5MRU5TOlxuICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5uY29kZSkge1xuICAgICAgICAvLz09PSBORUVEQklUUygzKTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgfVxuICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCAxOSkge1xuICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAvL3N0YXRlLm5leHQgPSBzdGF0ZS5jb2RlcztcbiAgICAgIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG4gICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5sZW5keW47XG4gICAgICBzdGF0ZS5sZW5iaXRzID0gNztcblxuICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShDT0RFUywgc3RhdGUubGVucywgMCwgMTksIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcblxuICAgICAgaWYgKHJldCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgY29kZSBsZW5ndGhzIG9rXFxuXCIpKTtcbiAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IENPREVMRU5TO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgQ09ERUxFTlM6XG4gICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV92YWwgPCAxNikge1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK10gPSBoZXJlX3ZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoaGVyZV92YWwgPT09IDE2KSB7XG4gICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyAyKTtcbiAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAyO1xuICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW4gPSBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUgLSAxXTtcbiAgICAgICAgICAgIGNvcHkgPSAzICsgKGhvbGQgJiAweDAzKTsvL0JJVFMoMik7XG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGhlcmVfdmFsID09PSAxNykge1xuICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMyk7XG4gICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMztcbiAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgIGNvcHkgPSAzICsgKGhvbGQgJiAweDA3KTsvL0JJVFMoMyk7XG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgICBiaXRzIC09IDM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgNyk7XG4gICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgNztcbiAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgIGNvcHkgPSAxMSArIChob2xkICYgMHg3Zik7Ly9CSVRTKDcpO1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoNykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSA3O1xuICAgICAgICAgICAgYml0cyAtPSA3O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUuaGF2ZSArIGNvcHkgPiBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYml0IGxlbmd0aCByZXBlYXQnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoY29weS0tKSB7XG4gICAgICAgICAgICBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK10gPSBsZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIGhhbmRsZSBlcnJvciBicmVha3MgaW4gd2hpbGUgKi9cbiAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBCQUQpIHsgYnJlYWs7IH1cblxuICAgICAgLyogY2hlY2sgZm9yIGVuZC1vZi1ibG9jayBjb2RlIChiZXR0ZXIgaGF2ZSBvbmUpICovXG4gICAgICBpZiAoc3RhdGUubGVuc1syNTZdID09PSAwKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvKiBidWlsZCBjb2RlIHRhYmxlcyAtLSBub3RlOiBkbyBub3QgY2hhbmdlIHRoZSBsZW5iaXRzIG9yIGRpc3RiaXRzXG4gICAgICAgICB2YWx1ZXMgaGVyZSAoOSBhbmQgNikgd2l0aG91dCByZWFkaW5nIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICAgICAgICBjb25jZXJuaW5nIHRoZSBFTk9VR0ggY29uc3RhbnRzLCB3aGljaCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzICovXG4gICAgICBzdGF0ZS5sZW5iaXRzID0gOTtcblxuICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShMRU5TLCBzdGF0ZS5sZW5zLCAwLCBzdGF0ZS5ubGVuLCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAvLyBzdGF0ZS5uZXh0X2luZGV4ID0gb3B0cy50YWJsZV9pbmRleDtcbiAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvLyBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubmV4dDtcblxuICAgICAgaWYgKHJldCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgc3RhdGUuZGlzdGJpdHMgPSA2O1xuICAgICAgLy9zdGF0ZS5kaXN0Y29kZS5jb3B5KHN0YXRlLmNvZGVzKTtcbiAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluO1xuICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUuZGlzdGJpdHMgfTtcbiAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIHN0YXRlLm5sZW4sIHN0YXRlLm5kaXN0LCBzdGF0ZS5kaXN0Y29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICBzdGF0ZS5kaXN0Yml0cyA9IG9wdHMuYml0cztcbiAgICAgIC8vIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dDtcblxuICAgICAgaWYgKHJldCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlcyBzZXQnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsICdpbmZsYXRlOiAgICAgICBjb2RlcyBva1xcbicpKTtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5fO1xuICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOXzpcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU46XG4gICAgICBpZiAoaGF2ZSA+PSA2ICYmIGxlZnQgPj0gMjU4KSB7XG4gICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAvLy0tLVxuICAgICAgICBpbmZsYXRlX2Zhc3Qoc3RybSwgX291dCk7XG4gICAgICAgIC8vLS0tIExPQUQoKSAtLS1cbiAgICAgICAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgICAgICAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gICAgICAgIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgICAgICAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgICAgICAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICAgICAgICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgICAgICAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gICAgICAgIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAgICAgICAvLy0tLVxuXG4gICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7XG4gICAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUuYmFjayA9IDA7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07ICAvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgaWYgKGhlcmVfYml0cyA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgfVxuICAgICAgaWYgKGhlcmVfb3AgJiYgKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgIGxhc3Rfb3AgPSBoZXJlX29wO1xuICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgIC8vLS0tLy9cbiAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgc3RhdGUubGVuZ3RoID0gaGVyZV92YWw7XG4gICAgICBpZiAoaGVyZV9vcCA9PT0gMCkge1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTElUO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChoZXJlX29wICYgMzIpIHtcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChoZXJlX29wICYgNjQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5leHRyYSA9IGhlcmVfb3AgJiAxNTtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5FWFQ7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU5FWFQ6XG4gICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICBuID0gc3RhdGUuZXh0cmE7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sZW5ndGggKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoc3RhdGUuZXh0cmEpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgfVxuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgc3RhdGUubGVuZ3RoKSk7XG4gICAgICBzdGF0ZS53YXMgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICBzdGF0ZS5tb2RlID0gRElTVDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIERJU1Q6XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUuZGlzdGJpdHMpKi9cbiAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgIGlmICgoaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgfVxuICAgICAgaWYgKChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGxhc3RfYml0cyArIGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBsYXN0X2JpdHM7XG4gICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gbGFzdF9iaXRzO1xuICAgICAgfVxuICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUuYmFjayArPSBoZXJlX2JpdHM7XG4gICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUub2Zmc2V0ID0gaGVyZV92YWw7XG4gICAgICBzdGF0ZS5leHRyYSA9IChoZXJlX29wKSAmIDE1O1xuICAgICAgc3RhdGUubW9kZSA9IERJU1RFWFQ7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBESVNURVhUOlxuICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUub2Zmc2V0ICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgIH1cbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gc3RhdGUuZG1heCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuLy8jZW5kaWZcbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgc3RhdGUub2Zmc2V0KSk7XG4gICAgICBzdGF0ZS5tb2RlID0gTUFUQ0g7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBNQVRDSDpcbiAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgY29weSA9IF9vdXQgLSBsZWZ0O1xuICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IGNvcHkpIHsgICAgICAgICAvKiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgIGNvcHkgPSBzdGF0ZS5vZmZzZXQgLSBjb3B5O1xuICAgICAgICBpZiAoY29weSA+IHN0YXRlLndoYXZlKSB7XG4gICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmFpbHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICBUcmFjZSgoc3RkZXJyLCBcImluZmxhdGUuYyB0b28gZmFyXFxuXCIpKTtcbi8vICAgICAgICAgIGNvcHkgLT0gc3RhdGUud2hhdmU7XG4vLyAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkgeyBjb3B5ID0gc3RhdGUubGVuZ3RoOyB9XG4vLyAgICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbi8vICAgICAgICAgIGxlZnQgLT0gY29weTtcbi8vICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuLy8gICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICBvdXRwdXRbcHV0KytdID0gMDtcbi8vICAgICAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4vLyAgICAgICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7IHN0YXRlLm1vZGUgPSBMRU47IH1cbi8vICAgICAgICAgIGJyZWFrO1xuLy8jZW5kaWZcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29weSA+IHN0YXRlLnduZXh0KSB7XG4gICAgICAgICAgY29weSAtPSBzdGF0ZS53bmV4dDtcbiAgICAgICAgICBmcm9tID0gc3RhdGUud3NpemUgLSBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZyb20gPSBzdGF0ZS53bmV4dCAtIGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuICAgICAgICBmcm9tX3NvdXJjZSA9IHN0YXRlLndpbmRvdztcbiAgICAgIH1cbiAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvcHkgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgIGZyb20gPSBwdXQgLSBzdGF0ZS5vZmZzZXQ7XG4gICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgZG8ge1xuICAgICAgICBvdXRwdXRbcHV0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4gICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7IHN0YXRlLm1vZGUgPSBMRU47IH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgTElUOlxuICAgICAgaWYgKGxlZnQgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICBvdXRwdXRbcHV0KytdID0gc3RhdGUubGVuZ3RoO1xuICAgICAgbGVmdC0tO1xuICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ0hFQ0s6XG4gICAgICBpZiAoc3RhdGUud3JhcCkge1xuICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgLy8gVXNlICd8JyBpbnNkZWFkIG9mICcrJyB0byBtYWtlIHN1cmUgdGhhdCByZXN1bHQgaXMgc2lnbmVkXG4gICAgICAgICAgaG9sZCB8PSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgX291dCAtPSBsZWZ0O1xuICAgICAgICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICAgICAgICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICAgICAgICBpZiAoX291dCkge1xuICAgICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9XG4gICAgICAgICAgICAgIC8qVVBEQVRFKHN0YXRlLmNoZWNrLCBwdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgICAgICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSA6IGFkbGVyMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkpO1xuXG4gICAgICAgIH1cbiAgICAgICAgX291dCA9IGxlZnQ7XG4gICAgICAgIC8vIE5COiBjcmMzMiBzdG9yZWQgYXMgc2lnbmVkIDMyLWJpdCBpbnQsIHpzd2FwMzIgcmV0dXJucyBzaWduZWQgdG9vXG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgPyBob2xkIDogenN3YXAzMihob2xkKSkgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGRhdGEgY2hlY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBjaGVjayBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IExFTkdUSDtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTkdUSDpcbiAgICAgIGlmIChzdGF0ZS53cmFwICYmIHN0YXRlLmZsYWdzKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoaG9sZCAhPT0gKHN0YXRlLnRvdGFsICYgMHhmZmZmZmZmZikpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgbGVuZ3RoIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICB9XG4gICAgICBzdGF0ZS5tb2RlID0gRE9ORTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIERPTkU6XG4gICAgICByZXQgPSBaX1NUUkVBTV9FTkQ7XG4gICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgY2FzZSBCQUQ6XG4gICAgICByZXQgPSBaX0RBVEFfRVJST1I7XG4gICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgY2FzZSBNRU06XG4gICAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gICAgY2FzZSBTWU5DOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgfVxuICB9XG5cbiAgLy8gaW5mX2xlYXZlIDwtIGhlcmUgaXMgcmVhbCBwbGFjZSBmb3IgXCJnb3RvIGluZl9sZWF2ZVwiLCBlbXVsYXRlZCB2aWEgXCJicmVhayBpbmZfbGVhdmVcIlxuXG4gIC8qXG4gICAgIFJldHVybiBmcm9tIGluZmxhdGUoKSwgdXBkYXRpbmcgdGhlIHRvdGFsIGNvdW50cyBhbmQgdGhlIGNoZWNrIHZhbHVlLlxuICAgICBJZiB0aGVyZSB3YXMgbm8gcHJvZ3Jlc3MgZHVyaW5nIHRoZSBpbmZsYXRlKCkgY2FsbCwgcmV0dXJuIGEgYnVmZmVyXG4gICAgIGVycm9yLiAgQ2FsbCB1cGRhdGV3aW5kb3coKSB0byBjcmVhdGUgYW5kL29yIHVwZGF0ZSB0aGUgd2luZG93IHN0YXRlLlxuICAgICBOb3RlOiBhIG1lbW9yeSBlcnJvciBmcm9tIGluZmxhdGUoKSBpcyBub24tcmVjb3ZlcmFibGUuXG4gICAqL1xuXG4gIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAvLy0tLVxuXG4gIGlmIChzdGF0ZS53c2l6ZSB8fCAoX291dCAhPT0gc3RybS5hdmFpbF9vdXQgJiYgc3RhdGUubW9kZSA8IEJBRCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlIDwgQ0hFQ0sgfHwgZmx1c2ggIT09IFpfRklOSVNIKSkpIHtcbiAgICBpZiAodXBkYXRld2luZG93KHN0cm0sIHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0LCBfb3V0IC0gc3RybS5hdmFpbF9vdXQpKSB7XG4gICAgICBzdGF0ZS5tb2RlID0gTUVNO1xuICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAgIH1cbiAgfVxuICBfaW4gLT0gc3RybS5hdmFpbF9pbjtcbiAgX291dCAtPSBzdHJtLmF2YWlsX291dDtcbiAgc3RybS50b3RhbF9pbiArPSBfaW47XG4gIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gIGlmIChzdGF0ZS53cmFwICYmIF9vdXQpIHtcbiAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAvKlVQREFURShzdGF0ZS5jaGVjaywgc3RybS5uZXh0X291dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkgOiBhZGxlcjMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHN0cm0ubmV4dF9vdXQgLSBfb3V0KSk7XG4gIH1cbiAgc3RybS5kYXRhX3R5cGUgPSBzdGF0ZS5iaXRzICsgKHN0YXRlLmxhc3QgPyA2NCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPT09IFRZUEUgPyAxMjggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBMRU5fIHx8IHN0YXRlLm1vZGUgPT09IENPUFlfID8gMjU2IDogMCk7XG4gIGlmICgoKF9pbiA9PT0gMCAmJiBfb3V0ID09PSAwKSB8fCBmbHVzaCA9PT0gWl9GSU5JU0gpICYmIHJldCA9PT0gWl9PSykge1xuICAgIHJldCA9IFpfQlVGX0VSUk9SO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVFbmQoc3RybSkge1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSAvKnx8IHN0cm0tPnpmcmVlID09IChmcmVlX2Z1bmMpMCovKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgdmFyIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLndpbmRvdykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cbiAgc3RybS5zdGF0ZSA9IG51bGw7XG4gIHJldHVybiBaX09LO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlR2V0SGVhZGVyKHN0cm0sIGhlYWQpIHtcbiAgdmFyIHN0YXRlO1xuXG4gIC8qIGNoZWNrIHN0YXRlICovXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoKHN0YXRlLndyYXAgJiAyKSA9PT0gMCkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cblxuICAvKiBzYXZlIGhlYWRlciBzdHJ1Y3R1cmUgKi9cbiAgc3RhdGUuaGVhZCA9IGhlYWQ7XG4gIGhlYWQuZG9uZSA9IGZhbHNlO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVNldERpY3Rpb25hcnkoc3RybSwgZGljdGlvbmFyeSkge1xuICB2YXIgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIHZhciBzdGF0ZTtcbiAgdmFyIGRpY3RpZDtcbiAgdmFyIHJldDtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gLyogPT0gWl9OVUxMICovIHx8ICFzdHJtLnN0YXRlIC8qID09IFpfTlVMTCAqLykgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIGlmIChzdGF0ZS53cmFwICE9PSAwICYmIHN0YXRlLm1vZGUgIT09IERJQ1QpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICAvKiBjaGVjayBmb3IgY29ycmVjdCBkaWN0aW9uYXJ5IGlkZW50aWZpZXIgKi9cbiAgaWYgKHN0YXRlLm1vZGUgPT09IERJQ1QpIHtcbiAgICBkaWN0aWQgPSAxOyAvKiBhZGxlcjMyKDAsIG51bGwsIDApKi9cbiAgICAvKiBkaWN0aWQgPSBhZGxlcjMyKGRpY3RpZCwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICAgIGlmIChkaWN0aWQgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICByZXR1cm4gWl9EQVRBX0VSUk9SO1xuICAgIH1cbiAgfVxuICAvKiBjb3B5IGRpY3Rpb25hcnkgdG8gd2luZG93IHVzaW5nIHVwZGF0ZXdpbmRvdygpLCB3aGljaCB3aWxsIGFtZW5kIHRoZVxuICAgZXhpc3RpbmcgZGljdGlvbmFyeSBpZiBhcHByb3ByaWF0ZSAqL1xuICByZXQgPSB1cGRhdGV3aW5kb3coc3RybSwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgZGljdExlbmd0aCk7XG4gIGlmIChyZXQpIHtcbiAgICBzdGF0ZS5tb2RlID0gTUVNO1xuICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgfVxuICBzdGF0ZS5oYXZlZGljdCA9IDE7XG4gIC8vIFRyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgZGljdGlvbmFyeSBzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSztcbn1cblxuZXhwb3J0IHsgaW5mbGF0ZVJlc2V0LCBpbmZsYXRlUmVzZXQyLCBpbmZsYXRlUmVzZXRLZWVwLCBpbmZsYXRlSW5pdCwgaW5mbGF0ZUluaXQyLCBpbmZsYXRlLCBpbmZsYXRlRW5kLCBpbmZsYXRlR2V0SGVhZGVyLCBpbmZsYXRlU2V0RGljdGlvbmFyeSB9O1xuZXhwb3J0IHZhciBpbmZsYXRlSW5mbyA9ICdwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcblxuLyogTm90IGltcGxlbWVudGVkXG5leHBvcnRzLmluZmxhdGVDb3B5ID0gaW5mbGF0ZUNvcHk7XG5leHBvcnRzLmluZmxhdGVHZXREaWN0aW9uYXJ5ID0gaW5mbGF0ZUdldERpY3Rpb25hcnk7XG5leHBvcnRzLmluZmxhdGVNYXJrID0gaW5mbGF0ZU1hcms7XG5leHBvcnRzLmluZmxhdGVQcmltZSA9IGluZmxhdGVQcmltZTtcbmV4cG9ydHMuaW5mbGF0ZVN5bmMgPSBpbmZsYXRlU3luYztcbmV4cG9ydHMuaW5mbGF0ZVN5bmNQb2ludCA9IGluZmxhdGVTeW5jUG9pbnQ7XG5leHBvcnRzLmluZmxhdGVVbmRlcm1pbmUgPSBpbmZsYXRlVW5kZXJtaW5lO1xuKi9cbiIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi91dGlscy9jb21tb24uanNcIjtcblxudmFyIE1BWEJJVFMgPSAxNTtcbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxudmFyIENPREVTID0gMDtcbnZhciBMRU5TID0gMTtcbnZhciBESVNUUyA9IDI7XG5cbnZhciBsYmFzZSA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGJhc2UgKi9cbiAgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSxcbiAgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBcbl07XG5cbnZhciBsZXh0ID0gWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE3LCAxNywgMTgsIDE4LCAxOCwgMTgsXG4gIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDE2LCA3MiwgNzhcbl07XG5cbnZhciBkYmFzZSA9IFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgYmFzZSAqL1xuICAxLCAyLCAzLCA0LCA1LCA3LCA5LCAxMywgMTcsIDI1LCAzMywgNDksIDY1LCA5NywgMTI5LCAxOTMsXG4gIDI1NywgMzg1LCA1MTMsIDc2OSwgMTAyNSwgMTUzNywgMjA0OSwgMzA3MywgNDA5NywgNjE0NSxcbiAgODE5MywgMTIyODksIDE2Mzg1LCAyNDU3NywgMCwgMFxuXTtcblxudmFyIGRleHQgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE4LCAxOCwgMTksIDE5LCAyMCwgMjAsIDIxLCAyMSwgMjIsIDIyLFxuICAyMywgMjMsIDI0LCAyNCwgMjUsIDI1LCAyNiwgMjYsIDI3LCAyNyxcbiAgMjgsIDI4LCAyOSwgMjksIDY0LCA2NFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5mbGF0ZV90YWJsZSh0eXBlLCBsZW5zLCBsZW5zX2luZGV4LCBjb2RlcywgdGFibGUsIHRhYmxlX2luZGV4LCB3b3JrLCBvcHRzKVxue1xuICB2YXIgYml0cyA9IG9wdHMuYml0cztcbiAgICAgIC8vaGVyZSA9IG9wdHMuaGVyZTsgLyogdGFibGUgZW50cnkgZm9yIGR1cGxpY2F0aW9uICovXG5cbiAgdmFyIGxlbiA9IDA7ICAgICAgICAgICAgICAgLyogYSBjb2RlJ3MgbGVuZ3RoIGluIGJpdHMgKi9cbiAgdmFyIHN5bSA9IDA7ICAgICAgICAgICAgICAgLyogaW5kZXggb2YgY29kZSBzeW1ib2xzICovXG4gIHZhciBtaW4gPSAwLCBtYXggPSAwOyAgICAgICAgICAvKiBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvZGUgbGVuZ3RocyAqL1xuICB2YXIgcm9vdCA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3Igcm9vdCB0YWJsZSAqL1xuICB2YXIgY3VyciA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgY3VycmVudCB0YWJsZSAqL1xuICB2YXIgZHJvcCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMgdG8gZHJvcCBmb3Igc3ViLXRhYmxlICovXG4gIHZhciBsZWZ0ID0gMDsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHByZWZpeCBjb2RlcyBhdmFpbGFibGUgKi9cbiAgdmFyIHVzZWQgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBlbnRyaWVzIGluIHRhYmxlIHVzZWQgKi9cbiAgdmFyIGh1ZmYgPSAwOyAgICAgICAgICAgICAgLyogSHVmZm1hbiBjb2RlICovXG4gIHZhciBpbmNyOyAgICAgICAgICAgICAgLyogZm9yIGluY3JlbWVudGluZyBjb2RlLCBpbmRleCAqL1xuICB2YXIgZmlsbDsgICAgICAgICAgICAgIC8qIGluZGV4IGZvciByZXBsaWNhdGluZyBlbnRyaWVzICovXG4gIHZhciBsb3c7ICAgICAgICAgICAgICAgLyogbG93IGJpdHMgZm9yIGN1cnJlbnQgcm9vdCBlbnRyeSAqL1xuICB2YXIgbWFzazsgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGxvdyByb290IGJpdHMgKi9cbiAgdmFyIG5leHQ7ICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIHRhYmxlICovXG4gIHZhciBiYXNlID0gbnVsbDsgICAgIC8qIGJhc2UgdmFsdWUgdGFibGUgdG8gdXNlICovXG4gIHZhciBiYXNlX2luZGV4ID0gMDtcbi8vICB2YXIgc2hvZXh0cmE7ICAgIC8qIGV4dHJhIGJpdHMgdGFibGUgdG8gdXNlICovXG4gIHZhciBlbmQ7ICAgICAgICAgICAgICAgICAgICAvKiB1c2UgYmFzZSBhbmQgZXh0cmEgZm9yIHN5bWJvbCA+IGVuZCAqL1xuICB2YXIgY291bnQgPSBuZXcgdXRpbHMuQnVmMTYoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAvKiBudW1iZXIgb2YgY29kZXMgb2YgZWFjaCBsZW5ndGggKi9cbiAgdmFyIG9mZnMgPSBuZXcgdXRpbHMuQnVmMTYoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAgLyogb2Zmc2V0cyBpbiB0YWJsZSBmb3IgZWFjaCBsZW5ndGggKi9cbiAgdmFyIGV4dHJhID0gbnVsbDtcbiAgdmFyIGV4dHJhX2luZGV4ID0gMDtcblxuICB2YXIgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDtcblxuICAvKlxuICAgUHJvY2VzcyBhIHNldCBvZiBjb2RlIGxlbmd0aHMgdG8gY3JlYXRlIGEgY2Fub25pY2FsIEh1ZmZtYW4gY29kZS4gIFRoZVxuICAgY29kZSBsZW5ndGhzIGFyZSBsZW5zWzAuLmNvZGVzLTFdLiAgRWFjaCBsZW5ndGggY29ycmVzcG9uZHMgdG8gdGhlXG4gICBzeW1ib2xzIDAuLmNvZGVzLTEuICBUaGUgSHVmZm1hbiBjb2RlIGlzIGdlbmVyYXRlZCBieSBmaXJzdCBzb3J0aW5nIHRoZVxuICAgc3ltYm9scyBieSBsZW5ndGggZnJvbSBzaG9ydCB0byBsb25nLCBhbmQgcmV0YWluaW5nIHRoZSBzeW1ib2wgb3JkZXJcbiAgIGZvciBjb2RlcyB3aXRoIGVxdWFsIGxlbmd0aHMuICBUaGVuIHRoZSBjb2RlIHN0YXJ0cyB3aXRoIGFsbCB6ZXJvIGJpdHNcbiAgIGZvciB0aGUgZmlyc3QgY29kZSBvZiB0aGUgc2hvcnRlc3QgbGVuZ3RoLCBhbmQgdGhlIGNvZGVzIGFyZSBpbnRlZ2VyXG4gICBpbmNyZW1lbnRzIGZvciB0aGUgc2FtZSBsZW5ndGgsIGFuZCB6ZXJvcyBhcmUgYXBwZW5kZWQgYXMgdGhlIGxlbmd0aFxuICAgaW5jcmVhc2VzLiAgRm9yIHRoZSBkZWZsYXRlIGZvcm1hdCwgdGhlc2UgYml0cyBhcmUgc3RvcmVkIGJhY2t3YXJkc1xuICAgZnJvbSB0aGVpciBtb3JlIG5hdHVyYWwgaW50ZWdlciBpbmNyZW1lbnQgb3JkZXJpbmcsIGFuZCBzbyB3aGVuIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzIGFyZSBidWlsdCBpbiB0aGUgbGFyZ2UgbG9vcCBiZWxvdywgdGhlIGludGVnZXIgY29kZXNcbiAgIGFyZSBpbmNyZW1lbnRlZCBiYWNrd2FyZHMuXG5cbiAgIFRoaXMgcm91dGluZSBhc3N1bWVzLCBidXQgZG9lcyBub3QgY2hlY2ssIHRoYXQgYWxsIG9mIHRoZSBlbnRyaWVzIGluXG4gICBsZW5zW10gYXJlIGluIHRoZSByYW5nZSAwLi5NQVhCSVRTLiAgVGhlIGNhbGxlciBtdXN0IGFzc3VyZSB0aGlzLlxuICAgMS4uTUFYQklUUyBpcyBpbnRlcnByZXRlZCBhcyB0aGF0IGNvZGUgbGVuZ3RoLiAgemVybyBtZWFucyB0aGF0IHRoYXRcbiAgIHN5bWJvbCBkb2VzIG5vdCBvY2N1ciBpbiB0aGlzIGNvZGUuXG5cbiAgIFRoZSBjb2RlcyBhcmUgc29ydGVkIGJ5IGNvbXB1dGluZyBhIGNvdW50IG9mIGNvZGVzIGZvciBlYWNoIGxlbmd0aCxcbiAgIGNyZWF0aW5nIGZyb20gdGhhdCBhIHRhYmxlIG9mIHN0YXJ0aW5nIGluZGljZXMgZm9yIGVhY2ggbGVuZ3RoIGluIHRoZVxuICAgc29ydGVkIHRhYmxlLCBhbmQgdGhlbiBlbnRlcmluZyB0aGUgc3ltYm9scyBpbiBvcmRlciBpbiB0aGUgc29ydGVkXG4gICB0YWJsZS4gIFRoZSBzb3J0ZWQgdGFibGUgaXMgd29ya1tdLCB3aXRoIHRoYXQgc3BhY2UgYmVpbmcgcHJvdmlkZWQgYnlcbiAgIHRoZSBjYWxsZXIuXG5cbiAgIFRoZSBsZW5ndGggY291bnRzIGFyZSB1c2VkIGZvciBvdGhlciBwdXJwb3NlcyBhcyB3ZWxsLCBpLmUuIGZpbmRpbmdcbiAgIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGxlbmd0aCBjb2RlcywgZGV0ZXJtaW5pbmcgaWYgdGhlcmUgYXJlIGFueVxuICAgY29kZXMgYXQgYWxsLCBjaGVja2luZyBmb3IgYSB2YWxpZCBzZXQgb2YgbGVuZ3RocywgYW5kIGxvb2tpbmcgYWhlYWRcbiAgIGF0IGxlbmd0aCBjb3VudHMgdG8gZGV0ZXJtaW5lIHN1Yi10YWJsZSBzaXplcyB3aGVuIGJ1aWxkaW5nIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzLlxuICAgKi9cblxuICAvKiBhY2N1bXVsYXRlIGxlbmd0aHMgZm9yIGNvZGVzIChhc3N1bWVzIGxlbnNbXSBhbGwgaW4gMC4uTUFYQklUUykgKi9cbiAgZm9yIChsZW4gPSAwOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBjb3VudFtsZW5dID0gMDtcbiAgfVxuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGNvdW50W2xlbnNbbGVuc19pbmRleCArIHN5bV1dKys7XG4gIH1cblxuICAvKiBib3VuZCBjb2RlIGxlbmd0aHMsIGZvcmNlIHJvb3QgdG8gYmUgd2l0aGluIGNvZGUgbGVuZ3RocyAqL1xuICByb290ID0gYml0cztcbiAgZm9yIChtYXggPSBNQVhCSVRTOyBtYXggPj0gMTsgbWF4LS0pIHtcbiAgICBpZiAoY291bnRbbWF4XSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290ID4gbWF4KSB7XG4gICAgcm9vdCA9IG1heDtcbiAgfVxuICBpZiAobWF4ID09PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgLyogbm8gc3ltYm9scyB0byBjb2RlIGF0IGFsbCAqL1xuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDsgIC8vaGVyZS5vcCA9ICh2YXIgY2hhcik2NDsgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7ICAgLy9oZXJlLmJpdHMgPSAodmFyIGNoYXIpMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDsgICAvL2hlcmUudmFsID0gKHZhciBzaG9ydCkwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cblxuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDtcbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cbiAgICBvcHRzLmJpdHMgPSAxO1xuICAgIHJldHVybiAwOyAgICAgLyogbm8gc3ltYm9scywgYnV0IHdhaXQgZm9yIGRlY29kaW5nIHRvIHJlcG9ydCBlcnJvciAqL1xuICB9XG4gIGZvciAobWluID0gMTsgbWluIDwgbWF4OyBtaW4rKykge1xuICAgIGlmIChjb3VudFttaW5dICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPCBtaW4pIHtcbiAgICByb290ID0gbWluO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGFuIG92ZXItc3Vic2NyaWJlZCBvciBpbmNvbXBsZXRlIHNldCBvZiBsZW5ndGhzICovXG4gIGxlZnQgPSAxO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGxlZnQgPDw9IDE7XG4gICAgbGVmdCAtPSBjb3VudFtsZW5dO1xuICAgIGlmIChsZWZ0IDwgMCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gICAgICAgIC8qIG92ZXItc3Vic2NyaWJlZCAqL1xuICB9XG4gIGlmIChsZWZ0ID4gMCAmJiAodHlwZSA9PT0gQ09ERVMgfHwgbWF4ICE9PSAxKSkge1xuICAgIHJldHVybiAtMTsgICAgICAgICAgICAgICAgICAgICAgLyogaW5jb21wbGV0ZSBzZXQgKi9cbiAgfVxuXG4gIC8qIGdlbmVyYXRlIG9mZnNldHMgaW50byBzeW1ib2wgdGFibGUgZm9yIGVhY2ggbGVuZ3RoIGZvciBzb3J0aW5nICovXG4gIG9mZnNbMV0gPSAwO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgb2Zmc1tsZW4gKyAxXSA9IG9mZnNbbGVuXSArIGNvdW50W2xlbl07XG4gIH1cblxuICAvKiBzb3J0IHN5bWJvbHMgYnkgbGVuZ3RoLCBieSBzeW1ib2wgb3JkZXIgd2l0aGluIGVhY2ggbGVuZ3RoICovXG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgaWYgKGxlbnNbbGVuc19pbmRleCArIHN5bV0gIT09IDApIHtcbiAgICAgIHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrXSA9IHN5bTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgQ3JlYXRlIGFuZCBmaWxsIGluIGRlY29kaW5nIHRhYmxlcy4gIEluIHRoaXMgbG9vcCwgdGhlIHRhYmxlIGJlaW5nXG4gICBmaWxsZWQgaXMgYXQgbmV4dCBhbmQgaGFzIGN1cnIgaW5kZXggYml0cy4gIFRoZSBjb2RlIGJlaW5nIHVzZWQgaXMgaHVmZlxuICAgd2l0aCBsZW5ndGggbGVuLiAgVGhhdCBjb2RlIGlzIGNvbnZlcnRlZCB0byBhbiBpbmRleCBieSBkcm9wcGluZyBkcm9wXG4gICBiaXRzIG9mZiBvZiB0aGUgYm90dG9tLiAgRm9yIGNvZGVzIHdoZXJlIGxlbiBpcyBsZXNzIHRoYW4gZHJvcCArIGN1cnIsXG4gICB0aG9zZSB0b3AgZHJvcCArIGN1cnIgLSBsZW4gYml0cyBhcmUgaW5jcmVtZW50ZWQgdGhyb3VnaCBhbGwgdmFsdWVzIHRvXG4gICBmaWxsIHRoZSB0YWJsZSB3aXRoIHJlcGxpY2F0ZWQgZW50cmllcy5cblxuICAgcm9vdCBpcyB0aGUgbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHRoZSByb290IHRhYmxlLiAgV2hlbiBsZW4gZXhjZWVkc1xuICAgcm9vdCwgc3ViLXRhYmxlcyBhcmUgY3JlYXRlZCBwb2ludGVkIHRvIGJ5IHRoZSByb290IGVudHJ5IHdpdGggYW4gaW5kZXhcbiAgIG9mIHRoZSBsb3cgcm9vdCBiaXRzIG9mIGh1ZmYuICBUaGlzIGlzIHNhdmVkIGluIGxvdyB0byBjaGVjayBmb3Igd2hlbiBhXG4gICBuZXcgc3ViLXRhYmxlIHNob3VsZCBiZSBzdGFydGVkLiAgZHJvcCBpcyB6ZXJvIHdoZW4gdGhlIHJvb3QgdGFibGUgaXNcbiAgIGJlaW5nIGZpbGxlZCwgYW5kIGRyb3AgaXMgcm9vdCB3aGVuIHN1Yi10YWJsZXMgYXJlIGJlaW5nIGZpbGxlZC5cblxuICAgV2hlbiBhIG5ldyBzdWItdGFibGUgaXMgbmVlZGVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gbG9vayBhaGVhZCBpbiB0aGVcbiAgIGNvZGUgbGVuZ3RocyB0byBkZXRlcm1pbmUgd2hhdCBzaXplIHN1Yi10YWJsZSBpcyBuZWVkZWQuICBUaGUgbGVuZ3RoXG4gICBjb3VudHMgYXJlIHVzZWQgZm9yIHRoaXMsIGFuZCBzbyBjb3VudFtdIGlzIGRlY3JlbWVudGVkIGFzIGNvZGVzIGFyZVxuICAgZW50ZXJlZCBpbiB0aGUgdGFibGVzLlxuXG4gICB1c2VkIGtlZXBzIHRyYWNrIG9mIGhvdyBtYW55IHRhYmxlIGVudHJpZXMgaGF2ZSBiZWVuIGFsbG9jYXRlZCBmcm9tIHRoZVxuICAgcHJvdmlkZWQgKnRhYmxlIHNwYWNlLiAgSXQgaXMgY2hlY2tlZCBmb3IgTEVOUyBhbmQgRElTVCB0YWJsZXMgYWdhaW5zdFxuICAgdGhlIGNvbnN0YW50cyBFTk9VR0hfTEVOUyBhbmQgRU5PVUdIX0RJU1RTIHRvIGd1YXJkIGFnYWluc3QgY2hhbmdlcyBpblxuICAgdGhlIGluaXRpYWwgcm9vdCB0YWJsZSBzaXplIGNvbnN0YW50cy4gIFNlZSB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiAgIHN5bSBpbmNyZW1lbnRzIHRocm91Z2ggYWxsIHN5bWJvbHMsIGFuZCB0aGUgbG9vcCB0ZXJtaW5hdGVzIHdoZW5cbiAgIGFsbCBjb2RlcyBvZiBsZW5ndGggbWF4LCBpLmUuIGFsbCBjb2RlcywgaGF2ZSBiZWVuIHByb2Nlc3NlZC4gIFRoaXNcbiAgIHJvdXRpbmUgcGVybWl0cyBpbmNvbXBsZXRlIGNvZGVzLCBzbyBhbm90aGVyIGxvb3AgYWZ0ZXIgdGhpcyBvbmUgZmlsbHNcbiAgIGluIHRoZSByZXN0IG9mIHRoZSBkZWNvZGluZyB0YWJsZXMgd2l0aCBpbnZhbGlkIGNvZGUgbWFya2Vycy5cbiAgICovXG5cbiAgLyogc2V0IHVwIGZvciBjb2RlIHR5cGUgKi9cbiAgLy8gcG9vciBtYW4gb3B0aW1pemF0aW9uIC0gdXNlIGlmLWVsc2UgaW5zdGVhZCBvZiBzd2l0Y2gsXG4gIC8vIHRvIGF2b2lkIGRlb3B0cyBpbiBvbGQgdjhcbiAgaWYgKHR5cGUgPT09IENPREVTKSB7XG4gICAgYmFzZSA9IGV4dHJhID0gd29yazsgICAgLyogZHVtbXkgdmFsdWUtLW5vdCB1c2VkICovXG4gICAgZW5kID0gMTk7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBMRU5TKSB7XG4gICAgYmFzZSA9IGxiYXNlO1xuICAgIGJhc2VfaW5kZXggLT0gMjU3O1xuICAgIGV4dHJhID0gbGV4dDtcbiAgICBleHRyYV9pbmRleCAtPSAyNTc7XG4gICAgZW5kID0gMjU2O1xuXG4gIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAvKiBESVNUUyAqL1xuICAgIGJhc2UgPSBkYmFzZTtcbiAgICBleHRyYSA9IGRleHQ7XG4gICAgZW5kID0gLTE7XG4gIH1cblxuICAvKiBpbml0aWFsaXplIG9wdHMgZm9yIGxvb3AgKi9cbiAgaHVmZiA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgKi9cbiAgc3ltID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgc3ltYm9sICovXG4gIGxlbiA9IG1pbjsgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIGxlbmd0aCAqL1xuICBuZXh0ID0gdGFibGVfaW5kZXg7ICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIHRvIGZpbGwgaW4gKi9cbiAgY3VyciA9IHJvb3Q7ICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgaW5kZXggYml0cyAqL1xuICBkcm9wID0gMDsgICAgICAgICAgICAgICAgICAgLyogY3VycmVudCBiaXRzIHRvIGRyb3AgZnJvbSBjb2RlIGZvciBpbmRleCAqL1xuICBsb3cgPSAtMTsgICAgICAgICAgICAgICAgICAgLyogdHJpZ2dlciBuZXcgc3ViLXRhYmxlIHdoZW4gbGVuID4gcm9vdCAqL1xuICB1c2VkID0gMSA8PCByb290OyAgICAgICAgICAvKiB1c2Ugcm9vdCB0YWJsZSBlbnRyaWVzICovXG4gIG1hc2sgPSB1c2VkIC0gMTsgICAgICAgICAgICAvKiBtYXNrIGZvciBjb21wYXJpbmcgbG93ICovXG5cbiAgLyogY2hlY2sgYXZhaWxhYmxlIHRhYmxlIHNwYWNlICovXG4gIGlmICgodHlwZSA9PT0gTEVOUyAmJiB1c2VkID4gRU5PVUdIX0xFTlMpIHx8XG4gICAgKHR5cGUgPT09IERJU1RTICYmIHVzZWQgPiBFTk9VR0hfRElTVFMpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKiBwcm9jZXNzIGFsbCBjb2RlcyBhbmQgbWFrZSB0YWJsZSBlbnRyaWVzICovXG4gIGZvciAoOzspIHtcbiAgICAvKiBjcmVhdGUgdGFibGUgZW50cnkgKi9cbiAgICBoZXJlX2JpdHMgPSBsZW4gLSBkcm9wO1xuICAgIGlmICh3b3JrW3N5bV0gPCBlbmQpIHtcbiAgICAgIGhlcmVfb3AgPSAwO1xuICAgICAgaGVyZV92YWwgPSB3b3JrW3N5bV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHdvcmtbc3ltXSA+IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IGV4dHJhW2V4dHJhX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICAgIGhlcmVfdmFsID0gYmFzZVtiYXNlX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBoZXJlX29wID0gMzIgKyA2NDsgICAgICAgICAvKiBlbmQgb2YgYmxvY2sgKi9cbiAgICAgIGhlcmVfdmFsID0gMDtcbiAgICB9XG5cbiAgICAvKiByZXBsaWNhdGUgZm9yIHRob3NlIGluZGljZXMgd2l0aCBsb3cgbGVuIGJpdHMgZXF1YWwgdG8gaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSBkcm9wKTtcbiAgICBmaWxsID0gMSA8PCBjdXJyO1xuICAgIG1pbiA9IGZpbGw7ICAgICAgICAgICAgICAgICAvKiBzYXZlIG9mZnNldCB0byBuZXh0IHRhYmxlICovXG4gICAgZG8ge1xuICAgICAgZmlsbCAtPSBpbmNyO1xuICAgICAgdGFibGVbbmV4dCArIChodWZmID4+IGRyb3ApICsgZmlsbF0gPSAoaGVyZV9iaXRzIDw8IDI0KSB8IChoZXJlX29wIDw8IDE2KSB8IGhlcmVfdmFsIHwwO1xuICAgIH0gd2hpbGUgKGZpbGwgIT09IDApO1xuXG4gICAgLyogYmFja3dhcmRzIGluY3JlbWVudCB0aGUgbGVuLWJpdCBjb2RlIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gMSk7XG4gICAgd2hpbGUgKGh1ZmYgJiBpbmNyKSB7XG4gICAgICBpbmNyID4+PSAxO1xuICAgIH1cbiAgICBpZiAoaW5jciAhPT0gMCkge1xuICAgICAgaHVmZiAmPSBpbmNyIC0gMTtcbiAgICAgIGh1ZmYgKz0gaW5jcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaHVmZiA9IDA7XG4gICAgfVxuXG4gICAgLyogZ28gdG8gbmV4dCBzeW1ib2wsIHVwZGF0ZSBjb3VudCwgbGVuICovXG4gICAgc3ltKys7XG4gICAgaWYgKC0tY291bnRbbGVuXSA9PT0gMCkge1xuICAgICAgaWYgKGxlbiA9PT0gbWF4KSB7IGJyZWFrOyB9XG4gICAgICBsZW4gPSBsZW5zW2xlbnNfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cblxuICAgIC8qIGNyZWF0ZSBuZXcgc3ViLXRhYmxlIGlmIG5lZWRlZCAqL1xuICAgIGlmIChsZW4gPiByb290ICYmIChodWZmICYgbWFzaykgIT09IGxvdykge1xuICAgICAgLyogaWYgZmlyc3QgdGltZSwgdHJhbnNpdGlvbiB0byBzdWItdGFibGVzICovXG4gICAgICBpZiAoZHJvcCA9PT0gMCkge1xuICAgICAgICBkcm9wID0gcm9vdDtcbiAgICAgIH1cblxuICAgICAgLyogaW5jcmVtZW50IHBhc3QgbGFzdCB0YWJsZSAqL1xuICAgICAgbmV4dCArPSBtaW47ICAgICAgICAgICAgLyogaGVyZSBtaW4gaXMgMSA8PCBjdXJyICovXG5cbiAgICAgIC8qIGRldGVybWluZSBsZW5ndGggb2YgbmV4dCB0YWJsZSAqL1xuICAgICAgY3VyciA9IGxlbiAtIGRyb3A7XG4gICAgICBsZWZ0ID0gMSA8PCBjdXJyO1xuICAgICAgd2hpbGUgKGN1cnIgKyBkcm9wIDwgbWF4KSB7XG4gICAgICAgIGxlZnQgLT0gY291bnRbY3VyciArIGRyb3BdO1xuICAgICAgICBpZiAobGVmdCA8PSAwKSB7IGJyZWFrOyB9XG4gICAgICAgIGN1cnIrKztcbiAgICAgICAgbGVmdCA8PD0gMTtcbiAgICAgIH1cblxuICAgICAgLyogY2hlY2sgZm9yIGVub3VnaCBzcGFjZSAqL1xuICAgICAgdXNlZCArPSAxIDw8IGN1cnI7XG4gICAgICBpZiAoKHR5cGUgPT09IExFTlMgJiYgdXNlZCA+IEVOT1VHSF9MRU5TKSB8fFxuICAgICAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIC8qIHBvaW50IGVudHJ5IGluIHJvb3QgdGFibGUgdG8gc3ViLXRhYmxlICovXG4gICAgICBsb3cgPSBodWZmICYgbWFzaztcbiAgICAgIC8qdGFibGUub3BbbG93XSA9IGN1cnI7XG4gICAgICB0YWJsZS5iaXRzW2xvd10gPSByb290O1xuICAgICAgdGFibGUudmFsW2xvd10gPSBuZXh0IC0gb3B0cy50YWJsZV9pbmRleDsqL1xuICAgICAgdGFibGVbbG93XSA9IChyb290IDw8IDI0KSB8IChjdXJyIDw8IDE2KSB8IChuZXh0IC0gdGFibGVfaW5kZXgpIHwwO1xuICAgIH1cbiAgfVxuXG4gIC8qIGZpbGwgaW4gcmVtYWluaW5nIHRhYmxlIGVudHJ5IGlmIGNvZGUgaXMgaW5jb21wbGV0ZSAoZ3VhcmFudGVlZCB0byBoYXZlXG4gICBhdCBtb3N0IG9uZSByZW1haW5pbmcgZW50cnksIHNpbmNlIGlmIHRoZSBjb2RlIGlzIGluY29tcGxldGUsIHRoZVxuICAgbWF4aW11bSBjb2RlIGxlbmd0aCB0aGF0IHdhcyBhbGxvd2VkIHRvIGdldCB0aGlzIGZhciBpcyBvbmUgYml0KSAqL1xuICBpZiAoaHVmZiAhPT0gMCkge1xuICAgIC8vdGFibGUub3BbbmV4dCArIGh1ZmZdID0gNjQ7ICAgICAgICAgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tuZXh0ICsgaHVmZl0gPSBsZW4gLSBkcm9wO1xuICAgIC8vdGFibGUudmFsW25leHQgKyBodWZmXSA9IDA7XG4gICAgdGFibGVbbmV4dCArIGh1ZmZdID0gKChsZW4gLSBkcm9wKSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwwO1xuICB9XG5cbiAgLyogc2V0IHJldHVybiBwYXJhbWV0ZXJzICovXG4gIC8vb3B0cy50YWJsZV9pbmRleCArPSB1c2VkO1xuICBvcHRzLmJpdHMgPSByb290O1xuICByZXR1cm4gMDtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBaU3RyZWFtKCkge1xuICAvKiBuZXh0IGlucHV0IGJ5dGUgKi9cbiAgdGhpcy5pbnB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X2luID0gMDtcbiAgLyogbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZSBhdCBpbnB1dCAqL1xuICB0aGlzLmF2YWlsX2luID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGlucHV0IGJ5dGVzIHJlYWQgc28gZmFyICovXG4gIHRoaXMudG90YWxfaW4gPSAwO1xuICAvKiBuZXh0IG91dHB1dCBieXRlIHNob3VsZCBiZSBwdXQgdGhlcmUgKi9cbiAgdGhpcy5vdXRwdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9vdXQgPSAwO1xuICAvKiByZW1haW5pbmcgZnJlZSBzcGFjZSBhdCBvdXRwdXQgKi9cbiAgdGhpcy5hdmFpbF9vdXQgPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgb3V0cHV0IHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX291dCA9IDA7XG4gIC8qIGxhc3QgZXJyb3IgbWVzc2FnZSwgTlVMTCBpZiBubyBlcnJvciAqL1xuICB0aGlzLm1zZyA9ICcnLypaX05VTEwqLztcbiAgLyogbm90IHZpc2libGUgYnkgYXBwbGljYXRpb25zICovXG4gIHRoaXMuc3RhdGUgPSBudWxsO1xuICAvKiBiZXN0IGd1ZXNzIGFib3V0IHRoZSBkYXRhIHR5cGU6IGJpbmFyeSBvciB0ZXh0ICovXG4gIHRoaXMuZGF0YV90eXBlID0gMi8qWl9VTktOT1dOKi87XG4gIC8qIGFkbGVyMzIgdmFsdWUgb2YgdGhlIHVuY29tcHJlc3NlZCBkYXRhICovXG4gIHRoaXMuYWRsZXIgPSAwO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qKlxuICogQHRoaXMge1Byb21pc2V9XG4gKi9cbmZ1bmN0aW9uIGZpbmFsbHlDb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICB2YXIgY29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmaW5hbGx5Q29uc3RydWN0b3I7XG4iLCJpbXBvcnQgcHJvbWlzZUZpbmFsbHkgZnJvbSAnLi9maW5hbGx5JztcblxuLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gcHJvbWlzZS1wb2x5ZmlsbCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbi8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxudmFyIHNldFRpbWVvdXRGdW5jID0gc2V0VGltZW91dDtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8vIFBvbHlmaWxsIGZvciBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO1xuICAvKiogQHR5cGUgeyFudW1iZXJ9ICovXG4gIHRoaXMuX3N0YXRlID0gMDtcbiAgLyoqIEB0eXBlIHshYm9vbGVhbn0gKi9cbiAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAvKiogQHR5cGUge1Byb21pc2V8dW5kZWZpbmVkfSAqL1xuICB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZDtcbiAgLyoqIEB0eXBlIHshQXJyYXk8IUZ1bmN0aW9uPn0gKi9cbiAgdGhpcy5fZGVmZXJyZWRzID0gW107XG5cbiAgZG9SZXNvbHZlKGZuLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlKHNlbGYsIGRlZmVycmVkKSB7XG4gIHdoaWxlIChzZWxmLl9zdGF0ZSA9PT0gMykge1xuICAgIHNlbGYgPSBzZWxmLl92YWx1ZTtcbiAgfVxuICBpZiAoc2VsZi5fc3RhdGUgPT09IDApIHtcbiAgICBzZWxmLl9kZWZlcnJlZHMucHVzaChkZWZlcnJlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX2hhbmRsZWQgPSB0cnVlO1xuICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICB2YXIgY2IgPSBzZWxmLl9zdGF0ZSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgIChzZWxmLl9zdGF0ZSA9PT0gMSA/IHJlc29sdmUgOiByZWplY3QpKGRlZmVycmVkLnByb21pc2UsIHNlbGYuX3ZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB0cnkge1xuICAgICAgcmV0ID0gY2Ioc2VsZi5fdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShzZWxmLCBuZXdWYWx1ZSkge1xuICB0cnkge1xuICAgIC8vIFByb21pc2UgUmVzb2x1dGlvbiBQcm9jZWR1cmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICBpZiAoXG4gICAgICBuZXdWYWx1ZSAmJlxuICAgICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICkge1xuICAgICAgdmFyIHRoZW4gPSBuZXdWYWx1ZS50aGVuO1xuICAgICAgaWYgKG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBzZWxmLl9zdGF0ZSA9IDM7XG4gICAgICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkb1Jlc29sdmUoYmluZCh0aGVuLCBuZXdWYWx1ZSksIHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuX3N0YXRlID0gMTtcbiAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGZpbmFsZShzZWxmKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChzZWxmLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fc3RhdGUgPSAyO1xuICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICBmaW5hbGUoc2VsZik7XG59XG5cbmZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMiAmJiBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoID09PSAwKSB7XG4gICAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXNlbGYuX2hhbmRsZWQpIHtcbiAgICAgICAgUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oc2VsZi5fdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbGYuX2RlZmVycmVkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGhhbmRsZShzZWxmLCBzZWxmLl9kZWZlcnJlZHNbaV0pO1xuICB9XG4gIHNlbGYuX2RlZmVycmVkcyA9IG51bGw7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2UpIHtcbiAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHNlbGYpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBmbihcbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvbHZlKHNlbGYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZWplY3Qoc2VsZiwgZXgpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgdmFyIHByb20gPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBoYW5kbGUodGhpcywgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb20pKTtcbiAgcmV0dXJuIHByb207XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gcHJvbWlzZUZpbmFsbHk7XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWFyciB8fCB0eXBlb2YgYXJyLmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5Jyk7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZWplY3QoZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVqZWN0KHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhbHVlc1tpXS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFVzZSBwb2x5ZmlsbCBmb3Igc2V0SW1tZWRpYXRlIGZvciBwZXJmb3JtYW5jZSBnYWluc1xuUHJvbWlzZS5faW1tZWRpYXRlRm4gPVxuICAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGZ1bmN0aW9uKGZuKSB7XG4gICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH0pIHx8XG4gIGZ1bmN0aW9uKGZuKSB7XG4gICAgc2V0VGltZW91dEZ1bmMoZm4sIDApO1xuICB9O1xuXG5Qcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIF91bmhhbmRsZWRSZWplY3Rpb25GbihlcnIpIHtcbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb21pc2U7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsInNlbGYuZmV0Y2h8fChzZWxmLmZldGNoPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG49bnx8e30sbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXt2YXIgcz1uZXcgWE1MSHR0cFJlcXVlc3Q7Zm9yKHZhciBvIGluIHMub3BlbihuLm1ldGhvZHx8XCJnZXRcIixlLCEwKSxuLmhlYWRlcnMpcy5zZXRSZXF1ZXN0SGVhZGVyKG8sbi5oZWFkZXJzW29dKTtmdW5jdGlvbiB1KCl7dmFyIGUsbj1bXSx0PVtdLHI9e307cmV0dXJuIHMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLGZ1bmN0aW9uKHMsbyx1KXtuLnB1c2gobz1vLnRvTG93ZXJDYXNlKCkpLHQucHVzaChbbyx1XSkscltvXT0oZT1yW29dKT9lK1wiLFwiK3U6dX0pLHtvazoyPT0ocy5zdGF0dXMvMTAwfDApLHN0YXR1czpzLnN0YXR1cyxzdGF0dXNUZXh0OnMuc3RhdHVzVGV4dCx1cmw6cy5yZXNwb25zZVVSTCxjbG9uZTp1LHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUocy5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSl9LGJsb2I6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFtzLnJlc3BvbnNlXSkpfSxoZWFkZXJzOntrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiByW2UudG9Mb3dlckNhc2UoKV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpaW4gcn19fX1zLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09bi5jcmVkZW50aWFscyxzLm9ubG9hZD1mdW5jdGlvbigpe3QodSgpKX0scy5vbmVycm9yPXIscy5zZW5kKG4uYm9keXx8bnVsbCl9KX0pO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLy8gUGxheSBBdWRpbyB3aXRoIE1lZGlhU291cmNlIGV4dGVuc2lvbnMgcmVjZWl2ZWQgb3ZlciBhIHdlYnNvY2tldFxudmFyIE9QVVNfTUlNRV9UWVBFID0gJ2F1ZGlvL3dlYm07IGNvZGVjcz1cIm9wdXNcIic7XG52YXIgTVAzX01JTUVfVFlQRSA9ICdhdWRpby9tcGVnJztcblxuLy8gVGhpcyByZXByZXNlbnRzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgdHlwZXMgYXJlIHRyaWVkXG5jb25zdCBBVURJT19UWVBFUyA9IFtcbiAge1wiaWRcIjogXCJtcDNcIixcbiAgICBcInR5cGVcIjogTVAzX01JTUVfVFlQRX0sXG5cbiAge1wiaWRcIjogXCJvcHVzXCIsXG4gICAgXCJ0eXBlXCI6IE9QVVNfTUlNRV9UWVBFfSxcbl07XG5cbmV4cG9ydCB7Z2V0QmVzdEF1ZGlvVHlwZSwgV1NBdWRpb307XG5cblxuZnVuY3Rpb24gZ2V0QmVzdEF1ZGlvVHlwZSgpIHtcbiAgaWYgKHdpbmRvdy5NZWRpYVNvdXJjZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQVVESU9fVFlQRVMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKEFVRElPX1RZUEVTW2ldLnR5cGUpKSB7XG4gICAgICAgIHJldHVybiBBVURJT19UWVBFU1tpXS5pZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gV1NBdWRpbyAoYnJvd3Nlcl9pbmZvLCBpbml0X3BhcmFtcykge1xuICBpbml0X3BhcmFtcyA9IGluaXRfcGFyYW1zIHx8IHt9O1xuXG4gIHZhciBNQVhfQlVGRkVSUyA9IDI1MDtcbiAgdmFyIE1JTl9TVEFSVF9CVUZGRVJTID0gMTA7XG5cbiAgdmFyIG1pbkxhdGVuY3kgPSAwLjI7IC8vIDIwMG1zXG4gIHZhciBtYXhMYXRlbmN5ID0gMC41ICAvLyA1MDBtc1xuICB0aGlzLmxhdGVuY3lDaGVjayA9IG51bGw7XG5cbiAgdGhpcy53cyA9IG51bGw7XG4gIHRoaXMud3NfdXJsID0gbnVsbDtcblxuICB0aGlzLmVyckNvdW50ID0gMDtcblxuICB0aGlzLmFsbG93QXBwZW5kID0gZmFsc2U7XG5cbiAgdGhpcy5hdWRpbyA9IG51bGw7XG4gIHRoaXMuYXVkaW9fbWltZSA9IG51bGw7XG4gIHRoaXMubWVkaWFzb3VyY2UgPSBudWxsO1xuICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgdGhpcy5idWZmUSA9IFtdO1xuICB0aGlzLmJ1ZmZDb3VudCA9IDA7XG4gIHRoaXMuYnVmZlNpemUgPSAwO1xuXG4gIHRoaXMuZ2V0X2F1ZGlvX21pbWUgPSBmdW5jdGlvbihicm93c2VyX2luZm8pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEFVRElPX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoQVVESU9fVFlQRVNbaV0uaWQgPT0gYnJvd3Nlcl9pbmZvLmF1ZGlvKSB7XG4gICAgICAgIHJldHVybiBBVURJT19UWVBFU1tpXS50eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gbm90IGluaXRlZCwgdW5rbm93biBhdWRpbyB0eXBlOiBcIiArIGJyb3dzZXJfaW5mby5hdWRpbyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0aGlzLmdldF93c191cmwgPSBmdW5jdGlvbihicm93c2VyX2luZm8pIHtcbiAgICB2YXIgd3NfdXJsID0gKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PSBcImh0dHBzOlwiID8gXCJ3c3M6XCIgOiBcIndzOlwiKTtcbiAgICB3c191cmwgKz0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuXG4gICAgdmFyIGF1ZGlvX3BvcnQgPSBicm93c2VyX2luZm8uY21kX3BvcnQ7XG5cbiAgICBpZiAoaW5pdF9wYXJhbXMucHJveHlfd3MpIHtcbiAgICAgIHdzX3VybCArPSBcIi9cIiArIGluaXRfcGFyYW1zLnByb3h5X3dzICsgYXVkaW9fcG9ydDtcbiAgICB9IGVsc2Uge1xuICAgICAgd3NfdXJsICs9IFwiOlwiICsgYXVkaW9fcG9ydCArIFwiL2F1ZGlvX3dzXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdzX3VybDtcbiAgfVxuXG5cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmF1ZGlvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmF1ZGlvX21pbWUgPSB0aGlzLmdldF9hdWRpb19taW1lKGJyb3dzZXJfaW5mbyk7XG4gICAgdGhpcy53c191cmwgPSB0aGlzLmdldF93c191cmwoYnJvd3Nlcl9pbmZvKTtcblxuICAgIGlmICghdGhpcy5hdWRpb19taW1lKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5sYXRlbmN5Q2hlY2sgPSBzZXRJbnRlcnZhbCh0aGlzLmxhdGVuY3lDb250cm9sbGVyLmJpbmQodGhpcyksIDI1MCk7XG5cbiAgICB0aGlzLm1lZGlhc291cmNlID0gbmV3IE1lZGlhU291cmNlKCk7XG4gICAgdGhpcy5tZWRpYXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwic291cmNlb3BlblwiLCB0aGlzLnNvdXJjZU9wZW4uYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLm1lZGlhc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcIk1lZGlhU291cmNlIEVycm9yXCIsIGV2ZW50KTtcbiAgICB9KS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICB0aGlzLmF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tZWRpYXNvdXJjZSk7XG4gICAgdGhpcy5hdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgdGhpcy5hdWRpby5sb2FkKCk7XG4gICAgdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2goZnVuY3Rpb24oKSB7IH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aGlzLnNvdXJjZU9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5tZWRpYXNvdXJjZS5zb3VyY2VCdWZmZXJzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coXCJzb3VyY2UgYWxyZWFkeSBvcGVuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGJ1ZmZlciA9IHRoaXMubWVkaWFzb3VyY2UuYWRkU291cmNlQnVmZmVyKHRoaXMuYXVkaW9fbWltZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJPcGVuaW5nIFNvdXJjZSBFcnJvcjogXCIgKyBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidWZmZXIubW9kZSA9IFwic2VxdWVuY2VcIjtcbiAgICAvL2J1ZmZlci50aW1lc3RhbXBPZmZzZXQgPSAwO1xuXG4gICAgYnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcImJ1ZmZlciBlcnJvcjogXCIgKyAodGhpcy5idWZmQ291bnQpLCBldmVudCk7XG4gICAgfSkuYmluZCh0aGlzKSk7XG5cbiAgICBidWZmZXIuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWVuZFwiLCB0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmFsbG93QXBwZW5kID0gdHJ1ZTtcblxuICAgIHRoaXMuaW5pdFdzKCk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBBdWRpb1wiKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMubGF0ZW5jeUNoZWNrKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5sYXRlbmN5Q2hlY2spO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZWRpYXNvdXJjZSkge1xuICAgICAgICB0aGlzLm1lZGlhc291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhc291cmNlLnJlYWR5U3RhdGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICB0aGlzLm1lZGlhc291cmNlLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvciBDbG9zaW5nOiBcIiArIGUpO1xuICAgIH1cbiAgICB0aGlzLm1lZGlhc291cmNlID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5hdWRpbykge1xuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmF1ZGlvID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIENsb3Npbmc6IFwiICsgZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyB3ZWJzb2NrZXRcIik7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICB9IGNhdGNoKGUpIHt9XG5cbiAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubWVyZ2VCdWZmZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1lcmdlZDtcblxuICAgIGlmICh0aGlzLmJ1ZmZRLmxlbmd0aCA9PSAxKSB7XG4gICAgICBtZXJnZWQgPSB0aGlzLmJ1ZmZRWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZTaXplKTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYnVmZlEubGVuZ3RoO1xuICAgICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnIgPSB0aGlzLmJ1ZmZRW2ldO1xuICAgICAgICBpZiAoY3Vyci5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlZC5zZXQoY3Vyciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGN1cnIubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYnVmZlEgPSBbXTtcbiAgICB0aGlzLmJ1ZmZDb3VudCsrO1xuICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cblxuICB0aGlzLm9uVXBkYXRlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hbGxvd0FwcGVuZCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVOZXh0KCk7XG4gIH1cblxuICB0aGlzLnVwZGF0ZU5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYnVmZlEubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBtZXJnZWQgPSB0aGlzLm1lcmdlQnVmZmVycygpO1xuICAgICAgdGhpcy5idWZmZXIuYXBwZW5kQnVmZmVyKG1lcmdlZCk7XG4gICAgICB0aGlzLmFsbG93QXBwZW5kID0gZmFsc2U7XG4gICAgICB0aGlzLmJ1ZmZTaXplIC09IG1lcmdlZC5sZW5ndGg7XG4gICAgICB0aGlzLmVyckNvdW50ID0gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJFcnJvciBBZGRpbmcgQnVmZmVyOiBcIiArIGUpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjaGVjayBmb3IgbGF0ZW5jeSBhbmQgc2VlayBmb3J3YXJkIGlmIG5lY2Vzc2FyeVxuICAgIHRyeSB7XG4gICAgICB2YXIgbGF0ZW5jeSA9IHRoaXMuYXVkaW8uYnVmZmVyZWQuZW5kKDApIC0gdGhpcy5hdWRpby5jdXJyZW50VGltZTtcbiAgICAgIGlmIChsYXRlbmN5ID4gbWF4TGF0ZW5jeSkge1xuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy5hdWRpby5idWZmZXJlZC5lbmQoMCkgLSBtaW5MYXRlbmN5O1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGhhcyBiZWVuIHNlZWtlZCBieSBcIiwgTWF0aC5yb3VuZCgobGF0ZW5jeSAtIG1pbkxhdGVuY3kpICogMTAwMCksIFwiIG1zXCIpO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaChlKSB7XG5cbiAgICB9XG4gIH1cblxuICB0aGlzLmF1ZGlvRXJyb3IgPSBmdW5jdGlvbihtc2csIGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYXVkaW8gJiYgdGhpcy5hdWRpby5lcnJvcikge1xuICAgICAgY29uc29sZS5sb2cobXNnKTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXVkaW8uZXJyb3IpO1xuICAgICAgLy9jb25zb2xlLmxvZyhcIm51bSBwcm9jZXNzZWQ6IFwiICsgdGhpcy5idWZmQ291bnQpO1xuICAgICAgdGhpcy5lcnJDb3VudCArPSAxO1xuICAgICAgLy9pZiAodGhpcy5lcnJDb3VudCA9PSAxKSB7XG4gICAgICAvLyAgICBzZXRUaW1lb3V0KHJlc3RhcnRBdWRpbywgMzAwMCk7XG4gICAgICAvL31cbiAgICB9XG4gIH1cblxuICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgLypcbiAgICBpZiAodGhpcy5idWZmU2l6ZSA+IDIwMDAwMCkge1xuICAgICAgICBpZiAodGhpcy5idWZmQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5idWZmUS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5idWZmU2l6ZSAtPSByZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkcm9wcGluZyBvbGQgYnVmZmVyc1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGRyb3AgdGhlIHN0YXJ0aW5nIGJ1ZmZlcnNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHJvcHBpbmcgbmV3IGJ1ZmZlcnNcIik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqL1xuXG4gICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICB0aGlzLmJ1ZmZRLnB1c2goYnVmZmVyKTtcbiAgICB0aGlzLmJ1ZmZTaXplICs9IGJ1ZmZlci5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5hbGxvd0FwcGVuZCkge1xuICAgICAgdGhpcy51cGRhdGVOZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5pbml0V3MgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy53c191cmwsIFwiYmluYXJ5XCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcIldTIE9wZW4gRmFpbGVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCB3c19vcGVuLmJpbmQodGhpcykpO1xuICAgIHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHdzX2Nsb3NlLmJpbmQodGhpcykpO1xuICAgIHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgd3NfbWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd3NfZXJyb3IuYmluZCh0aGlzKSk7XG4gIH1cblxuICB2YXIgd3Nfb3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy90aGlzLnNlbmQoXCJyZWFkeVwiKTtcbiAgfVxuXG4gIHZhciB3c19tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5lcnJDb3VudCA9PSAwKSB7XG4gICAgICB0aGlzLnF1ZXVlKGV2ZW50LmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB3c19lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYXVkaW9FcnJvcihcIldTIEVycm9yXCIpO1xuICB9XG5cbiAgdmFyIHdzX2Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hdWRpb0Vycm9yKFwiV1MgQ2xvc2VcIik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcblxuICAvL3JldHVybiB7XCJzdGFydFwiOiBzdGFydCxcbiAgLy8gICAgICAgIFwic3RvcFwiOiBzdG9wLFxuICAvLyAgICAgICAgXCJyZXN0YXJ0XCI6IHJlc3RhcnRBdWRpbyxcbiAgLy8gICAgICAgIFwiZ2V0QXVkaW9cIjogZnVuY3Rpb24gKCkge3JldHVybiAgYXVkaW9XUy5hdWRpbzt9LFxuICAvL31cbn07XG5cblxuXG5cbiIsImV4cG9ydCB7V2ViUlRDQXVkaW99O1xuXG5cbmZ1bmN0aW9uIFdlYlJUQ0F1ZGlvKHBlZXJfaWQsIGRhdGEpIHtcblxuICBsZXQgZGVidWcgPSB0cnVlO1xuICBsZXQgc2VydmVyUmVmbHggPSB0cnVlO1xuICBsZXQgYXVkaW8gPSBudWxsO1xuICBsZXQgY29ubmVjdF9hdHRlbXB0cyA9IDA7XG4gIGxldCBwZWVyX2Nvbm5lY3Rpb247XG4gIGxldCB3c19jb25uO1xuXG4gIGxldCBjYW5kX2NvdW50ID0gMTtcbiAgbGV0IExPQ0FMX1BPUlQgPSAxMDIzNTtcblxuICBsZXQgcmVtb3RlX2lwcyA9IFtdO1xuXG4gIC8vIHNldHVwIHBvc3NpYmxlIHJlbW90ZSBpcHMgYmFzZWQgb24gaG9zdG5hbWUgb3Igc3BlY2lmaWVkIElQXG4gIGlmIChkYXRhLndlYnJ0Y0hvc3RJUCkge1xuICAgIHJlbW90ZV9pcHMucHVzaChkYXRhLndlYnJ0Y0hvc3RJUCk7XG4gIH1cblxuICBnZXRMb2NhbElQcygpO1xuXG4gIGlmICghcmVtb3RlX2lwcy5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpKSB7XG4gICAgcmVtb3RlX2lwcy5wdXNoKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIH1cblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGF1ZGlvKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImFscmVhZHkgc3RhcnRlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgIHRoaXMuYXVkaW8gPSBhdWRpbztcbiAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgYXVkaW8ucGxheSgpLmNhdGNoKChlcnIpID0+IHNldEVycm9yKFwiYXVkaW8ucGxheSgpIGVycm9yOiBcIiArIGVycikpO1xuXG4gICAgY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyKCkge1xuICAgIGNvbm5lY3RfYXR0ZW1wdHMrKztcbiAgICBpZiAoY29ubmVjdF9hdHRlbXB0cyA+IDEwMCkge1xuICAgICAgc2V0RXJyb3IoXCJUb28gbWFueSBjb25uZWN0aW9uIGF0dGVtcHRzLCBhYm9ydGluZy4gUmVmcmVzaCBwYWdlIHRvIHRyeSBhZ2FpblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCB0aGUgcGVlciBpZCB0byB1c2VcbiAgICBsZXQgcGVlcl9pZCA9IGdldFBlZXJJZCgpO1xuICAgIGxldCB3c191cmwgPSBnZXRTaWduYWxsaW5nU2VydmVyKCk7XG4gICAgc2V0U3RhdHVzKFwiQ29ubmVjdGluZyB0byBzZXJ2ZXIgXCIgKyB3c191cmwgKyBcIiwgYXR0ZW1wdD0gXCIgKyBjb25uZWN0X2F0dGVtcHRzKTtcbiAgICB3c19jb25uID0gbmV3IFdlYlNvY2tldCh3c191cmwpO1xuICAgIC8qIFdoZW4gY29ubmVjdGVkLCBpbW1lZGlhdGVseSByZWdpc3RlciB3aXRoIHRoZSBzZXJ2ZXIgKi9cbiAgICB3c19jb25uLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICB3c19jb25uLnNlbmQoJ0hFTExPICcgKyBwZWVyX2lkKTtcbiAgICAgIHNldFN0YXR1cyhcIlJlZ2lzdGVyaW5nIHdpdGggc2VydmVyLCBwZWVyLWlkID0gXCIgKyBwZWVyX2lkKTtcbiAgICB9KTtcblxuICAgIHdzX2Nvbm4uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvblNlcnZlckVycm9yKTtcbiAgICB3c19jb25uLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvblNlcnZlck1lc3NhZ2UpO1xuICAgIHdzX2Nvbm4uYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBvblNlcnZlckNsb3NlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBlZXJJZCgpIHtcbiAgICByZXR1cm4gcGVlcl9pZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNpZ25hbGxpbmdTZXJ2ZXIoKSB7XG4gICAgbGV0IHdzX3VybCA9ICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIgPyBcIndzczovL1wiIDogXCJ3czovL1wiKTtcbiAgICB3c191cmwgKz0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuXG4gICAgdmFyIGF1ZGlvX3BvcnQgPSBkYXRhLnBvcnRzLmNtZF9wb3J0O1xuXG4gICAgaWYgKGRhdGEucHJveHlfd3MpIHtcbiAgICAgIHdzX3VybCArPSBcIi9cIiArIGRhdGEucHJveHlfd3MgKyBhdWRpb19wb3J0O1xuICAgIH0gZWxzZSB7XG4gICAgICB3c191cmwgKz0gXCI6XCIgKyBhdWRpb19wb3J0ICsgXCIvYXVkaW9fd3NcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gd3NfdXJsO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TZXJ2ZXJFcnJvcigpIHtcbiAgICBzZXRFcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHNlcnZlciwgZGlkIHlvdSBhZGQgYW4gZXhjZXB0aW9uIGZvciB0aGUgY2VydGlmaWNhdGU/XCIpO1xuICAgIC8vIFJldHJ5IGFmdGVyIDMgc2Vjb25kc1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNvbm5lY3RUb1NpZ25hbGluZ1NlcnZlciwgMzAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVJbmNvbWluZ0Vycm9yKG1lc3NhZ2UpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaGFuZGxlSW5jb21pbmdFcnJvcjogXCIgKyBtZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlck1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgZnJvbSB3ZWJzb2NrZXQgXCIgKyBldmVudC5kYXRhKTtcbiAgICB9XG4gICAgbGV0IG1zZztcbiAgICBzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcbiAgICAgIGNhc2UgXCJIRUxMT1wiOlxuICAgICAgICBzZXRTdGF0dXMoXCJSZWdpc3RlcmVkIHdpdGggc2VydmVyLCB3YWl0aW5nIGZvciBjYWxsXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zdGFydHNXaXRoKFwiRVJST1JcIikpIHtcbiAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgaW5jb21pbmcgSlNPTiBTRFAgYW5kIElDRSBtZXNzYWdlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1zZyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyBpbmNvbWluZyBKU09OOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiVW5rbm93biBlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmNvbWluZyBKU09OIHNpZ25hbHMgdGhlIGJlZ2lubmluZyBvZiBhIGNhbGxcbiAgICAgICAgaWYgKCFwZWVyX2Nvbm5lY3Rpb24pXG4gICAgICAgICAgY3JlYXRlQ2FsbChtc2cpO1xuXG4gICAgICAgIGlmIChtc2cuc2RwICE9IG51bGwpIHtcbiAgICAgICAgICBvbkluY29taW5nU0RQKG1zZy5zZHApO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5pY2UgIT0gbnVsbCkge1xuICAgICAgICAgIG9uSW5jb21pbmdJQ0UobXNnLmljZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlSW5jb21pbmdFcnJvcihcIlVua25vd24gaW5jb21pbmcgSlNPTjogXCIgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TG9jYWxJUHMoKSB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPSBcImxvY2FsaG9zdFwiICYmXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPSBcIjEyNy4wLjAuMVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFyZW1vdGVfaXBzLmluY2x1ZGVzKFwiMTI3LjAuMC4xXCIpKSB7XG4gICAgICByZW1vdGVfaXBzLnB1c2goXCIxMjcuMC4wLjFcIik7XG4gICAgfVxuXG4gICAgdmFyIHBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOiBbXX0pO1xuICAgIHBjLmNyZWF0ZURhdGFDaGFubmVsKFwiXCIpO1xuICAgIHBjLm9uaWNlY2FuZGlkYXRlID0gZnVuY3Rpb24oaWNlKSB7XG4gICAgICBpZiAoIWljZSB8fCAhaWNlLmNhbmRpZGF0ZSB8fCAhaWNlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpIHtcbiAgICAgICAgcGMuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFydHMgPSBpY2UuY2FuZGlkYXRlLmNhbmRpZGF0ZS5zcGxpdChcIiBcIik7XG4gICAgICBpZiAoIXJlbW90ZV9pcHMuaW5jbHVkZXMocGFydHNbNF0pKSB7XG4gICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGV0ZWN0ZWQgTG9jYWwgSVA6IFwiICsgcGFydHNbNF0pO1xuICAgICAgICB9XG4gICAgICAgIHJlbW90ZV9pcHMucHVzaChwYXJ0c1s0XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGMuY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86IGZhbHNlLCBvZmZlclRvUmVjZWl2ZVZpZGVvOiBmYWxzZX0pLnRoZW4oZnVuY3Rpb24oaWNlKSB7XG4gICAgICBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKGljZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEljZUNhbmRpZGF0ZShwYXJ0cywgaWNlLCBob3N0SVApIHtcbiAgICBwYXJ0c1swXSA9IFwiY2FuZGlkYXRlOlwiICsgKGNhbmRfY291bnQrKyk7XG4gICAgcGFydHNbNF0gPSBob3N0SVA7XG5cbiAgICBpZiAoc2VydmVyUmVmbHgpIHtcbiAgICAgIHBhcnRzWzddID0gXCJzcmZseFwiO1xuICAgICAgcGFydHMuc3BsaWNlKDgsIDAsIFwicmFkZHJcIiwgaG9zdElQLCBcInJwb3J0XCIsIHBhcnRzWzVdKTtcbiAgICB9XG5cbiAgICBpY2UuY2FuZGlkYXRlID0gcGFydHMuam9pbihcIiBcIik7XG5cbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGljZSkpO1xuICAgIH1cblxuICAgIGxldCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGljZSk7XG4gICAgcGVlcl9jb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpLmNhdGNoKCgpID0+IHNldEVycm9yKFwiRXJyb3IgYWRkaW5nIGljZSBjYW5kaWRhdGVcIikpO1xuICB9XG5cbiAgLy8gSUNFIGNhbmRpZGF0ZSByZWNlaXZlZCBmcm9tIHBlZXIsIGFkZCBpdCB0byB0aGUgcGVlciBjb25uZWN0aW9uXG4gIGZ1bmN0aW9uIG9uSW5jb21pbmdJQ0UoaWNlKSB7XG4gICAgdmFyIHBhcnRzID0gaWNlLmNhbmRpZGF0ZS5zcGxpdChcIiBcIik7XG5cbiAgICBpZiAocGFydHNbMV0gPT0gXCIyXCIpIHtcbiAgICAgIC8vIHNraXBwaW5nIHJ0Y3BcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFydHNbNV0gIT0gTE9DQUxfUE9SVCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJ0c1syXSA9PSBcIlRDUFwiKSB7XG4gICAgICBwYXJ0c1s1XSA9IGRhdGEucG9ydHMuaWNlX3RjcF9wb3J0O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0c1s1XSA9IGRhdGEucG9ydHMuaWNlX3VkcF9wb3J0O1xuICAgIH1cblxuICAgIGlmIChkZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJSZW1vdGUgSVBzOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlbW90ZV9pcHMpKTtcbiAgICB9XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggYWxsIGtub3duIHJlbW90ZSBpcHNcbiAgICByZW1vdGVfaXBzLmZvckVhY2goZnVuY3Rpb24oaXApIHtcbiAgICAgIGJ1aWxkSWNlQ2FuZGlkYXRlKHBhcnRzLCBpY2UsIGlwKTtcbiAgICAgIC8vIGxvd2VyIHByaW9yaXR5IGZvciBlYWNoIGFkZGl0aW9uYWwgY2FuZGlkYXRlXG4gICAgICBwYXJ0c1szXSA9IChwYXJzZUludChwYXJ0c1szXSkgLSAxKSArIFwiXCI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlckNsb3NlKGV2ZW50KSB7XG4gICAgc2V0U3RhdHVzKCdEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIgd2l0aCBjb2RlPScgKyBldmVudC5jb2RlICsgJyByZWFzb249JyArIGV2ZW50LnJlYXNvbik7XG4gICAgcmVzZXRBdWRpbygpO1xuICAgIGRpc2Nvbm5lY3RXZWJzb2NrZXQoKTtcblxuICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAyKSB7XG4gICAgICAvLyBSZXNldCBhZnRlciBhIHNlY29uZFxuICAgICAgd2luZG93LnNldFRpbWVvdXQoY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyLCAyMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbm5lY3RfYXR0ZW1wdHMgPCA1KSB7XG4gICAgICAgIC8vIFJldHJpZXZlIHRvIGNvbm5lY3QgdXAgdG8gNSB0aW1lcyAocGVlci1pZCBtaWdodCBiZSBpbiBjb25mbGljdCBpZiBpbml0X2Jyb3dzZXIgaXMgY2FsbGVkIGFnYWluKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjb25uZWN0VG9TaWduYWxpbmdTZXJ2ZXIsIDIwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFN0YXR1cyhzdGF0dXMpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV2ViUlRDLXN0YXR1czpcIiArIHN0YXR1cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0RXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV2ViUlRDLWVycm9yOiBcIiArIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkluY29taW5nU0RQKHNkcCkge1xuICAgIHBlZXJfY29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihzZHApLnRoZW4oKCkgPT4ge1xuICAgICAgc2V0U3RhdHVzKFwiUmVtb3RlIFNEUCBzZXRcIik7XG4gICAgICBpZiAoc2RwLnR5cGUgIT09IFwib2ZmZXJcIilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc2V0U3RhdHVzKFwiR290IFNEUCBvZmZlclwiKTtcbiAgICAgIHBlZXJfY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKVxuICAgICAgICAudGhlbihvbkxvY2FsRGVzY3JpcHRpb24pLmNhdGNoKCgpID0+IHNldEVycm9yKFwiRXJyb3Igc2V0dGluZyBsb2NhbCBkZXNjcmlwdGlvblwiKSk7XG4gICAgfSkuY2F0Y2goKCkgPT4gc2V0RXJyb3IoXCJFcnJvciBzZXR0aW5nIHJlbW90ZSBkZXNjcmlwdGlvblwiKSk7XG4gIH1cblxuICAvLyBMb2NhbCBkZXNjcmlwdGlvbiB3YXMgc2V0LCBzZW5kIGl0IHRvIHBlZXJcbiAgZnVuY3Rpb24gb25Mb2NhbERlc2NyaXB0aW9uKGRlc2MpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR290IGxvY2FsIGRlc2NyaXB0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KGRlc2MpKTtcbiAgICB9XG4gICAgcGVlcl9jb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZGVzYykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIHNldFN0YXR1cyhcIlNlbmRpbmcgU0RQIGFuc3dlclwiKTtcbiAgICAgIGxldCBzZHAgPSBKU09OLnN0cmluZ2lmeSh7J3NkcCc6IHBlZXJfY29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9ufSk7XG4gICAgICB3c19jb25uLnNlbmQoc2RwKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmVzZXRBdWRpbygpIHtcbiAgICAvLyBSZXNldCB0aGUgYXVkaW8gZWxlbWVudCBhbmQgc3RvcCBzaG93aW5nIHRoZSBsYXN0IHJlY2VpdmVkIGZyYW1lXG4gICAgdHJ5IHtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJyZXNldEF1ZGlvIGVycm9yIFwiICsgZSk7XG4gICAgfVxuXG4gIH1cblxuICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0U3RhdHVzKFwiQ2xvc2luZyBXZWJSVEMgYXVkaW8gY29ubmVjdGlvblwiKTtcbiAgICBkaXNjb25uZWN0V2Vic29ja2V0KCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdFdlYnNvY2tldCgpIHtcbiAgICBpZiAod3NfY29ubikge1xuICAgICAgc2V0U3RhdHVzKFwiZGlzY29ubmVjdCB3ZWJzb2NrZXRcIik7XG4gICAgICB3c19jb25uLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKHBlZXJfY29ubmVjdGlvbikge1xuICAgICAgc2V0U3RhdHVzKFwiZGlzY29ubmVjdCBwZWVyXCIpO1xuICAgICAgcGVlcl9jb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICBwZWVyX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhbGwoKSB7XG4gICAgLy8gUmVzZXQgY29ubmVjdGlvbiBhdHRlbXB0cyBiZWNhdXNlIHdlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHlcbiAgICBjb25uZWN0X2F0dGVtcHRzID0gMDtcblxuICAgIHBlZXJfY29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihnZXRSdGNQZWVyQ29uZmlndXJhdGlvbigpKTtcbiAgICBwZWVyX2Nvbm5lY3Rpb24ub250cmFjayA9IG9uUmVtb3RlVHJhY2tBZGRlZDtcblxuICAgIC8qIFNlbmQgb3VyIHZpZGVvL2F1ZGlvIHRvIHRoZSBvdGhlciBwZWVyICovXG4gICAgLy9pZiAoIW1zZy5zZHApIHtcbiAgICAvLyAgY29uc29sZS5sb2coXCJXQVJOSU5HOiBGaXJzdCBtZXNzYWdlIHdhc24ndCBhbiBTRFAgbWVzc2FnZSE/XCIpO1xuICAgIC8vfVxuICAgIGxldCBhbnlTZW50ID0gMDtcblxuICAgIHBlZXJfY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgLy8gV2UgaGF2ZSBhIGNhbmRpZGF0ZSwgc2VuZCBpdCB0byB0aGUgcmVtb3RlIHBhcnR5IHdpdGggdGhlXG4gICAgICAvLyBzYW1lIHV1aWRcbiAgICAgIGxldCBjYW5kaWRhdGUgPSBldmVudC5jYW5kaWRhdGU7XG5cbiAgICAgIGlmIChjYW5kaWRhdGUgPT0gbnVsbCkge1xuXG4gICAgICAgIGlmIChhbnlTZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJJY2UgQ2FuZGlkYXRlcyBEb25lLCBTZW50IFwiICsgYW55U2VudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIEZha2UgQ2FuZGlkYXRlcyFcIik7XG4gICAgICAgIGNhbmRpZGF0ZSA9IHtcImNhbmRpZGF0ZVwiOlwiY2FuZGlkYXRlOjEyMyAxIHVkcCAyMTEzOTM3MTUwIDEyNy4wLjAuMSA5IHR5cCBob3N0XCIsXG4gICAgICAgICAgICAgICAgICAgICBcInNkcE1MaW5lSW5kZXhcIjogMH07XG5cbiAgICAgICAgLy8gdWRwXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VuZCBjYW5kaWRhdGUgcmVtb3RlbHk6IFwiICsgY2FuZGlkYXRlLmNhbmRpZGF0ZSk7XG4gICAgICAgIHdzX2Nvbm4uc2VuZChKU09OLnN0cmluZ2lmeSh7J2ljZSc6IGNhbmRpZGF0ZX0pKTtcbiAgICAgICAgYW55U2VudCsrO1xuXG4gICAgICAgIC8vIGFuZCB0Y3BcbiAgICAgICAgY2FuZGlkYXRlLmNhbmRpZGF0ZSA9IFwiY2FuZGlkYXRlOjQ1NiAxIHRjcCAyMTEzOTM3MTQwIDEyNy4wLjAuMSA5IHR5cCBob3N0IHRjcHR5cGUgYWN0aXZlXCI7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwic2VuZCBjYW5kaWRhdGUgcmVtb3RlbHk6IFwiICsgY2FuZGlkYXRlLmNhbmRpZGF0ZSk7XG4gICAgICB3c19jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoeydpY2UnOiBjYW5kaWRhdGV9KSk7XG4gICAgICBhbnlTZW50Kys7XG4gICAgfTtcblxuICAgIHNldFN0YXR1cyhcIkNyZWF0ZWQgcGVlciBjb25uZWN0aW9uIGZvciBjYWxsLCB3YWl0aW5nIGZvciBTRFBcIik7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlbW90ZVRyYWNrQWRkZWQoZXZlbnQpIHtcbiAgICBzZXRTdGF0dXMoXCJBZGRpbmcgVHJhY2tcIik7XG4gICAgYXVkaW8uc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJ0Y1BlZXJDb25maWd1cmF0aW9uKCkge1xuICAgIGxldCBpY2VTZXJ2ZXJzID0gW107XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfdHVybl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3R1cm5fc2VydmVyXCJdO1xuICAgICAgbGV0IGNyZWRlbnRpYWxzID0gZGF0YVtcIndlYnJ0Y190dXJuX2NyZWRlbnRpYWxzXCJdO1xuXG4gICAgICBpY2VTZXJ2ZXJzLnB1c2goe1xuICAgICAgICBcInVybHNcIjogc2VydmVyLFxuICAgICAgICBcImNyZWRlbnRpYWxcIjogY3JlZGVudGlhbHNbXCJwYXNzd29yZFwiXSxcbiAgICAgICAgXCJ1c2VybmFtZVwiOiBjcmVkZW50aWFsc1tcInVzZXJuYW1lXCJdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfc3R1bl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3N0dW5fc2VydmVyXCJdO1xuICAgICAgaWNlU2VydmVycy5wdXNoKHtcInVybHNcIjogc2VydmVyfSk7XG4gICAgfVxuXG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImljZXNlcnZlcnMgPSAlT1wiLCBpY2VTZXJ2ZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1wiaWNlU2VydmVyc1wiOiBpY2VTZXJ2ZXJzfTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xuXG59O1xuXG5cblxuXG4iLCJpbXBvcnQgJ3VuZmV0Y2gvcG9seWZpbGwvaW5kZXgnO1xuaW1wb3J0IFJGQiBmcm9tICdAbm92bmMvbm92bmMvY29yZS9yZmInO1xuaW1wb3J0IFByb21pc2UgZnJvbSAncHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgeyBXU0F1ZGlvLCBnZXRCZXN0QXVkaW9UeXBlIH0gZnJvbSAnLi9hdWRpby1tZWRpYXNvdXJjZSc7XG5pbXBvcnQgeyBXZWJSVENBdWRpbyB9IGZyb20gJy4vYXVkaW8td2VicnRjJztcblxuXG5mdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKG9iaikge1xuICB2YXIgcGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICBwYXJ0cy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDQnJvd3NlcihyZXFpZCwgdGFyZ2V0X2RpdiwgaW5pdF9wYXJhbXMpIHtcbiAgdmFyIGNvbnRyb2xsZXIgPSB0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJyA/IG5ldyBBYm9ydENvbnRyb2xsZXIoKSA6IG51bGw7XG5cbiAgdmFyIGNtZF9wb3J0ID0gdW5kZWZpbmVkO1xuICB2YXIgdm5jX3BvcnQgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIGNsaXBFdmVudHMgPSBbJ3Bhc3RlJ107XG4gIHZhciBjb25uZWN0ZWQgPSBmYWxzZTtcbiAgdmFyIGNvdW50ZG93blRpbWVyID0gbnVsbDtcbiAgdmFyIHZpc2liaWxpdHlIYW5kbGUgPSBudWxsO1xuICB2YXIgZXZlcl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgdmFyIGZhaWxfY291bnQgPSAwO1xuICB2YXIgaGFzQ2xpcGJvYXJkID0gZmFsc2U7XG4gIHZhciBsYXN0VGV4dCA9IHVuZGVmaW5lZDtcbiAgdmFyIG1heFJldHJ5ID0gMTA7XG4gIHZhciByZXRyeUNvdW50ID0gMDtcbiAgdmFyIHJldHJ5SGFuZGxlID0gbnVsbDtcbiAgdmFyIHN0YWdlZFRleHQgPSBudWxsO1xuICB2YXIgdGltZXJzID0gW11cblxuICB2YXIgbWluX3dpZHRoID0gMzAwO1xuICB2YXIgbWluX2hlaWdodCA9IDMwMDtcblxuICB2YXIgcmZiO1xuICB2YXIgcmVzaXplVGltZW91dDtcbiAgdmFyIHZuY19wYXNzID0gXCJzZWNyZXRcIjtcblxuICB2YXIgZW5kX3RpbWUgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIGVudmlyb24gPSB7fTtcbiAgdmFyIGF1ZGlvVHlwZSA9IG51bGw7XG5cbiAgdmFyIHRhcmdldERpdk5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldF9kaXYpO1xuXG4gIHZhciB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSBmYWxzZTtcbiAgdmFyIHdhaXRpbmdfZm9yX3ZuYyA9IGZhbHNlO1xuXG4gIGluaXRfcGFyYW1zID0gaW5pdF9wYXJhbXMgfHwge307XG5cbiAgaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCA9IGluaXRfcGFyYW1zLmFwaV9wcmVmaXggfHwgXCJcIjtcblxuICB2YXIgbnVtX3ZuY19yZXRyaWVzID0gaW5pdF9wYXJhbXMubnVtX3ZuY19yZXRyaWVzIHx8IDM7XG5cbiAgLy8gcmZiIGV2ZW50IGNhbGxiYWNrc1xuICB2YXIgY3JlZGVudGlhbHNSZXF1aXJlZDtcbiAgdmFyIGNvbm5lY3Q7XG4gIHZhciBkaXNjb25uZWN0O1xuICB2YXIgc2VjdXJpdHlGYWlsdXJlO1xuICB2YXIgY2xpcGJvYXJkXG4gIHZhciByZmJFdmVudHNCb3VuZCA9IGZhbHNlO1xuXG5cbiAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgLy8gQ291bnRkb3duIHVwZGF0ZXJcbiAgICBpZiAoaW5pdF9wYXJhbXMub25fY291bnRkb3duKSB7XG4gICAgICBjb3VudGRvd25UaW1lciA9IHNldEludGVydmFsKHVwZGF0ZV9jb3VudGRvd24sIDEwMDApO1xuICAgIH1cblxuICAgIGluaXRfaHRtbCh0YXJnZXRfZGl2KTtcblxuICAgIHNldHVwX2Jyb3dzZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaXBIYW5kbGVyKGUpIHtcbiAgICBpZiAoIWhhc0NsaXBib2FyZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB0ZXh0O1xuICAgIGlmICh3aW5kb3cuY2xpcGJvYXJkRGF0YSAmJiB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKSB7IC8vIGllXG4gICAgICB0ZXh0ID0gd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgIH0gZWxzZSBpZiAoZS5jbGlwYm9hcmREYXRhICYmIGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKSB7XG4gICAgICB0ZXh0ID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICB9XG5cbiAgICBpZiAoY29ubmVjdGVkICYmIHJmYiAmJiB0ZXh0KSB7XG4gICAgICByZmIuY2xpcGJvYXJkUGFzdGVGcm9tKHRleHQpO1xuXG4gICAgICAvLyBhdHRlbXB0IHNlbmRpbmcgcGFzdGUgY29tbWFuZFxuICAgICAgcmZiLnNlbmRLZXkoMHhmZmUzLCBudWxsLCB0cnVlKTtcbiAgICAgIHJmYi5zZW5kS2V5KDB4MDA3NiwgbnVsbCwgdHJ1ZSk7XG4gICAgICByZmIuc2VuZEtleSgweDAwNzYsIG51bGwsIGZhbHNlKTtcbiAgICAgIHJmYi5zZW5kS2V5KDB4ZmZlMywgbnVsbCwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRfY2xpcGJvYXJkKCkge1xuICAgIGlmICghaW5pdF9wYXJhbXMuY2xpcGJvYXJkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzQ2xpcGJvYXJkID0gdHJ1ZTtcbiAgICBsYXN0VGV4dCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIGlmIHJlbW90ZSBicm93c2VyIGN1dC9jb3B5IG9wcGVyYXRpb24gb2NjdXJlZCwgaW5zZXJ0IGludG8gY2xpcGJvYXJkIGZpZWxkXG4gICAgaWYgKHN0YWdlZFRleHQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbml0X3BhcmFtcy5jbGlwYm9hcmQpLnZhbHVlID0gc3RhZ2VkVGV4dDtcbiAgICAgICAgc3RhZ2VkVGV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGlwRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluaXRfcGFyYW1zLmNsaXBib2FyZCkuYWRkRXZlbnRMaXN0ZW5lcihjbGlwRXZlbnRzW2ldLCBjbGlwSGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveV9jbGlwYm9hcmQoKSB7XG4gICAgaWYgKCFpbml0X3BhcmFtcy5jbGlwYm9hcmQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoYXNDbGlwYm9hcmQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbnZhcygpIHtcbiAgICByZXR1cm4gdGFyZ2V0RGl2Tm9kZS5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gIH1cblxuICBmdW5jdGlvbiBtc2dkaXYoKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignI2Jyb3dzZXJNc2cnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcmVlbigpIHtcbiAgICByZXR1cm4gdGFyZ2V0RGl2Tm9kZS5xdWVyeVNlbGVjdG9yKCcjbm9WTkNfc2NyZWVuJyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0X2h0bWwoKSB7XG4gICAgLy8gZW5zdXJlIGNvbnRhaW5lciBpcyBlbXB0aWVkIG9mIHByZXZpb3VzIGJyb3dzZXJzXG4gICAgdGFyZ2V0RGl2Tm9kZS5pbm5lckhUTUwgPSAnJztcblxuICAgIHZhciBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdpZCcsICdicm93c2VyTXNnJyk7XG4gICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbG9hZGluZycpO1xuICAgIHRhcmdldERpdk5vZGUuYXBwZW5kQ2hpbGQobXNnRGl2KTtcblxuICAgIHZhciBjYW52YXNFbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYW52YXNFbGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYW52YXMnKTtcbiAgICB2YXIgY2FudmFzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FudmFzRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAnbm9WTkNfc2NyZWVuJyk7XG4gICAgY2FudmFzRGl2LmFwcGVuZENoaWxkKGNhbnZhc0VsZSk7XG4gICAgdGFyZ2V0RGl2Tm9kZS5hcHBlbmRDaGlsZChjYW52YXNEaXYpO1xuXG4gICAgY2FudmFzRWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBmdW5jdGlvbiBzZXR1cF9icm93c2VyKCkge1xuICAgIGlmICh3YWl0aW5nX2Zvcl92bmMgfHwgd2FpdGluZ19mb3JfY29udGFpbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1zZztcblxuICAgIGlmIChldmVyX2Nvbm5lY3RlZCkge1xuICAgICAgbXNnID0gXCJSZWNvbm5lY3RpbmcgdG8gUmVtb3RlIEJyb3dzZXIuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbXNnID0gXCJJbml0aWFsaXppbmcgUmVtb3RlIEJyb3dzZXIuLi5cIjtcbiAgICB9XG5cbiAgICBtc2dkaXYoKS5pbm5lckhUTUwgPSBtc2c7XG4gICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAvLyBjYWxjdWxhdGUgZGltZW5zaW9uc1xuICAgIGNvbnN0IGJjciA9IHRhcmdldERpdk5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHcgPSBiY3Iud2lkdGg7XG4gICAgbGV0IGggPSBiY3IuaGVpZ2h0O1xuXG4gICAgaWYgKCFpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgdyAqPSAwLjk2O1xuICAgICAgaCAtPSAyNTtcbiAgICB9XG5cbiAgICBpZiAodyA8IGgpIHtcbiAgICAgIC8vIGZsaXAgbWlucyBmb3IgdmVydGljYWwgbGF5b3V0XG4gICAgICB2YXIgdCA9IG1pbl93aWR0aDtcbiAgICAgIG1pbl93aWR0aCA9IG1pbl9oZWlnaHQ7XG4gICAgICBtaW5faGVpZ2h0ID0gdDtcbiAgICB9XG5cbiAgICBsZXQgd2lkdGggPSBNYXRoLm1heCh3LCBtaW5fd2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heChoLCBtaW5faGVpZ2h0KTtcbiAgICB3aWR0aCA9IHBhcnNlSW50KHdpZHRoIC8gOCkgKiA4O1xuICAgIGhlaWdodCA9IHBhcnNlSW50KGhlaWdodCAvIDgpICogODtcbiAgICAvL3JlcV9wYXJhbXNbJ3JlcWlkJ10gPSByZXFpZDtcblxuICAgIGlmIChpbml0X3BhcmFtcy53ZWJydGMpIHtcbiAgICAgIGF1ZGlvVHlwZSA9ICd3ZWJydGMnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdWRpb1R5cGUgPSBnZXRCZXN0QXVkaW9UeXBlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFhdWRpb1R5cGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gU3VwcG9ydGVkIEF1ZGlvIFR5cGVzXCIpO1xuICAgIH1cblxuICAgIGVudmlyb24gPSB7J1NDUkVFTl9XSURUSCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgJ1NDUkVFTl9IRUlHSFQnOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAnQVVESU9fVFlQRSc6IGF1ZGlvVHlwZSxcbiAgICAgICAgICAgICAgICdSRVFfSUQnOiByZXFpZFxuICAgICAgICAgICAgICB9O1xuXG4gICAgaW5pdF9icm93c2VyKClcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRfYnJvd3NlcigpIHtcbiAgICBpZiAod2FpdGluZ19mb3JfY29udGFpbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FpdGluZ19mb3JfY29udGFpbmVyID0gdHJ1ZTtcblxuICAgIC8vdmFyIGluaXRfdXJsID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCArIFwiL2luaXRfYnJvd3Nlcj9cIiArIHRvUXVlcnlTdHJpbmcocmVxX3BhcmFtcyk7XG4gICAgdmFyIGluaXRfdXJsID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCArIFwiL2FwaS9zdGFydF9mbG9jay9cIiArIHJlcWlkO1xuXG4gICAgdmFyIHJlcV9wYXJhbXMgPSB7XCJlbnZpcm9uXCI6IGVudmlyb259O1xuXG4gICAgdmFyIGhlYWRlcnMgPSBpbml0X3BhcmFtcy5oZWFkZXJzIHx8IHt9O1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB7IGhlYWRlcnM6IG5ldyBIZWFkZXJzKGhlYWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXFfcGFyYW1zKSxcbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgb3B0aW9ucy5zaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcbiAgICB9XG5cbiAgICAvLyBleHBlY3RzIGpzb24gcmVzcG9uc2VcbiAgICBmZXRjaChpbml0X3VybCwgb3B0aW9ucylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLnN0YXR1cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgaGFuZGxlX2Jyb3dzZXJfcmVzcG9uc2UoZGF0YSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZldGNoIGVycm9yJywgZXJyKTtcbiAgICAgICAgd2FpdGluZ19mb3JfY29udGFpbmVyID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlciBjYW5jZWxlZFxuICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZXJyIHx8IGVyci5tZXNzYWdlICE9IDQwNCkge1xuICAgICAgICAgIG1zZ2RpdigpLmlubmVySFRNTCA9ICdSZWNvbm5lY3RpbmcgdG8gUmVtb3RlIEJyb3dzZXIuLi4nO1xuICAgICAgICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgICAgaWYgKHJldHJ5Q291bnQrKyA8IG1heFJldHJ5KSB7XG4gICAgICAgICAgICB0aW1lcnMucHVzaChzZXRUaW1lb3V0KGluaXRfYnJvd3NlciwgMTAwMCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KCdlcnJvcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1zZ2RpdigpLmlubmVySFRNTCA9ICdSZW1vdGUgQnJvd3NlciBFeHBpcmVkLi4uIFBsZWFzZSB0cnkgYWdhaW4uLi4nO1xuICAgICAgICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZV9icm93c2VyX3Jlc3BvbnNlKGRhdGEpIHtcbiAgICBcbiAgICBpZiAoZGF0YS5jb250YWluZXJzICYmIGRhdGEuY29udGFpbmVycy54c2VydmVyICYmIGRhdGEuY29udGFpbmVycy54c2VydmVyLnBvcnRzKSB7XG4gICAgICBsZXQgcG9ydHMgPSBkYXRhLmNvbnRhaW5lcnMueHNlcnZlci5wb3J0cztcblxuICAgICAgdm5jX3BvcnQgPSBwb3J0cy52bmNfcG9ydDtcbiAgICAgIGNtZF9wb3J0ID0gcG9ydHMuY21kX3BvcnQ7XG5cbiAgICAgIGVuZF90aW1lID0gcGFyc2VJbnQoRGF0ZS5ub3coKSAvIDEwMDAsIDEwKSArIGRhdGEudHRsO1xuXG4gICAgICB2bmNfcGFzcyA9IGRhdGEuY29udGFpbmVycy54c2VydmVyLmVudmlyb24uVk5DX1BBU1M7XG5cbiAgICAgIGlmIChpbml0X3BhcmFtcy5hdWRpbyAmJiAhd2luZG93LmF1ZGlvUGx1Z2luKSB7XG4gICAgICAgIGlmIChhdWRpb1R5cGUpIHtcbiAgICAgICAgICAvLyBmb3Igbm93LCBjaGVjayBpZiB3ZWJydGMgc2V0IGluIGluaXQgcGFyYW1zXG4gICAgICAgICAgaWYgKGluaXRfcGFyYW1zLndlYnJ0Yykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3ZWJSVEM6IGluaXQgcGx1Z2luXCIpO1xuICAgICAgICAgICAgdmFyIHdlYnJ0Y19kYXRhID0ge307XG5cbiAgICAgICAgICAgIHdlYnJ0Y19kYXRhLnBvcnRzID0gcG9ydHM7XG4gICAgICAgICAgICAvL3dlYnJ0Y19kYXRhLndlYnJ0Y19zdHVuX3NlcnZlciA9IFwic3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMlwiO1xuICAgICAgICAgICAgd2VicnRjX2RhdGEucHJveHlfd3MgPSBpbml0X3BhcmFtcy5wcm94eV93cztcbiAgICAgICAgICAgIHdlYnJ0Y19kYXRhLndlYnJ0Y0hvc3RJUCA9IGluaXRfcGFyYW1zLndlYnJ0Y0hvc3RJUDtcblxuICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luID0gbmV3IFdlYlJUQ0F1ZGlvKFwiMVwiLCB3ZWJydGNfZGF0YSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXU0F1ZGlvOiBpbml0IHBsdWdpblwiKTtcbiAgICAgICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbiA9IG5ldyBXU0F1ZGlvKHtcImF1ZGlvXCI6IGF1ZGlvVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNtZF9wb3J0XCI6IHBvcnRzLmNtZF9wb3J0fSwgaW5pdF9wYXJhbXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbml0X3BhcmFtcy5hdWRpbyA9PSBcIndhaXRfZm9yX2NsaWNrXCIpIHtcbiAgICAgICAgICAgIC8vIGFjdGl2YXRlIGF1ZGlvIG9uIGZpcnN0IGNsaWNrXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4uc3RhcnQoKTtcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RhcnQgcmlnaHQgYXdheSAtLSBtYXkgYmUgbXV0ZWQgb24gbGF0ZXN0IENocm9tZSB1bnRpbCBjbGlja1xuICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luLnN0YXJ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudChcImluaXRcIiwgZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHRpbWVycy5wdXNoKHdpbmRvdy5zZXRUaW1lb3V0KHRyeV9pbml0X3ZuYywgMzAwMCkpO1xuXG4gICAgfSBlbHNlIGlmIChkYXRhLnF1ZXVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIG1zZyA9IFwiV2FpdGluZyBmb3IgZW1wdHkgc2xvdC4uLiBcIjtcbiAgICAgIGlmIChkYXRhLnF1ZXVlID09IDApIHtcbiAgICAgICAgbXNnICs9IFwiPGI+WW91IGFyZSBuZXh0ITwvYj5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1zZyArPSBcIkF0IG1vc3QgPGI+XCIgKyBkYXRhLnF1ZXVlICsgXCIgdXNlcihzKTwvYj4gYWhlYWQgb2YgeW91XCI7XG4gICAgICB9XG4gICAgICBtc2dkaXYoKS5pbm5lckhUTUwgPSBtc2c7XG5cbiAgICAgIHRpbWVycy5wdXNoKHdpbmRvdy5zZXRUaW1lb3V0KGluaXRfYnJvd3NlciwgMzAwMCkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeV9pbml0X3ZuYygpIHtcbiAgICBkb192bmMoKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyB3YWl0aW5nX2Zvcl92bmMgPSBmYWxzZTsgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCcsIGVycik7XG5cbiAgICAgICAgd2FpdGluZ19mb3Jfdm5jID0gZmFsc2U7XG4gICAgICAgIGZhaWxfY291bnQrKztcblxuICAgICAgICBpZiAoZmFpbF9jb3VudCA8PSBudW1fdm5jX3JldHJpZXMpIHtcbiAgICAgICAgICBtc2dkaXYoKS5pbm5lckhUTUwgPSBcIlJldHJ5aW5nIHRvIGNvbm5lY3QgdG8gcmVtb3RlIGJyb3dzZXIuLi5cIjtcbiAgICAgICAgICB0aW1lcnMucHVzaChzZXRUaW1lb3V0KGluaXRfYnJvd3NlciwgNTAwKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudChcImZhaWxcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZ2RpdigpLmlubmVySFRNTCA9IFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gcmVtb3RlIGJyb3dzZXIuLi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWVudFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGJjciA9IHRhcmdldERpdk5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGMgPSBjYW52YXMoKTtcbiAgICB2YXIgY2ggPSBjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB2YXIgY3cgPSBjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGlmICghaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgIGMuc3R5bGUubWFyZ2luTGVmdCA9ICgoYmNyLndpZHRoIC0gY3cpLzIpICsgJ3B4JztcbiAgICAgIGMuc3R5bGUubWFyZ2luVG9wID0gKChiY3IuaGVpZ2h0IC0gKGNoICsgMjUpKS8yKSArICdweCc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xpZW50UmVzaXplKCkge1xuICAgIGNvbnN0IGJjciA9IHRhcmdldERpdk5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgdyA9IGJjci53aWR0aDtcbiAgICBsZXQgaCA9IGJjci5oZWlnaHQ7XG5cbiAgICBpZiAoIWluaXRfcGFyYW1zLmZpbGxfd2luZG93KSB7XG4gICAgICB3ID0gTWF0aC5yb3VuZCh3ICogMC45Nik7XG4gICAgICBoID0gaCAtIDI1O1xuICAgIH1cblxuICAgIGlmIChyZmIpIHtcbiAgICAgIHZhciBzID0gcmZiLl9kaXNwbGF5LmF1dG9zY2FsZSh3LCBoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblZOQ0NvcHlDdXQocmZiLCB0ZXh0KSB7XG4gICAgaWYgKGluaXRfcGFyYW1zLmNsaXBib2FyZCAmJiBoYXNDbGlwYm9hcmQpIHtcbiAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5pdF9wYXJhbXMuY2xpcGJvYXJkKS5pbm5lckhUTUwgPSAodGV4dCk7XG4gICAgfSBlbHNlIGlmKGluaXRfcGFyYW1zLmNsaXBib2FyZCkge1xuICAgICAgc3RhZ2VkVGV4dCA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZG9fdm5jKCkge1xuICAgIGlmICh3YWl0aW5nX2Zvcl92bmMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YWl0aW5nX2Zvcl92bmMgPSB0cnVlO1xuXG4gICAgdmFyIGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgdmFyIHBvcnQgPSB2bmNfcG9ydDtcbiAgICB2YXIgcGF0aCA9IFwid2Vic29ja2lmeVwiO1xuICAgIHZhciBwcm90b2NvbCA9IFwid3NcIjtcblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIpIHtcbiAgICAgIHByb3RvY29sID0gXCJ3c3NcIjtcbiAgICB9XG5cbiAgICAvLyBQcm94eSBXUyB2aWEgdGhlIG9yaWdpbiBob3N0LCBpbnN0ZWFkIG9mIG1ha2luZyBkaXJlY3QgY29ublxuICAgIC8vICdwcm94eV93cycgc3BlY2lmaWVzIHRoZSBwcm94eSBwYXRoLCBwb3J0IGlzIGFwcGVuZGVkXG4gICAgaWYgKGluaXRfcGFyYW1zLnByb3h5X3dzKSB7XG4gICAgICBwYXRoID0gaW5pdF9wYXJhbXMucHJveHlfd3MgKyBwb3J0O1xuICAgICAgcG9ydCA9IHdpbmRvdy5sb2NhdGlvbi5wb3J0O1xuICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgIHBvcnQgPSAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09IFwiaHR0cHM6XCIgPyA0NDMgOiA4MCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldCA9IGNhbnZhcygpO1xuICAgIHZhciB3ZWJzZXJ2aWNlX3VybCA9IHByb3RvY29sICsgJzovLycgKyBob3N0ICsgJzonICsgcG9ydCArICcvJyArIHBhdGg7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RpbmcgdG8gXCIgKyB3ZWJzZXJ2aWNlX3VybCk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJmYiA9IG5ldyBSRkIodGFyZ2V0LCB3ZWJzZXJ2aWNlX3VybCwgeydjcmVkZW50aWFscyc6IHsncGFzc3dvcmQnOiB2bmNfcGFzc319KTtcbiAgICAgIHdpbmRvdy5yZmIgPSByZmI7XG5cbiAgICAgIC8vaWYgKCFyZmJFdmVudHNCb3VuZCkge1xuICAgICAgY3JlZGVudGlhbHNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FudmFzKCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgaWYgKGluaXRfcGFyYW1zLmZpbGxfd2luZG93KSB7XG4gICAgICAgICAgY2FudmFzKCkuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgZXZlcl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBmYWlsX2NvdW50ID0gMDtcblxuICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudChcImNvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmZiLnJlc2l6ZVNlc3Npb24gPSB0cnVlO1xuICAgICAgICByZmIuc2NhbGVWaWV3cG9ydCA9IHRydWU7XG5cbiAgICAgICAgcmVzb2x2ZShcImNvbm5lY3RlZFwiKTtcbiAgICAgIH1cblxuICAgICAgZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgY2FudmFzKCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICB2YXIgcmVpbml0ID0gIWRvY3VtZW50LmhpZGRlbjtcblxuICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudChcImRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVpbml0KSB7XG4gICAgICAgICAgc2V0dXBfYnJvd3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdChcImRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgIH1cblxuICAgICAgc2VjdXJpdHlGYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QoXCJzZWN1cml0eUZhaWx1cmVcIik7XG4gICAgICB9XG5cbiAgICAgIGNsaXBib2FyZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBvblZOQ0NvcHlDdXQocmZiLCBldmVudC5kZXRhaWwudGV4dCk7XG4gICAgICB9XG5cbiAgICAgIHJmYi5hZGRFdmVudExpc3RlbmVyKFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiLCBjcmVkZW50aWFsc1JlcXVpcmVkKTtcbiAgICAgIHJmYi5hZGRFdmVudExpc3RlbmVyKFwiY29ubmVjdFwiLCBjb25uZWN0KTtcbiAgICAgIHJmYi5hZGRFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBkaXNjb25uZWN0KTtcbiAgICAgIHJmYi5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlmYWlsdXJlXCIsIHNlY3VyaXR5RmFpbHVyZSk7XG4gICAgICByZmIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaXBib2FyZFwiLCBjbGlwYm9hcmQpO1xuICAgICAgLy8gICByZmJFdmVudHNCb3VuZCA9IHRydWU7XG4gICAgICAvLyB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbiAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFdoZW4gdGhlIHdpbmRvdyBoYXMgYmVlbiByZXNpemVkLCB3YWl0IHVudGlsIHRoZSBzaXplIHJlbWFpbnNcbiAgICAvLyB0aGUgc2FtZSBmb3IgMC41IHNlY29uZHMgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QgZm9yIGNoYW5naW5nXG4gICAgLy8gdGhlIHJlc29sdXRpb24gb2YgdGhlIHNlc3Npb25cbiAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZW91dCk7XG4gICAgcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIGNsaWVudFJlc2l6ZSgpO1xuICAgICAgLy9jbGllbnRQb3NpdGlvbigpO1xuICAgIH0sIDUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdmlzaWJpbGl0eUNoYW5nZUNCKCkge1xuICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHZpc2liaWxpdHlIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocmZiKSB7XG4gICAgICAgICAgcmZiLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluaXRfcGFyYW1zLmluYWN0aXZlU2VjcyAqIDEwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUhhbmRsZSk7XG4gICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudChcInJlY29ubmVjdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldHVwX2Jyb3dzZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVfY291bnRkb3duKCkge1xuICAgIGlmICghZW5kX3RpbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnIgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgdmFyIHNlY2RpZmYgPSBlbmRfdGltZSAtIGN1cnI7XG5cbiAgICBpZiAoc2VjZGlmZiA8IDApIHtcbiAgICAgIGluaXRfcGFyYW1zLm9uX2NvdW50ZG93bigwLCBcIjAwOjAwXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKHNlY2RpZmYgLyA2MCk7XG4gICAgdmFyIHNlYyA9IHNlY2RpZmYgJSA2MDtcbiAgICBpZiAoc2VjIDw9IDkpIHtcbiAgICAgIHNlYyA9IFwiMFwiICsgc2VjO1xuICAgIH1cbiAgICBpZiAobWluIDw9IDkpIHtcbiAgICAgIG1pbiA9IFwiMFwiICsgbWluO1xuICAgIH1cblxuICAgIGluaXRfcGFyYW1zLm9uX2NvdW50ZG93bihzZWNkaWZmLCBtaW4gKyBcIjpcIiArIHNlYyk7XG4gIH1cblxuICBpZiAoaW5pdF9wYXJhbXMuaW5hY3RpdmVTZWNzKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUNoYW5nZUNCKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyVGltZXJzKCkge1xuICAgIC8vIGNsZWFyIGludGVydmFscyBhbmQgdGltZXJzXG4gICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25UaW1lcik7XG4gICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlIYW5kbGUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJzW2ldKTtcbiAgICB9XG4gICAgdGltZXJzID0gW107XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgLy8gY2FuY2VsIGZldGNoIHJlcXVlc3RzXG4gICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgLy8gc3RvcCBhdWRpbyBwbHVnaW5cbiAgICBpZiAod2luZG93LmF1ZGlvUGx1Z2luKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNsb3NlIEF1ZGlvXCIpO1xuICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4uY2xvc2UoKTtcbiAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luID0gdW5kZWZpbmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKXt9XG4gICAgfVxuXG4gICAgaWYgKHJmYikge1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsIGNyZWRlbnRpYWxzUmVxdWlyZWQpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb25uZWN0XCIsIGNvbm5lY3QpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIGRpc2Nvbm5lY3QpO1xuICAgICAgcmZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eWZhaWx1cmVcIiwgc2VjdXJpdHlGYWlsdXJlKTtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpcGJvYXJkXCIsIGNsaXBib2FyZCk7XG4gICAgICByZmIuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIHZhciBjbnZzID0gY2FudmFzKCk7XG4gICAgdmFyIF9zY3JlZW4gPSBzY3JlZW4oKTtcblxuICAgIGNsZWFyVGltZXJzKCk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB2aXNpYmlsaXR5Q2hhbmdlQ0IpO1xuICB9XG5cbiAgc3RhcnQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiY2xvc2VcIjogY2xvc2UsXG4gICAgXCJkZXN0cm95X2NsaXBib2FyZFwiOiBkZXN0cm95X2NsaXBib2FyZCxcbiAgICBcImluaXRfY2xpcGJvYXJkXCI6IGluaXRfY2xpcGJvYXJkXG4gICB9XG59XG5cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9
